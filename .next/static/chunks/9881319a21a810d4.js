(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,40104,e=>{"use strict";let t,r,n;var o,a,i,s,l,d,c,u,f=e.i(43476),p=e.i(15504),m=e.i(18566),h=e.i(9079),v=e.i(46932),g=e.i(70065),x=e.i(87336),y=e.i(67881),w=e.i(94179),b=e.i(40160),j=e.i(31278),C=e.i(78583),N=e.i(75254);let E=(0,N.default)("arrow-left-right",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]),k=(0,N.default)("file-down",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),R=(0,N.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var P=e.i(74755);function D(e,t="document.pdf"){try{let r=document.createElement("a");r.href=e,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)}catch(e){throw console.error("Error downloading PDF:",e),Error("Failed to download PDF")}}function S(e,t="modified"){let r=e.replace(/[<>:"/\\|?*]/g,"_").replace(/\s+/g,"_").trim();return`${r||"document"}_${t}.pdf`}var M=e.i(69035),_=e.i(81140),F=e.i(20783),A=e.i(10772),O=e.i(69340),I=e.i(26330),T=e.i(74080),z=Symbol("radix.slottable");function L(e){return p.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===z}var W=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{var r,n;let o,a,i,s=(n=r=`Primitive.${t}`,(o=p.forwardRef((e,t)=>{let{children:r,...n}=e;if(p.isValidElement(r)){var o;let e,a,i=(o=r,(a=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(a=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),s=function(e,t){let r={...t};for(let n in t){let o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...e)=>{let t=a(...e);return o(...e),t}:o&&(r[n]=o):"style"===n?r[n]={...o,...a}:"className"===n&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==p.Fragment&&(s.ref=t?(0,F.composeRefs)(t,i):i),p.cloneElement(r,s)}return p.Children.count(r)>1?p.Children.only(null):null})).displayName=`${n}.SlotClone`,a=o,(i=p.forwardRef((e,t)=>{let{children:r,...n}=e,o=p.Children.toArray(r),i=o.find(L);if(i){let e=i.props.children,r=o.map(t=>t!==i?t:p.Children.count(e)>1?p.Children.only(null):p.isValidElement(e)?e.props.children:null);return(0,f.jsx)(a,{...n,ref:t,children:p.isValidElement(e)?p.cloneElement(e,void 0,r):null})}return(0,f.jsx)(a,{...n,ref:t,children:r})})).displayName=`${r}.Slot`,i),l=p.forwardRef((e,r)=>{let{asChild:n,...o}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,f.jsx)(n?s:t,{...o,ref:r})});return l.displayName=`Primitive.${t}`,{...e,[t]:l}},{}),$=e.i(30207),H="focusScope.autoFocusOnMount",B="focusScope.autoFocusOnUnmount",K={bubbles:!1,cancelable:!0},V=p.forwardRef((e,t)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...i}=e,[s,l]=p.useState(null),d=(0,$.useCallbackRef)(o),c=(0,$.useCallbackRef)(a),u=p.useRef(null),m=(0,F.useComposedRefs)(t,e=>l(e)),h=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let e=function(e){if(h.paused||!s)return;let t=e.target;s.contains(t)?u.current=t:X(u.current,{select:!0})},t=function(e){if(h.paused||!s)return;let t=e.relatedTarget;null!==t&&(s.contains(t)||X(u.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&X(s)});return s&&r.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[n,s,h.paused]),p.useEffect(()=>{if(s){Z.add(h);let e=document.activeElement;if(!s.contains(e)){let t=new CustomEvent(H,K);s.addEventListener(H,d),s.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(X(n,{select:t}),document.activeElement!==r)return}(U(s).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&X(s))}return()=>{s.removeEventListener(H,d),setTimeout(()=>{let t=new CustomEvent(B,K);s.addEventListener(B,c),s.dispatchEvent(t),t.defaultPrevented||X(e??document.body,{select:!0}),s.removeEventListener(B,c),Z.remove(h)},0)}}},[s,d,c,h]);let v=p.useCallback(e=>{if(!r&&!n||h.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,o=document.activeElement;if(t&&o){var a;let t,n=e.currentTarget,[i,s]=[G(t=U(a=n),a),G(t.reverse(),a)];i&&s?e.shiftKey||o!==s?e.shiftKey&&o===i&&(e.preventDefault(),r&&X(s,{select:!0})):(e.preventDefault(),r&&X(i,{select:!0})):o===n&&e.preventDefault()}},[r,n,h.paused]);return(0,f.jsx)(W.div,{tabIndex:-1,...i,ref:m,onKeyDown:v})});function U(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function G(e,t){for(let r of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function X(e,{select:t=!1}={}){if(e&&e.focus){var r;let n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}V.displayName="FocusScope";var Z=(n=[],{add(e){let t=n[0];e!==t&&t?.pause(),(n=Y(n,e)).unshift(e)},remove(e){n=Y(n,e),n[0]?.resume()}});function Y(e,t){let r=[...e],n=r.indexOf(t);return -1!==n&&r.splice(n,1),r}var q=e.i(74606),J=e.i(96626);function Q(e){var t;let r,n=(t=e,(r=p.forwardRef((e,t)=>{let{children:r,...n}=e;if(p.isValidElement(r)){var o;let e,a,i=(o=r,(a=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(a=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),s=function(e,t){let r={...t};for(let n in t){let o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...e)=>{let t=a(...e);return o(...e),t}:o&&(r[n]=o):"style"===n?r[n]={...o,...a}:"className"===n&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==p.Fragment&&(s.ref=t?(0,F.composeRefs)(t,i):i),p.cloneElement(r,s)}return p.Children.count(r)>1?p.Children.only(null):null})).displayName=`${t}.SlotClone`,r),o=p.forwardRef((e,t)=>{let{children:r,...o}=e,a=p.Children.toArray(r),i=a.find(et);if(i){let e=i.props.children,r=a.map(t=>t!==i?t:p.Children.count(e)>1?p.Children.only(null):p.isValidElement(e)?e.props.children:null);return(0,f.jsx)(n,{...o,ref:t,children:p.isValidElement(e)?p.cloneElement(e,void 0,r):null})}return(0,f.jsx)(n,{...o,ref:t,children:r})});return o.displayName=`${e}.Slot`,o}var ee=Symbol("radix.slottable");function et(e){return p.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ee}var er=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=Q(`Primitive.${t}`),n=p.forwardRef((e,n)=>{let{asChild:o,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,f.jsx)(o?r:t,{...a,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),en=0;function eo(){p.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ea()),document.body.insertAdjacentElement("beforeend",e[1]??ea()),en++,()=>{1===en&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),en--}},[])}function ea(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ei=function(){return(ei=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function es(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)0>t.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}var el=("function"==typeof SuppressedError&&SuppressedError,"right-scroll-bar-position"),ed="width-before-scroll-bar";function ec(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var eu="undefined"!=typeof window?p.useLayoutEffect:p.useEffect,ef=new WeakMap,ep=(void 0===o&&(o={}),(void 0===a&&(a=function(e){return e}),i=[],s=!1,l={read:function(){if(s)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:null},useMedium:function(e){var t=a(e,s);return i.push(t),function(){i=i.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(s=!0;i.length;){var t=i;i=[],t.forEach(e)}i={push:function(t){return e(t)},filter:function(){return i}}},assignMedium:function(e){s=!0;var t=[];if(i.length){var r=i;i=[],r.forEach(e),t=i}var n=function(){var r=t;t=[],r.forEach(e)},o=function(){return Promise.resolve().then(n)};o(),i={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),i}}}}).options=ei({async:!0,ssr:!1},o),l),em=function(){},eh=p.forwardRef(function(e,t){var r,n,o,a,i=p.useRef(null),s=p.useState({onScrollCapture:em,onWheelCapture:em,onTouchMoveCapture:em}),l=s[0],d=s[1],c=e.forwardProps,u=e.children,f=e.className,m=e.removeScrollBar,h=e.enabled,v=e.shards,g=e.sideCar,x=e.noRelative,y=e.noIsolation,w=e.inert,b=e.allowPinchZoom,j=e.as,C=e.gapMode,N=es(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=(r=[i,t],n=function(e){return r.forEach(function(t){return ec(t,e)})},(o=(0,p.useState)(function(){return{value:null,callback:n,facade:{get current(){return o.value},set current(value){var e=o.value;e!==value&&(o.value=value,o.callback(value,e))}}}})[0]).callback=n,a=o.facade,eu(function(){var e=ef.get(a);if(e){var t=new Set(e),n=new Set(r),o=a.current;t.forEach(function(e){n.has(e)||ec(e,null)}),n.forEach(function(e){t.has(e)||ec(e,o)})}ef.set(a,r)},[r]),a),k=ei(ei({},N),l);return p.createElement(p.Fragment,null,h&&p.createElement(g,{sideCar:ep,removeScrollBar:m,shards:v,noRelative:x,noIsolation:y,inert:w,setCallbacks:d,allowPinchZoom:!!b,lockRef:i,gapMode:C}),c?p.cloneElement(p.Children.only(u),ei(ei({},k),{ref:E})):p.createElement(void 0===j?"div":j,ei({},k,{className:f,ref:E}),u))});eh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},eh.classNames={fullWidth:ed,zeroRight:el};var ev=function(e){var t=e.sideCar,r=es(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw Error("Sidecar medium not found");return p.createElement(n,ei({},r))};ev.isSideCarExport=!0;var eg=function(){var e=0,t=null;return{add:function(r){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=u||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0);return t&&e.setAttribute("nonce",t),e}())){var n,o;(n=t).styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r)),o=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(o)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ex=function(){var e=eg();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},ey=function(){var e=ex();return function(t){return e(t.styles,t.dynamic),null}},ew={left:0,top:0,right:0,gap:0},eb=function(e){return parseInt(e||"",10)||0},ej=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],o=t["padding"===e?"paddingRight":"marginRight"];return[eb(r),eb(n),eb(o)]},eC=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return ew;var t=ej(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},eN=ey(),eE="data-scroll-locked",ek=function(e,t,r,n){var o=e.left,a=e.top,i=e.right,s=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(s,"px ").concat(n,";\n  }\n  body[").concat(eE,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(o,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(el," {\n    right: ").concat(s,"px ").concat(n,";\n  }\n  \n  .").concat(ed," {\n    margin-right: ").concat(s,"px ").concat(n,";\n  }\n  \n  .").concat(el," .").concat(el," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(ed," .").concat(ed," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(eE,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},eR=function(){var e=parseInt(document.body.getAttribute(eE)||"0",10);return isFinite(e)?e:0},eP=function(){p.useEffect(function(){return document.body.setAttribute(eE,(eR()+1).toString()),function(){var e=eR()-1;e<=0?document.body.removeAttribute(eE):document.body.setAttribute(eE,e.toString())}},[])},eD=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=void 0===n?"margin":n;eP();var a=p.useMemo(function(){return eC(o)},[o]);return p.createElement(eN,{styles:ek(a,!t,o,r?"":"!important")})},eS=!1;if("undefined"!=typeof window)try{var eM=Object.defineProperty({},"passive",{get:function(){return eS=!0,!0}});window.addEventListener("test",eM,eM),window.removeEventListener("test",eM,eM)}catch(e){eS=!1}var e_=!!eS&&{passive:!1},eF=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&(r.overflowY!==r.overflowX||"TEXTAREA"===e.tagName||"visible"!==r[t])},eA=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),eO(e,n)){var o=eI(e,n);if(o[1]>o[2])return!0}n=n.parentNode}while(n&&n!==r.body)return!1},eO=function(e,t){return"v"===e?eF(t,"overflowY"):eF(t,"overflowX")},eI=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},eT=function(e,t,r,n,o){var a,i=(a=window.getComputedStyle(t).direction,"h"===e&&"rtl"===a?-1:1),s=i*n,l=r.target,d=t.contains(l),c=!1,u=s>0,f=0,p=0;do{if(!l)break;var m=eI(e,l),h=m[0],v=m[1]-m[2]-i*h;(h||v)&&eO(e,l)&&(f+=v,p+=h);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!d&&l!==document.body||d&&(t.contains(l)||t===l))return u&&(o&&1>Math.abs(f)||!o&&s>f)?c=!0:!u&&(o&&1>Math.abs(p)||!o&&-s>p)&&(c=!0),c},ez=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},eL=function(e){return[e.deltaX,e.deltaY]},eW=function(e){return e&&"current"in e?e.current:e},e$=0,eH=[];let eB=(d=function(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),o=p.useState(e$++)[0],a=p.useState(ey)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var t=(function(e,t,r){if(r||2==arguments.length)for(var n,o=0,a=t.length;o<a;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map(eW),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var s=p.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!i.current.allowPinchZoom;var o,a=ez(e),s=r.current,l="deltaX"in e?e.deltaX:s[0]-a[0],d="deltaY"in e?e.deltaY:s[1]-a[1],c=e.target,u=Math.abs(l)>Math.abs(d)?"h":"v";if("touches"in e&&"h"===u&&"range"===c.type)return!1;var f=eA(u,c);if(!f)return!0;if(f?o=u:(o="v"===u?"h":"v",f=eA(u,c)),!f)return!1;if(!n.current&&"changedTouches"in e&&(l||d)&&(n.current=o),!o)return!0;var p=n.current||o;return eT(p,t,e,"h"===p?l:d,!0)},[]),l=p.useCallback(function(e){if(eH.length&&eH[eH.length-1]===a){var r="deltaY"in e?eL(e):ez(e),n=t.current.filter(function(t){var n;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(n=t.delta,n[0]===r[0]&&n[1]===r[1])})[0];if(n&&n.should){e.cancelable&&e.preventDefault();return}if(!n){var o=(i.current.shards||[]).map(eW).filter(Boolean).filter(function(t){return t.contains(e.target)});(o.length>0?s(e,o[0]):!i.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),d=p.useCallback(function(e,r,n,o){var a={name:e,delta:r,target:n,should:o,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(n)};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),c=p.useCallback(function(e){r.current=ez(e),n.current=void 0},[]),u=p.useCallback(function(t){d(t.type,eL(t),t.target,s(t,e.lockRef.current))},[]),f=p.useCallback(function(t){d(t.type,ez(t),t.target,s(t,e.lockRef.current))},[]);p.useEffect(function(){return eH.push(a),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:f}),document.addEventListener("wheel",l,e_),document.addEventListener("touchmove",l,e_),document.addEventListener("touchstart",c,e_),function(){eH=eH.filter(function(e){return e!==a}),document.removeEventListener("wheel",l,e_),document.removeEventListener("touchmove",l,e_),document.removeEventListener("touchstart",c,e_)}},[]);var m=e.removeScrollBar,h=e.inert;return p.createElement(p.Fragment,null,h?p.createElement(a,{styles:"\n  .block-interactivity-".concat(o," {pointer-events: none;}\n  .allow-interactivity-").concat(o," {pointer-events: all;}\n")}):null,m?p.createElement(eD,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},ep.useMedium(d),ev);var eK=p.forwardRef(function(e,t){return p.createElement(eh,ei({},e,{ref:t,sideCar:eB}))});eK.classNames=eh.classNames;var eV=new WeakMap,eU=new WeakMap,eG={},eX=0,eZ=function(e){return e&&(e.host||eZ(e.parentNode))},eY=function(e,t,r,n){var o=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var r=eZ(e);return r&&t.contains(r)?r:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});eG[r]||(eG[r]=new WeakMap);var a=eG[r],i=[],s=new Set,l=new Set(o),d=function(e){!e||s.has(e)||(s.add(e),d(e.parentNode))};o.forEach(d);var c=function(e){!e||l.has(e)||Array.prototype.forEach.call(e.children,function(e){if(s.has(e))c(e);else try{var t=e.getAttribute(n),o=null!==t&&"false"!==t,l=(eV.get(e)||0)+1,d=(a.get(e)||0)+1;eV.set(e,l),a.set(e,d),i.push(e),1===l&&o&&eU.set(e,!0),1===d&&e.setAttribute(r,"true"),o||e.setAttribute(n,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return c(t),s.clear(),eX++,function(){i.forEach(function(e){var t=eV.get(e)-1,o=a.get(e)-1;eV.set(e,t),a.set(e,o),t||(eU.has(e)||e.removeAttribute(n),eU.delete(e)),o||e.removeAttribute(r)}),--eX||(eV=new WeakMap,eV=new WeakMap,eU=new WeakMap,eG={})}},eq=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=t||("undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),eY(n,o,r,"aria-hidden")):function(){return null}},eJ="Dialog",[eQ,e0]=function(e,t=[]){let r=[],n=()=>{let t=r.map(e=>p.createContext(e));return function(r){let n=r?.[e]||t;return p.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return n.scopeName=e,[function(t,n){let o=p.createContext(n),a=r.length;r=[...r,n];let i=t=>{let{scope:r,children:n,...i}=t,s=r?.[e]?.[a]||o,l=p.useMemo(()=>i,Object.values(i));return(0,f.jsx)(s.Provider,{value:l,children:n})};return i.displayName=t+"Provider",[i,function(r,i){let s=i?.[e]?.[a]||o,l=p.useContext(s);if(l)return l;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=r.reduce((t,{useScope:r,scopeName:n})=>{let o=r(e)[`__scope${n}`];return{...t,...o}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}(n,...t)]}(eJ),[e1,e2]=eQ(eJ),e4=e=>{let{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:a,modal:i=!0}=e,s=p.useRef(null),l=p.useRef(null),[d,c]=(0,O.useControllableState)({prop:n,defaultProp:o??!1,onChange:a,caller:eJ});return(0,f.jsx)(e1,{scope:t,triggerRef:s,contentRef:l,contentId:(0,A.useId)(),titleId:(0,A.useId)(),descriptionId:(0,A.useId)(),open:d,onOpenChange:c,onOpenToggle:p.useCallback(()=>c(e=>!e),[c]),modal:i,children:r})};e4.displayName=eJ;var e5="DialogTrigger";p.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=e2(e5,r),a=(0,F.useComposedRefs)(t,o.triggerRef);return(0,f.jsx)(er.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":tm(o.open),...n,ref:a,onClick:(0,_.composeEventHandlers)(e.onClick,o.onOpenToggle)})}).displayName=e5;var e6="DialogPortal",[e3,e8]=eQ(e6,{forceMount:void 0}),e9=e=>{let{__scopeDialog:t,forceMount:r,children:n,container:o}=e,a=e2(e6,t);return(0,f.jsx)(e3,{scope:t,forceMount:r,children:p.Children.map(n,e=>(0,f.jsx)(J.Presence,{present:r||a.open,children:(0,f.jsx)(q.Portal,{asChild:!0,container:o,children:e})}))})};e9.displayName=e6;var e7="DialogOverlay",te=p.forwardRef((e,t)=>{let r=e8(e7,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,a=e2(e7,e.__scopeDialog);return a.modal?(0,f.jsx)(J.Presence,{present:n||a.open,children:(0,f.jsx)(tr,{...o,ref:t})}):null});te.displayName=e7;var tt=Q("DialogOverlay.RemoveScroll"),tr=p.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=e2(e7,r);return(0,f.jsx)(eK,{as:tt,allowPinchZoom:!0,shards:[o.contentRef],children:(0,f.jsx)(er.div,{"data-state":tm(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),tn="DialogContent",to=p.forwardRef((e,t)=>{let r=e8(tn,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,a=e2(tn,e.__scopeDialog);return(0,f.jsx)(J.Presence,{present:n||a.open,children:a.modal?(0,f.jsx)(ta,{...o,ref:t}):(0,f.jsx)(ti,{...o,ref:t})})});to.displayName=tn;var ta=p.forwardRef((e,t)=>{let r=e2(tn,e.__scopeDialog),n=p.useRef(null),o=(0,F.useComposedRefs)(t,r.contentRef,n);return p.useEffect(()=>{let e=n.current;if(e)return eq(e)},[]),(0,f.jsx)(ts,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,_.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:(0,_.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,_.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),ti=p.forwardRef((e,t)=>{let r=e2(tn,e.__scopeDialog),n=p.useRef(!1),o=p.useRef(!1);return(0,f.jsx)(ts,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(o.current=!0));let a=t.target;r.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}})}),ts=p.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:a,...i}=e,s=e2(tn,r),l=p.useRef(null),d=(0,F.useComposedRefs)(t,l);return eo(),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(V,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:a,children:(0,f.jsx)(I.DismissableLayer,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":tm(s.open),...i,ref:d,onDismiss:()=>s.onOpenChange(!1)})}),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(tx,{titleId:s.titleId}),(0,f.jsx)(ty,{contentRef:l,descriptionId:s.descriptionId})]})]})}),tl="DialogTitle",td=p.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=e2(tl,r);return(0,f.jsx)(er.h2,{id:o.titleId,...n,ref:t})});td.displayName=tl;var tc="DialogDescription",tu=p.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=e2(tc,r);return(0,f.jsx)(er.p,{id:o.descriptionId,...n,ref:t})});tu.displayName=tc;var tf="DialogClose",tp=p.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=e2(tf,r);return(0,f.jsx)(er.button,{type:"button",...n,ref:t,onClick:(0,_.composeEventHandlers)(e.onClick,()=>o.onOpenChange(!1))})});function tm(e){return e?"open":"closed"}tp.displayName=tf;var th="DialogTitleWarning",[tv,tg]=(c={contentName:tn,titleName:tl,docsSlug:"dialog"},t=p.createContext(c),(r=e=>{let{children:r,...n}=e,o=p.useMemo(()=>n,Object.values(n));return(0,f.jsx)(t.Provider,{value:o,children:r})}).displayName=th+"Provider",[r,function(e){let r=p.useContext(t);if(r)return r;if(void 0!==c)return c;throw Error(`\`${e}\` must be used within \`${th}\``)}]),tx=({titleId:e})=>{let t=tg(th),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},ty=({contentRef:e,descriptionId:t})=>{let r=tg("DialogDescriptionWarning"),n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return p.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null};let tw=(0,N.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var tb=e.i(47163);function tj({...e}){return(0,f.jsx)(e4,{"data-slot":"dialog",...e})}function tC({...e}){return(0,f.jsx)(e9,{"data-slot":"dialog-portal",...e})}function tN({className:e,...t}){return(0,f.jsx)(te,{"data-slot":"dialog-overlay",className:(0,tb.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function tE({className:e,children:t,showCloseButton:r=!0,...n}){return(0,f.jsxs)(tC,{"data-slot":"dialog-portal",children:[(0,f.jsx)(tN,{}),(0,f.jsxs)(to,{"data-slot":"dialog-content",className:(0,tb.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,r&&(0,f.jsxs)(tp,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,f.jsx)(tw,{}),(0,f.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function tk({className:e,...t}){return(0,f.jsx)("div",{"data-slot":"dialog-header",className:(0,tb.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function tR({className:e,...t}){return(0,f.jsx)("div",{"data-slot":"dialog-footer",className:(0,tb.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function tP({className:e,...t}){return(0,f.jsx)(td,{"data-slot":"dialog-title",className:(0,tb.cn)("text-lg leading-none font-semibold",e),...t})}function tD({className:e,...t}){return(0,f.jsx)(tu,{"data-slot":"dialog-description",className:(0,tb.cn)("text-muted-foreground text-sm",e),...t})}var tS=e.i(23750),tM=e.i(10708);let t_=({suggestions:e,selectedIndex:t,onSelectIndex:r,onApplyAtIndex:n,onGoToIndex:o,acceptedCount:a,onSaveDraft:i,saveDialogOpen:s,setSaveDialogOpen:l,projectName:d,setProjectName:c,onConfirmSave:u,isApplying:p,canApply:m})=>(0,f.jsxs)(g.Card,{className:"border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900",children:[(0,f.jsxs)(g.CardHeader,{className:"pb-3",children:[(0,f.jsx)("div",{className:"flex items-center justify-between",children:(0,f.jsx)(g.CardTitle,{className:"text-emerald-600 dark:text-emerald-400",children:"Suggestions"})}),(0,f.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[(0,f.jsxs)("div",{className:"flex items-center justify-between rounded-md border border-zinc-200 dark:border-zinc-800 px-3 py-2",children:[(0,f.jsx)("div",{className:"text-sm text-zinc-600 dark:text-zinc-300",children:"All"}),(0,f.jsx)(w.Badge,{variant:"secondary",className:"rounded-full",children:e.length+a})]}),(0,f.jsxs)("div",{className:"flex items-center justify-between rounded-md border border-zinc-200 dark:border-zinc-800 px-3 py-2",children:[(0,f.jsx)("div",{className:"text-sm text-zinc-600 dark:text-zinc-300",children:"Accepted"}),(0,f.jsx)(w.Badge,{variant:"secondary",className:"rounded-full",children:a})]})]})]}),(0,f.jsxs)(g.CardContent,{children:[(0,f.jsx)("div",{className:"space-y-3",children:0===e.length?(0,f.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-300",children:"No suggestions yet."}):e.map((e,a)=>(0,f.jsxs)("div",{className:`rounded-md border p-3 cursor-pointer transition ${t===a?"border-emerald-400 bg-emerald-50/50 dark:bg-emerald-900/20":"border-zinc-200 dark:border-zinc-800 hover:bg-zinc-50/50 dark:hover:bg-zinc-900/40"}`,onClick:()=>r(a),children:[(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsxs)(w.Badge,{variant:"secondary",className:"rounded-full",children:["Page ",e.page]}),(0,f.jsx)("span",{className:"text-xs text-zinc-500",children:"Click to highlight"})]}),(0,f.jsx)("div",{className:"mt-2 text-sm text-zinc-800 dark:text-zinc-100",children:e.explanation}),(0,f.jsxs)("div",{className:"mt-2 text-sm",children:[(0,f.jsx)("span",{className:"text-zinc-500",children:"Original:"})," ",(0,f.jsx)("span",{className:"font-medium",children:e.original})]}),(0,f.jsxs)("div",{className:"text-sm",children:[(0,f.jsx)("span",{className:"text-zinc-500",children:"Suggestion:"})," ",(0,f.jsx)("span",{className:"font-medium text-emerald-700 dark:text-emerald-300",children:e.suggestion})]}),(0,f.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,f.jsx)(y.Button,{variant:"outline",size:"sm",onClick:e=>{e.stopPropagation(),o?.(a)},children:"Go to"}),(0,f.jsx)(y.Button,{size:"sm",onClick:e=>{e.stopPropagation(),n(a)},disabled:p||!m,children:p?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(j.Loader2,{className:"h-3 w-3 mr-1 animate-spin"}),"Applying..."]}):"Apply to PDF"})]})]},`${e.page}-${a}-${e.original?.slice(0,16)||"suggestion"}`))}),(0,f.jsx)(M.Separator,{className:"my-4"}),(0,f.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,f.jsx)(y.Button,{variant:"outline",onClick:i,children:"Save as draft"}),(0,f.jsx)(y.Button,{children:"Send file to"})]}),(0,f.jsx)(tj,{open:s,onOpenChange:l,children:(0,f.jsxs)(tE,{className:"bg-white dark:bg-zinc-900",children:[(0,f.jsxs)(tk,{children:[(0,f.jsx)(tP,{className:"text-gray-900 dark:text-gray-50",children:"Save Project as Draft"}),(0,f.jsx)(tD,{className:"text-gray-600 dark:text-gray-400",children:"Enter a name for your project"})]}),(0,f.jsx)("div",{className:"space-y-4 py-4",children:(0,f.jsxs)("div",{className:"space-y-2",children:[(0,f.jsx)(tM.Label,{htmlFor:"project-name",className:"text-gray-900 dark:text-gray-50",children:"Project Name"}),(0,f.jsx)(tS.Input,{id:"project-name",value:d,onChange:e=>c(e.target.value),placeholder:"Enter project name",className:"bg-white dark:bg-zinc-800 text-gray-900 dark:text-gray-50",onKeyDown:e=>{"Enter"===e.key&&d.trim()&&u()}})]})}),(0,f.jsxs)(tR,{children:[(0,f.jsx)(y.Button,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),(0,f.jsx)(y.Button,{onClick:u,disabled:!d.trim(),children:"Save"})]})]})})]})]});var tF=e.i(37062),tA=e.i(70703),tO=e.i(78681),tI=e.i(46696),tT=Symbol("radix.slottable");function tz(e){return p.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===tT}var tL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{var r,n;let o,a,i,s=(n=r=`Primitive.${t}`,(o=p.forwardRef((e,t)=>{let{children:r,...n}=e;if(p.isValidElement(r)){var o;let e,a,i=(o=r,(a=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(a=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),s=function(e,t){let r={...t};for(let n in t){let o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...e)=>{let t=a(...e);return o(...e),t}:o&&(r[n]=o):"style"===n?r[n]={...o,...a}:"className"===n&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==p.Fragment&&(s.ref=t?(0,F.composeRefs)(t,i):i),p.cloneElement(r,s)}return p.Children.count(r)>1?p.Children.only(null):null})).displayName=`${n}.SlotClone`,a=o,(i=p.forwardRef((e,t)=>{let{children:r,...n}=e,o=p.Children.toArray(r),i=o.find(tz);if(i){let e=i.props.children,r=o.map(t=>t!==i?t:p.Children.count(e)>1?p.Children.only(null):p.isValidElement(e)?e.props.children:null);return(0,f.jsx)(a,{...n,ref:t,children:p.isValidElement(e)?p.cloneElement(e,void 0,r):null})}return(0,f.jsx)(a,{...n,ref:t,children:r})})).displayName=`${r}.Slot`,i),l=p.forwardRef((e,r)=>{let{asChild:n,...o}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,f.jsx)(n?s:t,{...o,ref:r})});return l.displayName=`Primitive.${t}`,{...e,[t]:l}},{});function tW(e){var t;let r,n=(t=e,(r=p.forwardRef((e,t)=>{let{children:r,...n}=e;if(p.isValidElement(r)){var o;let e,a,i=(o=r,(a=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(a=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),s=function(e,t){let r={...t};for(let n in t){let o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...e)=>{let t=a(...e);return o(...e),t}:o&&(r[n]=o):"style"===n?r[n]={...o,...a}:"className"===n&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==p.Fragment&&(s.ref=t?(0,F.composeRefs)(t,i):i),p.cloneElement(r,s)}return p.Children.count(r)>1?p.Children.only(null):null})).displayName=`${t}.SlotClone`,r),o=p.forwardRef((e,t)=>{let{children:r,...o}=e,a=p.Children.toArray(r),i=a.find(tH);if(i){let e=i.props.children,r=a.map(t=>t!==i?t:p.Children.count(e)>1?p.Children.only(null):p.isValidElement(e)?e.props.children:null);return(0,f.jsx)(n,{...o,ref:t,children:p.isValidElement(e)?p.cloneElement(e,void 0,r):null})}return(0,f.jsx)(n,{...o,ref:t,children:r})});return o.displayName=`${e}.Slot`,o}var t$=Symbol("radix.slottable");function tH(e){return p.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===t$}function tB(e){let t=e+"CollectionProvider",[r,n]=function(e,t=[]){let r=[],n=()=>{let t=r.map(e=>p.createContext(e));return function(r){let n=r?.[e]||t;return p.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return n.scopeName=e,[function(t,n){let o=p.createContext(n),a=r.length;r=[...r,n];let i=t=>{let{scope:r,children:n,...i}=t,s=r?.[e]?.[a]||o,l=p.useMemo(()=>i,Object.values(i));return(0,f.jsx)(s.Provider,{value:l,children:n})};return i.displayName=t+"Provider",[i,function(r,i){let s=i?.[e]?.[a]||o,l=p.useContext(s);if(l)return l;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=r.reduce((t,{useScope:r,scopeName:n})=>{let o=r(e)[`__scope${n}`];return{...t,...o}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}(n,...t)]}(t),[o,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=e=>{let{scope:t,children:r}=e,n=p.default.useRef(null),a=p.default.useRef(new Map).current;return(0,f.jsx)(o,{scope:t,itemMap:a,collectionRef:n,children:r})};i.displayName=t;let s=e+"CollectionSlot",l=tW(s),d=p.default.forwardRef((e,t)=>{let{scope:r,children:n}=e,o=a(s,r),i=(0,F.useComposedRefs)(t,o.collectionRef);return(0,f.jsx)(l,{ref:i,children:n})});d.displayName=s;let c=e+"CollectionItemSlot",u="data-radix-collection-item",m=tW(c),h=p.default.forwardRef((e,t)=>{let{scope:r,children:n,...o}=e,i=p.default.useRef(null),s=(0,F.useComposedRefs)(t,i),l=a(c,r);return p.default.useEffect(()=>(l.itemMap.set(i,{ref:i,...o}),()=>void l.itemMap.delete(i))),(0,f.jsx)(m,{...{[u]:""},ref:s,children:n})});return h.displayName=c,[{Provider:i,Slot:d,ItemSlot:h},function(t){let r=a(e+"CollectionConsumer",t);return p.default.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${u}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},n]}var tK=new WeakMap;function tV(e,t){var r,n;let o,a,i;if("at"in Array.prototype)return Array.prototype.at.call(e,t);let s=(r=e,n=t,o=r.length,(i=(a=tU(n))>=0?a:o+a)<0||i>=o?-1:i);return -1===s?void 0:e[s]}function tU(e){return e!=e||0===e?0:Math.trunc(e)}(class e extends Map{#e;constructor(e){super(e),this.#e=[...super.keys()],tK.set(this,!0)}set(e,t){return tK.get(this)&&(this.has(e)?this.#e[this.#e.indexOf(e)]=e:this.#e.push(e)),super.set(e,t),this}insert(e,t,r){let n,o=this.has(t),a=this.#e.length,i=tU(e),s=i>=0?i:a+i,l=s<0||s>=a?-1:s;if(l===this.size||o&&l===this.size-1||-1===l)return this.set(t,r),this;let d=this.size+ +!o;i<0&&s++;let c=[...this.#e],u=!1;for(let e=s;e<d;e++)if(s===e){let a=c[e];c[e]===t&&(a=c[e+1]),o&&this.delete(t),n=this.get(a),this.set(t,r)}else{u||c[e-1]!==t||(u=!0);let r=c[u?e:e-1],o=n;n=this.get(r),this.delete(r),this.set(r,o)}return this}with(t,r,n){let o=new e(this);return o.insert(t,r,n),o}before(e){let t=this.#e.indexOf(e)-1;if(!(t<0))return this.entryAt(t)}setBefore(e,t,r){let n=this.#e.indexOf(e);return -1===n?this:this.insert(n,t,r)}after(e){let t=this.#e.indexOf(e);if(-1!==(t=-1===t||t===this.size-1?-1:t+1))return this.entryAt(t)}setAfter(e,t,r){let n=this.#e.indexOf(e);return -1===n?this:this.insert(n+1,t,r)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#e=[],super.clear()}delete(e){let t=super.delete(e);return t&&this.#e.splice(this.#e.indexOf(e),1),t}deleteAt(e){let t=this.keyAt(e);return void 0!==t&&this.delete(t)}at(e){let t=tV(this.#e,e);if(void 0!==t)return this.get(t)}entryAt(e){let t=tV(this.#e,e);if(void 0!==t)return[t,this.get(t)]}indexOf(e){return this.#e.indexOf(e)}keyAt(e){return tV(this.#e,e)}from(e,t){let r=this.indexOf(e);if(-1===r)return;let n=r+t;return n<0&&(n=0),n>=this.size&&(n=this.size-1),this.at(n)}keyFrom(e,t){let r=this.indexOf(e);if(-1===r)return;let n=r+t;return n<0&&(n=0),n>=this.size&&(n=this.size-1),this.keyAt(n)}find(e,t){let r=0;for(let n of this){if(Reflect.apply(e,t,[n,r,this]))return n;r++}}findIndex(e,t){let r=0;for(let n of this){if(Reflect.apply(e,t,[n,r,this]))return r;r++}return -1}filter(t,r){let n=[],o=0;for(let e of this)Reflect.apply(t,r,[e,o,this])&&n.push(e),o++;return new e(n)}map(t,r){let n=[],o=0;for(let e of this)n.push([e[0],Reflect.apply(t,r,[e,o,this])]),o++;return new e(n)}reduce(...e){let[t,r]=e,n=0,o=r??this.at(0);for(let r of this)o=0===n&&1===e.length?r:Reflect.apply(t,this,[o,r,n,this]),n++;return o}reduceRight(...e){let[t,r]=e,n=r??this.at(-1);for(let r=this.size-1;r>=0;r--){let o=this.at(r);n=r===this.size-1&&1===e.length?o:Reflect.apply(t,this,[n,o,r,this])}return n}toSorted(t){return new e([...this.entries()].sort(t))}toReversed(){let t=new e;for(let e=this.size-1;e>=0;e--){let r=this.keyAt(e),n=this.get(r);t.set(r,n)}return t}toSpliced(...t){let r=[...this.entries()];return r.splice(...t),new e(r)}slice(t,r){let n=new e,o=this.size-1;if(void 0===t)return n;t<0&&(t+=this.size),void 0!==r&&r>0&&(o=r-1);for(let e=t;e<=o;e++){let t=this.keyAt(e),r=this.get(t);n.set(t,r)}return n}every(e,t){let r=0;for(let n of this){if(!Reflect.apply(e,t,[n,r,this]))return!1;r++}return!0}some(e,t){let r=0;for(let n of this){if(Reflect.apply(e,t,[n,r,this]))return!0;r++}return!1}});var tG=p.createContext(void 0);function tX(e){let t=p.useContext(tG);return e||t||"ltr"}var tZ=e.i(53660);function tY(e){var t;let r,n=(t=e,(r=p.forwardRef((e,t)=>{let{children:r,...n}=e;if(p.isValidElement(r)){var o;let e,a,i=(o=r,(a=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(a=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),s=function(e,t){let r={...t};for(let n in t){let o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...e)=>{let t=a(...e);return o(...e),t}:o&&(r[n]=o):"style"===n?r[n]={...o,...a}:"className"===n&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==p.Fragment&&(s.ref=t?(0,F.composeRefs)(t,i):i),p.cloneElement(r,s)}return p.Children.count(r)>1?p.Children.only(null):null})).displayName=`${t}.SlotClone`,r),o=p.forwardRef((e,t)=>{let{children:r,...o}=e,a=p.Children.toArray(r),i=a.find(tJ);if(i){let e=i.props.children,r=a.map(t=>t!==i?t:p.Children.count(e)>1?p.Children.only(null):p.isValidElement(e)?e.props.children:null);return(0,f.jsx)(n,{...o,ref:t,children:p.isValidElement(e)?p.cloneElement(e,void 0,r):null})}return(0,f.jsx)(n,{...o,ref:t,children:r})});return o.displayName=`${e}.Slot`,o}var tq=Symbol("radix.slottable");function tJ(e){return p.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===tq}var tQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=tY(`Primitive.${t}`),n=p.forwardRef((e,n)=>{let{asChild:o,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,f.jsx)(o?r:t,{...a,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),t0=Symbol("radix.slottable");function t1(e){return p.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===t0}var t2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{var r,n;let o,a,i,s=(n=r=`Primitive.${t}`,(o=p.forwardRef((e,t)=>{let{children:r,...n}=e;if(p.isValidElement(r)){var o;let e,a,i=(o=r,(a=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(a=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),s=function(e,t){let r={...t};for(let n in t){let o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...e)=>{let t=a(...e);return o(...e),t}:o&&(r[n]=o):"style"===n?r[n]={...o,...a}:"className"===n&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==p.Fragment&&(s.ref=t?(0,F.composeRefs)(t,i):i),p.cloneElement(r,s)}return p.Children.count(r)>1?p.Children.only(null):null})).displayName=`${n}.SlotClone`,a=o,(i=p.forwardRef((e,t)=>{let{children:r,...n}=e,o=p.Children.toArray(r),i=o.find(t1);if(i){let e=i.props.children,r=o.map(t=>t!==i?t:p.Children.count(e)>1?p.Children.only(null):p.isValidElement(e)?e.props.children:null);return(0,f.jsx)(a,{...n,ref:t,children:p.isValidElement(e)?p.cloneElement(e,void 0,r):null})}return(0,f.jsx)(a,{...n,ref:t,children:r})})).displayName=`${r}.Slot`,i),l=p.forwardRef((e,r)=>{let{asChild:n,...o}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,f.jsx)(n?s:t,{...o,ref:r})});return l.displayName=`Primitive.${t}`,{...e,[t]:l}},{}),t4="rovingFocusGroup.onEntryFocus",t5={bubbles:!1,cancelable:!0},t6="RovingFocusGroup",[t3,t8,t9]=tB(t6),[t7,re]=function(e,t=[]){let r=[],n=()=>{let t=r.map(e=>p.createContext(e));return function(r){let n=r?.[e]||t;return p.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return n.scopeName=e,[function(t,n){let o=p.createContext(n),a=r.length;r=[...r,n];let i=t=>{let{scope:r,children:n,...i}=t,s=r?.[e]?.[a]||o,l=p.useMemo(()=>i,Object.values(i));return(0,f.jsx)(s.Provider,{value:l,children:n})};return i.displayName=t+"Provider",[i,function(r,i){let s=i?.[e]?.[a]||o,l=p.useContext(s);if(l)return l;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=r.reduce((t,{useScope:r,scopeName:n})=>{let o=r(e)[`__scope${n}`];return{...t,...o}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}(n,...t)]}(t6,[t9]),[rt,rr]=t7(t6),rn=p.forwardRef((e,t)=>(0,f.jsx)(t3.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,f.jsx)(t3.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,f.jsx)(ro,{...e,ref:t})})}));rn.displayName=t6;var ro=p.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:d,preventScrollOnEntryFocus:c=!1,...u}=e,m=p.useRef(null),h=(0,F.useComposedRefs)(t,m),v=tX(a),[g,x]=(0,O.useControllableState)({prop:i,defaultProp:s??null,onChange:l,caller:t6}),[y,w]=p.useState(!1),b=(0,$.useCallbackRef)(d),j=t8(r),C=p.useRef(!1),[N,E]=p.useState(0);return p.useEffect(()=>{let e=m.current;if(e)return e.addEventListener(t4,b),()=>e.removeEventListener(t4,b)},[b]),(0,f.jsx)(rt,{scope:r,orientation:n,dir:v,loop:o,currentTabStopId:g,onItemFocus:p.useCallback(e=>x(e),[x]),onItemShiftTab:p.useCallback(()=>w(!0),[]),onFocusableItemAdd:p.useCallback(()=>E(e=>e+1),[]),onFocusableItemRemove:p.useCallback(()=>E(e=>e-1),[]),children:(0,f.jsx)(t2.div,{tabIndex:y||0===N?-1:0,"data-orientation":n,...u,ref:h,style:{outline:"none",...e.style},onMouseDown:(0,_.composeEventHandlers)(e.onMouseDown,()=>{C.current=!0}),onFocus:(0,_.composeEventHandlers)(e.onFocus,e=>{let t=!C.current;if(e.target===e.currentTarget&&t&&!y){let t=new CustomEvent(t4,t5);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=j().filter(e=>e.focusable);rl([e.find(e=>e.active),e.find(e=>e.id===g),...e].filter(Boolean).map(e=>e.ref.current),c)}}C.current=!1}),onBlur:(0,_.composeEventHandlers)(e.onBlur,()=>w(!1))})})}),ra="RovingFocusGroupItem",ri=p.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:a,children:i,...s}=e,l=(0,A.useId)(),d=a||l,c=rr(ra,r),u=c.currentTabStopId===d,m=t8(r),{onFocusableItemAdd:h,onFocusableItemRemove:v,currentTabStopId:g}=c;return p.useEffect(()=>{if(n)return h(),()=>v()},[n,h,v]),(0,f.jsx)(t3.ItemSlot,{scope:r,id:d,focusable:n,active:o,children:(0,f.jsx)(t2.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...s,ref:t,onMouseDown:(0,_.composeEventHandlers)(e.onMouseDown,e=>{n?c.onItemFocus(d):e.preventDefault()}),onFocus:(0,_.composeEventHandlers)(e.onFocus,()=>c.onItemFocus(d)),onKeyDown:(0,_.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void c.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var n;let o=(n=e.key,"rtl"!==r?n:"ArrowLeft"===n?"ArrowRight":"ArrowRight"===n?"ArrowLeft":n);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(o))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(o)))return rs[o]}(e,c.orientation,c.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let o=m().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)o.reverse();else if("prev"===t||"next"===t){var r,n;"prev"===t&&o.reverse();let a=o.indexOf(e.currentTarget);o=c.loop?(r=o,n=a+1,r.map((e,t)=>r[(n+t)%r.length])):o.slice(a+1)}setTimeout(()=>rl(o))}}),children:"function"==typeof i?i({isCurrentTabStop:u,hasTabStop:null!=g}):i})})});ri.displayName=ra;var rs={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rl(e,t=!1){let r=document.activeElement;for(let n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}var rd=["Enter"," "],rc=["ArrowUp","PageDown","End"],ru=["ArrowDown","PageUp","Home",...rc],rf={ltr:[...rd,"ArrowRight"],rtl:[...rd,"ArrowLeft"]},rp={ltr:["ArrowLeft"],rtl:["ArrowRight"]},rm="Menu",[rh,rv,rg]=tB(rm),[rx,ry]=function(e,t=[]){let r=[],n=()=>{let t=r.map(e=>p.createContext(e));return function(r){let n=r?.[e]||t;return p.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return n.scopeName=e,[function(t,n){let o=p.createContext(n),a=r.length;r=[...r,n];let i=t=>{let{scope:r,children:n,...i}=t,s=r?.[e]?.[a]||o,l=p.useMemo(()=>i,Object.values(i));return(0,f.jsx)(s.Provider,{value:l,children:n})};return i.displayName=t+"Provider",[i,function(r,i){let s=i?.[e]?.[a]||o,l=p.useContext(s);if(l)return l;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=r.reduce((t,{useScope:r,scopeName:n})=>{let o=r(e)[`__scope${n}`];return{...t,...o}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}(n,...t)]}(rm,[rg,tZ.createPopperScope,re]),rw=(0,tZ.createPopperScope)(),rb=re(),[rj,rC]=rx(rm),[rN,rE]=rx(rm),rk=e=>{let{__scopeMenu:t,open:r=!1,children:n,dir:o,onOpenChange:a,modal:i=!0}=e,s=rw(t),[l,d]=p.useState(null),c=p.useRef(!1),u=(0,$.useCallbackRef)(a),m=tX(o);return p.useEffect(()=>{let e=()=>{c.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>c.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,f.jsx)(tZ.Root,{...s,children:(0,f.jsx)(rj,{scope:t,open:r,onOpenChange:u,content:l,onContentChange:d,children:(0,f.jsx)(rN,{scope:t,onClose:p.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:c,dir:m,modal:i,children:n})})})};rk.displayName=rm;var rR=p.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e,o=rw(r);return(0,f.jsx)(tZ.Anchor,{...o,...n,ref:t})});rR.displayName="MenuAnchor";var rP="MenuPortal",[rD,rS]=rx(rP,{forceMount:void 0}),rM=e=>{let{__scopeMenu:t,forceMount:r,children:n,container:o}=e,a=rC(rP,t);return(0,f.jsx)(rD,{scope:t,forceMount:r,children:(0,f.jsx)(J.Presence,{present:r||a.open,children:(0,f.jsx)(q.Portal,{asChild:!0,container:o,children:n})})})};rM.displayName=rP;var r_="MenuContent",[rF,rA]=rx(r_),rO=p.forwardRef((e,t)=>{let r=rS(r_,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,a=rC(r_,e.__scopeMenu),i=rE(r_,e.__scopeMenu);return(0,f.jsx)(rh.Provider,{scope:e.__scopeMenu,children:(0,f.jsx)(J.Presence,{present:n||a.open,children:(0,f.jsx)(rh.Slot,{scope:e.__scopeMenu,children:i.modal?(0,f.jsx)(rI,{...o,ref:t}):(0,f.jsx)(rT,{...o,ref:t})})})})}),rI=p.forwardRef((e,t)=>{let r=rC(r_,e.__scopeMenu),n=p.useRef(null),o=(0,F.useComposedRefs)(t,n);return p.useEffect(()=>{let e=n.current;if(e)return eq(e)},[]),(0,f.jsx)(rL,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:(0,_.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),rT=p.forwardRef((e,t)=>{let r=rC(r_,e.__scopeMenu);return(0,f.jsx)(rL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),rz=tY("MenuContent.ScrollLock"),rL=p.forwardRef((e,t)=>{let{__scopeMenu:r,loop:n=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:m,onDismiss:h,disableOutsideScroll:v,...g}=e,x=rC(r_,r),y=rE(r_,r),w=rw(r),b=rb(r),j=rv(r),[C,N]=p.useState(null),E=p.useRef(null),k=(0,F.useComposedRefs)(t,E,x.onContentChange),R=p.useRef(0),P=p.useRef(""),D=p.useRef(0),S=p.useRef(null),M=p.useRef("right"),A=p.useRef(0),O=v?eK:p.Fragment;p.useEffect(()=>()=>window.clearTimeout(R.current),[]),eo();let T=p.useCallback(e=>{var t,r;return M.current===S.current?.side&&(t=e,!!(r=S.current?.area)&&function(e,t){let{x:r,y:n}=e,o=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let i=t[e],s=t[a],l=i.x,d=i.y,c=s.x,u=s.y;d>n!=u>n&&r<(c-l)*(n-d)/(u-d)+l&&(o=!o)}return o}({x:t.clientX,y:t.clientY},r))},[]);return(0,f.jsx)(rF,{scope:r,searchRef:P,onItemEnter:p.useCallback(e=>{T(e)&&e.preventDefault()},[T]),onItemLeave:p.useCallback(e=>{T(e)||(E.current?.focus(),N(null))},[T]),onTriggerLeave:p.useCallback(e=>{T(e)&&e.preventDefault()},[T]),pointerGraceTimerRef:D,onPointerGraceIntentChange:p.useCallback(e=>{S.current=e},[]),children:(0,f.jsx)(O,{...v?{as:rz,allowPinchZoom:!0}:void 0,children:(0,f.jsx)(V,{asChild:!0,trapped:o,onMountAutoFocus:(0,_.composeEventHandlers)(a,e=>{e.preventDefault(),E.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:(0,f.jsx)(I.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:m,onDismiss:h,children:(0,f.jsx)(rn,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:N,onEntryFocus:(0,_.composeEventHandlers)(l,e=>{y.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,f.jsx)(tZ.Content,{role:"menu","aria-orientation":"vertical","data-state":nt(x.open),"data-radix-menu-content":"",dir:y.dir,...w,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:(0,_.composeEventHandlers)(g.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;if(t){var o;let t,a,i,s,l,d;"Tab"===e.key&&e.preventDefault(),!r&&n&&(o=e.key,t=P.current+o,a=j().filter(e=>!e.disabled),i=document.activeElement,s=a.find(e=>e.ref.current===i)?.textValue,l=function(e,t,r){var n;let o=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=r?e.indexOf(r):-1,i=(n=Math.max(a,0),e.map((t,r)=>e[(n+r)%e.length]));1===o.length&&(i=i.filter(e=>e!==r));let s=i.find(e=>e.toLowerCase().startsWith(o.toLowerCase()));return s!==r?s:void 0}(a.map(e=>e.textValue),t,s),d=a.find(e=>e.textValue===l)?.ref.current,function e(t){P.current=t,window.clearTimeout(R.current),""!==t&&(R.current=window.setTimeout(()=>e(""),1e3))}(t),d&&setTimeout(()=>d.focus()))}let a=E.current;if(e.target!==a||!ru.includes(e.key))return;e.preventDefault();let i=j().filter(e=>!e.disabled).map(e=>e.ref.current);rc.includes(e.key)&&i.reverse(),function(e){let t=document.activeElement;for(let r of e)if(r===t||(r.focus(),document.activeElement!==t))return}(i)}),onBlur:(0,_.composeEventHandlers)(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(R.current),P.current="")}),onPointerMove:(0,_.composeEventHandlers)(e.onPointerMove,no(e=>{let t=e.target,r=A.current!==e.clientX;e.currentTarget.contains(t)&&r&&(M.current=e.clientX>A.current?"right":"left",A.current=e.clientX)}))})})})})})})});rO.displayName=r_;var rW=p.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,f.jsx)(tQ.div,{role:"group",...n,ref:t})});rW.displayName="MenuGroup";var r$=p.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,f.jsx)(tQ.div,{...n,ref:t})});r$.displayName="MenuLabel";var rH="MenuItem",rB="menu.itemSelect",rK=p.forwardRef((e,t)=>{let{disabled:r=!1,onSelect:n,...o}=e,a=p.useRef(null),i=rE(rH,e.__scopeMenu),s=rA(rH,e.__scopeMenu),l=(0,F.useComposedRefs)(t,a),d=p.useRef(!1);return(0,f.jsx)(rV,{...o,ref:l,disabled:r,onClick:(0,_.composeEventHandlers)(e.onClick,()=>{let e=a.current;if(!r&&e){let t=new CustomEvent(rB,{bubbles:!0,cancelable:!0});e.addEventListener(rB,e=>n?.(e),{once:!0}),e&&T.flushSync(()=>e.dispatchEvent(t)),t.defaultPrevented?d.current=!1:i.onClose()}}),onPointerDown:t=>{e.onPointerDown?.(t),d.current=!0},onPointerUp:(0,_.composeEventHandlers)(e.onPointerUp,e=>{d.current||e.currentTarget?.click()}),onKeyDown:(0,_.composeEventHandlers)(e.onKeyDown,e=>{let t=""!==s.searchRef.current;r||t&&" "===e.key||rd.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});rK.displayName=rH;var rV=p.forwardRef((e,t)=>{let{__scopeMenu:r,disabled:n=!1,textValue:o,...a}=e,i=rA(rH,r),s=rb(r),l=p.useRef(null),d=(0,F.useComposedRefs)(t,l),[c,u]=p.useState(!1),[m,h]=p.useState("");return p.useEffect(()=>{let e=l.current;e&&h((e.textContent??"").trim())},[a.children]),(0,f.jsx)(rh.ItemSlot,{scope:r,disabled:n,textValue:o??m,children:(0,f.jsx)(ri,{asChild:!0,...s,focusable:!n,children:(0,f.jsx)(tQ.div,{role:"menuitem","data-highlighted":c?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:d,onPointerMove:(0,_.composeEventHandlers)(e.onPointerMove,no(e=>{n?i.onItemLeave(e):(i.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:(0,_.composeEventHandlers)(e.onPointerLeave,no(e=>i.onItemLeave(e))),onFocus:(0,_.composeEventHandlers)(e.onFocus,()=>u(!0)),onBlur:(0,_.composeEventHandlers)(e.onBlur,()=>u(!1))})})})}),rU=p.forwardRef((e,t)=>{let{checked:r=!1,onCheckedChange:n,...o}=e;return(0,f.jsx)(r0,{scope:e.__scopeMenu,checked:r,children:(0,f.jsx)(rK,{role:"menuitemcheckbox","aria-checked":nr(r)?"mixed":r,...o,ref:t,"data-state":nn(r),onSelect:(0,_.composeEventHandlers)(o.onSelect,()=>n?.(!!nr(r)||!r),{checkForDefaultPrevented:!1})})})});rU.displayName="MenuCheckboxItem";var rG="MenuRadioGroup",[rX,rZ]=rx(rG,{value:void 0,onValueChange:()=>{}}),rY=p.forwardRef((e,t)=>{let{value:r,onValueChange:n,...o}=e,a=(0,$.useCallbackRef)(n);return(0,f.jsx)(rX,{scope:e.__scopeMenu,value:r,onValueChange:a,children:(0,f.jsx)(rW,{...o,ref:t})})});rY.displayName=rG;var rq="MenuRadioItem",rJ=p.forwardRef((e,t)=>{let{value:r,...n}=e,o=rZ(rq,e.__scopeMenu),a=r===o.value;return(0,f.jsx)(r0,{scope:e.__scopeMenu,checked:a,children:(0,f.jsx)(rK,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":nn(a),onSelect:(0,_.composeEventHandlers)(n.onSelect,()=>o.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});rJ.displayName=rq;var rQ="MenuItemIndicator",[r0,r1]=rx(rQ,{checked:!1}),r2=p.forwardRef((e,t)=>{let{__scopeMenu:r,forceMount:n,...o}=e,a=r1(rQ,r);return(0,f.jsx)(J.Presence,{present:n||nr(a.checked)||!0===a.checked,children:(0,f.jsx)(tQ.span,{...o,ref:t,"data-state":nn(a.checked)})})});r2.displayName=rQ;var r4=p.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,f.jsx)(tQ.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});r4.displayName="MenuSeparator";var r5=p.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e,o=rw(r);return(0,f.jsx)(tZ.Arrow,{...o,...n,ref:t})});r5.displayName="MenuArrow";var[r6,r3]=rx("MenuSub"),r8="MenuSubTrigger",r9=p.forwardRef((e,t)=>{let r=rC(r8,e.__scopeMenu),n=rE(r8,e.__scopeMenu),o=r3(r8,e.__scopeMenu),a=rA(r8,e.__scopeMenu),i=p.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=a,d={__scopeMenu:e.__scopeMenu},c=p.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return p.useEffect(()=>c,[c]),p.useEffect(()=>{let e=s.current;return()=>{window.clearTimeout(e),l(null)}},[s,l]),(0,f.jsx)(rR,{asChild:!0,...d,children:(0,f.jsx)(rV,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":nt(r.open),...e,ref:(0,F.composeRefs)(t,o.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:(0,_.composeEventHandlers)(e.onPointerMove,no(t=>{a.onItemEnter(t),!t.defaultPrevented&&(e.disabled||r.open||i.current||(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),c()},100)))})),onPointerLeave:(0,_.composeEventHandlers)(e.onPointerLeave,no(e=>{c();let t=r.content?.getBoundingClientRect();if(t){let n=r.content?.dataset.side,o="right"===n,i=t[o?"left":"right"],l=t[o?"right":"left"];a.onPointerGraceIntentChange({area:[{x:e.clientX+(o?-5:5),y:e.clientY},{x:i,y:t.top},{x:l,y:t.top},{x:l,y:t.bottom},{x:i,y:t.bottom}],side:n}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(e),e.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:(0,_.composeEventHandlers)(e.onKeyDown,t=>{let o=""!==a.searchRef.current;e.disabled||o&&" "===t.key||rf[n.dir].includes(t.key)&&(r.onOpenChange(!0),r.content?.focus(),t.preventDefault())})})})});r9.displayName=r8;var r7="MenuSubContent",ne=p.forwardRef((e,t)=>{let r=rS(r_,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,a=rC(r_,e.__scopeMenu),i=rE(r_,e.__scopeMenu),s=r3(r7,e.__scopeMenu),l=p.useRef(null),d=(0,F.useComposedRefs)(t,l);return(0,f.jsx)(rh.Provider,{scope:e.__scopeMenu,children:(0,f.jsx)(J.Presence,{present:n||a.open,children:(0,f.jsx)(rh.Slot,{scope:e.__scopeMenu,children:(0,f.jsx)(rL,{id:s.contentId,"aria-labelledby":s.triggerId,...o,ref:d,align:"start",side:"rtl"===i.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{i.isUsingKeyboardRef.current&&l.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,_.composeEventHandlers)(e.onFocusOutside,e=>{e.target!==s.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:(0,_.composeEventHandlers)(e.onEscapeKeyDown,e=>{i.onClose(),e.preventDefault()}),onKeyDown:(0,_.composeEventHandlers)(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),r=rp[i.dir].includes(e.key);t&&r&&(a.onOpenChange(!1),s.trigger?.focus(),e.preventDefault())})})})})})});function nt(e){return e?"open":"closed"}function nr(e){return"indeterminate"===e}function nn(e){return nr(e)?"indeterminate":e?"checked":"unchecked"}function no(e){return t=>"mouse"===t.pointerType?e(t):void 0}ne.displayName=r7;var na="DropdownMenu",[ni,ns]=function(e,t=[]){let r=[],n=()=>{let t=r.map(e=>p.createContext(e));return function(r){let n=r?.[e]||t;return p.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return n.scopeName=e,[function(t,n){let o=p.createContext(n),a=r.length;r=[...r,n];let i=t=>{let{scope:r,children:n,...i}=t,s=r?.[e]?.[a]||o,l=p.useMemo(()=>i,Object.values(i));return(0,f.jsx)(s.Provider,{value:l,children:n})};return i.displayName=t+"Provider",[i,function(r,i){let s=i?.[e]?.[a]||o,l=p.useContext(s);if(l)return l;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=r.reduce((t,{useScope:r,scopeName:n})=>{let o=r(e)[`__scope${n}`];return{...t,...o}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}(n,...t)]}(na,[ry]),nl=ry(),[nd,nc]=ni(na),nu=e=>{let{__scopeDropdownMenu:t,children:r,dir:n,open:o,defaultOpen:a,onOpenChange:i,modal:s=!0}=e,l=nl(t),d=p.useRef(null),[c,u]=(0,O.useControllableState)({prop:o,defaultProp:a??!1,onChange:i,caller:na});return(0,f.jsx)(nd,{scope:t,triggerId:(0,A.useId)(),triggerRef:d,contentId:(0,A.useId)(),open:c,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(e=>!e),[u]),modal:s,children:(0,f.jsx)(rk,{...l,open:c,onOpenChange:u,dir:n,modal:s,children:r})})};nu.displayName=na;var nf="DropdownMenuTrigger",np=p.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,disabled:n=!1,...o}=e,a=nc(nf,r),i=nl(r);return(0,f.jsx)(rR,{asChild:!0,...i,children:(0,f.jsx)(tL.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:(0,F.composeRefs)(t,a.triggerRef),onPointerDown:(0,_.composeEventHandlers)(e.onPointerDown,e=>{!n&&0===e.button&&!1===e.ctrlKey&&(a.onOpenToggle(),a.open||e.preventDefault())}),onKeyDown:(0,_.composeEventHandlers)(e.onKeyDown,e=>{!n&&(["Enter"," "].includes(e.key)&&a.onOpenToggle(),"ArrowDown"===e.key&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});np.displayName=nf;var nm=e=>{let{__scopeDropdownMenu:t,...r}=e,n=nl(t);return(0,f.jsx)(rM,{...n,...r})};nm.displayName="DropdownMenuPortal";var nh="DropdownMenuContent",nv=p.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=nc(nh,r),a=nl(r),i=p.useRef(!1);return(0,f.jsx)(rO,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...n,ref:t,onCloseAutoFocus:(0,_.composeEventHandlers)(e.onCloseAutoFocus,e=>{i.current||o.triggerRef.current?.focus(),i.current=!1,e.preventDefault()}),onInteractOutside:(0,_.composeEventHandlers)(e.onInteractOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;(!o.modal||n)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nv.displayName=nh,p.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=nl(r);return(0,f.jsx)(rW,{...o,...n,ref:t})}).displayName="DropdownMenuGroup",p.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=nl(r);return(0,f.jsx)(r$,{...o,...n,ref:t})}).displayName="DropdownMenuLabel";var ng=p.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=nl(r);return(0,f.jsx)(rK,{...o,...n,ref:t})});function nx({...e}){return(0,f.jsx)(nu,{"data-slot":"dropdown-menu",...e})}function ny({...e}){return(0,f.jsx)(np,{"data-slot":"dropdown-menu-trigger",...e})}function nw({className:e,sideOffset:t=4,...r}){return(0,f.jsx)(nm,{children:(0,f.jsx)(nv,{"data-slot":"dropdown-menu-content",sideOffset:t,className:(0,tb.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function nb({className:e,inset:t,variant:r="default",...n}){return(0,f.jsx)(ng,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:(0,tb.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}ng.displayName="DropdownMenuItem",p.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=nl(r);return(0,f.jsx)(rU,{...o,...n,ref:t})}).displayName="DropdownMenuCheckboxItem",p.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=nl(r);return(0,f.jsx)(rY,{...o,...n,ref:t})}).displayName="DropdownMenuRadioGroup",p.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=nl(r);return(0,f.jsx)(rJ,{...o,...n,ref:t})}).displayName="DropdownMenuRadioItem",p.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=nl(r);return(0,f.jsx)(r2,{...o,...n,ref:t})}).displayName="DropdownMenuItemIndicator",p.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=nl(r);return(0,f.jsx)(r4,{...o,...n,ref:t})}).displayName="DropdownMenuSeparator",p.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=nl(r);return(0,f.jsx)(r5,{...o,...n,ref:t})}).displayName="DropdownMenuArrow",p.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=nl(r);return(0,f.jsx)(r9,{...o,...n,ref:t})}).displayName="DropdownMenuSubTrigger",p.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=nl(r);return(0,f.jsx)(ne,{...o,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}).displayName="DropdownMenuSubContent",e.i(78745),e.i(46349),(0,N.default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);let nj=(0,tA.default)(()=>e.A(75771),{loadableGenerated:{modules:[90843]},ssr:!1,loading:()=>(0,f.jsx)("div",{className:"w-full h-[75vh] rounded-md overflow-hidden border border-zinc-200 dark:border-zinc-800 flex items-center justify-center bg-zinc-50 dark:bg-zinc-900",children:(0,f.jsxs)("div",{className:"flex flex-col items-center",children:[(0,f.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-zinc-900 dark:border-zinc-100 mb-4"}),(0,f.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Loading PDF viewer..."})]})})});function nC(){let t=(0,m.useSearchParams)().get("documentId"),{getDocumentPdfUrl:r,getDocumentContent:n,saveProjectAsDraft:o,getDocument:a,getModifiedPdfUrl:i,setModifiedPdfUrl:s}=(0,h.useAppContext)(),[l,d]=(0,p.useState)(null),[c,u]=(0,p.useState)(!1),[N,M]=(0,p.useState)(!1),[_,F]=(0,p.useState)(null),[A,O]=(0,p.useState)([]),[I,T]=(0,p.useState)(null),[z,L]=(0,p.useState)([]),[W,$]=(0,p.useState)(!1),[H,B]=(0,p.useState)(""),[K,V]=(0,p.useState)("pdf"),[U,G]=(0,p.useState)(""),[X,Z]=(0,p.useState)(null),[Y,q]=(0,p.useState)(null),J=(0,p.useRef)(null);(0,p.useEffect)(()=>{if(!t){console.error("[EditorPage] No document ID provided"),F("No document ID provided.");return}console.log("[EditorPage] Loading document:",t),u(!0),F(null);try{let e=r(t);console.log("[EditorPage] PDF URL retrieved:",e?"exists":"null"),e?(d(e),q(e)):(console.warn("[EditorPage] No PDF URL found for document"),d(null))}catch(e){console.error("[EditorPage] Error loading PDF:",e),d(null)}finally{u(!1)}},[t,r]),(0,p.useEffect)(()=>{if(!t)return;let e=n(t),r=a(t);r&&B(r.projectName||""),e&&(0,P.analyzePdfContent)(e).then(e=>O(e)).catch(e=>console.error(e))},[t,n,a]);let Q=async()=>{if(!t||!U)return void tI.toast.error("No content to convert");M(!0),F(null);try{let e=await (0,tO.htmlToWordBlob)(U),r=await (0,tO.convertWordToPdf)(e);d(r),s(t,r),V("pdf"),tI.toast.success("Converted back to PDF")}catch(e){console.error("Error converting to PDF:",e),tI.toast.error("Failed to convert to PDF. Please try again."),F("Failed to convert to PDF.")}finally{M(!1)}},ee=e=>{let t=A[e];if(t)if("word"===K){let r=RegExp((t.original||t.text).replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");G(U.replace(r,t.suggestion)),L(t=>[...t,e]),O(t=>t.filter((t,r)=>r!==e)),T(null),tI.toast.success("Suggestion applied")}else tI.toast.error("Convert to Word to apply suggestions")},et=async()=>{if(t)try{if(!l)return void tI.toast.error("No PDF available to download");let e=S(H,l!==Y?"modified":"original");D(l,e)}catch(e){console.error("Error downloading PDF:",e),tI.toast.error("Failed to download PDF")}},er=async t=>{try{let r=await e.A(84934),n=await t.arrayBuffer();return(await r.convertToHtml({arrayBuffer:n})).value}catch(e){throw console.error("Error converting DOCX to HTML:",e),Error("Failed to convert Word document to editable format")}},en=async(e="download")=>{if(!t||!l)return void tI.toast.error("PDF not available for conversion");M(!0),F(null);let r=tI.toast.loading("edit"===e?"Converting PDF to editable Word format...":"Converting PDF to Word...");try{let t=await fetch(l),n=await t.blob(),o=new FormData,a=H?`${H}.pdf`:"document.pdf";o.append("file",n,a);let i=await fetch("/api/convert/pdf-to-docx",{method:"POST",body:o});if(!i.ok){let e="Failed to convert PDF to Word",t="",r=i.headers.get("content-type");console.error("[PDF to Word] Conversion failed:",{status:i.status,statusText:i.statusText,contentType:r});try{let n=await i.text();if(console.log("[PDF to Word] Error response body:",n),r&&r.includes("application/json")&&n)try{let r=JSON.parse(n);console.error("[PDF to Word] Parsed error data:",r),e=r.message||r.error||e,(t=r.details||"").includes("Network error")||t.includes("timeout")?(e="Conversion timeout",t="The conversion is taking too long. Please try again or use a smaller PDF."):t.includes("credentials")?(e="Configuration error",t="PDF conversion service needs configuration. Please contact support."):r.fallbackError&&(e="Cannot convert this PDF",t="This PDF may be encrypted, corrupted, or in an unsupported format.")}catch(t){console.error("[PDF to Word] JSON parse error:",t),e=n||e}else e=n?n||i.statusText||`HTTP ${i.status}`:i.statusText||`HTTP ${i.status}`}catch(t){console.error("[PDF to Word] Error reading response:",t),e=i.statusText||`HTTP ${i.status}: Failed to convert PDF to Word`}throw console.error("[PDF to Word] Final error message:",e),Error(e)}let s=await i.blob();if("download"===e){let e=window.URL.createObjectURL(s),t=document.createElement("a");t.href=e,t.download=a.replace(/\.pdf$/i,".docx"),document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(e),tI.toast.success("PDF converted to Word and downloaded",{id:r})}else{tI.toast.loading("Opening document in editor...",{id:r});let e=await er(s);Z(s),G(e),V("word"),tI.toast.success("Document ready for editing! You can now apply AI suggestions.",{id:r})}}catch(t){console.error("Error converting PDF to Word:",t);let e=t instanceof Error?t.message:"Failed to convert PDF to Word";tI.toast.error(e,{id:r}),F(e)}finally{M(!1)}},eo=async()=>{if(!U)return void tI.toast.error("No document content to download");let e=tI.toast.loading("Preparing Word document for download...");M(!0);try{let t=await (0,tO.htmlToWordBlob)(U),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=H?`${H}.docx`:"document.docx",document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(r),tI.toast.success("Word document downloaded successfully",{id:e})}catch(t){console.error("Error downloading Word document:",t),tI.toast.error("Failed to download Word document",{id:e})}finally{M(!1)}},ea=async()=>{if(!U)return void tI.toast.error("No document content to download");let e=tI.toast.loading("Converting to PDF...");M(!0);try{let t=await (0,tO.htmlToWordBlob)(U),r=await (0,tO.convertWordToPdf)(t),n=S(H,"edited");D(r,n),tI.toast.success("PDF downloaded successfully",{id:e})}catch(t){console.error("Error converting to PDF:",t),tI.toast.error("Failed to convert to PDF",{id:e})}finally{M(!1)}};return c?(0,f.jsx)("div",{className:"flex flex-col items-center justify-center h-screen bg-zinc-50 dark:bg-zinc-950 text-center px-6",children:(0,f.jsxs)(g.Card,{className:"w-full max-w-md border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900",children:[(0,f.jsx)(g.CardHeader,{children:(0,f.jsx)(g.CardTitle,{className:"text-gray-900 dark:text-gray-50",children:"Loading Document"})}),(0,f.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,f.jsx)(x.Progress,{value:66}),(0,f.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Preparing the viewer."})]})]})}):_&&!t?(0,f.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen bg-zinc-50 dark:bg-zinc-950 text-center text-red-600 dark:text-red-400",children:[(0,f.jsxs)("h2",{className:"text-2xl font-semibold",children:["Error: ",_]}),(0,f.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Please go back and try again."})]}):(0,f.jsx)(v.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"min-h-screen bg-zinc-50 dark:bg-zinc-950 p-4 sm:p-6 lg:p-8 flex justify-center",children:(0,f.jsxs)("div",{className:"max-w-7xl w-full grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,f.jsx)("div",{className:"md:col-span-2",children:(0,f.jsxs)(g.Card,{className:"border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900",children:[(0,f.jsxs)(g.CardHeader,{className:"pb-2",children:[(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsx)(g.CardTitle,{className:"text-gray-900 dark:text-gray-50",children:"word"===K?"Document Editor":"Document Viewer"}),(0,f.jsxs)("div",{className:"flex gap-2 flex-wrap",children:["pdf"===K&&(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(nx,{children:[(0,f.jsx)(ny,{asChild:!0,children:(0,f.jsxs)(y.Button,{variant:"outline",size:"sm",disabled:N||!l,className:"bg-blue-50 dark:bg-blue-950/30 border-blue-200 dark:border-blue-800 hover:bg-blue-100 dark:hover:bg-blue-900/40",children:[N?(0,f.jsx)(j.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,f.jsx)(k,{className:"h-4 w-4 mr-2"}),"Convert to Word",(0,f.jsx)(R,{className:"h-3 w-3 ml-2"})]})}),(0,f.jsxs)(nw,{align:"end",className:"w-56",children:[(0,f.jsxs)(nb,{onClick:()=>en("edit"),disabled:N,className:"cursor-pointer",children:[(0,f.jsx)(C.FileText,{className:"h-4 w-4 mr-2"}),(0,f.jsxs)("div",{className:"flex flex-col",children:[(0,f.jsx)("span",{className:"font-medium",children:"Edit as Word"}),(0,f.jsx)("span",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Convert and open in editor"})]})]}),(0,f.jsxs)(nb,{onClick:()=>en("download"),disabled:N,className:"cursor-pointer",children:[(0,f.jsx)(b.Download,{className:"h-4 w-4 mr-2"}),(0,f.jsxs)("div",{className:"flex flex-col",children:[(0,f.jsx)("span",{className:"font-medium",children:"Download as Word"}),(0,f.jsx)("span",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Save .docx file to device"})]})]})]})]})}),"word"===K&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(y.Button,{variant:"outline",size:"sm",onClick:Q,disabled:N,children:[N?(0,f.jsx)(j.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,f.jsx)(E,{className:"h-4 w-4 mr-2"}),"Back to PDF"]}),(0,f.jsxs)(nx,{children:[(0,f.jsx)(ny,{asChild:!0,children:(0,f.jsxs)(y.Button,{variant:"outline",size:"sm",disabled:N,className:"bg-green-50 dark:bg-green-950/30 border-green-200 dark:border-green-800 hover:bg-green-100 dark:hover:bg-green-900/40",children:[(0,f.jsx)(b.Download,{className:"h-4 w-4 mr-2"}),"Download",(0,f.jsx)(R,{className:"h-3 w-3 ml-2"})]})}),(0,f.jsxs)(nw,{align:"end",className:"w-56",children:[(0,f.jsxs)(nb,{onClick:eo,disabled:N,className:"cursor-pointer",children:[(0,f.jsx)(C.FileText,{className:"h-4 w-4 mr-2"}),(0,f.jsxs)("div",{className:"flex flex-col",children:[(0,f.jsx)("span",{className:"font-medium",children:"Download as Word"}),(0,f.jsx)("span",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Save edited .docx file"})]})]}),(0,f.jsxs)(nb,{onClick:ea,disabled:N,className:"cursor-pointer",children:[(0,f.jsx)(b.Download,{className:"h-4 w-4 mr-2"}),(0,f.jsxs)("div",{className:"flex flex-col",children:[(0,f.jsx)("span",{className:"font-medium",children:"Download as PDF"}),(0,f.jsx)("span",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Convert and save as PDF"})]})]})]})]})]}),"pdf"===K&&(0,f.jsxs)(y.Button,{variant:"outline",size:"sm",onClick:et,disabled:!l,children:[(0,f.jsx)(b.Download,{className:"h-4 w-4 mr-2"}),"Download PDF"]})]})]}),"pdf"===K&&(0,f.jsx)(w.Badge,{variant:"secondary",className:"mt-2",children:'Click "Convert to Word"  "Edit as Word" to apply AI suggestions'}),"word"===K&&(0,f.jsx)(w.Badge,{variant:"secondary",className:"mt-2 bg-green-50 dark:bg-green-950/30 border-green-200 dark:border-green-800",children:"Editing Mode - Apply suggestions and download as Word or PDF"})]}),(0,f.jsxs)(g.CardContent,{className:"p-4",children:[_&&(0,f.jsx)("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:(0,f.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:_})}),"word"===K?(0,f.jsx)(tF.default,{wordHtml:U,suggestions:A,selectedSuggestionIndex:I,onContentChange:G,onApplySuggestion:ee,isLoading:N}):l?(0,f.jsx)(nj,{fileUrl:l,fileName:H?`${H}.pdf`:"document.pdf",onReady:e=>{J.current=e},className:"w-full h-[75vh] rounded-md overflow-hidden border border-zinc-200 dark:border-zinc-800"}):(0,f.jsxs)("div",{className:"w-full h-[75vh] rounded-md overflow-hidden border border-zinc-200 dark:border-zinc-800 flex flex-col items-center justify-center p-6 bg-zinc-50 dark:bg-zinc-900",children:[(0,f.jsx)("svg",{className:"w-16 h-16 text-zinc-400 dark:text-zinc-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),(0,f.jsx)("h3",{className:"text-lg font-semibold text-zinc-700 dark:text-zinc-300 mb-2",children:"No PDF Available"}),(0,f.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 text-center max-w-md",children:"No PDF file was found for this document. Please upload a PDF file to view it here."})]})]})]})}),(0,f.jsx)("aside",{className:"md:col-span-1",children:(0,f.jsx)(t_,{suggestions:A,selectedIndex:I,onSelectIndex:T,onApplyAtIndex:ee,onGoToIndex:e=>{T(e)},acceptedCount:z.length,onSaveDraft:()=>{t&&(H.trim()?(o(H.trim(),t),tI.toast.success("Project saved as draft!")):$(!0))},saveDialogOpen:W,setSaveDialogOpen:$,projectName:H,setProjectName:B,onConfirmSave:()=>{t&&H.trim()&&(o(H.trim(),t),$(!1),tI.toast.success("Project saved as draft!"))},isApplying:N,canApply:"word"===K})})]})})}function nN(){return(0,f.jsx)(p.Suspense,{fallback:(0,f.jsx)("div",{className:"flex flex-col items-center justify-center h-screen bg-zinc-50 dark:bg-zinc-950 text-center px-6",children:(0,f.jsxs)(g.Card,{className:"w-full max-w-md border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900",children:[(0,f.jsx)(g.CardHeader,{children:(0,f.jsx)(g.CardTitle,{className:"text-gray-900 dark:text-gray-50",children:"Loading..."})}),(0,f.jsx)(g.CardContent,{className:"space-y-4",children:(0,f.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-zinc-900 dark:border-zinc-100 mx-auto"})})]})}),children:(0,f.jsx)(nC,{})})}e.s(["default",()=>nN],40104)}]);