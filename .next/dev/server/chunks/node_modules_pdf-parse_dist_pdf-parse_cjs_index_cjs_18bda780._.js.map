{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/pdf-parse/dist/pdf-parse/cjs/index.cjs","sources":["file:///Volumes/Trinos/Learning/PointofTwo/Po2/node_modules/pdf-parse/node_modules/pdfjs-dist/legacy/build/pdf.mjs","file:///Volumes/Trinos/Learning/PointofTwo/Po2/node_modules/pdf-parse/src/pdf-parse/Exception.ts","file:///Volumes/Trinos/Learning/PointofTwo/Po2/node_modules/pdf-parse/src/pdf-parse/geometry/Shape.ts","file:///Volumes/Trinos/Learning/PointofTwo/Po2/node_modules/pdf-parse/src/pdf-parse/geometry/Point.ts","file:///Volumes/Trinos/Learning/PointofTwo/Po2/node_modules/pdf-parse/src/pdf-parse/geometry/Line.ts","file:///Volumes/Trinos/Learning/PointofTwo/Po2/node_modules/pdf-parse/src/pdf-parse/geometry/TableData.ts","file:///Volumes/Trinos/Learning/PointofTwo/Po2/node_modules/pdf-parse/src/pdf-parse/geometry/Table.ts","file:///Volumes/Trinos/Learning/PointofTwo/Po2/node_modules/pdf-parse/src/pdf-parse/geometry/LineStore.ts","file:///Volumes/Trinos/Learning/PointofTwo/Po2/node_modules/pdf-parse/src/pdf-parse/geometry/Rectangle.ts","file:///Volumes/Trinos/Learning/PointofTwo/Po2/node_modules/pdf-parse/src/pdf-parse/ImageResult.ts","file:///Volumes/Trinos/Learning/PointofTwo/Po2/node_modules/pdf-parse/src/pdf-parse/InfoResult.ts","file:///Volumes/Trinos/Learning/PointofTwo/Po2/node_modules/pdf-parse/src/pdf-parse/ParseParameters.ts","file:///Volumes/Trinos/Learning/PointofTwo/Po2/node_modules/pdf-parse/src/pdf-parse/PathGeometry.ts","file:///Volumes/Trinos/Learning/PointofTwo/Po2/node_modules/pdf-parse/src/pdf-parse/ScreenshotResult.ts","file:///Volumes/Trinos/Learning/PointofTwo/Po2/node_modules/pdf-parse/src/pdf-parse/TableResult.ts","file:///Volumes/Trinos/Learning/PointofTwo/Po2/node_modules/pdf-parse/src/pdf-parse/TextResult.ts","file:///Volumes/Trinos/Learning/PointofTwo/Po2/node_modules/pdf-parse/src/pdf-parse/PDFParse.ts"],"sourcesContent":["/**\n * @licstart The following is the entire license notice for the\n * JavaScript code in this page\n *\n * Copyright 2024 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * JavaScript code in this page\n */\n\n/**\n * pdfjsVersion = 5.4.296\n * pdfjsBuild = f56dc8601\n */\n/******/ var __webpack_modules__ = ({\n\n/***/ 34:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isCallable = __webpack_require__(4901);\n\nmodule.exports = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n\n\n/***/ }),\n\n/***/ 81:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar call = __webpack_require__(9565);\nvar aCallable = __webpack_require__(9306);\nvar anObject = __webpack_require__(8551);\nvar tryToString = __webpack_require__(6823);\nvar getIteratorMethod = __webpack_require__(851);\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument, usingIterator) {\n  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;\n  if (aCallable(iteratorMethod)) return anObject(call(iteratorMethod, argument));\n  throw new $TypeError(tryToString(argument) + ' is not iterable');\n};\n\n\n/***/ }),\n\n/***/ 116:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar call = __webpack_require__(9565);\nvar iterate = __webpack_require__(2652);\nvar aCallable = __webpack_require__(9306);\nvar anObject = __webpack_require__(8551);\nvar getIteratorDirect = __webpack_require__(1767);\nvar iteratorClose = __webpack_require__(9539);\nvar iteratorHelperWithoutClosingOnEarlyError = __webpack_require__(4549);\n\nvar findWithoutClosingOnEarlyError = iteratorHelperWithoutClosingOnEarlyError('find', TypeError);\n\n// `Iterator.prototype.find` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.find\n$({ target: 'Iterator', proto: true, real: true, forced: findWithoutClosingOnEarlyError }, {\n  find: function find(predicate) {\n    anObject(this);\n    try {\n      aCallable(predicate);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (findWithoutClosingOnEarlyError) return call(findWithoutClosingOnEarlyError, this, predicate);\n\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    return iterate(record, function (value, stop) {\n      if (predicate(value, counter++)) return stop(value);\n    }, { IS_RECORD: true, INTERRUPTED: true }).result;\n  }\n});\n\n\n/***/ }),\n\n/***/ 283:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\nvar fails = __webpack_require__(9039);\nvar isCallable = __webpack_require__(4901);\nvar hasOwn = __webpack_require__(9297);\nvar DESCRIPTORS = __webpack_require__(3724);\nvar CONFIGURABLE_FUNCTION_NAME = (__webpack_require__(350).CONFIGURABLE);\nvar inspectSource = __webpack_require__(3706);\nvar InternalStateModule = __webpack_require__(1181);\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar $String = String;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\nvar stringSlice = uncurryThis(''.slice);\nvar replace = uncurryThis(''.replace);\nvar join = uncurryThis([].join);\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (stringSlice($String(name), 0, 7) === 'Symbol(') {\n    name = '[' + replace($String(name), /^Symbol\\(([^)]*)\\).*$/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n\n\n/***/ }),\n\n/***/ 350:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(3724);\nvar hasOwn = __webpack_require__(9297);\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n\n\n/***/ }),\n\n/***/ 397:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar getBuiltIn = __webpack_require__(7751);\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n\n\n/***/ }),\n\n/***/ 421:\n/***/ ((module) => {\n\n\nmodule.exports = {};\n\n\n/***/ }),\n\n/***/ 456:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar globalThis = __webpack_require__(4576);\nvar uncurryThis = __webpack_require__(9504);\nvar anUint8Array = __webpack_require__(4154);\nvar notDetached = __webpack_require__(5169);\n\nvar numberToString = uncurryThis(1.1.toString);\n\nvar Uint8Array = globalThis.Uint8Array;\n\nvar INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS = !Uint8Array || !Uint8Array.prototype.toHex || !(function () {\n  try {\n    var target = new Uint8Array([255, 255, 255, 255, 255, 255, 255, 255]);\n    return target.toHex() === 'ffffffffffffffff';\n  } catch (error) {\n    return false;\n  }\n})();\n\n// `Uint8Array.prototype.toHex` method\n// https://github.com/tc39/proposal-arraybuffer-base64\nif (Uint8Array) $({ target: 'Uint8Array', proto: true, forced: INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS }, {\n  toHex: function toHex() {\n    anUint8Array(this);\n    notDetached(this.buffer);\n    var result = '';\n    for (var i = 0, length = this.length; i < length; i++) {\n      var hex = numberToString(this[i], 16);\n      result += hex.length === 1 ? '0' + hex : hex;\n    }\n    return result;\n  }\n});\n\n\n/***/ }),\n\n/***/ 507:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar call = __webpack_require__(9565);\n\nmodule.exports = function (record, fn, ITERATOR_INSTEAD_OF_RECORD) {\n  var iterator = ITERATOR_INSTEAD_OF_RECORD ? record : record.iterator;\n  var next = record.next;\n  var step, result;\n  while (!(step = call(next, iterator)).done) {\n    result = fn(step.value);\n    if (result !== undefined) return result;\n  }\n};\n\n\n/***/ }),\n\n/***/ 531:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar call = __webpack_require__(9565);\nvar aCallable = __webpack_require__(9306);\nvar anObject = __webpack_require__(8551);\nvar getIteratorDirect = __webpack_require__(1767);\nvar getIteratorFlattenable = __webpack_require__(8646);\nvar createIteratorProxy = __webpack_require__(9462);\nvar iteratorClose = __webpack_require__(9539);\nvar IS_PURE = __webpack_require__(6395);\nvar iteratorHelperThrowsOnInvalidIterator = __webpack_require__(684);\nvar iteratorHelperWithoutClosingOnEarlyError = __webpack_require__(4549);\n\nvar FLAT_MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR = !IS_PURE\n  && !iteratorHelperThrowsOnInvalidIterator('flatMap', function () { /* empty */ });\nvar flatMapWithoutClosingOnEarlyError = !IS_PURE && !FLAT_MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR\n  && iteratorHelperWithoutClosingOnEarlyError('flatMap', TypeError);\n\nvar FORCED = IS_PURE || FLAT_MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR || flatMapWithoutClosingOnEarlyError;\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var mapper = this.mapper;\n  var result, inner;\n\n  while (true) {\n    if (inner = this.inner) try {\n      result = anObject(call(inner.next, inner.iterator));\n      if (!result.done) return result.value;\n      this.inner = null;\n    } catch (error) { iteratorClose(iterator, 'throw', error); }\n\n    result = anObject(call(this.next, iterator));\n\n    if (this.done = !!result.done) return;\n\n    try {\n      this.inner = getIteratorFlattenable(mapper(result.value, this.counter++), false);\n    } catch (error) { iteratorClose(iterator, 'throw', error); }\n  }\n});\n\n// `Iterator.prototype.flatMap` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.flatmap\n$({ target: 'Iterator', proto: true, real: true, forced: FORCED }, {\n  flatMap: function flatMap(mapper) {\n    anObject(this);\n    try {\n      aCallable(mapper);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (flatMapWithoutClosingOnEarlyError) return call(flatMapWithoutClosingOnEarlyError, this, mapper);\n\n    return new IteratorProxy(getIteratorDirect(this), {\n      mapper: mapper,\n      inner: null\n    });\n  }\n});\n\n\n/***/ }),\n\n/***/ 616:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar fails = __webpack_require__(9039);\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n\n\n/***/ }),\n\n/***/ 655:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar classof = __webpack_require__(6955);\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw new TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n\n\n/***/ }),\n\n/***/ 679:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isPrototypeOf = __webpack_require__(1625);\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (it, Prototype) {\n  if (isPrototypeOf(Prototype, it)) return it;\n  throw new $TypeError('Incorrect invocation');\n};\n\n\n/***/ }),\n\n/***/ 684:\n/***/ ((module) => {\n\n\n// Should throw an error on invalid iterator\n// https://issues.chromium.org/issues/336839115\nmodule.exports = function (methodName, argument) {\n  // eslint-disable-next-line es/no-iterator -- required for testing\n  var method = typeof Iterator == 'function' && Iterator.prototype[methodName];\n  if (method) try {\n    method.call({ next: null }, argument).next();\n  } catch (error) {\n    return true;\n  }\n};\n\n\n/***/ }),\n\n/***/ 741:\n/***/ ((module) => {\n\n\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n\n\n/***/ }),\n\n/***/ 757:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar getBuiltIn = __webpack_require__(7751);\nvar isCallable = __webpack_require__(4901);\nvar isPrototypeOf = __webpack_require__(1625);\nvar USE_SYMBOL_AS_UID = __webpack_require__(7040);\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n\n\n/***/ }),\n\n/***/ 851:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar classof = __webpack_require__(6955);\nvar getMethod = __webpack_require__(5966);\nvar isNullOrUndefined = __webpack_require__(4117);\nvar Iterators = __webpack_require__(6269);\nvar wellKnownSymbol = __webpack_require__(8227);\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (!isNullOrUndefined(it)) return getMethod(it, ITERATOR)\n    || getMethod(it, '@@iterator')\n    || Iterators[classof(it)];\n};\n\n\n/***/ }),\n\n/***/ 944:\n/***/ ((module) => {\n\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (options) {\n  var alphabet = options && options.alphabet;\n  if (alphabet === undefined || alphabet === 'base64' || alphabet === 'base64url') return alphabet || 'base64';\n  throw new $TypeError('Incorrect `alphabet` option');\n};\n\n\n/***/ }),\n\n/***/ 1072:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar internalObjectKeys = __webpack_require__(1828);\nvar enumBugKeys = __webpack_require__(8727);\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n\n\n/***/ }),\n\n/***/ 1103:\n/***/ ((module) => {\n\n\nmodule.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n\n\n/***/ }),\n\n/***/ 1108:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar classof = __webpack_require__(6955);\n\nmodule.exports = function (it) {\n  var klass = classof(it);\n  return klass === 'BigInt64Array' || klass === 'BigUint64Array';\n};\n\n\n/***/ }),\n\n/***/ 1148:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar call = __webpack_require__(9565);\nvar iterate = __webpack_require__(2652);\nvar aCallable = __webpack_require__(9306);\nvar anObject = __webpack_require__(8551);\nvar getIteratorDirect = __webpack_require__(1767);\nvar iteratorClose = __webpack_require__(9539);\nvar iteratorHelperWithoutClosingOnEarlyError = __webpack_require__(4549);\n\nvar everyWithoutClosingOnEarlyError = iteratorHelperWithoutClosingOnEarlyError('every', TypeError);\n\n// `Iterator.prototype.every` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.every\n$({ target: 'Iterator', proto: true, real: true, forced: everyWithoutClosingOnEarlyError }, {\n  every: function every(predicate) {\n    anObject(this);\n    try {\n      aCallable(predicate);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (everyWithoutClosingOnEarlyError) return call(everyWithoutClosingOnEarlyError, this, predicate);\n\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    return !iterate(record, function (value, stop) {\n      if (!predicate(value, counter++)) return stop();\n    }, { IS_RECORD: true, INTERRUPTED: true }).stopped;\n  }\n});\n\n\n/***/ }),\n\n/***/ 1181:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar NATIVE_WEAK_MAP = __webpack_require__(8622);\nvar globalThis = __webpack_require__(4576);\nvar isObject = __webpack_require__(34);\nvar createNonEnumerableProperty = __webpack_require__(6699);\nvar hasOwn = __webpack_require__(9297);\nvar shared = __webpack_require__(7629);\nvar sharedKey = __webpack_require__(6119);\nvar hiddenKeys = __webpack_require__(421);\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = globalThis.TypeError;\nvar WeakMap = globalThis.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw new TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n\n\n/***/ }),\n\n/***/ 1291:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar trunc = __webpack_require__(741);\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n\n\n/***/ }),\n\n/***/ 1385:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar iteratorClose = __webpack_require__(9539);\n\nmodule.exports = function (iters, kind, value) {\n  for (var i = iters.length - 1; i >= 0; i--) {\n    if (iters[i] === undefined) continue;\n    try {\n      value = iteratorClose(iters[i].iterator, kind, value);\n    } catch (error) {\n      kind = 'throw';\n      value = error;\n    }\n  }\n  if (kind === 'throw') throw value;\n  return value;\n};\n\n\n/***/ }),\n\n/***/ 1548:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar globalThis = __webpack_require__(4576);\nvar fails = __webpack_require__(9039);\nvar V8 = __webpack_require__(9519);\nvar ENVIRONMENT = __webpack_require__(4215);\n\nvar structuredClone = globalThis.structuredClone;\n\nmodule.exports = !!structuredClone && !fails(function () {\n  // prevent V8 ArrayBufferDetaching protector cell invalidation and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if ((ENVIRONMENT === 'DENO' && V8 > 92) || (ENVIRONMENT === 'NODE' && V8 > 94) || (ENVIRONMENT === 'BROWSER' && V8 > 97)) return false;\n  var buffer = new ArrayBuffer(8);\n  var clone = structuredClone(buffer, { transfer: [buffer] });\n  return buffer.byteLength !== 0 || clone.byteLength !== 8;\n});\n\n\n/***/ }),\n\n/***/ 1549:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\n// TODO: Remove from `core-js@4`\n__webpack_require__(6632);\n\n\n/***/ }),\n\n/***/ 1625:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n\n\n/***/ }),\n\n/***/ 1689:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar globalThis = __webpack_require__(4576);\nvar apply = __webpack_require__(8745);\nvar slice = __webpack_require__(7680);\nvar newPromiseCapabilityModule = __webpack_require__(6043);\nvar aCallable = __webpack_require__(9306);\nvar perform = __webpack_require__(1103);\n\nvar Promise = globalThis.Promise;\n\nvar ACCEPT_ARGUMENTS = false;\n// Avoiding the use of polyfills of the previous iteration of this proposal\n// that does not accept arguments of the callback\nvar FORCED = !Promise || !Promise['try'] || perform(function () {\n  Promise['try'](function (argument) {\n    ACCEPT_ARGUMENTS = argument === 8;\n  }, 8);\n}).error || !ACCEPT_ARGUMENTS;\n\n// `Promise.try` method\n// https://tc39.es/ecma262/#sec-promise.try\n$({ target: 'Promise', stat: true, forced: FORCED }, {\n  'try': function (callbackfn /* , ...args */) {\n    var args = arguments.length > 1 ? slice(arguments, 1) : [];\n    var promiseCapability = newPromiseCapabilityModule.f(this);\n    var result = perform(function () {\n      return apply(aCallable(callbackfn), undefined, args);\n    });\n    (result.error ? promiseCapability.reject : promiseCapability.resolve)(result.value);\n    return promiseCapability.promise;\n  }\n});\n\n\n/***/ }),\n\n/***/ 1698:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar union = __webpack_require__(4204);\nvar setMethodGetKeysBeforeCloning = __webpack_require__(9835);\nvar setMethodAcceptSetLike = __webpack_require__(4916);\n\nvar FORCED = !setMethodAcceptSetLike('union') || !setMethodGetKeysBeforeCloning('union');\n\n// `Set.prototype.union` method\n// https://tc39.es/ecma262/#sec-set.prototype.union\n$({ target: 'Set', proto: true, real: true, forced: FORCED }, {\n  union: union\n});\n\n\n/***/ }),\n\n/***/ 1701:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar call = __webpack_require__(9565);\nvar aCallable = __webpack_require__(9306);\nvar anObject = __webpack_require__(8551);\nvar getIteratorDirect = __webpack_require__(1767);\nvar createIteratorProxy = __webpack_require__(9462);\nvar callWithSafeIterationClosing = __webpack_require__(6319);\nvar iteratorClose = __webpack_require__(9539);\nvar iteratorHelperThrowsOnInvalidIterator = __webpack_require__(684);\nvar iteratorHelperWithoutClosingOnEarlyError = __webpack_require__(4549);\nvar IS_PURE = __webpack_require__(6395);\n\nvar MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR = !IS_PURE && !iteratorHelperThrowsOnInvalidIterator('map', function () { /* empty */ });\nvar mapWithoutClosingOnEarlyError = !IS_PURE && !MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR\n  && iteratorHelperWithoutClosingOnEarlyError('map', TypeError);\n\nvar FORCED = IS_PURE || MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR || mapWithoutClosingOnEarlyError;\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var result = anObject(call(this.next, iterator));\n  var done = this.done = !!result.done;\n  if (!done) return callWithSafeIterationClosing(iterator, this.mapper, [result.value, this.counter++], true);\n});\n\n// `Iterator.prototype.map` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.map\n$({ target: 'Iterator', proto: true, real: true, forced: FORCED }, {\n  map: function map(mapper) {\n    anObject(this);\n    try {\n      aCallable(mapper);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (mapWithoutClosingOnEarlyError) return call(mapWithoutClosingOnEarlyError, this, mapper);\n\n    return new IteratorProxy(getIteratorDirect(this), {\n      mapper: mapper\n    });\n  }\n});\n\n\n/***/ }),\n\n/***/ 1767:\n/***/ ((module) => {\n\n\n// `GetIteratorDirect(obj)` abstract operation\n// https://tc39.es/ecma262/#sec-getiteratordirect\nmodule.exports = function (obj) {\n  return {\n    iterator: obj,\n    next: obj.next,\n    done: false\n  };\n};\n\n\n/***/ }),\n\n/***/ 1828:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\nvar hasOwn = __webpack_require__(9297);\nvar toIndexedObject = __webpack_require__(5397);\nvar indexOf = (__webpack_require__(9617).indexOf);\nvar hiddenKeys = __webpack_require__(421);\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 2106:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar makeBuiltIn = __webpack_require__(283);\nvar defineProperty = __webpack_require__(4913);\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n\n\n/***/ }),\n\n/***/ 2140:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar wellKnownSymbol = __webpack_require__(8227);\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n\n\n/***/ }),\n\n/***/ 2195:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n\n\n/***/ }),\n\n/***/ 2211:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar fails = __webpack_require__(9039);\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n\n\n/***/ }),\n\n/***/ 2303:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar globalThis = __webpack_require__(4576);\nvar uncurryThis = __webpack_require__(9504);\n\nvar Uint8Array = globalThis.Uint8Array;\nvar SyntaxError = globalThis.SyntaxError;\nvar parseInt = globalThis.parseInt;\nvar min = Math.min;\nvar NOT_HEX = /[^\\da-f]/i;\nvar exec = uncurryThis(NOT_HEX.exec);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (string, into) {\n  var stringLength = string.length;\n  if (stringLength % 2 !== 0) throw new SyntaxError('String should be an even number of characters');\n  var maxLength = into ? min(into.length, stringLength / 2) : stringLength / 2;\n  var bytes = into || new Uint8Array(maxLength);\n  var read = 0;\n  var written = 0;\n  while (written < maxLength) {\n    var hexits = stringSlice(string, read, read += 2);\n    if (exec(NOT_HEX, hexits)) throw new SyntaxError('String should only contain hex characters');\n    bytes[written++] = parseInt(hexits, 16);\n  }\n  return { bytes: bytes, read: read };\n};\n\n\n/***/ }),\n\n/***/ 2360:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\n/* global ActiveXObject -- old IE, WSH */\nvar anObject = __webpack_require__(8551);\nvar definePropertiesModule = __webpack_require__(6801);\nvar enumBugKeys = __webpack_require__(8727);\nvar hiddenKeys = __webpack_require__(421);\nvar html = __webpack_require__(397);\nvar documentCreateElement = __webpack_require__(4055);\nvar sharedKey = __webpack_require__(6119);\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  // eslint-disable-next-line no-useless-assignment -- avoid memory leak\n  activeXDocument = null;\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n\n\n/***/ }),\n\n/***/ 2475:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar isSupersetOf = __webpack_require__(8527);\nvar setMethodAcceptSetLike = __webpack_require__(4916);\n\nvar INCORRECT = !setMethodAcceptSetLike('isSupersetOf', function (result) {\n  return !result;\n});\n\n// `Set.prototype.isSupersetOf` method\n// https://tc39.es/ecma262/#sec-set.prototype.issupersetof\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  isSupersetOf: isSupersetOf\n});\n\n\n/***/ }),\n\n/***/ 2489:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar call = __webpack_require__(9565);\nvar aCallable = __webpack_require__(9306);\nvar anObject = __webpack_require__(8551);\nvar getIteratorDirect = __webpack_require__(1767);\nvar createIteratorProxy = __webpack_require__(9462);\nvar callWithSafeIterationClosing = __webpack_require__(6319);\nvar IS_PURE = __webpack_require__(6395);\nvar iteratorClose = __webpack_require__(9539);\nvar iteratorHelperThrowsOnInvalidIterator = __webpack_require__(684);\nvar iteratorHelperWithoutClosingOnEarlyError = __webpack_require__(4549);\n\nvar FILTER_WITHOUT_THROWING_ON_INVALID_ITERATOR = !IS_PURE && !iteratorHelperThrowsOnInvalidIterator('filter', function () { /* empty */ });\nvar filterWithoutClosingOnEarlyError = !IS_PURE && !FILTER_WITHOUT_THROWING_ON_INVALID_ITERATOR\n  && iteratorHelperWithoutClosingOnEarlyError('filter', TypeError);\n\nvar FORCED = IS_PURE || FILTER_WITHOUT_THROWING_ON_INVALID_ITERATOR || filterWithoutClosingOnEarlyError;\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var predicate = this.predicate;\n  var next = this.next;\n  var result, done, value;\n  while (true) {\n    result = anObject(call(next, iterator));\n    done = this.done = !!result.done;\n    if (done) return;\n    value = result.value;\n    if (callWithSafeIterationClosing(iterator, predicate, [value, this.counter++], true)) return value;\n  }\n});\n\n// `Iterator.prototype.filter` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.filter\n$({ target: 'Iterator', proto: true, real: true, forced: FORCED }, {\n  filter: function filter(predicate) {\n    anObject(this);\n    try {\n      aCallable(predicate);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (filterWithoutClosingOnEarlyError) return call(filterWithoutClosingOnEarlyError, this, predicate);\n\n    return new IteratorProxy(getIteratorDirect(this), {\n      predicate: predicate\n    });\n  }\n});\n\n\n/***/ }),\n\n/***/ 2529:\n/***/ ((module) => {\n\n\n// `CreateIterResultObject` abstract operation\n// https://tc39.es/ecma262/#sec-createiterresultobject\nmodule.exports = function (value, done) {\n  return { value: value, done: done };\n};\n\n\n/***/ }),\n\n/***/ 2603:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar toString = __webpack_require__(655);\n\nmodule.exports = function (argument, $default) {\n  return argument === undefined ? arguments.length < 2 ? '' : $default : toString(argument);\n};\n\n\n/***/ }),\n\n/***/ 2652:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar bind = __webpack_require__(6080);\nvar call = __webpack_require__(9565);\nvar anObject = __webpack_require__(8551);\nvar tryToString = __webpack_require__(6823);\nvar isArrayIteratorMethod = __webpack_require__(4209);\nvar lengthOfArrayLike = __webpack_require__(6198);\nvar isPrototypeOf = __webpack_require__(1625);\nvar getIterator = __webpack_require__(81);\nvar getIteratorMethod = __webpack_require__(851);\nvar iteratorClose = __webpack_require__(9539);\n\nvar $TypeError = TypeError;\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar ResultPrototype = Result.prototype;\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_RECORD = !!(options && options.IS_RECORD);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator, 'normal');\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_RECORD) {\n    iterator = iterable.iterator;\n  } else if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (!iterFn) throw new $TypeError(tryToString(iterable) + ' is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = lengthOfArrayLike(iterable); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && isPrototypeOf(ResultPrototype, result)) return result;\n      } return new Result(false);\n    }\n    iterator = getIterator(iterable, iterFn);\n  }\n\n  next = IS_RECORD ? iterable.next : iterator.next;\n  while (!(step = call(next, iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator, 'throw', error);\n    }\n    if (typeof result == 'object' && result && isPrototypeOf(ResultPrototype, result)) return result;\n  } return new Result(false);\n};\n\n\n/***/ }),\n\n/***/ 2777:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar call = __webpack_require__(9565);\nvar isObject = __webpack_require__(34);\nvar isSymbol = __webpack_require__(757);\nvar getMethod = __webpack_require__(5966);\nvar ordinaryToPrimitive = __webpack_require__(4270);\nvar wellKnownSymbol = __webpack_require__(8227);\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw new $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n\n\n/***/ }),\n\n/***/ 2787:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar hasOwn = __webpack_require__(9297);\nvar isCallable = __webpack_require__(4901);\nvar toObject = __webpack_require__(8981);\nvar sharedKey = __webpack_require__(6119);\nvar CORRECT_PROTOTYPE_GETTER = __webpack_require__(2211);\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar $Object = Object;\nvar ObjectPrototype = $Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof $Object ? ObjectPrototype : null;\n};\n\n\n/***/ }),\n\n/***/ 2796:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar fails = __webpack_require__(9039);\nvar isCallable = __webpack_require__(4901);\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value === POLYFILL ? true\n    : value === NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n\n\n/***/ }),\n\n/***/ 2804:\n/***/ ((module) => {\n\n\nvar commonAlphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\nvar base64Alphabet = commonAlphabet + '+/';\nvar base64UrlAlphabet = commonAlphabet + '-_';\n\nvar inverse = function (characters) {\n  // TODO: use `Object.create(null)` in `core-js@4`\n  var result = {};\n  var index = 0;\n  for (; index < 64; index++) result[characters.charAt(index)] = index;\n  return result;\n};\n\nmodule.exports = {\n  i2c: base64Alphabet,\n  c2i: inverse(base64Alphabet),\n  i2cUrl: base64UrlAlphabet,\n  c2iUrl: inverse(base64UrlAlphabet)\n};\n\n\n/***/ }),\n\n/***/ 2812:\n/***/ ((module) => {\n\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (passed, required) {\n  if (passed < required) throw new $TypeError('Not enough arguments');\n  return passed;\n};\n\n\n/***/ }),\n\n/***/ 2839:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar globalThis = __webpack_require__(4576);\n\nvar navigator = globalThis.navigator;\nvar userAgent = navigator && navigator.userAgent;\n\nmodule.exports = userAgent ? String(userAgent) : '';\n\n\n/***/ }),\n\n/***/ 2967:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\n/* eslint-disable no-proto -- safe */\nvar uncurryThisAccessor = __webpack_require__(6706);\nvar isObject = __webpack_require__(34);\nvar requireObjectCoercible = __webpack_require__(7750);\nvar aPossiblePrototype = __webpack_require__(3506);\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = uncurryThisAccessor(Object.prototype, '__proto__', 'set');\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    requireObjectCoercible(O);\n    aPossiblePrototype(proto);\n    if (!isObject(O)) return O;\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n\n\n/***/ }),\n\n/***/ 3068:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\n// based on Shewchuk's algorithm for exactly floating point addition\n// adapted from https://github.com/tc39/proposal-math-sum/blob/3513d58323a1ae25560e8700aa5294500c6c9287/polyfill/polyfill.mjs\nvar $ = __webpack_require__(6518);\nvar uncurryThis = __webpack_require__(9504);\nvar iterate = __webpack_require__(2652);\n\nvar $RangeError = RangeError;\nvar $TypeError = TypeError;\nvar $Infinity = Infinity;\nvar $NaN = NaN;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar push = uncurryThis([].push);\n\nvar POW_2_1023 = pow(2, 1023);\nvar MAX_SAFE_INTEGER = pow(2, 53) - 1; // 2 ** 53 - 1 === 9007199254740992\nvar MAX_DOUBLE = Number.MAX_VALUE; // 2 ** 1024 - 2 ** (1023 - 52) === 1.79769313486231570815e+308\nvar MAX_ULP = pow(2, 971); // 2 ** (1023 - 52) === 1.99584030953471981166e+292\n\nvar NOT_A_NUMBER = {};\nvar MINUS_INFINITY = {};\nvar PLUS_INFINITY = {};\nvar MINUS_ZERO = {};\nvar FINITE = {};\n\n// prerequisite: abs(x) >= abs(y)\nvar twosum = function (x, y) {\n  var hi = x + y;\n  var lo = y - (hi - x);\n  return { hi: hi, lo: lo };\n};\n\n// `Math.sumPrecise` method\n// https://github.com/tc39/proposal-math-sum\n$({ target: 'Math', stat: true }, {\n  // eslint-disable-next-line max-statements -- ok\n  sumPrecise: function sumPrecise(items) {\n    var numbers = [];\n    var count = 0;\n    var state = MINUS_ZERO;\n\n    iterate(items, function (n) {\n      if (++count >= MAX_SAFE_INTEGER) throw new $RangeError('Maximum allowed index exceeded');\n      if (typeof n != 'number') throw new $TypeError('Value is not a number');\n      if (state !== NOT_A_NUMBER) {\n        // eslint-disable-next-line no-self-compare -- NaN check\n        if (n !== n) state = NOT_A_NUMBER;\n        else if (n === $Infinity) state = state === MINUS_INFINITY ? NOT_A_NUMBER : PLUS_INFINITY;\n        else if (n === -$Infinity) state = state === PLUS_INFINITY ? NOT_A_NUMBER : MINUS_INFINITY;\n        else if ((n !== 0 || (1 / n) === $Infinity) && (state === MINUS_ZERO || state === FINITE)) {\n          state = FINITE;\n          push(numbers, n);\n        }\n      }\n    });\n\n    switch (state) {\n      case NOT_A_NUMBER: return $NaN;\n      case MINUS_INFINITY: return -$Infinity;\n      case PLUS_INFINITY: return $Infinity;\n      case MINUS_ZERO: return -0;\n    }\n\n    var partials = [];\n    var overflow = 0; // conceptually 2 ** 1024 times this value; the final partial is biased by this amount\n    var x, y, sum, hi, lo, tmp;\n\n    for (var i = 0; i < numbers.length; i++) {\n      x = numbers[i];\n      var actuallyUsedPartials = 0;\n      for (var j = 0; j < partials.length; j++) {\n        y = partials[j];\n        if (abs(x) < abs(y)) {\n          tmp = x;\n          x = y;\n          y = tmp;\n        }\n        sum = twosum(x, y);\n        hi = sum.hi;\n        lo = sum.lo;\n        if (abs(hi) === $Infinity) {\n          var sign = hi === $Infinity ? 1 : -1;\n          overflow += sign;\n\n          x = (x - (sign * POW_2_1023)) - (sign * POW_2_1023);\n          if (abs(x) < abs(y)) {\n            tmp = x;\n            x = y;\n            y = tmp;\n          }\n          sum = twosum(x, y);\n          hi = sum.hi;\n          lo = sum.lo;\n        }\n        if (lo !== 0) partials[actuallyUsedPartials++] = lo;\n        x = hi;\n      }\n      partials.length = actuallyUsedPartials;\n      if (x !== 0) push(partials, x);\n    }\n\n    // compute the exact sum of partials, stopping once we lose precision\n    var n = partials.length - 1;\n    hi = 0;\n    lo = 0;\n\n    if (overflow !== 0) {\n      var next = n >= 0 ? partials[n] : 0;\n      n--;\n      if (abs(overflow) > 1 || (overflow > 0 && next > 0) || (overflow < 0 && next < 0)) {\n        return overflow > 0 ? $Infinity : -$Infinity;\n      }\n      // here we actually have to do the arithmetic\n      // drop a factor of 2 so we can do it without overflow\n      // assert(abs(overflow) === 1)\n      sum = twosum(overflow * POW_2_1023, next / 2);\n      hi = sum.hi;\n      lo = sum.lo;\n      lo *= 2;\n      if (abs(2 * hi) === $Infinity) {\n        // rounding to the maximum value\n        if (hi > 0) {\n          return (hi === POW_2_1023 && lo === -(MAX_ULP / 2) && n >= 0 && partials[n] < 0) ? MAX_DOUBLE : $Infinity;\n        } return (hi === -POW_2_1023 && lo === (MAX_ULP / 2) && n >= 0 && partials[n] > 0) ? -MAX_DOUBLE : -$Infinity;\n      }\n\n      if (lo !== 0) {\n        partials[++n] = lo;\n        lo = 0;\n      }\n\n      hi *= 2;\n    }\n\n    while (n >= 0) {\n      sum = twosum(hi, partials[n--]);\n      hi = sum.hi;\n      lo = sum.lo;\n      if (lo !== 0) break;\n    }\n\n    if (n >= 0 && ((lo < 0 && partials[n] < 0) || (lo > 0 && partials[n] > 0))) {\n      y = lo * 2;\n      x = hi + y;\n      if (y === x - hi) hi = x;\n    }\n\n    return hi;\n  }\n});\n\n\n/***/ }),\n\n/***/ 3167:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isCallable = __webpack_require__(4901);\nvar isObject = __webpack_require__(34);\nvar setPrototypeOf = __webpack_require__(2967);\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n\n\n/***/ }),\n\n/***/ 3238:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar globalThis = __webpack_require__(4576);\nvar NATIVE_ARRAY_BUFFER = __webpack_require__(7811);\nvar arrayBufferByteLength = __webpack_require__(7394);\n\nvar DataView = globalThis.DataView;\n\nmodule.exports = function (O) {\n  if (!NATIVE_ARRAY_BUFFER || arrayBufferByteLength(O) !== 0) return false;\n  try {\n    // eslint-disable-next-line no-new -- thrower\n    new DataView(O);\n    return false;\n  } catch (error) {\n    return true;\n  }\n};\n\n\n/***/ }),\n\n/***/ 3392:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.1.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n\n\n/***/ }),\n\n/***/ 3440:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar aSet = __webpack_require__(7080);\nvar SetHelpers = __webpack_require__(4402);\nvar clone = __webpack_require__(9286);\nvar size = __webpack_require__(5170);\nvar getSetRecord = __webpack_require__(3789);\nvar iterateSet = __webpack_require__(8469);\nvar iterateSimple = __webpack_require__(507);\n\nvar has = SetHelpers.has;\nvar remove = SetHelpers.remove;\n\n// `Set.prototype.difference` method\n// https://tc39.es/ecma262/#sec-set.prototype.difference\nmodule.exports = function difference(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  var result = clone(O);\n  if (size(O) <= otherRec.size) iterateSet(O, function (e) {\n    if (otherRec.includes(e)) remove(result, e);\n  });\n  else iterateSimple(otherRec.getIterator(), function (e) {\n    if (has(result, e)) remove(result, e);\n  });\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 3463:\n/***/ ((module) => {\n\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument) {\n  if (typeof argument == 'string') return argument;\n  throw new $TypeError('Argument is not a string');\n};\n\n\n/***/ }),\n\n/***/ 3506:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isPossiblePrototype = __webpack_require__(3925);\n\nvar $String = String;\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument) {\n  if (isPossiblePrototype(argument)) return argument;\n  throw new $TypeError(\"Can't set \" + $String(argument) + ' as a prototype');\n};\n\n\n/***/ }),\n\n/***/ 3579:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar call = __webpack_require__(9565);\nvar iterate = __webpack_require__(2652);\nvar aCallable = __webpack_require__(9306);\nvar anObject = __webpack_require__(8551);\nvar getIteratorDirect = __webpack_require__(1767);\nvar iteratorClose = __webpack_require__(9539);\nvar iteratorHelperWithoutClosingOnEarlyError = __webpack_require__(4549);\n\nvar someWithoutClosingOnEarlyError = iteratorHelperWithoutClosingOnEarlyError('some', TypeError);\n\n// `Iterator.prototype.some` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.some\n$({ target: 'Iterator', proto: true, real: true, forced: someWithoutClosingOnEarlyError }, {\n  some: function some(predicate) {\n    anObject(this);\n    try {\n      aCallable(predicate);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (someWithoutClosingOnEarlyError) return call(someWithoutClosingOnEarlyError, this, predicate);\n\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    return iterate(record, function (value, stop) {\n      if (predicate(value, counter++)) return stop();\n    }, { IS_RECORD: true, INTERRUPTED: true }).stopped;\n  }\n});\n\n\n/***/ }),\n\n/***/ 3650:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar aSet = __webpack_require__(7080);\nvar SetHelpers = __webpack_require__(4402);\nvar clone = __webpack_require__(9286);\nvar getSetRecord = __webpack_require__(3789);\nvar iterateSimple = __webpack_require__(507);\n\nvar add = SetHelpers.add;\nvar has = SetHelpers.has;\nvar remove = SetHelpers.remove;\n\n// `Set.prototype.symmetricDifference` method\n// https://tc39.es/ecma262/#sec-set.prototype.symmetricdifference\nmodule.exports = function symmetricDifference(other) {\n  var O = aSet(this);\n  var keysIter = getSetRecord(other).getIterator();\n  var result = clone(O);\n  iterateSimple(keysIter, function (e) {\n    if (has(O, e)) remove(result, e);\n    else add(result, e);\n  });\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 3706:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\nvar isCallable = __webpack_require__(4901);\nvar store = __webpack_require__(7629);\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n\n\n/***/ }),\n\n/***/ 3717:\n/***/ ((__unused_webpack_module, exports) => {\n\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n\n\n/***/ }),\n\n/***/ 3724:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar fails = __webpack_require__(9039);\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] !== 7;\n});\n\n\n/***/ }),\n\n/***/ 3789:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar aCallable = __webpack_require__(9306);\nvar anObject = __webpack_require__(8551);\nvar call = __webpack_require__(9565);\nvar toIntegerOrInfinity = __webpack_require__(1291);\nvar getIteratorDirect = __webpack_require__(1767);\n\nvar INVALID_SIZE = 'Invalid size';\nvar $RangeError = RangeError;\nvar $TypeError = TypeError;\nvar max = Math.max;\n\nvar SetRecord = function (set, intSize) {\n  this.set = set;\n  this.size = max(intSize, 0);\n  this.has = aCallable(set.has);\n  this.keys = aCallable(set.keys);\n};\n\nSetRecord.prototype = {\n  getIterator: function () {\n    return getIteratorDirect(anObject(call(this.keys, this.set)));\n  },\n  includes: function (it) {\n    return call(this.has, this.set, it);\n  }\n};\n\n// `GetSetRecord` abstract operation\n// https://tc39.es/proposal-set-methods/#sec-getsetrecord\nmodule.exports = function (obj) {\n  anObject(obj);\n  var numSize = +obj.size;\n  // NOTE: If size is undefined, then numSize will be NaN\n  // eslint-disable-next-line no-self-compare -- NaN check\n  if (numSize !== numSize) throw new $TypeError(INVALID_SIZE);\n  var intSize = toIntegerOrInfinity(numSize);\n  if (intSize < 0) throw new $RangeError(INVALID_SIZE);\n  return new SetRecord(obj, intSize);\n};\n\n\n/***/ }),\n\n/***/ 3838:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar aSet = __webpack_require__(7080);\nvar size = __webpack_require__(5170);\nvar iterate = __webpack_require__(8469);\nvar getSetRecord = __webpack_require__(3789);\n\n// `Set.prototype.isSubsetOf` method\n// https://tc39.es/ecma262/#sec-set.prototype.issubsetof\nmodule.exports = function isSubsetOf(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  if (size(O) > otherRec.size) return false;\n  return iterate(O, function (e) {\n    if (!otherRec.includes(e)) return false;\n  }, true) !== false;\n};\n\n\n/***/ }),\n\n/***/ 3853:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar isDisjointFrom = __webpack_require__(4449);\nvar setMethodAcceptSetLike = __webpack_require__(4916);\n\nvar INCORRECT = !setMethodAcceptSetLike('isDisjointFrom', function (result) {\n  return !result;\n});\n\n// `Set.prototype.isDisjointFrom` method\n// https://tc39.es/ecma262/#sec-set.prototype.isdisjointfrom\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  isDisjointFrom: isDisjointFrom\n});\n\n\n/***/ }),\n\n/***/ 3925:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isObject = __webpack_require__(34);\n\nmodule.exports = function (argument) {\n  return isObject(argument) || argument === null;\n};\n\n\n/***/ }),\n\n/***/ 3972:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isObject = __webpack_require__(34);\n\nvar $String = String;\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument) {\n  if (argument === undefined || isObject(argument)) return argument;\n  throw new $TypeError($String(argument) + ' is not an object or undefined');\n};\n\n\n/***/ }),\n\n/***/ 4055:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar globalThis = __webpack_require__(4576);\nvar isObject = __webpack_require__(34);\n\nvar document = globalThis.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n\n\n/***/ }),\n\n/***/ 4114:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar toObject = __webpack_require__(8981);\nvar lengthOfArrayLike = __webpack_require__(6198);\nvar setArrayLength = __webpack_require__(4527);\nvar doesNotExceedSafeInteger = __webpack_require__(6837);\nvar fails = __webpack_require__(9039);\n\nvar INCORRECT_TO_LENGTH = fails(function () {\n  return [].push.call({ length: 0x100000000 }, 1) !== 4294967297;\n});\n\n// V8 <= 121 and Safari <= 15.4; FF < 23 throws InternalError\n// https://bugs.chromium.org/p/v8/issues/detail?id=12681\nvar properErrorOnNonWritableLength = function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).push();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n};\n\nvar FORCED = INCORRECT_TO_LENGTH || !properErrorOnNonWritableLength();\n\n// `Array.prototype.push` method\n// https://tc39.es/ecma262/#sec-array.prototype.push\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  push: function push(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    doesNotExceedSafeInteger(len + argCount);\n    for (var i = 0; i < argCount; i++) {\n      O[len] = arguments[i];\n      len++;\n    }\n    setArrayLength(O, len);\n    return len;\n  }\n});\n\n\n/***/ }),\n\n/***/ 4117:\n/***/ ((module) => {\n\n\n// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n\n\n/***/ }),\n\n/***/ 4149:\n/***/ ((module) => {\n\n\nvar $RangeError = RangeError;\n\nmodule.exports = function (it) {\n  // eslint-disable-next-line no-self-compare -- NaN check\n  if (it === it) return it;\n  throw new $RangeError('NaN is not allowed');\n};\n\n\n/***/ }),\n\n/***/ 4154:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar classof = __webpack_require__(6955);\n\nvar $TypeError = TypeError;\n\n// Perform ? RequireInternalSlot(argument, [[TypedArrayName]])\n// If argument.[[TypedArrayName]] is not \"Uint8Array\", throw a TypeError exception\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Uint8Array') return argument;\n  throw new $TypeError('Argument is not an Uint8Array');\n};\n\n\n/***/ }),\n\n/***/ 4204:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar aSet = __webpack_require__(7080);\nvar add = (__webpack_require__(4402).add);\nvar clone = __webpack_require__(9286);\nvar getSetRecord = __webpack_require__(3789);\nvar iterateSimple = __webpack_require__(507);\n\n// `Set.prototype.union` method\n// https://tc39.es/ecma262/#sec-set.prototype.union\nmodule.exports = function union(other) {\n  var O = aSet(this);\n  var keysIter = getSetRecord(other).getIterator();\n  var result = clone(O);\n  iterateSimple(keysIter, function (it) {\n    add(result, it);\n  });\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 4209:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar wellKnownSymbol = __webpack_require__(8227);\nvar Iterators = __webpack_require__(6269);\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n\n\n/***/ }),\n\n/***/ 4215:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\n/* global Bun, Deno -- detection */\nvar globalThis = __webpack_require__(4576);\nvar userAgent = __webpack_require__(2839);\nvar classof = __webpack_require__(2195);\n\nvar userAgentStartsWith = function (string) {\n  return userAgent.slice(0, string.length) === string;\n};\n\nmodule.exports = (function () {\n  if (userAgentStartsWith('Bun/')) return 'BUN';\n  if (userAgentStartsWith('Cloudflare-Workers')) return 'CLOUDFLARE';\n  if (userAgentStartsWith('Deno/')) return 'DENO';\n  if (userAgentStartsWith('Node.js/')) return 'NODE';\n  if (globalThis.Bun && typeof Bun.version == 'string') return 'BUN';\n  if (globalThis.Deno && typeof Deno.version == 'object') return 'DENO';\n  if (classof(globalThis.process) === 'process') return 'NODE';\n  if (globalThis.window && globalThis.document) return 'BROWSER';\n  return 'REST';\n})();\n\n\n/***/ }),\n\n/***/ 4226:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar globalThis = __webpack_require__(4576);\nvar aString = __webpack_require__(3463);\nvar anUint8Array = __webpack_require__(4154);\nvar notDetached = __webpack_require__(5169);\nvar $fromHex = __webpack_require__(2303);\n\n// `Uint8Array.prototype.setFromHex` method\n// https://github.com/tc39/proposal-arraybuffer-base64\nif (globalThis.Uint8Array) $({ target: 'Uint8Array', proto: true }, {\n  setFromHex: function setFromHex(string) {\n    anUint8Array(this);\n    aString(string);\n    notDetached(this.buffer);\n    var read = $fromHex(string, this).read;\n    return { read: read, written: read / 2 };\n  }\n});\n\n\n/***/ }),\n\n/***/ 4235:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\n// TODO: Remove from `core-js@4`\n__webpack_require__(3068);\n\n\n/***/ }),\n\n/***/ 4270:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar call = __webpack_require__(9565);\nvar isCallable = __webpack_require__(4901);\nvar isObject = __webpack_require__(34);\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw new $TypeError(\"Can't convert object to primitive value\");\n};\n\n\n/***/ }),\n\n/***/ 4376:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar classof = __webpack_require__(2195);\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) === 'Array';\n};\n\n\n/***/ }),\n\n/***/ 4402:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\n\n// eslint-disable-next-line es/no-set -- safe\nvar SetPrototype = Set.prototype;\n\nmodule.exports = {\n  // eslint-disable-next-line es/no-set -- safe\n  Set: Set,\n  add: uncurryThis(SetPrototype.add),\n  has: uncurryThis(SetPrototype.has),\n  remove: uncurryThis(SetPrototype['delete']),\n  proto: SetPrototype\n};\n\n\n/***/ }),\n\n/***/ 4449:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar aSet = __webpack_require__(7080);\nvar has = (__webpack_require__(4402).has);\nvar size = __webpack_require__(5170);\nvar getSetRecord = __webpack_require__(3789);\nvar iterateSet = __webpack_require__(8469);\nvar iterateSimple = __webpack_require__(507);\nvar iteratorClose = __webpack_require__(9539);\n\n// `Set.prototype.isDisjointFrom` method\n// https://tc39.es/ecma262/#sec-set.prototype.isdisjointfrom\nmodule.exports = function isDisjointFrom(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  if (size(O) <= otherRec.size) return iterateSet(O, function (e) {\n    if (otherRec.includes(e)) return false;\n  }, true) !== false;\n  var iterator = otherRec.getIterator();\n  return iterateSimple(iterator, function (e) {\n    if (has(O, e)) return iteratorClose(iterator, 'normal', false);\n  }) !== false;\n};\n\n\n/***/ }),\n\n/***/ 4483:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar globalThis = __webpack_require__(4576);\nvar getBuiltInNodeModule = __webpack_require__(9429);\nvar PROPER_STRUCTURED_CLONE_TRANSFER = __webpack_require__(1548);\n\nvar structuredClone = globalThis.structuredClone;\nvar $ArrayBuffer = globalThis.ArrayBuffer;\nvar $MessageChannel = globalThis.MessageChannel;\nvar detach = false;\nvar WorkerThreads, channel, buffer, $detach;\n\nif (PROPER_STRUCTURED_CLONE_TRANSFER) {\n  detach = function (transferable) {\n    structuredClone(transferable, { transfer: [transferable] });\n  };\n} else if ($ArrayBuffer) try {\n  if (!$MessageChannel) {\n    WorkerThreads = getBuiltInNodeModule('worker_threads');\n    if (WorkerThreads) $MessageChannel = WorkerThreads.MessageChannel;\n  }\n\n  if ($MessageChannel) {\n    channel = new $MessageChannel();\n    buffer = new $ArrayBuffer(2);\n\n    $detach = function (transferable) {\n      channel.port1.postMessage(null, [transferable]);\n    };\n\n    if (buffer.byteLength === 2) {\n      $detach(buffer);\n      if (buffer.byteLength === 0) detach = $detach;\n    }\n  }\n} catch (error) { /* empty */ }\n\nmodule.exports = detach;\n\n\n/***/ }),\n\n/***/ 4495:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\n/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = __webpack_require__(9519);\nvar fails = __webpack_require__(9039);\nvar globalThis = __webpack_require__(4576);\n\nvar $String = globalThis.String;\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol('symbol detection');\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,\n  // of course, fail.\n  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n\n\n/***/ }),\n\n/***/ 4527:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(3724);\nvar isArray = __webpack_require__(4376);\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Safari < 13 does not throw an error in this case\nvar SILENT_ON_NON_WRITABLE_LENGTH_SET = DESCRIPTORS && !function () {\n  // makes no sense without proper strict mode support\n  if (this !== undefined) return true;\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).length = 1;\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\nmodule.exports = SILENT_ON_NON_WRITABLE_LENGTH_SET ? function (O, length) {\n  if (isArray(O) && !getOwnPropertyDescriptor(O, 'length').writable) {\n    throw new $TypeError('Cannot set read only .length');\n  } return O.length = length;\n} : function (O, length) {\n  return O.length = length;\n};\n\n\n/***/ }),\n\n/***/ 4549:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar globalThis = __webpack_require__(4576);\n\n// https://github.com/tc39/ecma262/pull/3467\nmodule.exports = function (METHOD_NAME, ExpectedError) {\n  var Iterator = globalThis.Iterator;\n  var IteratorPrototype = Iterator && Iterator.prototype;\n  var method = IteratorPrototype && IteratorPrototype[METHOD_NAME];\n\n  var CLOSED = false;\n\n  if (method) try {\n    method.call({\n      next: function () { return { done: true }; },\n      'return': function () { CLOSED = true; }\n    }, -1);\n  } catch (error) {\n    // https://bugs.webkit.org/show_bug.cgi?id=291195\n    if (!(error instanceof ExpectedError)) CLOSED = false;\n  }\n\n  if (!CLOSED) return method;\n};\n\n\n/***/ }),\n\n/***/ 4576:\n/***/ (function(module) {\n\n\nvar check = function (it) {\n  return it && it.Math === Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  check(typeof this == 'object' && this) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n\n\n/***/ }),\n\n/***/ 4603:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar defineBuiltIn = __webpack_require__(6840);\nvar uncurryThis = __webpack_require__(9504);\nvar toString = __webpack_require__(655);\nvar validateArgumentsLength = __webpack_require__(2812);\n\nvar $URLSearchParams = URLSearchParams;\nvar URLSearchParamsPrototype = $URLSearchParams.prototype;\nvar append = uncurryThis(URLSearchParamsPrototype.append);\nvar $delete = uncurryThis(URLSearchParamsPrototype['delete']);\nvar forEach = uncurryThis(URLSearchParamsPrototype.forEach);\nvar push = uncurryThis([].push);\nvar params = new $URLSearchParams('a=1&a=2&b=3');\n\nparams['delete']('a', 1);\n// `undefined` case is a Chromium 117 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=14222\nparams['delete']('b', undefined);\n\nif (params + '' !== 'a=2') {\n  defineBuiltIn(URLSearchParamsPrototype, 'delete', function (name /* , value */) {\n    var length = arguments.length;\n    var $value = length < 2 ? undefined : arguments[1];\n    if (length && $value === undefined) return $delete(this, name);\n    var entries = [];\n    forEach(this, function (v, k) { // also validates `this`\n      push(entries, { key: k, value: v });\n    });\n    validateArgumentsLength(length, 1);\n    var key = toString(name);\n    var value = toString($value);\n    var index = 0;\n    var dindex = 0;\n    var found = false;\n    var entriesLength = entries.length;\n    var entry;\n    while (index < entriesLength) {\n      entry = entries[index++];\n      if (found || entry.key === key) {\n        found = true;\n        $delete(this, entry.key);\n      } else dindex++;\n    }\n    while (dindex < entriesLength) {\n      entry = entries[dindex++];\n      if (!(entry.key === key && entry.value === value)) append(this, entry.key, entry.value);\n    }\n  }, { enumerable: true, unsafe: true });\n}\n\n\n/***/ }),\n\n/***/ 4628:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar newPromiseCapabilityModule = __webpack_require__(6043);\n\n// `Promise.withResolvers` method\n// https://tc39.es/ecma262/#sec-promise.withResolvers\n$({ target: 'Promise', stat: true }, {\n  withResolvers: function withResolvers() {\n    var promiseCapability = newPromiseCapabilityModule.f(this);\n    return {\n      promise: promiseCapability.promise,\n      resolve: promiseCapability.resolve,\n      reject: promiseCapability.reject\n    };\n  }\n});\n\n\n/***/ }),\n\n/***/ 4644:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar NATIVE_ARRAY_BUFFER = __webpack_require__(7811);\nvar DESCRIPTORS = __webpack_require__(3724);\nvar globalThis = __webpack_require__(4576);\nvar isCallable = __webpack_require__(4901);\nvar isObject = __webpack_require__(34);\nvar hasOwn = __webpack_require__(9297);\nvar classof = __webpack_require__(6955);\nvar tryToString = __webpack_require__(6823);\nvar createNonEnumerableProperty = __webpack_require__(6699);\nvar defineBuiltIn = __webpack_require__(6840);\nvar defineBuiltInAccessor = __webpack_require__(2106);\nvar isPrototypeOf = __webpack_require__(1625);\nvar getPrototypeOf = __webpack_require__(2787);\nvar setPrototypeOf = __webpack_require__(2967);\nvar wellKnownSymbol = __webpack_require__(8227);\nvar uid = __webpack_require__(3392);\nvar InternalStateModule = __webpack_require__(1181);\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar Int8Array = globalThis.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = globalThis.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar TypeError = globalThis.TypeError;\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\nvar TYPED_ARRAY_CONSTRUCTOR = 'TypedArrayConstructor';\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(globalThis.opera) !== 'Opera';\nvar TYPED_ARRAY_TAG_REQUIRED = false;\nvar NAME, Constructor, Prototype;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar BigIntArrayConstructorsList = {\n  BigInt64Array: 8,\n  BigUint64Array: 8\n};\n\nvar isView = function isView(it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return klass === 'DataView'\n    || hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar getTypedArrayConstructor = function (it) {\n  var proto = getPrototypeOf(it);\n  if (!isObject(proto)) return;\n  var state = getInternalState(proto);\n  return (state && hasOwn(state, TYPED_ARRAY_CONSTRUCTOR)) ? state[TYPED_ARRAY_CONSTRUCTOR] : getTypedArrayConstructor(proto);\n};\n\nvar isTypedArray = function (it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw new TypeError('Target is not a typed array');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (isCallable(C) && (!setPrototypeOf || isPrototypeOf(TypedArray, C))) return C;\n  throw new TypeError(tryToString(C) + ' is not a typed array constructor');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced, options) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = globalThis[ARRAY];\n    if (TypedArrayConstructor && hasOwn(TypedArrayConstructor.prototype, KEY)) try {\n      delete TypedArrayConstructor.prototype[KEY];\n    } catch (error) {\n      // old WebKit bug - some methods are non-configurable\n      try {\n        TypedArrayConstructor.prototype[KEY] = property;\n      } catch (error2) { /* empty */ }\n    }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    defineBuiltIn(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property, options);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = globalThis[ARRAY];\n      if (TypedArrayConstructor && hasOwn(TypedArrayConstructor, KEY)) try {\n        delete TypedArrayConstructor[KEY];\n      } catch (error) { /* empty */ }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return defineBuiltIn(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && TypedArray[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = globalThis[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      defineBuiltIn(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  Constructor = globalThis[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR] = Constructor;\n  else NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\nfor (NAME in BigIntArrayConstructorsList) {\n  Constructor = globalThis[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR] = Constructor;\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !isCallable(TypedArray) || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow -- safe\n  TypedArray = function TypedArray() {\n    throw new TypeError('Incorrect invocation');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (globalThis[NAME]) setPrototypeOf(globalThis[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (globalThis[NAME]) setPrototypeOf(globalThis[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !hasOwn(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQUIRED = true;\n  defineBuiltInAccessor(TypedArrayPrototype, TO_STRING_TAG, {\n    configurable: true,\n    get: function () {\n      return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n    }\n  });\n  for (NAME in TypedArrayConstructorsList) if (globalThis[NAME]) {\n    createNonEnumerableProperty(globalThis[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQUIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  getTypedArrayConstructor: getTypedArrayConstructor,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n\n\n/***/ }),\n\n/***/ 4659:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(3724);\nvar definePropertyModule = __webpack_require__(4913);\nvar createPropertyDescriptor = __webpack_require__(6980);\n\nmodule.exports = function (object, key, value) {\n  if (DESCRIPTORS) definePropertyModule.f(object, key, createPropertyDescriptor(0, value));\n  else object[key] = value;\n};\n\n\n/***/ }),\n\n/***/ 4901:\n/***/ ((module) => {\n\n\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\nvar documentAll = typeof document == 'object' && document.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nmodule.exports = typeof documentAll == 'undefined' && documentAll !== undefined ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n\n\n/***/ }),\n\n/***/ 4913:\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(3724);\nvar IE8_DOM_DEFINE = __webpack_require__(5917);\nvar V8_PROTOTYPE_DEFINE_BUG = __webpack_require__(8686);\nvar anObject = __webpack_require__(8551);\nvar toPropertyKey = __webpack_require__(6969);\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw new $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n/***/ }),\n\n/***/ 4916:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar getBuiltIn = __webpack_require__(7751);\n\nvar createSetLike = function (size) {\n  return {\n    size: size,\n    has: function () {\n      return false;\n    },\n    keys: function () {\n      return {\n        next: function () {\n          return { done: true };\n        }\n      };\n    }\n  };\n};\n\nvar createSetLikeWithInfinitySize = function (size) {\n  return {\n    size: size,\n    has: function () {\n      return true;\n    },\n    keys: function () {\n      throw new Error('e');\n    }\n  };\n};\n\nmodule.exports = function (name, callback) {\n  var Set = getBuiltIn('Set');\n  try {\n    new Set()[name](createSetLike(0));\n    try {\n      // late spec change, early WebKit ~ Safari 17 implementation does not pass it\n      // https://github.com/tc39/proposal-set-methods/pull/88\n      // also covered engines with\n      // https://bugs.webkit.org/show_bug.cgi?id=272679\n      new Set()[name](createSetLike(-1));\n      return false;\n    } catch (error2) {\n      if (!callback) return true;\n      // early V8 implementation bug\n      // https://issues.chromium.org/issues/351332634\n      try {\n        new Set()[name](createSetLikeWithInfinitySize(-Infinity));\n        return false;\n      } catch (error) {\n        var set = new Set();\n        set.add(1);\n        set.add(2);\n        return callback(set[name](createSetLikeWithInfinitySize(Infinity)));\n      }\n    }\n  } catch (error) {\n    return false;\n  }\n};\n\n\n/***/ }),\n\n/***/ 4972:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar call = __webpack_require__(9565);\nvar anObject = __webpack_require__(8551);\nvar getIteratorDirect = __webpack_require__(1767);\nvar notANaN = __webpack_require__(4149);\nvar toPositiveInteger = __webpack_require__(9590);\nvar createIteratorProxy = __webpack_require__(9462);\nvar iteratorClose = __webpack_require__(9539);\nvar iteratorHelperWithoutClosingOnEarlyError = __webpack_require__(4549);\nvar IS_PURE = __webpack_require__(6395);\n\nvar takeWithoutClosingOnEarlyError = !IS_PURE && iteratorHelperWithoutClosingOnEarlyError('take', RangeError);\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  if (!this.remaining--) {\n    this.done = true;\n    return iteratorClose(iterator, 'normal', undefined);\n  }\n  var result = anObject(call(this.next, iterator));\n  var done = this.done = !!result.done;\n  if (!done) return result.value;\n});\n\n// `Iterator.prototype.take` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.take\n$({ target: 'Iterator', proto: true, real: true, forced: IS_PURE || takeWithoutClosingOnEarlyError }, {\n  take: function take(limit) {\n    anObject(this);\n    var remaining;\n    try {\n      remaining = toPositiveInteger(notANaN(+limit));\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (takeWithoutClosingOnEarlyError) return call(takeWithoutClosingOnEarlyError, this, remaining);\n\n    return new IteratorProxy(getIteratorDirect(this), {\n      remaining: remaining\n    });\n  }\n});\n\n\n/***/ }),\n\n/***/ 4979:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar globalThis = __webpack_require__(4576);\nvar getBuiltIn = __webpack_require__(7751);\nvar createPropertyDescriptor = __webpack_require__(6980);\nvar defineProperty = (__webpack_require__(4913).f);\nvar hasOwn = __webpack_require__(9297);\nvar anInstance = __webpack_require__(679);\nvar inheritIfRequired = __webpack_require__(3167);\nvar normalizeStringArgument = __webpack_require__(2603);\nvar DOMExceptionConstants = __webpack_require__(5002);\nvar clearErrorStack = __webpack_require__(8574);\nvar DESCRIPTORS = __webpack_require__(3724);\nvar IS_PURE = __webpack_require__(6395);\n\nvar DOM_EXCEPTION = 'DOMException';\nvar Error = getBuiltIn('Error');\nvar NativeDOMException = getBuiltIn(DOM_EXCEPTION);\n\nvar $DOMException = function DOMException() {\n  anInstance(this, DOMExceptionPrototype);\n  var argumentsLength = arguments.length;\n  var message = normalizeStringArgument(argumentsLength < 1 ? undefined : arguments[0]);\n  var name = normalizeStringArgument(argumentsLength < 2 ? undefined : arguments[1], 'Error');\n  var that = new NativeDOMException(message, name);\n  var error = new Error(message);\n  error.name = DOM_EXCEPTION;\n  defineProperty(that, 'stack', createPropertyDescriptor(1, clearErrorStack(error.stack, 1)));\n  inheritIfRequired(that, this, $DOMException);\n  return that;\n};\n\nvar DOMExceptionPrototype = $DOMException.prototype = NativeDOMException.prototype;\n\nvar ERROR_HAS_STACK = 'stack' in new Error(DOM_EXCEPTION);\nvar DOM_EXCEPTION_HAS_STACK = 'stack' in new NativeDOMException(1, 2);\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar descriptor = NativeDOMException && DESCRIPTORS && Object.getOwnPropertyDescriptor(globalThis, DOM_EXCEPTION);\n\n// Bun ~ 0.1.1 DOMException have incorrect descriptor and we can't redefine it\n// https://github.com/Jarred-Sumner/bun/issues/399\nvar BUGGY_DESCRIPTOR = !!descriptor && !(descriptor.writable && descriptor.configurable);\n\nvar FORCED_CONSTRUCTOR = ERROR_HAS_STACK && !BUGGY_DESCRIPTOR && !DOM_EXCEPTION_HAS_STACK;\n\n// `DOMException` constructor patch for `.stack` where it's required\n// https://webidl.spec.whatwg.org/#es-DOMException-specialness\n$({ global: true, constructor: true, forced: IS_PURE || FORCED_CONSTRUCTOR }, { // TODO: fix export logic\n  DOMException: FORCED_CONSTRUCTOR ? $DOMException : NativeDOMException\n});\n\nvar PolyfilledDOMException = getBuiltIn(DOM_EXCEPTION);\nvar PolyfilledDOMExceptionPrototype = PolyfilledDOMException.prototype;\n\nif (PolyfilledDOMExceptionPrototype.constructor !== PolyfilledDOMException) {\n  if (!IS_PURE) {\n    defineProperty(PolyfilledDOMExceptionPrototype, 'constructor', createPropertyDescriptor(1, PolyfilledDOMException));\n  }\n\n  for (var key in DOMExceptionConstants) if (hasOwn(DOMExceptionConstants, key)) {\n    var constant = DOMExceptionConstants[key];\n    var constantName = constant.s;\n    if (!hasOwn(PolyfilledDOMException, constantName)) {\n      defineProperty(PolyfilledDOMException, constantName, createPropertyDescriptor(6, constant.c));\n    }\n  }\n}\n\n\n/***/ }),\n\n/***/ 5002:\n/***/ ((module) => {\n\n\nmodule.exports = {\n  IndexSizeError: { s: 'INDEX_SIZE_ERR', c: 1, m: 1 },\n  DOMStringSizeError: { s: 'DOMSTRING_SIZE_ERR', c: 2, m: 0 },\n  HierarchyRequestError: { s: 'HIERARCHY_REQUEST_ERR', c: 3, m: 1 },\n  WrongDocumentError: { s: 'WRONG_DOCUMENT_ERR', c: 4, m: 1 },\n  InvalidCharacterError: { s: 'INVALID_CHARACTER_ERR', c: 5, m: 1 },\n  NoDataAllowedError: { s: 'NO_DATA_ALLOWED_ERR', c: 6, m: 0 },\n  NoModificationAllowedError: { s: 'NO_MODIFICATION_ALLOWED_ERR', c: 7, m: 1 },\n  NotFoundError: { s: 'NOT_FOUND_ERR', c: 8, m: 1 },\n  NotSupportedError: { s: 'NOT_SUPPORTED_ERR', c: 9, m: 1 },\n  InUseAttributeError: { s: 'INUSE_ATTRIBUTE_ERR', c: 10, m: 1 },\n  InvalidStateError: { s: 'INVALID_STATE_ERR', c: 11, m: 1 },\n  SyntaxError: { s: 'SYNTAX_ERR', c: 12, m: 1 },\n  InvalidModificationError: { s: 'INVALID_MODIFICATION_ERR', c: 13, m: 1 },\n  NamespaceError: { s: 'NAMESPACE_ERR', c: 14, m: 1 },\n  InvalidAccessError: { s: 'INVALID_ACCESS_ERR', c: 15, m: 1 },\n  ValidationError: { s: 'VALIDATION_ERR', c: 16, m: 0 },\n  TypeMismatchError: { s: 'TYPE_MISMATCH_ERR', c: 17, m: 1 },\n  SecurityError: { s: 'SECURITY_ERR', c: 18, m: 1 },\n  NetworkError: { s: 'NETWORK_ERR', c: 19, m: 1 },\n  AbortError: { s: 'ABORT_ERR', c: 20, m: 1 },\n  URLMismatchError: { s: 'URL_MISMATCH_ERR', c: 21, m: 1 },\n  QuotaExceededError: { s: 'QUOTA_EXCEEDED_ERR', c: 22, m: 1 },\n  TimeoutError: { s: 'TIMEOUT_ERR', c: 23, m: 1 },\n  InvalidNodeTypeError: { s: 'INVALID_NODE_TYPE_ERR', c: 24, m: 1 },\n  DataCloneError: { s: 'DATA_CLONE_ERR', c: 25, m: 1 }\n};\n\n\n/***/ }),\n\n/***/ 5024:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar symmetricDifference = __webpack_require__(3650);\nvar setMethodGetKeysBeforeCloning = __webpack_require__(9835);\nvar setMethodAcceptSetLike = __webpack_require__(4916);\n\nvar FORCED = !setMethodAcceptSetLike('symmetricDifference') || !setMethodGetKeysBeforeCloning('symmetricDifference');\n\n// `Set.prototype.symmetricDifference` method\n// https://tc39.es/ecma262/#sec-set.prototype.symmetricdifference\n$({ target: 'Set', proto: true, real: true, forced: FORCED }, {\n  symmetricDifference: symmetricDifference\n});\n\n\n/***/ }),\n\n/***/ 5031:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar getBuiltIn = __webpack_require__(7751);\nvar uncurryThis = __webpack_require__(9504);\nvar getOwnPropertyNamesModule = __webpack_require__(8480);\nvar getOwnPropertySymbolsModule = __webpack_require__(3717);\nvar anObject = __webpack_require__(8551);\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n\n\n/***/ }),\n\n/***/ 5169:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isDetached = __webpack_require__(3238);\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (it) {\n  if (isDetached(it)) throw new $TypeError('ArrayBuffer is detached');\n  return it;\n};\n\n\n/***/ }),\n\n/***/ 5170:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThisAccessor = __webpack_require__(6706);\nvar SetHelpers = __webpack_require__(4402);\n\nmodule.exports = uncurryThisAccessor(SetHelpers.proto, 'size', 'get') || function (set) {\n  return set.size;\n};\n\n\n/***/ }),\n\n/***/ 5213:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar globalThis = __webpack_require__(4576);\nvar arrayFromConstructorAndList = __webpack_require__(5370);\nvar $fromBase64 = __webpack_require__(9143);\n\nvar Uint8Array = globalThis.Uint8Array;\n\nvar INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS = !Uint8Array || !Uint8Array.fromBase64 || !function () {\n  // Webkit not throw an error on odd length string\n  try {\n    Uint8Array.fromBase64('a');\n    return;\n  } catch (error) { /* empty */ }\n  try {\n    Uint8Array.fromBase64('', null);\n  } catch (error) {\n    return true;\n  }\n}();\n\n// `Uint8Array.fromBase64` method\n// https://github.com/tc39/proposal-arraybuffer-base64\nif (Uint8Array) $({ target: 'Uint8Array', stat: true, forced: INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS }, {\n  fromBase64: function fromBase64(string /* , options */) {\n    var result = $fromBase64(string, arguments.length > 1 ? arguments[1] : undefined, null, 0x1FFFFFFFFFFFFF);\n    return arrayFromConstructorAndList(Uint8Array, result.bytes);\n  }\n});\n\n\n/***/ }),\n\n/***/ 5370:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar lengthOfArrayLike = __webpack_require__(6198);\n\nmodule.exports = function (Constructor, list, $length) {\n  var index = 0;\n  var length = arguments.length > 2 ? $length : lengthOfArrayLike(list);\n  var result = new Constructor(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 5397:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\n// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = __webpack_require__(7055);\nvar requireObjectCoercible = __webpack_require__(7750);\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n\n\n/***/ }),\n\n/***/ 5610:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar toIntegerOrInfinity = __webpack_require__(1291);\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n\n\n/***/ }),\n\n/***/ 5623:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\n// TODO: Remove from `core-js@4`\n__webpack_require__(456);\n\n\n/***/ }),\n\n/***/ 5636:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar globalThis = __webpack_require__(4576);\nvar uncurryThis = __webpack_require__(9504);\nvar uncurryThisAccessor = __webpack_require__(6706);\nvar toIndex = __webpack_require__(7696);\nvar notDetached = __webpack_require__(5169);\nvar arrayBufferByteLength = __webpack_require__(7394);\nvar detachTransferable = __webpack_require__(4483);\nvar PROPER_STRUCTURED_CLONE_TRANSFER = __webpack_require__(1548);\n\nvar structuredClone = globalThis.structuredClone;\nvar ArrayBuffer = globalThis.ArrayBuffer;\nvar DataView = globalThis.DataView;\nvar min = Math.min;\nvar ArrayBufferPrototype = ArrayBuffer.prototype;\nvar DataViewPrototype = DataView.prototype;\nvar slice = uncurryThis(ArrayBufferPrototype.slice);\nvar isResizable = uncurryThisAccessor(ArrayBufferPrototype, 'resizable', 'get');\nvar maxByteLength = uncurryThisAccessor(ArrayBufferPrototype, 'maxByteLength', 'get');\nvar getInt8 = uncurryThis(DataViewPrototype.getInt8);\nvar setInt8 = uncurryThis(DataViewPrototype.setInt8);\n\nmodule.exports = (PROPER_STRUCTURED_CLONE_TRANSFER || detachTransferable) && function (arrayBuffer, newLength, preserveResizability) {\n  var byteLength = arrayBufferByteLength(arrayBuffer);\n  var newByteLength = newLength === undefined ? byteLength : toIndex(newLength);\n  var fixedLength = !isResizable || !isResizable(arrayBuffer);\n  var newBuffer;\n  notDetached(arrayBuffer);\n  if (PROPER_STRUCTURED_CLONE_TRANSFER) {\n    arrayBuffer = structuredClone(arrayBuffer, { transfer: [arrayBuffer] });\n    if (byteLength === newByteLength && (preserveResizability || fixedLength)) return arrayBuffer;\n  }\n  if (byteLength >= newByteLength && (!preserveResizability || fixedLength)) {\n    newBuffer = slice(arrayBuffer, 0, newByteLength);\n  } else {\n    var options = preserveResizability && !fixedLength && maxByteLength ? { maxByteLength: maxByteLength(arrayBuffer) } : undefined;\n    newBuffer = new ArrayBuffer(newByteLength, options);\n    var a = new DataView(arrayBuffer);\n    var b = new DataView(newBuffer);\n    var copyLength = min(newByteLength, byteLength);\n    for (var i = 0; i < copyLength; i++) setInt8(b, i, getInt8(a, i));\n  }\n  if (!PROPER_STRUCTURED_CLONE_TRANSFER) detachTransferable(arrayBuffer);\n  return newBuffer;\n};\n\n\n/***/ }),\n\n/***/ 5745:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar store = __webpack_require__(7629);\n\nmodule.exports = function (key, value) {\n  return store[key] || (store[key] = value || {});\n};\n\n\n/***/ }),\n\n/***/ 5781:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar getBuiltIn = __webpack_require__(7751);\nvar validateArgumentsLength = __webpack_require__(2812);\nvar toString = __webpack_require__(655);\nvar USE_NATIVE_URL = __webpack_require__(7416);\n\nvar URL = getBuiltIn('URL');\n\n// `URL.parse` method\n// https://url.spec.whatwg.org/#dom-url-canparse\n$({ target: 'URL', stat: true, forced: !USE_NATIVE_URL }, {\n  parse: function parse(url) {\n    var length = validateArgumentsLength(arguments.length, 1);\n    var urlString = toString(url);\n    var base = length < 2 || arguments[1] === undefined ? undefined : toString(arguments[1]);\n    try {\n      return new URL(urlString, base);\n    } catch (error) {\n      return null;\n    }\n  }\n});\n\n\n/***/ }),\n\n/***/ 5854:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar toPrimitive = __webpack_require__(2777);\n\nvar $TypeError = TypeError;\n\n// `ToBigInt` abstract operation\n// https://tc39.es/ecma262/#sec-tobigint\nmodule.exports = function (argument) {\n  var prim = toPrimitive(argument, 'number');\n  if (typeof prim == 'number') throw new $TypeError(\"Can't convert number to bigint\");\n  // eslint-disable-next-line es/no-bigint -- safe\n  return BigInt(prim);\n};\n\n\n/***/ }),\n\n/***/ 5876:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar isSubsetOf = __webpack_require__(3838);\nvar setMethodAcceptSetLike = __webpack_require__(4916);\n\nvar INCORRECT = !setMethodAcceptSetLike('isSubsetOf', function (result) {\n  return result;\n});\n\n// `Set.prototype.isSubsetOf` method\n// https://tc39.es/ecma262/#sec-set.prototype.issubsetof\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  isSubsetOf: isSubsetOf\n});\n\n\n/***/ }),\n\n/***/ 5917:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(3724);\nvar fails = __webpack_require__(9039);\nvar createElement = __webpack_require__(4055);\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a !== 7;\n});\n\n\n/***/ }),\n\n/***/ 5966:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar aCallable = __webpack_require__(9306);\nvar isNullOrUndefined = __webpack_require__(4117);\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n\n\n/***/ }),\n\n/***/ 6043:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar aCallable = __webpack_require__(9306);\n\nvar $TypeError = TypeError;\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw new $TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aCallable(resolve);\n  this.reject = aCallable(reject);\n};\n\n// `NewPromiseCapability` abstract operation\n// https://tc39.es/ecma262/#sec-newpromisecapability\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n\n\n/***/ }),\n\n/***/ 6080:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(7476);\nvar aCallable = __webpack_require__(9306);\nvar NATIVE_BIND = __webpack_require__(616);\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n/***/ }),\n\n/***/ 6119:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar shared = __webpack_require__(5745);\nvar uid = __webpack_require__(3392);\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n\n\n/***/ }),\n\n/***/ 6193:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar ENVIRONMENT = __webpack_require__(4215);\n\nmodule.exports = ENVIRONMENT === 'NODE';\n\n\n/***/ }),\n\n/***/ 6198:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar toLength = __webpack_require__(8014);\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n\n\n/***/ }),\n\n/***/ 6269:\n/***/ ((module) => {\n\n\nmodule.exports = {};\n\n\n/***/ }),\n\n/***/ 6279:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar defineBuiltIn = __webpack_require__(6840);\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) defineBuiltIn(target, key, src[key], options);\n  return target;\n};\n\n\n/***/ }),\n\n/***/ 6319:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar anObject = __webpack_require__(8551);\nvar iteratorClose = __webpack_require__(9539);\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  } catch (error) {\n    iteratorClose(iterator, 'throw', error);\n  }\n};\n\n\n/***/ }),\n\n/***/ 6395:\n/***/ ((module) => {\n\n\nmodule.exports = false;\n\n\n/***/ }),\n\n/***/ 6518:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar globalThis = __webpack_require__(4576);\nvar getOwnPropertyDescriptor = (__webpack_require__(7347).f);\nvar createNonEnumerableProperty = __webpack_require__(6699);\nvar defineBuiltIn = __webpack_require__(6840);\nvar defineGlobalProperty = __webpack_require__(9433);\nvar copyConstructorProperties = __webpack_require__(7740);\nvar isForced = __webpack_require__(2796);\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = globalThis;\n  } else if (STATIC) {\n    target = globalThis[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = globalThis[TARGET] && globalThis[TARGET].prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n\n\n/***/ }),\n\n/***/ 6573:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(3724);\nvar defineBuiltInAccessor = __webpack_require__(2106);\nvar isDetached = __webpack_require__(3238);\n\nvar ArrayBufferPrototype = ArrayBuffer.prototype;\n\n// `ArrayBuffer.prototype.detached` getter\n// https://tc39.es/ecma262/#sec-get-arraybuffer.prototype.detached\nif (DESCRIPTORS && !('detached' in ArrayBufferPrototype)) {\n  defineBuiltInAccessor(ArrayBufferPrototype, 'detached', {\n    configurable: true,\n    get: function detached() {\n      return isDetached(this);\n    }\n  });\n}\n\n\n/***/ }),\n\n/***/ 6632:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar globalThis = __webpack_require__(4576);\nvar $fromBase64 = __webpack_require__(9143);\nvar anUint8Array = __webpack_require__(4154);\n\nvar Uint8Array = globalThis.Uint8Array;\n\nvar INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS = !Uint8Array || !Uint8Array.prototype.setFromBase64 || !function () {\n  var target = new Uint8Array([255, 255, 255, 255, 255]);\n  try {\n    target.setFromBase64('', null);\n    return;\n  } catch (error) { /* empty */ }\n  // Webkit not throw an error on odd length string\n  try {\n    target.setFromBase64('a');\n    return;\n  } catch (error) { /* empty */ }\n  try {\n    target.setFromBase64('MjYyZg===');\n  } catch (error) {\n    return target[0] === 50 && target[1] === 54 && target[2] === 50 && target[3] === 255 && target[4] === 255;\n  }\n}();\n\n// `Uint8Array.prototype.setFromBase64` method\n// https://github.com/tc39/proposal-arraybuffer-base64\nif (Uint8Array) $({ target: 'Uint8Array', proto: true, forced: INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS }, {\n  setFromBase64: function setFromBase64(string /* , options */) {\n    anUint8Array(this);\n\n    var result = $fromBase64(string, arguments.length > 1 ? arguments[1] : undefined, this, this.length);\n\n    return { read: result.read, written: result.written };\n  }\n});\n\n\n/***/ }),\n\n/***/ 6699:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(3724);\nvar definePropertyModule = __webpack_require__(4913);\nvar createPropertyDescriptor = __webpack_require__(6980);\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n/***/ }),\n\n/***/ 6706:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\nvar aCallable = __webpack_require__(9306);\n\nmodule.exports = function (object, key, method) {\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    return uncurryThis(aCallable(Object.getOwnPropertyDescriptor(object, key)[method]));\n  } catch (error) { /* empty */ }\n};\n\n\n/***/ }),\n\n/***/ 6801:\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(3724);\nvar V8_PROTOTYPE_DEFINE_BUG = __webpack_require__(8686);\nvar definePropertyModule = __webpack_require__(4913);\nvar anObject = __webpack_require__(8551);\nvar toIndexedObject = __webpack_require__(5397);\nvar objectKeys = __webpack_require__(1072);\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n\n\n/***/ }),\n\n/***/ 6823:\n/***/ ((module) => {\n\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n\n\n/***/ }),\n\n/***/ 6837:\n/***/ ((module) => {\n\n\nvar $TypeError = TypeError;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991\n\nmodule.exports = function (it) {\n  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');\n  return it;\n};\n\n\n/***/ }),\n\n/***/ 6840:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isCallable = __webpack_require__(4901);\nvar definePropertyModule = __webpack_require__(4913);\nvar makeBuiltIn = __webpack_require__(283);\nvar defineGlobalProperty = __webpack_require__(9433);\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n\n\n/***/ }),\n\n/***/ 6955:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar TO_STRING_TAG_SUPPORT = __webpack_require__(2140);\nvar isCallable = __webpack_require__(4901);\nvar classofRaw = __webpack_require__(2195);\nvar wellKnownSymbol = __webpack_require__(8227);\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) === 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) === 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n\n\n/***/ }),\n\n/***/ 6969:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar toPrimitive = __webpack_require__(2777);\nvar isSymbol = __webpack_require__(757);\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n\n\n/***/ }),\n\n/***/ 6980:\n/***/ ((module) => {\n\n\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n/***/ }),\n\n/***/ 7040:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\n/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = __webpack_require__(4495);\n\nmodule.exports = NATIVE_SYMBOL &&\n  !Symbol.sham &&\n  typeof Symbol.iterator == 'symbol';\n\n\n/***/ }),\n\n/***/ 7055:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\nvar fails = __webpack_require__(9039);\nvar classof = __webpack_require__(2195);\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) === 'String' ? split(it, '') : $Object(it);\n} : $Object;\n\n\n/***/ }),\n\n/***/ 7080:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar has = (__webpack_require__(4402).has);\n\n// Perform ? RequireInternalSlot(M, [[SetData]])\nmodule.exports = function (it) {\n  has(it);\n  return it;\n};\n\n\n/***/ }),\n\n/***/ 7347:\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(3724);\nvar call = __webpack_require__(9565);\nvar propertyIsEnumerableModule = __webpack_require__(8773);\nvar createPropertyDescriptor = __webpack_require__(6980);\nvar toIndexedObject = __webpack_require__(5397);\nvar toPropertyKey = __webpack_require__(6969);\nvar hasOwn = __webpack_require__(9297);\nvar IE8_DOM_DEFINE = __webpack_require__(5917);\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n\n\n/***/ }),\n\n/***/ 7394:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar globalThis = __webpack_require__(4576);\nvar uncurryThisAccessor = __webpack_require__(6706);\nvar classof = __webpack_require__(2195);\n\nvar ArrayBuffer = globalThis.ArrayBuffer;\nvar TypeError = globalThis.TypeError;\n\n// Includes\n// - Perform ? RequireInternalSlot(O, [[ArrayBufferData]]).\n// - If IsSharedArrayBuffer(O) is true, throw a TypeError exception.\nmodule.exports = ArrayBuffer && uncurryThisAccessor(ArrayBuffer.prototype, 'byteLength', 'get') || function (O) {\n  if (classof(O) !== 'ArrayBuffer') throw new TypeError('ArrayBuffer expected');\n  return O.byteLength;\n};\n\n\n/***/ }),\n\n/***/ 7416:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar fails = __webpack_require__(9039);\nvar wellKnownSymbol = __webpack_require__(8227);\nvar DESCRIPTORS = __webpack_require__(3724);\nvar IS_PURE = __webpack_require__(6395);\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line unicorn/relative-url-style -- required for testing\n  var url = new URL('b?a=1&b=2&c=3', 'https://a');\n  var params = url.searchParams;\n  var params2 = new URLSearchParams('a=1&a=2&b=3');\n  var result = '';\n  url.pathname = 'c%20d';\n  params.forEach(function (value, key) {\n    params['delete']('b');\n    result += key + value;\n  });\n  params2['delete']('a', 2);\n  // `undefined` case is a Chromium 117 bug\n  // https://bugs.chromium.org/p/v8/issues/detail?id=14222\n  params2['delete']('b', undefined);\n  return (IS_PURE && (!url.toJSON || !params2.has('a', 1) || params2.has('a', 2) || !params2.has('a', undefined) || params2.has('b')))\n    || (!params.size && (IS_PURE || !DESCRIPTORS))\n    || !params.sort\n    || url.href !== 'https://a/c%20d?a=1&c=3'\n    || params.get('c') !== '3'\n    || String(new URLSearchParams('?a=1')) !== 'a=1'\n    || !params[ITERATOR]\n    // throws in Edge\n    || new URL('https://a@b').username !== 'a'\n    || new URLSearchParams(new URLSearchParams('a=b')).get('a') !== 'b'\n    // not punycoded in Edge\n    || new URL('https://').host !== 'xn--e1aybc'\n    // not escaped in Chrome 62-\n    || new URL('https://a#').hash !== '#%D0%B1'\n    // fails in Chrome 66-\n    || result !== 'a1c3'\n    // throws in Safari\n    || new URL('https://x', undefined).host !== 'x';\n});\n\n\n/***/ }),\n\n/***/ 7476:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar classofRaw = __webpack_require__(2195);\nvar uncurryThis = __webpack_require__(9504);\n\nmodule.exports = function (fn) {\n  // Nashorn bug:\n  //   https://github.com/zloirock/core-js/issues/1128\n  //   https://github.com/zloirock/core-js/issues/1130\n  if (classofRaw(fn) === 'Function') return uncurryThis(fn);\n};\n\n\n/***/ }),\n\n/***/ 7566:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar defineBuiltIn = __webpack_require__(6840);\nvar uncurryThis = __webpack_require__(9504);\nvar toString = __webpack_require__(655);\nvar validateArgumentsLength = __webpack_require__(2812);\n\nvar $URLSearchParams = URLSearchParams;\nvar URLSearchParamsPrototype = $URLSearchParams.prototype;\nvar getAll = uncurryThis(URLSearchParamsPrototype.getAll);\nvar $has = uncurryThis(URLSearchParamsPrototype.has);\nvar params = new $URLSearchParams('a=1');\n\n// `undefined` case is a Chromium 117 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=14222\nif (params.has('a', 2) || !params.has('a', undefined)) {\n  defineBuiltIn(URLSearchParamsPrototype, 'has', function has(name /* , value */) {\n    var length = arguments.length;\n    var $value = length < 2 ? undefined : arguments[1];\n    if (length && $value === undefined) return $has(this, name);\n    var values = getAll(this, name); // also validates `this`\n    validateArgumentsLength(length, 1);\n    var value = toString($value);\n    var index = 0;\n    while (index < values.length) {\n      if (values[index++] === value) return true;\n    } return false;\n  }, { enumerable: true, unsafe: true });\n}\n\n\n/***/ }),\n\n/***/ 7588:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar call = __webpack_require__(9565);\nvar iterate = __webpack_require__(2652);\nvar aCallable = __webpack_require__(9306);\nvar anObject = __webpack_require__(8551);\nvar getIteratorDirect = __webpack_require__(1767);\nvar iteratorClose = __webpack_require__(9539);\nvar iteratorHelperWithoutClosingOnEarlyError = __webpack_require__(4549);\n\nvar forEachWithoutClosingOnEarlyError = iteratorHelperWithoutClosingOnEarlyError('forEach', TypeError);\n\n// `Iterator.prototype.forEach` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.foreach\n$({ target: 'Iterator', proto: true, real: true, forced: forEachWithoutClosingOnEarlyError }, {\n  forEach: function forEach(fn) {\n    anObject(this);\n    try {\n      aCallable(fn);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (forEachWithoutClosingOnEarlyError) return call(forEachWithoutClosingOnEarlyError, this, fn);\n\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    iterate(record, function (value) {\n      fn(value, counter++);\n    }, { IS_RECORD: true });\n  }\n});\n\n\n/***/ }),\n\n/***/ 7629:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar IS_PURE = __webpack_require__(6395);\nvar globalThis = __webpack_require__(4576);\nvar defineGlobalProperty = __webpack_require__(9433);\n\nvar SHARED = '__core-js_shared__';\nvar store = module.exports = globalThis[SHARED] || defineGlobalProperty(SHARED, {});\n\n(store.versions || (store.versions = [])).push({\n  version: '3.45.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2014-2025 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n\n\n/***/ }),\n\n/***/ 7642:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar difference = __webpack_require__(3440);\nvar fails = __webpack_require__(9039);\nvar setMethodAcceptSetLike = __webpack_require__(4916);\n\nvar SET_LIKE_INCORRECT_BEHAVIOR = !setMethodAcceptSetLike('difference', function (result) {\n  return result.size === 0;\n});\n\nvar FORCED = SET_LIKE_INCORRECT_BEHAVIOR || fails(function () {\n  // https://bugs.webkit.org/show_bug.cgi?id=288595\n  var setLike = {\n    size: 1,\n    has: function () { return true; },\n    keys: function () {\n      var index = 0;\n      return {\n        next: function () {\n          var done = index++ > 1;\n          if (baseSet.has(1)) baseSet.clear();\n          return { done: done, value: 2 };\n        }\n      };\n    }\n  };\n  // eslint-disable-next-line es/no-set -- testing\n  var baseSet = new Set([1, 2, 3, 4]);\n  // eslint-disable-next-line es/no-set-prototype-difference -- testing\n  return baseSet.difference(setLike).size !== 3;\n});\n\n// `Set.prototype.difference` method\n// https://tc39.es/ecma262/#sec-set.prototype.difference\n$({ target: 'Set', proto: true, real: true, forced: FORCED }, {\n  difference: difference\n});\n\n\n/***/ }),\n\n/***/ 7657:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar fails = __webpack_require__(9039);\nvar isCallable = __webpack_require__(4901);\nvar isObject = __webpack_require__(34);\nvar create = __webpack_require__(2360);\nvar getPrototypeOf = __webpack_require__(2787);\nvar defineBuiltIn = __webpack_require__(6840);\nvar wellKnownSymbol = __webpack_require__(8227);\nvar IS_PURE = __webpack_require__(6395);\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = !isObject(IteratorPrototype) || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\nelse if (IS_PURE) IteratorPrototype = create(IteratorPrototype);\n\n// `%IteratorPrototype%[@@iterator]()` method\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\nif (!isCallable(IteratorPrototype[ITERATOR])) {\n  defineBuiltIn(IteratorPrototype, ITERATOR, function () {\n    return this;\n  });\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n\n\n/***/ }),\n\n/***/ 7680:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\n\nmodule.exports = uncurryThis([].slice);\n\n\n/***/ }),\n\n/***/ 7696:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar toIntegerOrInfinity = __webpack_require__(1291);\nvar toLength = __webpack_require__(8014);\n\nvar $RangeError = RangeError;\n\n// `ToIndex` abstract operation\n// https://tc39.es/ecma262/#sec-toindex\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toIntegerOrInfinity(it);\n  var length = toLength(number);\n  if (number !== length) throw new $RangeError('Wrong length or index');\n  return length;\n};\n\n\n/***/ }),\n\n/***/ 7740:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar hasOwn = __webpack_require__(9297);\nvar ownKeys = __webpack_require__(5031);\nvar getOwnPropertyDescriptorModule = __webpack_require__(7347);\nvar definePropertyModule = __webpack_require__(4913);\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n\n\n/***/ }),\n\n/***/ 7750:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isNullOrUndefined = __webpack_require__(4117);\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw new $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n\n\n/***/ }),\n\n/***/ 7751:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar globalThis = __webpack_require__(4576);\nvar isCallable = __webpack_require__(4901);\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(globalThis[namespace]) : globalThis[namespace] && globalThis[namespace][method];\n};\n\n\n/***/ }),\n\n/***/ 7811:\n/***/ ((module) => {\n\n\n// eslint-disable-next-line es/no-typed-arrays -- safe\nmodule.exports = typeof ArrayBuffer != 'undefined' && typeof DataView != 'undefined';\n\n\n/***/ }),\n\n/***/ 7936:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar $transfer = __webpack_require__(5636);\n\n// `ArrayBuffer.prototype.transferToFixedLength` method\n// https://tc39.es/ecma262/#sec-arraybuffer.prototype.transfertofixedlength\nif ($transfer) $({ target: 'ArrayBuffer', proto: true }, {\n  transferToFixedLength: function transferToFixedLength() {\n    return $transfer(this, arguments.length ? arguments[0] : undefined, false);\n  }\n});\n\n\n/***/ }),\n\n/***/ 8004:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar fails = __webpack_require__(9039);\nvar intersection = __webpack_require__(8750);\nvar setMethodAcceptSetLike = __webpack_require__(4916);\n\nvar INCORRECT = !setMethodAcceptSetLike('intersection', function (result) {\n  return result.size === 2 && result.has(1) && result.has(2);\n}) || fails(function () {\n  // eslint-disable-next-line es/no-array-from, es/no-set, es/no-set-prototype-intersection -- testing\n  return String(Array.from(new Set([1, 2, 3]).intersection(new Set([3, 2])))) !== '3,2';\n});\n\n// `Set.prototype.intersection` method\n// https://tc39.es/ecma262/#sec-set.prototype.intersection\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  intersection: intersection\n});\n\n\n/***/ }),\n\n/***/ 8014:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar toIntegerOrInfinity = __webpack_require__(1291);\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  var len = toIntegerOrInfinity(argument);\n  return len > 0 ? min(len, 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n\n\n/***/ }),\n\n/***/ 8100:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar $transfer = __webpack_require__(5636);\n\n// `ArrayBuffer.prototype.transfer` method\n// https://tc39.es/ecma262/#sec-arraybuffer.prototype.transfer\nif ($transfer) $({ target: 'ArrayBuffer', proto: true }, {\n  transfer: function transfer() {\n    return $transfer(this, arguments.length ? arguments[0] : undefined, true);\n  }\n});\n\n\n/***/ }),\n\n/***/ 8111:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar globalThis = __webpack_require__(4576);\nvar anInstance = __webpack_require__(679);\nvar anObject = __webpack_require__(8551);\nvar isCallable = __webpack_require__(4901);\nvar getPrototypeOf = __webpack_require__(2787);\nvar defineBuiltInAccessor = __webpack_require__(2106);\nvar createProperty = __webpack_require__(4659);\nvar fails = __webpack_require__(9039);\nvar hasOwn = __webpack_require__(9297);\nvar wellKnownSymbol = __webpack_require__(8227);\nvar IteratorPrototype = (__webpack_require__(7657).IteratorPrototype);\nvar DESCRIPTORS = __webpack_require__(3724);\nvar IS_PURE = __webpack_require__(6395);\n\nvar CONSTRUCTOR = 'constructor';\nvar ITERATOR = 'Iterator';\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nvar $TypeError = TypeError;\nvar NativeIterator = globalThis[ITERATOR];\n\n// FF56- have non-standard global helper `Iterator`\nvar FORCED = IS_PURE\n  || !isCallable(NativeIterator)\n  || NativeIterator.prototype !== IteratorPrototype\n  // FF44- non-standard `Iterator` passes previous tests\n  || !fails(function () { NativeIterator({}); });\n\nvar IteratorConstructor = function Iterator() {\n  anInstance(this, IteratorPrototype);\n  if (getPrototypeOf(this) === IteratorPrototype) throw new $TypeError('Abstract class Iterator not directly constructable');\n};\n\nvar defineIteratorPrototypeAccessor = function (key, value) {\n  if (DESCRIPTORS) {\n    defineBuiltInAccessor(IteratorPrototype, key, {\n      configurable: true,\n      get: function () {\n        return value;\n      },\n      set: function (replacement) {\n        anObject(this);\n        if (this === IteratorPrototype) throw new $TypeError(\"You can't redefine this property\");\n        if (hasOwn(this, key)) this[key] = replacement;\n        else createProperty(this, key, replacement);\n      }\n    });\n  } else IteratorPrototype[key] = value;\n};\n\nif (!hasOwn(IteratorPrototype, TO_STRING_TAG)) defineIteratorPrototypeAccessor(TO_STRING_TAG, ITERATOR);\n\nif (FORCED || !hasOwn(IteratorPrototype, CONSTRUCTOR) || IteratorPrototype[CONSTRUCTOR] === Object) {\n  defineIteratorPrototypeAccessor(CONSTRUCTOR, IteratorConstructor);\n}\n\nIteratorConstructor.prototype = IteratorPrototype;\n\n// `Iterator` constructor\n// https://tc39.es/ecma262/#sec-iterator\n$({ global: true, constructor: true, forced: FORCED }, {\n  Iterator: IteratorConstructor\n});\n\n\n/***/ }),\n\n/***/ 8227:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar globalThis = __webpack_require__(4576);\nvar shared = __webpack_require__(5745);\nvar hasOwn = __webpack_require__(9297);\nvar uid = __webpack_require__(3392);\nvar NATIVE_SYMBOL = __webpack_require__(4495);\nvar USE_SYMBOL_AS_UID = __webpack_require__(7040);\n\nvar Symbol = globalThis.Symbol;\nvar WellKnownSymbolsStore = shared('wks');\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name)) {\n    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)\n      ? Symbol[name]\n      : createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n\n\n/***/ }),\n\n/***/ 8235:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\nvar hasOwn = __webpack_require__(9297);\n\nvar $SyntaxError = SyntaxError;\nvar $parseInt = parseInt;\nvar fromCharCode = String.fromCharCode;\nvar at = uncurryThis(''.charAt);\nvar slice = uncurryThis(''.slice);\nvar exec = uncurryThis(/./.exec);\n\nvar codePoints = {\n  '\\\\\"': '\"',\n  '\\\\\\\\': '\\\\',\n  '\\\\/': '/',\n  '\\\\b': '\\b',\n  '\\\\f': '\\f',\n  '\\\\n': '\\n',\n  '\\\\r': '\\r',\n  '\\\\t': '\\t'\n};\n\nvar IS_4_HEX_DIGITS = /^[\\da-f]{4}$/i;\n// eslint-disable-next-line regexp/no-control-character -- safe\nvar IS_C0_CONTROL_CODE = /^[\\u0000-\\u001F]$/;\n\nmodule.exports = function (source, i) {\n  var unterminated = true;\n  var value = '';\n  while (i < source.length) {\n    var chr = at(source, i);\n    if (chr === '\\\\') {\n      var twoChars = slice(source, i, i + 2);\n      if (hasOwn(codePoints, twoChars)) {\n        value += codePoints[twoChars];\n        i += 2;\n      } else if (twoChars === '\\\\u') {\n        i += 2;\n        var fourHexDigits = slice(source, i, i + 4);\n        if (!exec(IS_4_HEX_DIGITS, fourHexDigits)) throw new $SyntaxError('Bad Unicode escape at: ' + i);\n        value += fromCharCode($parseInt(fourHexDigits, 16));\n        i += 4;\n      } else throw new $SyntaxError('Unknown escape sequence: \"' + twoChars + '\"');\n    } else if (chr === '\"') {\n      unterminated = false;\n      i++;\n      break;\n    } else {\n      if (exec(IS_C0_CONTROL_CODE, chr)) throw new $SyntaxError('Bad control character in string literal at: ' + i);\n      value += chr;\n      i++;\n    }\n  }\n  if (unterminated) throw new $SyntaxError('Unterminated string at: ' + i);\n  return { value: value, end: i };\n};\n\n\n/***/ }),\n\n/***/ 8237:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar iterate = __webpack_require__(2652);\nvar aCallable = __webpack_require__(9306);\nvar anObject = __webpack_require__(8551);\nvar getIteratorDirect = __webpack_require__(1767);\nvar iteratorClose = __webpack_require__(9539);\nvar iteratorHelperWithoutClosingOnEarlyError = __webpack_require__(4549);\nvar apply = __webpack_require__(8745);\nvar fails = __webpack_require__(9039);\n\nvar $TypeError = TypeError;\n\n// https://bugs.webkit.org/show_bug.cgi?id=291651\nvar FAILS_ON_INITIAL_UNDEFINED = fails(function () {\n  // eslint-disable-next-line es/no-iterator-prototype-reduce, es/no-array-prototype-keys, array-callback-return -- required for testing\n  [].keys().reduce(function () { /* empty */ }, undefined);\n});\n\nvar reduceWithoutClosingOnEarlyError = !FAILS_ON_INITIAL_UNDEFINED && iteratorHelperWithoutClosingOnEarlyError('reduce', $TypeError);\n\n// `Iterator.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.reduce\n$({ target: 'Iterator', proto: true, real: true, forced: FAILS_ON_INITIAL_UNDEFINED || reduceWithoutClosingOnEarlyError }, {\n  reduce: function reduce(reducer /* , initialValue */) {\n    anObject(this);\n    try {\n      aCallable(reducer);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    var noInitial = arguments.length < 2;\n    var accumulator = noInitial ? undefined : arguments[1];\n    if (reduceWithoutClosingOnEarlyError) {\n      return apply(reduceWithoutClosingOnEarlyError, this, noInitial ? [reducer] : [reducer, accumulator]);\n    }\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    iterate(record, function (value) {\n      if (noInitial) {\n        noInitial = false;\n        accumulator = value;\n      } else {\n        accumulator = reducer(accumulator, value, counter);\n      }\n      counter++;\n    }, { IS_RECORD: true });\n    if (noInitial) throw new $TypeError('Reduce of empty iterator with no initial value');\n    return accumulator;\n  }\n});\n\n\n/***/ }),\n\n/***/ 8335:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar DESCRIPTORS = __webpack_require__(3724);\nvar globalThis = __webpack_require__(4576);\nvar getBuiltIn = __webpack_require__(7751);\nvar uncurryThis = __webpack_require__(9504);\nvar call = __webpack_require__(9565);\nvar isCallable = __webpack_require__(4901);\nvar isObject = __webpack_require__(34);\nvar isArray = __webpack_require__(4376);\nvar hasOwn = __webpack_require__(9297);\nvar toString = __webpack_require__(655);\nvar lengthOfArrayLike = __webpack_require__(6198);\nvar createProperty = __webpack_require__(4659);\nvar fails = __webpack_require__(9039);\nvar parseJSONString = __webpack_require__(8235);\nvar NATIVE_SYMBOL = __webpack_require__(4495);\n\nvar JSON = globalThis.JSON;\nvar Number = globalThis.Number;\nvar SyntaxError = globalThis.SyntaxError;\nvar nativeParse = JSON && JSON.parse;\nvar enumerableOwnProperties = getBuiltIn('Object', 'keys');\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar at = uncurryThis(''.charAt);\nvar slice = uncurryThis(''.slice);\nvar exec = uncurryThis(/./.exec);\nvar push = uncurryThis([].push);\n\nvar IS_DIGIT = /^\\d$/;\nvar IS_NON_ZERO_DIGIT = /^[1-9]$/;\nvar IS_NUMBER_START = /^[\\d-]$/;\nvar IS_WHITESPACE = /^[\\t\\n\\r ]$/;\n\nvar PRIMITIVE = 0;\nvar OBJECT = 1;\n\nvar $parse = function (source, reviver) {\n  source = toString(source);\n  var context = new Context(source, 0, '');\n  var root = context.parse();\n  var value = root.value;\n  var endIndex = context.skip(IS_WHITESPACE, root.end);\n  if (endIndex < source.length) {\n    throw new SyntaxError('Unexpected extra character: \"' + at(source, endIndex) + '\" after the parsed data at: ' + endIndex);\n  }\n  return isCallable(reviver) ? internalize({ '': value }, '', reviver, root) : value;\n};\n\nvar internalize = function (holder, name, reviver, node) {\n  var val = holder[name];\n  var unmodified = node && val === node.value;\n  var context = unmodified && typeof node.source == 'string' ? { source: node.source } : {};\n  var elementRecordsLen, keys, len, i, P;\n  if (isObject(val)) {\n    var nodeIsArray = isArray(val);\n    var nodes = unmodified ? node.nodes : nodeIsArray ? [] : {};\n    if (nodeIsArray) {\n      elementRecordsLen = nodes.length;\n      len = lengthOfArrayLike(val);\n      for (i = 0; i < len; i++) {\n        internalizeProperty(val, i, internalize(val, '' + i, reviver, i < elementRecordsLen ? nodes[i] : undefined));\n      }\n    } else {\n      keys = enumerableOwnProperties(val);\n      len = lengthOfArrayLike(keys);\n      for (i = 0; i < len; i++) {\n        P = keys[i];\n        internalizeProperty(val, P, internalize(val, P, reviver, hasOwn(nodes, P) ? nodes[P] : undefined));\n      }\n    }\n  }\n  return call(reviver, holder, name, val, context);\n};\n\nvar internalizeProperty = function (object, key, value) {\n  if (DESCRIPTORS) {\n    var descriptor = getOwnPropertyDescriptor(object, key);\n    if (descriptor && !descriptor.configurable) return;\n  }\n  if (value === undefined) delete object[key];\n  else createProperty(object, key, value);\n};\n\nvar Node = function (value, end, source, nodes) {\n  this.value = value;\n  this.end = end;\n  this.source = source;\n  this.nodes = nodes;\n};\n\nvar Context = function (source, index) {\n  this.source = source;\n  this.index = index;\n};\n\n// https://www.json.org/json-en.html\nContext.prototype = {\n  fork: function (nextIndex) {\n    return new Context(this.source, nextIndex);\n  },\n  parse: function () {\n    var source = this.source;\n    var i = this.skip(IS_WHITESPACE, this.index);\n    var fork = this.fork(i);\n    var chr = at(source, i);\n    if (exec(IS_NUMBER_START, chr)) return fork.number();\n    switch (chr) {\n      case '{':\n        return fork.object();\n      case '[':\n        return fork.array();\n      case '\"':\n        return fork.string();\n      case 't':\n        return fork.keyword(true);\n      case 'f':\n        return fork.keyword(false);\n      case 'n':\n        return fork.keyword(null);\n    } throw new SyntaxError('Unexpected character: \"' + chr + '\" at: ' + i);\n  },\n  node: function (type, value, start, end, nodes) {\n    return new Node(value, end, type ? null : slice(this.source, start, end), nodes);\n  },\n  object: function () {\n    var source = this.source;\n    var i = this.index + 1;\n    var expectKeypair = false;\n    var object = {};\n    var nodes = {};\n    while (i < source.length) {\n      i = this.until(['\"', '}'], i);\n      if (at(source, i) === '}' && !expectKeypair) {\n        i++;\n        break;\n      }\n      // Parsing the key\n      var result = this.fork(i).string();\n      var key = result.value;\n      i = result.end;\n      i = this.until([':'], i) + 1;\n      // Parsing value\n      i = this.skip(IS_WHITESPACE, i);\n      result = this.fork(i).parse();\n      createProperty(nodes, key, result);\n      createProperty(object, key, result.value);\n      i = this.until([',', '}'], result.end);\n      var chr = at(source, i);\n      if (chr === ',') {\n        expectKeypair = true;\n        i++;\n      } else if (chr === '}') {\n        i++;\n        break;\n      }\n    }\n    return this.node(OBJECT, object, this.index, i, nodes);\n  },\n  array: function () {\n    var source = this.source;\n    var i = this.index + 1;\n    var expectElement = false;\n    var array = [];\n    var nodes = [];\n    while (i < source.length) {\n      i = this.skip(IS_WHITESPACE, i);\n      if (at(source, i) === ']' && !expectElement) {\n        i++;\n        break;\n      }\n      var result = this.fork(i).parse();\n      push(nodes, result);\n      push(array, result.value);\n      i = this.until([',', ']'], result.end);\n      if (at(source, i) === ',') {\n        expectElement = true;\n        i++;\n      } else if (at(source, i) === ']') {\n        i++;\n        break;\n      }\n    }\n    return this.node(OBJECT, array, this.index, i, nodes);\n  },\n  string: function () {\n    var index = this.index;\n    var parsed = parseJSONString(this.source, this.index + 1);\n    return this.node(PRIMITIVE, parsed.value, index, parsed.end);\n  },\n  number: function () {\n    var source = this.source;\n    var startIndex = this.index;\n    var i = startIndex;\n    if (at(source, i) === '-') i++;\n    if (at(source, i) === '0') i++;\n    else if (exec(IS_NON_ZERO_DIGIT, at(source, i))) i = this.skip(IS_DIGIT, i + 1);\n    else throw new SyntaxError('Failed to parse number at: ' + i);\n    if (at(source, i) === '.') i = this.skip(IS_DIGIT, i + 1);\n    if (at(source, i) === 'e' || at(source, i) === 'E') {\n      i++;\n      if (at(source, i) === '+' || at(source, i) === '-') i++;\n      var exponentStartIndex = i;\n      i = this.skip(IS_DIGIT, i);\n      if (exponentStartIndex === i) throw new SyntaxError(\"Failed to parse number's exponent value at: \" + i);\n    }\n    return this.node(PRIMITIVE, Number(slice(source, startIndex, i)), startIndex, i);\n  },\n  keyword: function (value) {\n    var keyword = '' + value;\n    var index = this.index;\n    var endIndex = index + keyword.length;\n    if (slice(this.source, index, endIndex) !== keyword) throw new SyntaxError('Failed to parse value at: ' + index);\n    return this.node(PRIMITIVE, value, index, endIndex);\n  },\n  skip: function (regex, i) {\n    var source = this.source;\n    for (; i < source.length; i++) if (!exec(regex, at(source, i))) break;\n    return i;\n  },\n  until: function (array, i) {\n    i = this.skip(IS_WHITESPACE, i);\n    var chr = at(this.source, i);\n    for (var j = 0; j < array.length; j++) if (array[j] === chr) return i;\n    throw new SyntaxError('Unexpected character: \"' + chr + '\" at: ' + i);\n  }\n};\n\nvar NO_SOURCE_SUPPORT = fails(function () {\n  var unsafeInt = '9007199254740993';\n  var source;\n  nativeParse(unsafeInt, function (key, value, context) {\n    source = context.source;\n  });\n  return source !== unsafeInt;\n});\n\nvar PROPER_BASE_PARSE = NATIVE_SYMBOL && !fails(function () {\n  // Safari 9 bug\n  return 1 / nativeParse('-0 \\t') !== -Infinity;\n});\n\n// `JSON.parse` method\n// https://tc39.es/ecma262/#sec-json.parse\n// https://github.com/tc39/proposal-json-parse-with-source\n$({ target: 'JSON', stat: true, forced: NO_SOURCE_SUPPORT }, {\n  parse: function parse(text, reviver) {\n    return PROPER_BASE_PARSE && !isCallable(reviver) ? nativeParse(text) : $parse(text, reviver);\n  }\n});\n\n\n/***/ }),\n\n/***/ 8469:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\nvar iterateSimple = __webpack_require__(507);\nvar SetHelpers = __webpack_require__(4402);\n\nvar Set = SetHelpers.Set;\nvar SetPrototype = SetHelpers.proto;\nvar forEach = uncurryThis(SetPrototype.forEach);\nvar keys = uncurryThis(SetPrototype.keys);\nvar next = keys(new Set()).next;\n\nmodule.exports = function (set, fn, interruptible) {\n  return interruptible ? iterateSimple({ iterator: keys(set), next: next }, fn) : forEach(set, fn);\n};\n\n\n/***/ }),\n\n/***/ 8480:\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nvar internalObjectKeys = __webpack_require__(1828);\nvar enumBugKeys = __webpack_require__(8727);\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n\n\n/***/ }),\n\n/***/ 8527:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar aSet = __webpack_require__(7080);\nvar has = (__webpack_require__(4402).has);\nvar size = __webpack_require__(5170);\nvar getSetRecord = __webpack_require__(3789);\nvar iterateSimple = __webpack_require__(507);\nvar iteratorClose = __webpack_require__(9539);\n\n// `Set.prototype.isSupersetOf` method\n// https://tc39.es/ecma262/#sec-set.prototype.issupersetof\nmodule.exports = function isSupersetOf(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  if (size(O) < otherRec.size) return false;\n  var iterator = otherRec.getIterator();\n  return iterateSimple(iterator, function (e) {\n    if (!has(O, e)) return iteratorClose(iterator, 'normal', false);\n  }) !== false;\n};\n\n\n/***/ }),\n\n/***/ 8551:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isObject = __webpack_require__(34);\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw new $TypeError($String(argument) + ' is not an object');\n};\n\n\n/***/ }),\n\n/***/ 8574:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\n\nvar $Error = Error;\nvar replace = uncurryThis(''.replace);\n\nvar TEST = (function (arg) { return String(new $Error(arg).stack); })('zxcasd');\n// eslint-disable-next-line redos/no-vulnerable, sonarjs/slow-regex -- safe\nvar V8_OR_CHAKRA_STACK_ENTRY = /\\n\\s*at [^:]*:[^\\n]*/;\nvar IS_V8_OR_CHAKRA_STACK = V8_OR_CHAKRA_STACK_ENTRY.test(TEST);\n\nmodule.exports = function (stack, dropEntries) {\n  if (IS_V8_OR_CHAKRA_STACK && typeof stack == 'string' && !$Error.prepareStackTrace) {\n    while (dropEntries--) stack = replace(stack, V8_OR_CHAKRA_STACK_ENTRY, '');\n  } return stack;\n};\n\n\n/***/ }),\n\n/***/ 8622:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar globalThis = __webpack_require__(4576);\nvar isCallable = __webpack_require__(4901);\n\nvar WeakMap = globalThis.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n\n\n/***/ }),\n\n/***/ 8646:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar call = __webpack_require__(9565);\nvar anObject = __webpack_require__(8551);\nvar getIteratorDirect = __webpack_require__(1767);\nvar getIteratorMethod = __webpack_require__(851);\n\nmodule.exports = function (obj, stringHandling) {\n  if (!stringHandling || typeof obj !== 'string') anObject(obj);\n  var method = getIteratorMethod(obj);\n  return getIteratorDirect(anObject(method !== undefined ? call(method, obj) : obj));\n};\n\n\n/***/ }),\n\n/***/ 8686:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(3724);\nvar fails = __webpack_require__(9039);\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype !== 42;\n});\n\n\n/***/ }),\n\n/***/ 8721:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(3724);\nvar uncurryThis = __webpack_require__(9504);\nvar defineBuiltInAccessor = __webpack_require__(2106);\n\nvar URLSearchParamsPrototype = URLSearchParams.prototype;\nvar forEach = uncurryThis(URLSearchParamsPrototype.forEach);\n\n// `URLSearchParams.prototype.size` getter\n// https://github.com/whatwg/url/pull/734\nif (DESCRIPTORS && !('size' in URLSearchParamsPrototype)) {\n  defineBuiltInAccessor(URLSearchParamsPrototype, 'size', {\n    get: function size() {\n      var count = 0;\n      forEach(this, function () { count++; });\n      return count;\n    },\n    configurable: true,\n    enumerable: true\n  });\n}\n\n\n/***/ }),\n\n/***/ 8727:\n/***/ ((module) => {\n\n\n// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n\n\n/***/ }),\n\n/***/ 8745:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar NATIVE_BIND = __webpack_require__(616);\n\nvar FunctionPrototype = Function.prototype;\nvar apply = FunctionPrototype.apply;\nvar call = FunctionPrototype.call;\n\n// eslint-disable-next-line es/no-function-prototype-bind, es/no-reflect -- safe\nmodule.exports = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function () {\n  return call.apply(apply, arguments);\n});\n\n\n/***/ }),\n\n/***/ 8750:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar aSet = __webpack_require__(7080);\nvar SetHelpers = __webpack_require__(4402);\nvar size = __webpack_require__(5170);\nvar getSetRecord = __webpack_require__(3789);\nvar iterateSet = __webpack_require__(8469);\nvar iterateSimple = __webpack_require__(507);\n\nvar Set = SetHelpers.Set;\nvar add = SetHelpers.add;\nvar has = SetHelpers.has;\n\n// `Set.prototype.intersection` method\n// https://tc39.es/ecma262/#sec-set.prototype.intersection\nmodule.exports = function intersection(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  var result = new Set();\n\n  if (size(O) > otherRec.size) {\n    iterateSimple(otherRec.getIterator(), function (e) {\n      if (has(O, e)) add(result, e);\n    });\n  } else {\n    iterateSet(O, function (e) {\n      if (otherRec.includes(e)) add(result, e);\n    });\n  }\n\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 8773:\n/***/ ((__unused_webpack_module, exports) => {\n\n\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n\n\n/***/ }),\n\n/***/ 8981:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar requireObjectCoercible = __webpack_require__(7750);\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n\n\n/***/ }),\n\n/***/ 9039:\n/***/ ((module) => {\n\n\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n\n\n/***/ }),\n\n/***/ 9143:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar globalThis = __webpack_require__(4576);\nvar uncurryThis = __webpack_require__(9504);\nvar anObjectOrUndefined = __webpack_require__(3972);\nvar aString = __webpack_require__(3463);\nvar hasOwn = __webpack_require__(9297);\nvar base64Map = __webpack_require__(2804);\nvar getAlphabetOption = __webpack_require__(944);\nvar notDetached = __webpack_require__(5169);\n\nvar base64Alphabet = base64Map.c2i;\nvar base64UrlAlphabet = base64Map.c2iUrl;\n\nvar SyntaxError = globalThis.SyntaxError;\nvar TypeError = globalThis.TypeError;\nvar at = uncurryThis(''.charAt);\n\nvar skipAsciiWhitespace = function (string, index) {\n  var length = string.length;\n  for (;index < length; index++) {\n    var chr = at(string, index);\n    if (chr !== ' ' && chr !== '\\t' && chr !== '\\n' && chr !== '\\f' && chr !== '\\r') break;\n  } return index;\n};\n\nvar decodeBase64Chunk = function (chunk, alphabet, throwOnExtraBits) {\n  var chunkLength = chunk.length;\n\n  if (chunkLength < 4) {\n    chunk += chunkLength === 2 ? 'AA' : 'A';\n  }\n\n  var triplet = (alphabet[at(chunk, 0)] << 18)\n    + (alphabet[at(chunk, 1)] << 12)\n    + (alphabet[at(chunk, 2)] << 6)\n    + alphabet[at(chunk, 3)];\n\n  var chunkBytes = [\n    (triplet >> 16) & 255,\n    (triplet >> 8) & 255,\n    triplet & 255\n  ];\n\n  if (chunkLength === 2) {\n    if (throwOnExtraBits && chunkBytes[1] !== 0) {\n      throw new SyntaxError('Extra bits');\n    }\n    return [chunkBytes[0]];\n  }\n\n  if (chunkLength === 3) {\n    if (throwOnExtraBits && chunkBytes[2] !== 0) {\n      throw new SyntaxError('Extra bits');\n    }\n    return [chunkBytes[0], chunkBytes[1]];\n  }\n\n  return chunkBytes;\n};\n\nvar writeBytes = function (bytes, elements, written) {\n  var elementsLength = elements.length;\n  for (var index = 0; index < elementsLength; index++) {\n    bytes[written + index] = elements[index];\n  }\n  return written + elementsLength;\n};\n\n/* eslint-disable max-statements, max-depth -- TODO */\nmodule.exports = function (string, options, into, maxLength) {\n  aString(string);\n  anObjectOrUndefined(options);\n  var alphabet = getAlphabetOption(options) === 'base64' ? base64Alphabet : base64UrlAlphabet;\n  var lastChunkHandling = options ? options.lastChunkHandling : undefined;\n\n  if (lastChunkHandling === undefined) lastChunkHandling = 'loose';\n\n  if (lastChunkHandling !== 'loose' && lastChunkHandling !== 'strict' && lastChunkHandling !== 'stop-before-partial') {\n    throw new TypeError('Incorrect `lastChunkHandling` option');\n  }\n\n  if (into) notDetached(into.buffer);\n\n  var stringLength = string.length;\n  var bytes = into || [];\n  var written = 0;\n  var read = 0;\n  var chunk = '';\n  var index = 0;\n\n  if (maxLength) while (true) {\n    index = skipAsciiWhitespace(string, index);\n    if (index === stringLength) {\n      if (chunk.length > 0) {\n        if (lastChunkHandling === 'stop-before-partial') {\n          break;\n        }\n        if (lastChunkHandling === 'loose') {\n          if (chunk.length === 1) {\n            throw new SyntaxError('Malformed padding: exactly one additional character');\n          }\n          written = writeBytes(bytes, decodeBase64Chunk(chunk, alphabet, false), written);\n        } else {\n          throw new SyntaxError('Missing padding');\n        }\n      }\n      read = stringLength;\n      break;\n    }\n    var chr = at(string, index);\n    ++index;\n    if (chr === '=') {\n      if (chunk.length < 2) {\n        throw new SyntaxError('Padding is too early');\n      }\n      index = skipAsciiWhitespace(string, index);\n      if (chunk.length === 2) {\n        if (index === stringLength) {\n          if (lastChunkHandling === 'stop-before-partial') {\n            break;\n          }\n          throw new SyntaxError('Malformed padding: only one =');\n        }\n        if (at(string, index) === '=') {\n          ++index;\n          index = skipAsciiWhitespace(string, index);\n        }\n      }\n      if (index < stringLength) {\n        throw new SyntaxError('Unexpected character after padding');\n      }\n      written = writeBytes(bytes, decodeBase64Chunk(chunk, alphabet, lastChunkHandling === 'strict'), written);\n      read = stringLength;\n      break;\n    }\n    if (!hasOwn(alphabet, chr)) {\n      throw new SyntaxError('Unexpected character');\n    }\n    var remainingBytes = maxLength - written;\n    if (remainingBytes === 1 && chunk.length === 2 || remainingBytes === 2 && chunk.length === 3) {\n      // special case: we can fit exactly the number of bytes currently represented by chunk, so we were just checking for `=`\n      break;\n    }\n\n    chunk += chr;\n    if (chunk.length === 4) {\n      written = writeBytes(bytes, decodeBase64Chunk(chunk, alphabet, false), written);\n      chunk = '';\n      read = index;\n      if (written === maxLength) {\n        break;\n      }\n    }\n  }\n\n  return { bytes: bytes, read: read, written: written };\n};\n\n\n/***/ }),\n\n/***/ 9286:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar SetHelpers = __webpack_require__(4402);\nvar iterate = __webpack_require__(8469);\n\nvar Set = SetHelpers.Set;\nvar add = SetHelpers.add;\n\nmodule.exports = function (set) {\n  var result = new Set();\n  iterate(set, function (it) {\n    add(result, it);\n  });\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 9297:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\nvar toObject = __webpack_require__(8981);\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n\n\n/***/ }),\n\n/***/ 9306:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isCallable = __webpack_require__(4901);\nvar tryToString = __webpack_require__(6823);\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw new $TypeError(tryToString(argument) + ' is not a function');\n};\n\n\n/***/ }),\n\n/***/ 9314:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar call = __webpack_require__(9565);\nvar anObject = __webpack_require__(8551);\nvar getIteratorDirect = __webpack_require__(1767);\nvar notANaN = __webpack_require__(4149);\nvar toPositiveInteger = __webpack_require__(9590);\nvar iteratorClose = __webpack_require__(9539);\nvar createIteratorProxy = __webpack_require__(9462);\nvar iteratorHelperThrowsOnInvalidIterator = __webpack_require__(684);\nvar iteratorHelperWithoutClosingOnEarlyError = __webpack_require__(4549);\nvar IS_PURE = __webpack_require__(6395);\n\nvar DROP_WITHOUT_THROWING_ON_INVALID_ITERATOR = !IS_PURE && !iteratorHelperThrowsOnInvalidIterator('drop', 0);\nvar dropWithoutClosingOnEarlyError = !IS_PURE && !DROP_WITHOUT_THROWING_ON_INVALID_ITERATOR\n  && iteratorHelperWithoutClosingOnEarlyError('drop', RangeError);\n\nvar FORCED = IS_PURE || DROP_WITHOUT_THROWING_ON_INVALID_ITERATOR || dropWithoutClosingOnEarlyError;\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var next = this.next;\n  var result, done;\n  while (this.remaining) {\n    this.remaining--;\n    result = anObject(call(next, iterator));\n    done = this.done = !!result.done;\n    if (done) return;\n  }\n  result = anObject(call(next, iterator));\n  done = this.done = !!result.done;\n  if (!done) return result.value;\n});\n\n// `Iterator.prototype.drop` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.drop\n$({ target: 'Iterator', proto: true, real: true, forced: FORCED }, {\n  drop: function drop(limit) {\n    anObject(this);\n    var remaining;\n    try {\n      remaining = toPositiveInteger(notANaN(+limit));\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (dropWithoutClosingOnEarlyError) return call(dropWithoutClosingOnEarlyError, this, remaining);\n\n    return new IteratorProxy(getIteratorDirect(this), {\n      remaining: remaining\n    });\n  }\n});\n\n\n/***/ }),\n\n/***/ 9429:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar globalThis = __webpack_require__(4576);\nvar IS_NODE = __webpack_require__(6193);\n\nmodule.exports = function (name) {\n  if (IS_NODE) {\n    try {\n      return globalThis.process.getBuiltinModule(name);\n    } catch (error) { /* empty */ }\n    try {\n      // eslint-disable-next-line no-new-func -- safe\n      return Function('return require(\"' + name + '\")')();\n    } catch (error) { /* empty */ }\n  }\n};\n\n\n/***/ }),\n\n/***/ 9432:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\n// TODO: Remove from `core-js@4`\n__webpack_require__(5213);\n\n\n/***/ }),\n\n/***/ 9433:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar globalThis = __webpack_require__(4576);\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(globalThis, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    globalThis[key] = value;\n  } return value;\n};\n\n\n/***/ }),\n\n/***/ 9462:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar call = __webpack_require__(9565);\nvar create = __webpack_require__(2360);\nvar createNonEnumerableProperty = __webpack_require__(6699);\nvar defineBuiltIns = __webpack_require__(6279);\nvar wellKnownSymbol = __webpack_require__(8227);\nvar InternalStateModule = __webpack_require__(1181);\nvar getMethod = __webpack_require__(5966);\nvar IteratorPrototype = (__webpack_require__(7657).IteratorPrototype);\nvar createIterResultObject = __webpack_require__(2529);\nvar iteratorClose = __webpack_require__(9539);\nvar iteratorCloseAll = __webpack_require__(1385);\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ITERATOR_HELPER = 'IteratorHelper';\nvar WRAP_FOR_VALID_ITERATOR = 'WrapForValidIterator';\nvar NORMAL = 'normal';\nvar THROW = 'throw';\nvar setInternalState = InternalStateModule.set;\n\nvar createIteratorProxyPrototype = function (IS_ITERATOR) {\n  var getInternalState = InternalStateModule.getterFor(IS_ITERATOR ? WRAP_FOR_VALID_ITERATOR : ITERATOR_HELPER);\n\n  return defineBuiltIns(create(IteratorPrototype), {\n    next: function next() {\n      var state = getInternalState(this);\n      // for simplification:\n      //   for `%WrapForValidIteratorPrototype%.next` or with `state.returnHandlerResult` our `nextHandler` returns `IterResultObject`\n      //   for `%IteratorHelperPrototype%.next` - just a value\n      if (IS_ITERATOR) return state.nextHandler();\n      if (state.done) return createIterResultObject(undefined, true);\n      try {\n        var result = state.nextHandler();\n        return state.returnHandlerResult ? result : createIterResultObject(result, state.done);\n      } catch (error) {\n        state.done = true;\n        throw error;\n      }\n    },\n    'return': function () {\n      var state = getInternalState(this);\n      var iterator = state.iterator;\n      state.done = true;\n      if (IS_ITERATOR) {\n        var returnMethod = getMethod(iterator, 'return');\n        return returnMethod ? call(returnMethod, iterator) : createIterResultObject(undefined, true);\n      }\n      if (state.inner) try {\n        iteratorClose(state.inner.iterator, NORMAL);\n      } catch (error) {\n        return iteratorClose(iterator, THROW, error);\n      }\n      if (state.openIters) try {\n        iteratorCloseAll(state.openIters, NORMAL);\n      } catch (error) {\n        return iteratorClose(iterator, THROW, error);\n      }\n      if (iterator) iteratorClose(iterator, NORMAL);\n      return createIterResultObject(undefined, true);\n    }\n  });\n};\n\nvar WrapForValidIteratorPrototype = createIteratorProxyPrototype(true);\nvar IteratorHelperPrototype = createIteratorProxyPrototype(false);\n\ncreateNonEnumerableProperty(IteratorHelperPrototype, TO_STRING_TAG, 'Iterator Helper');\n\nmodule.exports = function (nextHandler, IS_ITERATOR, RETURN_HANDLER_RESULT) {\n  var IteratorProxy = function Iterator(record, state) {\n    if (state) {\n      state.iterator = record.iterator;\n      state.next = record.next;\n    } else state = record;\n    state.type = IS_ITERATOR ? WRAP_FOR_VALID_ITERATOR : ITERATOR_HELPER;\n    state.returnHandlerResult = !!RETURN_HANDLER_RESULT;\n    state.nextHandler = nextHandler;\n    state.counter = 0;\n    state.done = false;\n    setInternalState(this, state);\n  };\n\n  IteratorProxy.prototype = IS_ITERATOR ? WrapForValidIteratorPrototype : IteratorHelperPrototype;\n\n  return IteratorProxy;\n};\n\n\n/***/ }),\n\n/***/ 9486:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar globalThis = __webpack_require__(4576);\nvar uncurryThis = __webpack_require__(9504);\nvar anObjectOrUndefined = __webpack_require__(3972);\nvar anUint8Array = __webpack_require__(4154);\nvar notDetached = __webpack_require__(5169);\nvar base64Map = __webpack_require__(2804);\nvar getAlphabetOption = __webpack_require__(944);\n\nvar base64Alphabet = base64Map.i2c;\nvar base64UrlAlphabet = base64Map.i2cUrl;\n\nvar charAt = uncurryThis(''.charAt);\n\nvar Uint8Array = globalThis.Uint8Array;\n\nvar INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS = !Uint8Array || !Uint8Array.prototype.toBase64 || !function () {\n  try {\n    var target = new Uint8Array();\n    target.toBase64(null);\n  } catch (error) {\n    return true;\n  }\n}();\n\n// `Uint8Array.prototype.toBase64` method\n// https://github.com/tc39/proposal-arraybuffer-base64\nif (Uint8Array) $({ target: 'Uint8Array', proto: true, forced: INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS }, {\n  toBase64: function toBase64(/* options */) {\n    var array = anUint8Array(this);\n    var options = arguments.length ? anObjectOrUndefined(arguments[0]) : undefined;\n    var alphabet = getAlphabetOption(options) === 'base64' ? base64Alphabet : base64UrlAlphabet;\n    var omitPadding = !!options && !!options.omitPadding;\n    notDetached(this.buffer);\n\n    var result = '';\n    var i = 0;\n    var length = array.length;\n    var triplet;\n\n    var at = function (shift) {\n      return charAt(alphabet, (triplet >> (6 * shift)) & 63);\n    };\n\n    for (; i + 2 < length; i += 3) {\n      triplet = (array[i] << 16) + (array[i + 1] << 8) + array[i + 2];\n      result += at(3) + at(2) + at(1) + at(0);\n    }\n    if (i + 2 === length) {\n      triplet = (array[i] << 16) + (array[i + 1] << 8);\n      result += at(3) + at(2) + at(1) + (omitPadding ? '' : '=');\n    } else if (i + 1 === length) {\n      triplet = array[i] << 16;\n      result += at(3) + at(2) + (omitPadding ? '' : '==');\n    }\n\n    return result;\n  }\n});\n\n\n/***/ }),\n\n/***/ 9504:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar NATIVE_BIND = __webpack_require__(616);\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\n// eslint-disable-next-line es/no-function-prototype-bind -- safe\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n\n\n/***/ }),\n\n/***/ 9519:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar globalThis = __webpack_require__(4576);\nvar userAgent = __webpack_require__(2839);\n\nvar process = globalThis.process;\nvar Deno = globalThis.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n\n\n/***/ }),\n\n/***/ 9539:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar call = __webpack_require__(9565);\nvar anObject = __webpack_require__(8551);\nvar getMethod = __webpack_require__(5966);\n\nmodule.exports = function (iterator, kind, value) {\n  var innerResult, innerError;\n  anObject(iterator);\n  try {\n    innerResult = getMethod(iterator, 'return');\n    if (!innerResult) {\n      if (kind === 'throw') throw value;\n      return value;\n    }\n    innerResult = call(innerResult, iterator);\n  } catch (error) {\n    innerError = true;\n    innerResult = error;\n  }\n  if (kind === 'throw') throw value;\n  if (innerError) throw innerResult;\n  anObject(innerResult);\n  return value;\n};\n\n\n/***/ }),\n\n/***/ 9565:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar NATIVE_BIND = __webpack_require__(616);\n\nvar call = Function.prototype.call;\n// eslint-disable-next-line es/no-function-prototype-bind -- safe\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n\n\n/***/ }),\n\n/***/ 9577:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar arrayWith = __webpack_require__(9928);\nvar ArrayBufferViewCore = __webpack_require__(4644);\nvar isBigIntArray = __webpack_require__(1108);\nvar toIntegerOrInfinity = __webpack_require__(1291);\nvar toBigInt = __webpack_require__(5854);\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar getTypedArrayConstructor = ArrayBufferViewCore.getTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\nvar PROPER_ORDER = function () {\n  try {\n    // eslint-disable-next-line no-throw-literal, es/no-typed-arrays, es/no-array-prototype-with -- required for testing\n    new Int8Array(1)['with'](2, { valueOf: function () { throw 8; } });\n  } catch (error) {\n    // some early implementations, like WebKit, does not follow the final semantic\n    // https://github.com/tc39/proposal-change-array-by-copy/pull/86\n    return error === 8;\n  }\n}();\n\n// Bug in WebKit. It should truncate a negative fractional index to zero, but instead throws an error\nvar THROW_ON_NEGATIVE_FRACTIONAL_INDEX = PROPER_ORDER && function () {\n  try {\n    // eslint-disable-next-line es/no-typed-arrays, es/no-array-prototype-with -- required for testing\n    new Int8Array(1)['with'](-0.5, 1);\n  } catch (error) {\n    return true;\n  }\n}();\n\n// `%TypedArray%.prototype.with` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.with\nexportTypedArrayMethod('with', { 'with': function (index, value) {\n  var O = aTypedArray(this);\n  var relativeIndex = toIntegerOrInfinity(index);\n  var actualValue = isBigIntArray(O) ? toBigInt(value) : +value;\n  return arrayWith(O, getTypedArrayConstructor(O), relativeIndex, actualValue);\n} }['with'], !PROPER_ORDER || THROW_ON_NEGATIVE_FRACTIONAL_INDEX);\n\n\n/***/ }),\n\n/***/ 9590:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar toIntegerOrInfinity = __webpack_require__(1291);\n\nvar $RangeError = RangeError;\n\nmodule.exports = function (it) {\n  var result = toIntegerOrInfinity(it);\n  if (result < 0) throw new $RangeError(\"The argument can't be less than 0\");\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 9617:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar toIndexedObject = __webpack_require__(5397);\nvar toAbsoluteIndex = __webpack_require__(5610);\nvar lengthOfArrayLike = __webpack_require__(6198);\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    if (length === 0) return !IS_INCLUDES && -1;\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el !== el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value !== value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n\n\n/***/ }),\n\n/***/ 9631:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\n// TODO: Remove from `core-js@4`\n__webpack_require__(9486);\n\n\n/***/ }),\n\n/***/ 9797:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\n// TODO: Remove from `core-js@4`\n__webpack_require__(4226);\n\n\n/***/ }),\n\n/***/ 9835:\n/***/ ((module) => {\n\n\n// Should get iterator record of a set-like object before cloning this\n// https://bugs.webkit.org/show_bug.cgi?id=289430\nmodule.exports = function (METHOD_NAME) {\n  try {\n    // eslint-disable-next-line es/no-set -- needed for test\n    var baseSet = new Set();\n    var setLike = {\n      size: 0,\n      has: function () { return true; },\n      keys: function () {\n        // eslint-disable-next-line es/no-object-defineproperty -- needed for test\n        return Object.defineProperty({}, 'next', {\n          get: function () {\n            baseSet.clear();\n            baseSet.add(4);\n            return function () {\n              return { done: true };\n            };\n          }\n        });\n      }\n    };\n    var result = baseSet[METHOD_NAME](setLike);\n\n    return result.size === 1 && result.values().next().value === 4;\n  } catch (error) {\n    return false;\n  }\n};\n\n\n/***/ }),\n\n/***/ 9928:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar lengthOfArrayLike = __webpack_require__(6198);\nvar toIntegerOrInfinity = __webpack_require__(1291);\n\nvar $RangeError = RangeError;\n\n// https://tc39.es/ecma262/#sec-array.prototype.with\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.with\nmodule.exports = function (O, C, index, value) {\n  var len = lengthOfArrayLike(O);\n  var relativeIndex = toIntegerOrInfinity(index);\n  var actualIndex = relativeIndex < 0 ? len + relativeIndex : relativeIndex;\n  if (actualIndex >= len || actualIndex < 0) throw new $RangeError('Incorrect index');\n  var A = new C(len);\n  var k = 0;\n  for (; k < len; k++) A[k] = k === actualIndex ? value : O[k];\n  return A;\n};\n\n\n/***/ })\n\n/******/ });\n/************************************************************************/\n/******/ // The module cache\n/******/ var __webpack_module_cache__ = {};\n/******/ \n/******/ // The require function\n/******/ function __webpack_require__(moduleId) {\n/******/ \t// Check if module is in cache\n/******/ \tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \tif (cachedModule !== undefined) {\n/******/ \t\treturn cachedModule.exports;\n/******/ \t}\n/******/ \t// Create a new module (and put it into the cache)\n/******/ \tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t// no module.id needed\n/******/ \t\t// no module.loaded needed\n/******/ \t\texports: {}\n/******/ \t};\n/******/ \n/******/ \t// Execute the module function\n/******/ \t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \n/******/ \t// Return the exports of the module\n/******/ \treturn module.exports;\n/******/ }\n/******/ \n/************************************************************************/\n/******/ /* webpack/runtime/define property getters */\n/******/ (() => {\n/******/ \t// define getter functions for harmony exports\n/******/ \t__webpack_require__.d = (exports, definition) => {\n/******/ \t\tfor(var key in definition) {\n/******/ \t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/hasOwnProperty shorthand */\n/******/ (() => {\n/******/ \t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ })();\n/******/ \n/************************************************************************/\nvar __webpack_exports__ = {};\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.push.js\nvar es_array_push = __webpack_require__(4114);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array-buffer.detached.js\nvar es_array_buffer_detached = __webpack_require__(6573);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array-buffer.transfer.js\nvar es_array_buffer_transfer = __webpack_require__(8100);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array-buffer.transfer-to-fixed-length.js\nvar es_array_buffer_transfer_to_fixed_length = __webpack_require__(7936);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.iterator.constructor.js\nvar es_iterator_constructor = __webpack_require__(8111);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.iterator.reduce.js\nvar es_iterator_reduce = __webpack_require__(8237);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.try.js\nvar es_promise_try = __webpack_require__(1689);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.with.js\nvar es_typed_array_with = __webpack_require__(9577);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.math.sum-precise.js\nvar esnext_math_sum_precise = __webpack_require__(4235);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.uint8-array.from-base64.js\nvar esnext_uint8_array_from_base64 = __webpack_require__(9432);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.uint8-array.set-from-base64.js\nvar esnext_uint8_array_set_from_base64 = __webpack_require__(1549);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.uint8-array.set-from-hex.js\nvar esnext_uint8_array_set_from_hex = __webpack_require__(9797);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.uint8-array.to-base64.js\nvar esnext_uint8_array_to_base64 = __webpack_require__(9631);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.uint8-array.to-hex.js\nvar esnext_uint8_array_to_hex = __webpack_require__(5623);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-exception.stack.js\nvar web_dom_exception_stack = __webpack_require__(4979);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url.parse.js\nvar web_url_parse = __webpack_require__(5781);\n;// ./src/shared/util.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst isNodeJS = typeof process === \"object\" && process + \"\" === \"[object process]\" && !process.versions.nw && !(process.versions.electron && process.type && process.type !== \"browser\");\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\nconst LINE_FACTOR = 1.35;\nconst LINE_DESCENT_FACTOR = 0.35;\nconst BASELINE_FACTOR = LINE_DESCENT_FACTOR / LINE_FACTOR;\nconst RenderingIntentFlag = {\n  ANY: 0x01,\n  DISPLAY: 0x02,\n  PRINT: 0x04,\n  SAVE: 0x08,\n  ANNOTATIONS_FORMS: 0x10,\n  ANNOTATIONS_STORAGE: 0x20,\n  ANNOTATIONS_DISABLE: 0x40,\n  IS_EDITING: 0x80,\n  OPLIST: 0x100\n};\nconst AnnotationMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_FORMS: 2,\n  ENABLE_STORAGE: 3\n};\nconst AnnotationEditorPrefix = \"pdfjs_internal_editor_\";\nconst AnnotationEditorType = {\n  DISABLE: -1,\n  NONE: 0,\n  FREETEXT: 3,\n  HIGHLIGHT: 9,\n  STAMP: 13,\n  INK: 15,\n  POPUP: 16,\n  SIGNATURE: 101,\n  COMMENT: 102\n};\nconst AnnotationEditorParamsType = {\n  RESIZE: 1,\n  CREATE: 2,\n  FREETEXT_SIZE: 11,\n  FREETEXT_COLOR: 12,\n  FREETEXT_OPACITY: 13,\n  INK_COLOR: 21,\n  INK_THICKNESS: 22,\n  INK_OPACITY: 23,\n  HIGHLIGHT_COLOR: 31,\n  HIGHLIGHT_THICKNESS: 32,\n  HIGHLIGHT_FREE: 33,\n  HIGHLIGHT_SHOW_ALL: 34,\n  DRAW_STEP: 41\n};\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800\n};\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4\n};\nconst util_ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3\n};\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26\n};\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\"\n};\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200\n};\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000\n};\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5\n};\nconst AnnotationActionEventType = {\n  E: \"Mouse Enter\",\n  X: \"Mouse Exit\",\n  D: \"Mouse Down\",\n  U: \"Mouse Up\",\n  Fo: \"Focus\",\n  Bl: \"Blur\",\n  PO: \"PageOpen\",\n  PC: \"PageClose\",\n  PV: \"PageVisible\",\n  PI: \"PageInvisible\",\n  K: \"Keystroke\",\n  F: \"Format\",\n  V: \"Validate\",\n  C: \"Calculate\"\n};\nconst DocumentActionEventType = {\n  WC: \"WillClose\",\n  WS: \"WillSave\",\n  DS: \"DidSave\",\n  WP: \"WillPrint\",\n  DP: \"DidPrint\"\n};\nconst PageActionEventType = {\n  O: \"PageOpen\",\n  C: \"PageClose\"\n};\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5\n};\nconst OPS = {\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91,\n  setStrokeTransparent: 92,\n  setFillTransparent: 93,\n  rawFillPath: 94\n};\nconst DrawOPS = {\n  moveTo: 0,\n  lineTo: 1,\n  curveTo: 2,\n  closePath: 3\n};\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2\n};\nlet verbosity = VerbosityLevel.WARNINGS;\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\nfunction getVerbosityLevel() {\n  return verbosity;\n}\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    console.info(`Info: ${msg}`);\n  }\n}\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    console.warn(`Warning: ${msg}`);\n  }\n}\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\nfunction _isValidProtocol(url) {\n  switch (url?.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n    default:\n      return false;\n  }\n}\nfunction createValidAbsoluteUrl(url, baseUrl = null, options = null) {\n  if (!url) {\n    return null;\n  }\n  if (options && typeof url === \"string\") {\n    if (options.addDefaultProtocol && url.startsWith(\"www.\")) {\n      const dots = url.match(/\\./g);\n      if (dots?.length >= 2) {\n        url = `http://${url}`;\n      }\n    }\n    if (options.tryConvertEncoding) {\n      try {\n        url = stringToUTF8String(url);\n      } catch {}\n    }\n  }\n  const absoluteUrl = baseUrl ? URL.parse(url, baseUrl) : URL.parse(url);\n  return _isValidProtocol(absoluteUrl) ? absoluteUrl : null;\n}\nfunction updateUrlHash(url, hash, allowRel = false) {\n  const res = URL.parse(url);\n  if (res) {\n    res.hash = hash;\n    return res.href;\n  }\n  if (allowRel && createValidAbsoluteUrl(url, \"http://example.com\")) {\n    return url.split(\"#\", 1)[0] + `${hash ? `#${hash}` : \"\"}`;\n  }\n  return \"\";\n}\nfunction shadow(obj, prop, value, nonSerializable = false) {\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: !nonSerializable,\n    configurable: true,\n    writable: false\n  });\n  return value;\n}\nconst BaseException = function BaseExceptionClosure() {\n  function BaseException(message, name) {\n    this.message = message;\n    this.name = name;\n  }\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n  return BaseException;\n}();\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg, \"PasswordException\");\n    this.code = code;\n  }\n}\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg, \"UnknownErrorException\");\n    this.details = details;\n  }\n}\nclass InvalidPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"InvalidPDFException\");\n  }\n}\nclass ResponseException extends BaseException {\n  constructor(msg, status, missing) {\n    super(msg, \"ResponseException\");\n    this.status = status;\n    this.missing = missing;\n  }\n}\nclass FormatError extends BaseException {\n  constructor(msg) {\n    super(msg, \"FormatError\");\n  }\n}\nclass AbortException extends BaseException {\n  constructor(msg) {\n    super(msg, \"AbortException\");\n  }\n}\nfunction bytesToString(bytes) {\n  if (typeof bytes !== \"object\" || bytes?.length === undefined) {\n    unreachable(\"Invalid argument for bytesToString\");\n  }\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  const strBuf = [];\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join(\"\");\n}\nfunction stringToBytes(str) {\n  if (typeof str !== \"string\") {\n    unreachable(\"Invalid argument for stringToBytes\");\n  }\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n  return bytes;\n}\nfunction string32(value) {\n  return String.fromCharCode(value >> 24 & 0xff, value >> 16 & 0xff, value >> 8 & 0xff, value & 0xff);\n}\nfunction objectSize(obj) {\n  return Object.keys(obj).length;\n}\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\nfunction isEvalSupported() {\n  try {\n    new Function(\"\");\n    return true;\n  } catch {\n    return false;\n  }\n}\nclass util_FeatureTest {\n  static get isLittleEndian() {\n    return shadow(this, \"isLittleEndian\", isLittleEndian());\n  }\n  static get isEvalSupported() {\n    return shadow(this, \"isEvalSupported\", isEvalSupported());\n  }\n  static get isOffscreenCanvasSupported() {\n    return shadow(this, \"isOffscreenCanvasSupported\", typeof OffscreenCanvas !== \"undefined\");\n  }\n  static get isImageDecoderSupported() {\n    return shadow(this, \"isImageDecoderSupported\", typeof ImageDecoder !== \"undefined\");\n  }\n  static get platform() {\n    const {\n      platform,\n      userAgent\n    } = navigator;\n    return shadow(this, \"platform\", {\n      isAndroid: userAgent.includes(\"Android\"),\n      isLinux: platform.includes(\"Linux\"),\n      isMac: platform.includes(\"Mac\"),\n      isWindows: platform.includes(\"Win\"),\n      isFirefox: userAgent.includes(\"Firefox\")\n    });\n  }\n  static get isCSSRoundSupported() {\n    return shadow(this, \"isCSSRoundSupported\", globalThis.CSS?.supports?.(\"width: round(1.5px, 1px)\"));\n  }\n}\nconst hexNumbers = Array.from(Array(256).keys(), n => n.toString(16).padStart(2, \"0\"));\nclass Util {\n  static makeHexColor(r, g, b) {\n    return `#${hexNumbers[r]}${hexNumbers[g]}${hexNumbers[b]}`;\n  }\n  static domMatrixToTransform(dm) {\n    return [dm.a, dm.b, dm.c, dm.d, dm.e, dm.f];\n  }\n  static scaleMinMax(transform, minMax) {\n    let temp;\n    if (transform[0]) {\n      if (transform[0] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[0];\n      minMax[2] *= transform[0];\n      if (transform[3] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[3];\n      minMax[3] *= transform[3];\n    } else {\n      temp = minMax[0];\n      minMax[0] = minMax[1];\n      minMax[1] = temp;\n      temp = minMax[2];\n      minMax[2] = minMax[3];\n      minMax[3] = temp;\n      if (transform[1] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[1];\n      minMax[3] *= transform[1];\n      if (transform[2] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[2];\n      minMax[2] *= transform[2];\n    }\n    minMax[0] += transform[4];\n    minMax[1] += transform[5];\n    minMax[2] += transform[4];\n    minMax[3] += transform[5];\n  }\n  static transform(m1, m2) {\n    return [m1[0] * m2[0] + m1[2] * m2[1], m1[1] * m2[0] + m1[3] * m2[1], m1[0] * m2[2] + m1[2] * m2[3], m1[1] * m2[2] + m1[3] * m2[3], m1[0] * m2[4] + m1[2] * m2[5] + m1[4], m1[1] * m2[4] + m1[3] * m2[5] + m1[5]];\n  }\n  static multiplyByDOMMatrix(m, md) {\n    return [m[0] * md.a + m[2] * md.b, m[1] * md.a + m[3] * md.b, m[0] * md.c + m[2] * md.d, m[1] * md.c + m[3] * md.d, m[0] * md.e + m[2] * md.f + m[4], m[1] * md.e + m[3] * md.f + m[5]];\n  }\n  static applyTransform(p, m, pos = 0) {\n    const p0 = p[pos];\n    const p1 = p[pos + 1];\n    p[pos] = p0 * m[0] + p1 * m[2] + m[4];\n    p[pos + 1] = p0 * m[1] + p1 * m[3] + m[5];\n  }\n  static applyTransformToBezier(p, transform, pos = 0) {\n    const m0 = transform[0];\n    const m1 = transform[1];\n    const m2 = transform[2];\n    const m3 = transform[3];\n    const m4 = transform[4];\n    const m5 = transform[5];\n    for (let i = 0; i < 6; i += 2) {\n      const pI = p[pos + i];\n      const pI1 = p[pos + i + 1];\n      p[pos + i] = pI * m0 + pI1 * m2 + m4;\n      p[pos + i + 1] = pI * m1 + pI1 * m3 + m5;\n    }\n  }\n  static applyInverseTransform(p, m) {\n    const p0 = p[0];\n    const p1 = p[1];\n    const d = m[0] * m[3] - m[1] * m[2];\n    p[0] = (p0 * m[3] - p1 * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    p[1] = (-p0 * m[1] + p1 * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n  }\n  static axialAlignedBoundingBox(rect, transform, output) {\n    const m0 = transform[0];\n    const m1 = transform[1];\n    const m2 = transform[2];\n    const m3 = transform[3];\n    const m4 = transform[4];\n    const m5 = transform[5];\n    const r0 = rect[0];\n    const r1 = rect[1];\n    const r2 = rect[2];\n    const r3 = rect[3];\n    let a0 = m0 * r0 + m4;\n    let a2 = a0;\n    let a1 = m0 * r2 + m4;\n    let a3 = a1;\n    let b0 = m3 * r1 + m5;\n    let b2 = b0;\n    let b1 = m3 * r3 + m5;\n    let b3 = b1;\n    if (m1 !== 0 || m2 !== 0) {\n      const m1r0 = m1 * r0;\n      const m1r2 = m1 * r2;\n      const m2r1 = m2 * r1;\n      const m2r3 = m2 * r3;\n      a0 += m2r1;\n      a3 += m2r1;\n      a1 += m2r3;\n      a2 += m2r3;\n      b0 += m1r0;\n      b3 += m1r0;\n      b1 += m1r2;\n      b2 += m1r2;\n    }\n    output[0] = Math.min(output[0], a0, a1, a2, a3);\n    output[1] = Math.min(output[1], b0, b1, b2, b3);\n    output[2] = Math.max(output[2], a0, a1, a2, a3);\n    output[3] = Math.max(output[3], b0, b1, b2, b3);\n  }\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [m[3] / d, -m[1] / d, -m[2] / d, m[0] / d, (m[2] * m[5] - m[4] * m[3]) / d, (m[4] * m[1] - m[5] * m[0]) / d];\n  }\n  static singularValueDecompose2dScale(matrix, output) {\n    const m0 = matrix[0];\n    const m1 = matrix[1];\n    const m2 = matrix[2];\n    const m3 = matrix[3];\n    const a = m0 ** 2 + m1 ** 2;\n    const b = m0 * m2 + m1 * m3;\n    const c = m2 ** 2 + m3 ** 2;\n    const first = (a + c) / 2;\n    const second = Math.sqrt(first ** 2 - (a * c - b ** 2));\n    output[0] = Math.sqrt(first + second || 1);\n    output[1] = Math.sqrt(first - second || 1);\n  }\n  static normalizeRect(rect) {\n    const r = rect.slice(0);\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  }\n  static intersect(rect1, rect2) {\n    const xLow = Math.max(Math.min(rect1[0], rect1[2]), Math.min(rect2[0], rect2[2]));\n    const xHigh = Math.min(Math.max(rect1[0], rect1[2]), Math.max(rect2[0], rect2[2]));\n    if (xLow > xHigh) {\n      return null;\n    }\n    const yLow = Math.max(Math.min(rect1[1], rect1[3]), Math.min(rect2[1], rect2[3]));\n    const yHigh = Math.min(Math.max(rect1[1], rect1[3]), Math.max(rect2[1], rect2[3]));\n    if (yLow > yHigh) {\n      return null;\n    }\n    return [xLow, yLow, xHigh, yHigh];\n  }\n  static pointBoundingBox(x, y, minMax) {\n    minMax[0] = Math.min(minMax[0], x);\n    minMax[1] = Math.min(minMax[1], y);\n    minMax[2] = Math.max(minMax[2], x);\n    minMax[3] = Math.max(minMax[3], y);\n  }\n  static rectBoundingBox(x0, y0, x1, y1, minMax) {\n    minMax[0] = Math.min(minMax[0], x0, x1);\n    minMax[1] = Math.min(minMax[1], y0, y1);\n    minMax[2] = Math.max(minMax[2], x0, x1);\n    minMax[3] = Math.max(minMax[3], y0, y1);\n  }\n  static #getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, t, minMax) {\n    if (t <= 0 || t >= 1) {\n      return;\n    }\n    const mt = 1 - t;\n    const tt = t * t;\n    const ttt = tt * t;\n    const x = mt * (mt * (mt * x0 + 3 * t * x1) + 3 * tt * x2) + ttt * x3;\n    const y = mt * (mt * (mt * y0 + 3 * t * y1) + 3 * tt * y2) + ttt * y3;\n    minMax[0] = Math.min(minMax[0], x);\n    minMax[1] = Math.min(minMax[1], y);\n    minMax[2] = Math.max(minMax[2], x);\n    minMax[3] = Math.max(minMax[3], y);\n  }\n  static #getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, a, b, c, minMax) {\n    if (Math.abs(a) < 1e-12) {\n      if (Math.abs(b) >= 1e-12) {\n        this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, -c / b, minMax);\n      }\n      return;\n    }\n    const delta = b ** 2 - 4 * c * a;\n    if (delta < 0) {\n      return;\n    }\n    const sqrtDelta = Math.sqrt(delta);\n    const a2 = 2 * a;\n    this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, (-b + sqrtDelta) / a2, minMax);\n    this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, (-b - sqrtDelta) / a2, minMax);\n  }\n  static bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3, minMax) {\n    minMax[0] = Math.min(minMax[0], x0, x3);\n    minMax[1] = Math.min(minMax[1], y0, y3);\n    minMax[2] = Math.max(minMax[2], x0, x3);\n    minMax[3] = Math.max(minMax[3], y0, y3);\n    this.#getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, 3 * (-x0 + 3 * (x1 - x2) + x3), 6 * (x0 - 2 * x1 + x2), 3 * (x1 - x0), minMax);\n    this.#getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, 3 * (-y0 + 3 * (y1 - y2) + y3), 6 * (y0 - 2 * y1 + y2), 3 * (y1 - y0), minMax);\n  }\n}\nconst PDFStringTranslateTable = (/* unused pure expression or super */ null && ([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2d8, 0x2c7, 0x2c6, 0x2d9, 0x2dd, 0x2db, 0x2da, 0x2dc, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014, 0x2013, 0x192, 0x2044, 0x2039, 0x203a, 0x2212, 0x2030, 0x201e, 0x201c, 0x201d, 0x2018, 0x2019, 0x201a, 0x2122, 0xfb01, 0xfb02, 0x141, 0x152, 0x160, 0x178, 0x17d, 0x131, 0x142, 0x153, 0x161, 0x17e, 0, 0x20ac]));\nfunction stringToPDFString(str, keepEscapeSequence = false) {\n  if (str[0] >= \"\\xEF\") {\n    let encoding;\n    if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n      encoding = \"utf-16be\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n      encoding = \"utf-16le\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xEF\" && str[1] === \"\\xBB\" && str[2] === \"\\xBF\") {\n      encoding = \"utf-8\";\n    }\n    if (encoding) {\n      try {\n        const decoder = new TextDecoder(encoding, {\n          fatal: true\n        });\n        const buffer = stringToBytes(str);\n        const decoded = decoder.decode(buffer);\n        if (keepEscapeSequence || !decoded.includes(\"\\x1b\")) {\n          return decoded;\n        }\n        return decoded.replaceAll(/\\x1b[^\\x1b]*(?:\\x1b|$)/g, \"\");\n      } catch (ex) {\n        warn(`stringToPDFString: \"${ex}\".`);\n      }\n    }\n  }\n  const strBuf = [];\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const charCode = str.charCodeAt(i);\n    if (!keepEscapeSequence && charCode === 0x1b) {\n      while (++i < ii && str.charCodeAt(i) !== 0x1b) {}\n      continue;\n    }\n    const code = PDFStringTranslateTable[charCode];\n    strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n  }\n  return strBuf.join(\"\");\n}\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  for (let i = 0, ii = arr1.length; i < ii; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction getModificationDate(date = new Date()) {\n  if (!(date instanceof Date)) {\n    date = new Date(date);\n  }\n  const buffer = [date.getUTCFullYear().toString(), (date.getUTCMonth() + 1).toString().padStart(2, \"0\"), date.getUTCDate().toString().padStart(2, \"0\"), date.getUTCHours().toString().padStart(2, \"0\"), date.getUTCMinutes().toString().padStart(2, \"0\"), date.getUTCSeconds().toString().padStart(2, \"0\")];\n  return buffer.join(\"\");\n}\nlet NormalizeRegex = null;\nlet NormalizationMap = null;\nfunction normalizeUnicode(str) {\n  if (!NormalizeRegex) {\n    NormalizeRegex = /([\\u00a0\\u00b5\\u037e\\u0eb3\\u2000-\\u200a\\u202f\\u2126\\ufb00-\\ufb04\\ufb06\\ufb20-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufba1\\ufba4-\\ufba9\\ufbae-\\ufbb1\\ufbd3-\\ufbdc\\ufbde-\\ufbe7\\ufbea-\\ufbf8\\ufbfc-\\ufbfd\\ufc00-\\ufc5d\\ufc64-\\ufcf1\\ufcf5-\\ufd3d\\ufd88\\ufdf4\\ufdfa-\\ufdfb\\ufe71\\ufe77\\ufe79\\ufe7b\\ufe7d]+)|(\\ufb05+)/gu;\n    NormalizationMap = new Map([[\"\", \"t\"]]);\n  }\n  return str.replaceAll(NormalizeRegex, (_, p1, p2) => p1 ? p1.normalize(\"NFKC\") : NormalizationMap.get(p2));\n}\nfunction getUuid() {\n  if (typeof crypto.randomUUID === \"function\") {\n    return crypto.randomUUID();\n  }\n  const buf = new Uint8Array(32);\n  crypto.getRandomValues(buf);\n  return bytesToString(buf);\n}\nconst AnnotationPrefix = \"pdfjs_internal_id_\";\nfunction _isValidExplicitDest(validRef, validName, dest) {\n  if (!Array.isArray(dest) || dest.length < 2) {\n    return false;\n  }\n  const [page, zoom, ...args] = dest;\n  if (!validRef(page) && !Number.isInteger(page)) {\n    return false;\n  }\n  if (!validName(zoom)) {\n    return false;\n  }\n  const argsLen = args.length;\n  let allowNull = true;\n  switch (zoom.name) {\n    case \"XYZ\":\n      if (argsLen < 2 || argsLen > 3) {\n        return false;\n      }\n      break;\n    case \"Fit\":\n    case \"FitB\":\n      return argsLen === 0;\n    case \"FitH\":\n    case \"FitBH\":\n    case \"FitV\":\n    case \"FitBV\":\n      if (argsLen > 1) {\n        return false;\n      }\n      break;\n    case \"FitR\":\n      if (argsLen !== 4) {\n        return false;\n      }\n      allowNull = false;\n      break;\n    default:\n      return false;\n  }\n  for (const arg of args) {\n    if (typeof arg === \"number\" || allowNull && arg === null) {\n      continue;\n    }\n    return false;\n  }\n  return true;\n}\nfunction MathClamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\nfunction toHexUtil(arr) {\n  if (Uint8Array.prototype.toHex) {\n    return arr.toHex();\n  }\n  return Array.from(arr, num => hexNumbers[num]).join(\"\");\n}\nfunction toBase64Util(arr) {\n  if (Uint8Array.prototype.toBase64) {\n    return arr.toBase64();\n  }\n  return btoa(bytesToString(arr));\n}\nfunction fromBase64Util(str) {\n  if (Uint8Array.fromBase64) {\n    return Uint8Array.fromBase64(str);\n  }\n  return stringToBytes(atob(str));\n}\nif (typeof Math.sumPrecise !== \"function\") {\n  Math.sumPrecise = function (numbers) {\n    return numbers.reduce((a, b) => a + b, 0);\n  };\n}\nif (typeof AbortSignal.any !== \"function\") {\n  AbortSignal.any = function (iterable) {\n    const ac = new AbortController();\n    const {\n      signal\n    } = ac;\n    for (const s of iterable) {\n      if (s.aborted) {\n        ac.abort(s.reason);\n        return signal;\n      }\n    }\n    for (const s of iterable) {\n      s.addEventListener(\"abort\", () => {\n        ac.abort(s.reason);\n      }, {\n        signal\n      });\n    }\n    return signal;\n  };\n}\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.iterator.map.js\nvar es_iterator_map = __webpack_require__(1701);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url-search-params.delete.js\nvar web_url_search_params_delete = __webpack_require__(4603);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url-search-params.has.js\nvar web_url_search_params_has = __webpack_require__(7566);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url-search-params.size.js\nvar web_url_search_params_size = __webpack_require__(8721);\n;// ./src/display/xfa_text.js\n\nclass XfaText {\n  static textContent(xfa) {\n    const items = [];\n    const output = {\n      items,\n      styles: Object.create(null)\n    };\n    function walk(node) {\n      if (!node) {\n        return;\n      }\n      let str = null;\n      const name = node.name;\n      if (name === \"#text\") {\n        str = node.value;\n      } else if (!XfaText.shouldBuildText(name)) {\n        return;\n      } else if (node?.attributes?.textContent) {\n        str = node.attributes.textContent;\n      } else if (node.value) {\n        str = node.value;\n      }\n      if (str !== null) {\n        items.push({\n          str\n        });\n      }\n      if (!node.children) {\n        return;\n      }\n      for (const child of node.children) {\n        walk(child);\n      }\n    }\n    walk(xfa);\n    return output;\n  }\n  static shouldBuildText(name) {\n    return !(name === \"textarea\" || name === \"input\" || name === \"option\" || name === \"select\");\n  }\n}\n\n;// ./src/display/xfa_layer.js\n\n\nclass XfaLayer {\n  static setupStorage(html, id, element, storage, intent) {\n    const storedData = storage.getValue(id, {\n      value: null\n    });\n    switch (element.name) {\n      case \"textarea\":\n        if (storedData.value !== null) {\n          html.textContent = storedData.value;\n        }\n        if (intent === \"print\") {\n          break;\n        }\n        html.addEventListener(\"input\", event => {\n          storage.setValue(id, {\n            value: event.target.value\n          });\n        });\n        break;\n      case \"input\":\n        if (element.attributes.type === \"radio\" || element.attributes.type === \"checkbox\") {\n          if (storedData.value === element.attributes.xfaOn) {\n            html.setAttribute(\"checked\", true);\n          } else if (storedData.value === element.attributes.xfaOff) {\n            html.removeAttribute(\"checked\");\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"change\", event => {\n            storage.setValue(id, {\n              value: event.target.checked ? event.target.getAttribute(\"xfaOn\") : event.target.getAttribute(\"xfaOff\")\n            });\n          });\n        } else {\n          if (storedData.value !== null) {\n            html.setAttribute(\"value\", storedData.value);\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"input\", event => {\n            storage.setValue(id, {\n              value: event.target.value\n            });\n          });\n        }\n        break;\n      case \"select\":\n        if (storedData.value !== null) {\n          html.setAttribute(\"value\", storedData.value);\n          for (const option of element.children) {\n            if (option.attributes.value === storedData.value) {\n              option.attributes.selected = true;\n            } else if (option.attributes.hasOwnProperty(\"selected\")) {\n              delete option.attributes.selected;\n            }\n          }\n        }\n        html.addEventListener(\"input\", event => {\n          const options = event.target.options;\n          const value = options.selectedIndex === -1 ? \"\" : options[options.selectedIndex].value;\n          storage.setValue(id, {\n            value\n          });\n        });\n        break;\n    }\n  }\n  static setAttributes({\n    html,\n    element,\n    storage = null,\n    intent,\n    linkService\n  }) {\n    const {\n      attributes\n    } = element;\n    const isHTMLAnchorElement = html instanceof HTMLAnchorElement;\n    if (attributes.type === \"radio\") {\n      attributes.name = `${attributes.name}-${intent}`;\n    }\n    for (const [key, value] of Object.entries(attributes)) {\n      if (value === null || value === undefined) {\n        continue;\n      }\n      switch (key) {\n        case \"class\":\n          if (value.length) {\n            html.setAttribute(key, value.join(\" \"));\n          }\n          break;\n        case \"dataId\":\n          break;\n        case \"id\":\n          html.setAttribute(\"data-element-id\", value);\n          break;\n        case \"style\":\n          Object.assign(html.style, value);\n          break;\n        case \"textContent\":\n          html.textContent = value;\n          break;\n        default:\n          if (!isHTMLAnchorElement || key !== \"href\" && key !== \"newWindow\") {\n            html.setAttribute(key, value);\n          }\n      }\n    }\n    if (isHTMLAnchorElement) {\n      linkService.addLinkAttributes(html, attributes.href, attributes.newWindow);\n    }\n    if (storage && attributes.dataId) {\n      this.setupStorage(html, attributes.dataId, element, storage);\n    }\n  }\n  static render(parameters) {\n    const storage = parameters.annotationStorage;\n    const linkService = parameters.linkService;\n    const root = parameters.xfaHtml;\n    const intent = parameters.intent || \"display\";\n    const rootHtml = document.createElement(root.name);\n    if (root.attributes) {\n      this.setAttributes({\n        html: rootHtml,\n        element: root,\n        intent,\n        linkService\n      });\n    }\n    const isNotForRichText = intent !== \"richText\";\n    const rootDiv = parameters.div;\n    rootDiv.append(rootHtml);\n    if (parameters.viewport) {\n      const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n      rootDiv.style.transform = transform;\n    }\n    if (isNotForRichText) {\n      rootDiv.setAttribute(\"class\", \"xfaLayer xfaFont\");\n    }\n    const textDivs = [];\n    if (root.children.length === 0) {\n      if (root.value) {\n        const node = document.createTextNode(root.value);\n        rootHtml.append(node);\n        if (isNotForRichText && XfaText.shouldBuildText(root.name)) {\n          textDivs.push(node);\n        }\n      }\n      return {\n        textDivs\n      };\n    }\n    const stack = [[root, -1, rootHtml]];\n    while (stack.length > 0) {\n      const [parent, i, html] = stack.at(-1);\n      if (i + 1 === parent.children.length) {\n        stack.pop();\n        continue;\n      }\n      const child = parent.children[++stack.at(-1)[1]];\n      if (child === null) {\n        continue;\n      }\n      const {\n        name\n      } = child;\n      if (name === \"#text\") {\n        const node = document.createTextNode(child.value);\n        textDivs.push(node);\n        html.append(node);\n        continue;\n      }\n      const childHtml = child?.attributes?.xmlns ? document.createElementNS(child.attributes.xmlns, name) : document.createElement(name);\n      html.append(childHtml);\n      if (child.attributes) {\n        this.setAttributes({\n          html: childHtml,\n          element: child,\n          storage,\n          intent,\n          linkService\n        });\n      }\n      if (child.children?.length > 0) {\n        stack.push([child, -1, childHtml]);\n      } else if (child.value) {\n        const node = document.createTextNode(child.value);\n        if (isNotForRichText && XfaText.shouldBuildText(name)) {\n          textDivs.push(node);\n        }\n        childHtml.append(node);\n      }\n    }\n    for (const el of rootDiv.querySelectorAll(\".xfaNonInteractive input, .xfaNonInteractive textarea\")) {\n      el.setAttribute(\"readOnly\", true);\n    }\n    return {\n      textDivs\n    };\n  }\n  static update(parameters) {\n    const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n    parameters.div.style.transform = transform;\n    parameters.div.hidden = false;\n  }\n}\n\n;// ./src/display/display_utils.js\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\nclass PixelsPerInch {\n  static CSS = 96.0;\n  static PDF = 72.0;\n  static PDF_TO_CSS_UNITS = this.CSS / this.PDF;\n}\nasync function fetchData(url, type = \"text\") {\n  if (isValidFetchUrl(url, document.baseURI)) {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    switch (type) {\n      case \"arraybuffer\":\n        return response.arrayBuffer();\n      case \"blob\":\n        return response.blob();\n      case \"json\":\n        return response.json();\n    }\n    return response.text();\n  }\n  return new Promise((resolve, reject) => {\n    const request = new XMLHttpRequest();\n    request.open(\"GET\", url, true);\n    request.responseType = type;\n    request.onreadystatechange = () => {\n      if (request.readyState !== XMLHttpRequest.DONE) {\n        return;\n      }\n      if (request.status === 200 || request.status === 0) {\n        switch (type) {\n          case \"arraybuffer\":\n          case \"blob\":\n          case \"json\":\n            resolve(request.response);\n            return;\n        }\n        resolve(request.responseText);\n        return;\n      }\n      reject(new Error(request.statusText));\n    };\n    request.send(null);\n  });\n}\nclass PageViewport {\n  constructor({\n    viewBox,\n    userUnit,\n    scale,\n    rotation,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  }) {\n    this.viewBox = viewBox;\n    this.userUnit = userUnit;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n    scale *= userUnit;\n    const centerX = (viewBox[2] + viewBox[0]) / 2;\n    const centerY = (viewBox[3] + viewBox[1]) / 2;\n    let rotateA, rotateB, rotateC, rotateD;\n    rotation %= 360;\n    if (rotation < 0) {\n      rotation += 360;\n    }\n    switch (rotation) {\n      case 180:\n        rotateA = -1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0;\n        rotateB = 1;\n        rotateC = 1;\n        rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0;\n        rotateB = -1;\n        rotateC = -1;\n        rotateD = 0;\n        break;\n      case 0:\n        rotateA = 1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = -1;\n        break;\n      default:\n        throw new Error(\"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\");\n    }\n    if (dontFlip) {\n      rotateC = -rotateC;\n      rotateD = -rotateD;\n    }\n    let offsetCanvasX, offsetCanvasY;\n    let width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = (viewBox[3] - viewBox[1]) * scale;\n      height = (viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = (viewBox[2] - viewBox[0]) * scale;\n      height = (viewBox[3] - viewBox[1]) * scale;\n    }\n    this.transform = [rotateA * scale, rotateB * scale, rotateC * scale, rotateD * scale, offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY, offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY];\n    this.width = width;\n    this.height = height;\n  }\n  get rawDims() {\n    const dims = this.viewBox;\n    return shadow(this, \"rawDims\", {\n      pageWidth: dims[2] - dims[0],\n      pageHeight: dims[3] - dims[1],\n      pageX: dims[0],\n      pageY: dims[1]\n    });\n  }\n  clone({\n    scale = this.scale,\n    rotation = this.rotation,\n    offsetX = this.offsetX,\n    offsetY = this.offsetY,\n    dontFlip = false\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.viewBox.slice(),\n      userUnit: this.userUnit,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n  convertToViewportPoint(x, y) {\n    const p = [x, y];\n    Util.applyTransform(p, this.transform);\n    return p;\n  }\n  convertToViewportRectangle(rect) {\n    const topLeft = [rect[0], rect[1]];\n    Util.applyTransform(topLeft, this.transform);\n    const bottomRight = [rect[2], rect[3]];\n    Util.applyTransform(bottomRight, this.transform);\n    return [topLeft[0], topLeft[1], bottomRight[0], bottomRight[1]];\n  }\n  convertToPdfPoint(x, y) {\n    const p = [x, y];\n    Util.applyInverseTransform(p, this.transform);\n    return p;\n  }\n}\nclass RenderingCancelledException extends BaseException {\n  constructor(msg, extraDelay = 0) {\n    super(msg, \"RenderingCancelledException\");\n    this.extraDelay = extraDelay;\n  }\n}\nfunction isDataScheme(url) {\n  const ii = url.length;\n  let i = 0;\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\nfunction isPdfFile(filename) {\n  return typeof filename === \"string\" && /\\.pdf$/i.test(filename);\n}\nfunction getFilenameFromUrl(url) {\n  [url] = url.split(/[#?]/, 1);\n  return url.substring(url.lastIndexOf(\"/\") + 1);\n}\nfunction getPdfFilenameFromUrl(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n  if (isDataScheme(url)) {\n    warn('getPdfFilenameFromUrl: ignore \"data:\"-URL for performance reasons.');\n    return defaultFilename;\n  }\n  const getURL = urlString => {\n    try {\n      return new URL(urlString);\n    } catch {\n      try {\n        return new URL(decodeURIComponent(urlString));\n      } catch {\n        try {\n          return new URL(urlString, \"https://foo.bar\");\n        } catch {\n          try {\n            return new URL(decodeURIComponent(urlString), \"https://foo.bar\");\n          } catch {\n            return null;\n          }\n        }\n      }\n    }\n  };\n  const newURL = getURL(url);\n  if (!newURL) {\n    return defaultFilename;\n  }\n  const decode = name => {\n    try {\n      let decoded = decodeURIComponent(name);\n      if (decoded.includes(\"/\")) {\n        decoded = decoded.split(\"/\").at(-1);\n        if (decoded.test(/^\\.pdf$/i)) {\n          return decoded;\n        }\n        return name;\n      }\n      return decoded;\n    } catch {\n      return name;\n    }\n  };\n  const pdfRegex = /\\.pdf$/i;\n  const filename = newURL.pathname.split(\"/\").at(-1);\n  if (pdfRegex.test(filename)) {\n    return decode(filename);\n  }\n  if (newURL.searchParams.size > 0) {\n    const values = Array.from(newURL.searchParams.values()).reverse();\n    for (const value of values) {\n      if (pdfRegex.test(value)) {\n        return decode(value);\n      }\n    }\n    const keys = Array.from(newURL.searchParams.keys()).reverse();\n    for (const key of keys) {\n      if (pdfRegex.test(key)) {\n        return decode(key);\n      }\n    }\n  }\n  if (newURL.hash) {\n    const reFilename = /[^/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n    const hashFilename = reFilename.exec(newURL.hash);\n    if (hashFilename) {\n      return decode(hashFilename[0]);\n    }\n  }\n  return defaultFilename;\n}\nclass StatTimer {\n  started = Object.create(null);\n  times = [];\n  time(name) {\n    if (name in this.started) {\n      warn(`Timer is already running for ${name}`);\n    }\n    this.started[name] = Date.now();\n  }\n  timeEnd(name) {\n    if (!(name in this.started)) {\n      warn(`Timer has not been started for ${name}`);\n    }\n    this.times.push({\n      name,\n      start: this.started[name],\n      end: Date.now()\n    });\n    delete this.started[name];\n  }\n  toString() {\n    const outBuf = [];\n    let longest = 0;\n    for (const {\n      name\n    } of this.times) {\n      longest = Math.max(name.length, longest);\n    }\n    for (const {\n      name,\n      start,\n      end\n    } of this.times) {\n      outBuf.push(`${name.padEnd(longest)} ${end - start}ms\\n`);\n    }\n    return outBuf.join(\"\");\n  }\n}\nfunction isValidFetchUrl(url, baseUrl) {\n  const res = baseUrl ? URL.parse(url, baseUrl) : URL.parse(url);\n  return res?.protocol === \"http:\" || res?.protocol === \"https:\";\n}\nfunction noContextMenu(e) {\n  e.preventDefault();\n}\nfunction stopEvent(e) {\n  e.preventDefault();\n  e.stopPropagation();\n}\nfunction deprecated(details) {\n  console.log(\"Deprecated API usage: \" + details);\n}\nclass PDFDateString {\n  static #regex;\n  static toDateObject(input) {\n    if (input instanceof Date) {\n      return input;\n    }\n    if (!input || typeof input !== \"string\") {\n      return null;\n    }\n    this.#regex ||= new RegExp(\"^D:\" + \"(\\\\d{4})\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"([Z|+|-])?\" + \"(\\\\d{2})?\" + \"'?\" + \"(\\\\d{2})?\" + \"'?\");\n    const matches = this.#regex.exec(input);\n    if (!matches) {\n      return null;\n    }\n    const year = parseInt(matches[1], 10);\n    let month = parseInt(matches[2], 10);\n    month = month >= 1 && month <= 12 ? month - 1 : 0;\n    let day = parseInt(matches[3], 10);\n    day = day >= 1 && day <= 31 ? day : 1;\n    let hour = parseInt(matches[4], 10);\n    hour = hour >= 0 && hour <= 23 ? hour : 0;\n    let minute = parseInt(matches[5], 10);\n    minute = minute >= 0 && minute <= 59 ? minute : 0;\n    let second = parseInt(matches[6], 10);\n    second = second >= 0 && second <= 59 ? second : 0;\n    const universalTimeRelation = matches[7] || \"Z\";\n    let offsetHour = parseInt(matches[8], 10);\n    offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n    let offsetMinute = parseInt(matches[9], 10) || 0;\n    offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n    if (universalTimeRelation === \"-\") {\n      hour += offsetHour;\n      minute += offsetMinute;\n    } else if (universalTimeRelation === \"+\") {\n      hour -= offsetHour;\n      minute -= offsetMinute;\n    }\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n  }\n}\nfunction getXfaPageViewport(xfaPage, {\n  scale = 1,\n  rotation = 0\n}) {\n  const {\n    width,\n    height\n  } = xfaPage.attributes.style;\n  const viewBox = [0, 0, parseInt(width), parseInt(height)];\n  return new PageViewport({\n    viewBox,\n    userUnit: 1,\n    scale,\n    rotation\n  });\n}\nfunction getRGB(color) {\n  if (color.startsWith(\"#\")) {\n    const colorRGB = parseInt(color.slice(1), 16);\n    return [(colorRGB & 0xff0000) >> 16, (colorRGB & 0x00ff00) >> 8, colorRGB & 0x0000ff];\n  }\n  if (color.startsWith(\"rgb(\")) {\n    return color.slice(4, -1).split(\",\").map(x => parseInt(x));\n  }\n  if (color.startsWith(\"rgba(\")) {\n    return color.slice(5, -1).split(\",\").map(x => parseInt(x)).slice(0, 3);\n  }\n  warn(`Not a valid color format: \"${color}\"`);\n  return [0, 0, 0];\n}\nfunction getColorValues(colors) {\n  const span = document.createElement(\"span\");\n  span.style.visibility = \"hidden\";\n  span.style.colorScheme = \"only light\";\n  document.body.append(span);\n  for (const name of colors.keys()) {\n    span.style.color = name;\n    const computedColor = window.getComputedStyle(span).color;\n    colors.set(name, getRGB(computedColor));\n  }\n  span.remove();\n}\nfunction getCurrentTransform(ctx) {\n  const {\n    a,\n    b,\n    c,\n    d,\n    e,\n    f\n  } = ctx.getTransform();\n  return [a, b, c, d, e, f];\n}\nfunction getCurrentTransformInverse(ctx) {\n  const {\n    a,\n    b,\n    c,\n    d,\n    e,\n    f\n  } = ctx.getTransform().invertSelf();\n  return [a, b, c, d, e, f];\n}\nfunction setLayerDimensions(div, viewport, mustFlip = false, mustRotate = true) {\n  if (viewport instanceof PageViewport) {\n    const {\n      pageWidth,\n      pageHeight\n    } = viewport.rawDims;\n    const {\n      style\n    } = div;\n    const useRound = util_FeatureTest.isCSSRoundSupported;\n    const w = `var(--total-scale-factor) * ${pageWidth}px`,\n      h = `var(--total-scale-factor) * ${pageHeight}px`;\n    const widthStr = useRound ? `round(down, ${w}, var(--scale-round-x))` : `calc(${w})`,\n      heightStr = useRound ? `round(down, ${h}, var(--scale-round-y))` : `calc(${h})`;\n    if (!mustFlip || viewport.rotation % 180 === 0) {\n      style.width = widthStr;\n      style.height = heightStr;\n    } else {\n      style.width = heightStr;\n      style.height = widthStr;\n    }\n  }\n  if (mustRotate) {\n    div.setAttribute(\"data-main-rotation\", viewport.rotation);\n  }\n}\nclass OutputScale {\n  constructor() {\n    const {\n      pixelRatio\n    } = OutputScale;\n    this.sx = pixelRatio;\n    this.sy = pixelRatio;\n  }\n  get scaled() {\n    return this.sx !== 1 || this.sy !== 1;\n  }\n  get symmetric() {\n    return this.sx === this.sy;\n  }\n  limitCanvas(width, height, maxPixels, maxDim, capAreaFactor = -1) {\n    let maxAreaScale = Infinity,\n      maxWidthScale = Infinity,\n      maxHeightScale = Infinity;\n    maxPixels = OutputScale.capPixels(maxPixels, capAreaFactor);\n    if (maxPixels > 0) {\n      maxAreaScale = Math.sqrt(maxPixels / (width * height));\n    }\n    if (maxDim !== -1) {\n      maxWidthScale = maxDim / width;\n      maxHeightScale = maxDim / height;\n    }\n    const maxScale = Math.min(maxAreaScale, maxWidthScale, maxHeightScale);\n    if (this.sx > maxScale || this.sy > maxScale) {\n      this.sx = maxScale;\n      this.sy = maxScale;\n      return true;\n    }\n    return false;\n  }\n  static get pixelRatio() {\n    return globalThis.devicePixelRatio || 1;\n  }\n  static capPixels(maxPixels, capAreaFactor) {\n    if (capAreaFactor >= 0) {\n      const winPixels = Math.ceil(window.screen.availWidth * window.screen.availHeight * this.pixelRatio ** 2 * (1 + capAreaFactor / 100));\n      return maxPixels > 0 ? Math.min(maxPixels, winPixels) : winPixels;\n    }\n    return maxPixels;\n  }\n}\nconst SupportedImageMimeTypes = [\"image/apng\", \"image/avif\", \"image/bmp\", \"image/gif\", \"image/jpeg\", \"image/png\", \"image/svg+xml\", \"image/webp\", \"image/x-icon\"];\nclass ColorScheme {\n  static get isDarkMode() {\n    return shadow(this, \"isDarkMode\", !!window?.matchMedia?.(\"(prefers-color-scheme: dark)\").matches);\n  }\n}\nclass CSSConstants {\n  static get commentForegroundColor() {\n    const element = document.createElement(\"span\");\n    element.classList.add(\"comment\", \"sidebar\");\n    const {\n      style\n    } = element;\n    style.width = style.height = \"0\";\n    style.display = \"none\";\n    style.color = \"var(--comment-fg-color)\";\n    document.body.append(element);\n    const {\n      color\n    } = window.getComputedStyle(element);\n    element.remove();\n    return shadow(this, \"commentForegroundColor\", getRGB(color));\n  }\n}\nfunction applyOpacity(r, g, b, opacity) {\n  opacity = Math.min(Math.max(opacity ?? 1, 0), 1);\n  const white = 255 * (1 - opacity);\n  r = Math.round(r * opacity + white);\n  g = Math.round(g * opacity + white);\n  b = Math.round(b * opacity + white);\n  return [r, g, b];\n}\nfunction RGBToHSL(rgb, output) {\n  const r = rgb[0] / 255;\n  const g = rgb[1] / 255;\n  const b = rgb[2] / 255;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  if (max === min) {\n    output[0] = output[1] = 0;\n  } else {\n    const d = max - min;\n    output[1] = l < 0.5 ? d / (max + min) : d / (2 - max - min);\n    switch (max) {\n      case r:\n        output[0] = ((g - b) / d + (g < b ? 6 : 0)) * 60;\n        break;\n      case g:\n        output[0] = ((b - r) / d + 2) * 60;\n        break;\n      case b:\n        output[0] = ((r - g) / d + 4) * 60;\n        break;\n    }\n  }\n  output[2] = l;\n}\nfunction HSLToRGB(hsl, output) {\n  const h = hsl[0];\n  const s = hsl[1];\n  const l = hsl[2];\n  const c = (1 - Math.abs(2 * l - 1)) * s;\n  const x = c * (1 - Math.abs(h / 60 % 2 - 1));\n  const m = l - c / 2;\n  switch (Math.floor(h / 60)) {\n    case 0:\n      output[0] = c + m;\n      output[1] = x + m;\n      output[2] = m;\n      break;\n    case 1:\n      output[0] = x + m;\n      output[1] = c + m;\n      output[2] = m;\n      break;\n    case 2:\n      output[0] = m;\n      output[1] = c + m;\n      output[2] = x + m;\n      break;\n    case 3:\n      output[0] = m;\n      output[1] = x + m;\n      output[2] = c + m;\n      break;\n    case 4:\n      output[0] = x + m;\n      output[1] = m;\n      output[2] = c + m;\n      break;\n    case 5:\n    case 6:\n      output[0] = c + m;\n      output[1] = m;\n      output[2] = x + m;\n      break;\n  }\n}\nfunction computeLuminance(x) {\n  return x <= 0.03928 ? x / 12.92 : ((x + 0.055) / 1.055) ** 2.4;\n}\nfunction contrastRatio(hsl1, hsl2, output) {\n  HSLToRGB(hsl1, output);\n  output.map(computeLuminance);\n  const lum1 = 0.2126 * output[0] + 0.7152 * output[1] + 0.0722 * output[2];\n  HSLToRGB(hsl2, output);\n  output.map(computeLuminance);\n  const lum2 = 0.2126 * output[0] + 0.7152 * output[1] + 0.0722 * output[2];\n  return lum1 > lum2 ? (lum1 + 0.05) / (lum2 + 0.05) : (lum2 + 0.05) / (lum1 + 0.05);\n}\nconst contrastCache = new Map();\nfunction findContrastColor(baseColor, fixedColor) {\n  const key = baseColor[0] + baseColor[1] * 0x100 + baseColor[2] * 0x10000 + fixedColor[0] * 0x1000000 + fixedColor[1] * 0x100000000 + fixedColor[2] * 0x10000000000;\n  let cachedValue = contrastCache.get(key);\n  if (cachedValue) {\n    return cachedValue;\n  }\n  const array = new Float32Array(9);\n  const output = array.subarray(0, 3);\n  const baseHSL = array.subarray(3, 6);\n  RGBToHSL(baseColor, baseHSL);\n  const fixedHSL = array.subarray(6, 9);\n  RGBToHSL(fixedColor, fixedHSL);\n  const isFixedColorDark = fixedHSL[2] < 0.5;\n  const minContrast = isFixedColorDark ? 12 : 4.5;\n  baseHSL[2] = isFixedColorDark ? Math.sqrt(baseHSL[2]) : 1 - Math.sqrt(1 - baseHSL[2]);\n  if (contrastRatio(baseHSL, fixedHSL, output) < minContrast) {\n    let start, end;\n    if (isFixedColorDark) {\n      start = baseHSL[2];\n      end = 1;\n    } else {\n      start = 0;\n      end = baseHSL[2];\n    }\n    const PRECISION = 0.005;\n    while (end - start > PRECISION) {\n      const mid = baseHSL[2] = (start + end) / 2;\n      if (isFixedColorDark === contrastRatio(baseHSL, fixedHSL, output) < minContrast) {\n        start = mid;\n      } else {\n        end = mid;\n      }\n    }\n    baseHSL[2] = isFixedColorDark ? end : start;\n  }\n  HSLToRGB(baseHSL, output);\n  cachedValue = Util.makeHexColor(Math.round(output[0] * 255), Math.round(output[1] * 255), Math.round(output[2] * 255));\n  contrastCache.set(key, cachedValue);\n  return cachedValue;\n}\nfunction renderRichText({\n  html,\n  dir,\n  className\n}, container) {\n  const fragment = document.createDocumentFragment();\n  if (typeof html === \"string\") {\n    const p = document.createElement(\"p\");\n    p.dir = dir || \"auto\";\n    const lines = html.split(/(?:\\r\\n?|\\n)/);\n    for (let i = 0, ii = lines.length; i < ii; ++i) {\n      const line = lines[i];\n      p.append(document.createTextNode(line));\n      if (i < ii - 1) {\n        p.append(document.createElement(\"br\"));\n      }\n    }\n    fragment.append(p);\n  } else {\n    XfaLayer.render({\n      xfaHtml: html,\n      div: fragment,\n      intent: \"richText\"\n    });\n  }\n  fragment.firstChild.classList.add(\"richText\", className);\n  container.append(fragment);\n}\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.iterator.take.js\nvar es_iterator_take = __webpack_require__(4972);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.with-resolvers.js\nvar es_promise_with_resolvers = __webpack_require__(4628);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.set.difference.v2.js\nvar es_set_difference_v2 = __webpack_require__(7642);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.set.intersection.v2.js\nvar es_set_intersection_v2 = __webpack_require__(8004);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.set.is-disjoint-from.v2.js\nvar es_set_is_disjoint_from_v2 = __webpack_require__(3853);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.set.is-subset-of.v2.js\nvar es_set_is_subset_of_v2 = __webpack_require__(5876);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.set.is-superset-of.v2.js\nvar es_set_is_superset_of_v2 = __webpack_require__(2475);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.set.symmetric-difference.v2.js\nvar es_set_symmetric_difference_v2 = __webpack_require__(5024);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.set.union.v2.js\nvar es_set_union_v2 = __webpack_require__(1698);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.iterator.drop.js\nvar es_iterator_drop = __webpack_require__(9314);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.iterator.every.js\nvar es_iterator_every = __webpack_require__(1148);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.iterator.some.js\nvar es_iterator_some = __webpack_require__(3579);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.json.parse.js\nvar esnext_json_parse = __webpack_require__(8335);\n;// ./src/display/editor/toolbar.js\n\nclass EditorToolbar {\n  #toolbar = null;\n  #colorPicker = null;\n  #editor;\n  #buttons = null;\n  #altText = null;\n  #comment = null;\n  #commentButtonDivider = null;\n  #signatureDescriptionButton = null;\n  static #l10nRemove = null;\n  constructor(editor) {\n    this.#editor = editor;\n    EditorToolbar.#l10nRemove ||= Object.freeze({\n      freetext: \"pdfjs-editor-remove-freetext-button\",\n      highlight: \"pdfjs-editor-remove-highlight-button\",\n      ink: \"pdfjs-editor-remove-ink-button\",\n      stamp: \"pdfjs-editor-remove-stamp-button\",\n      signature: \"pdfjs-editor-remove-signature-button\"\n    });\n  }\n  render() {\n    const editToolbar = this.#toolbar = document.createElement(\"div\");\n    editToolbar.classList.add(\"editToolbar\", \"hidden\");\n    editToolbar.setAttribute(\"role\", \"toolbar\");\n    const signal = this.#editor._uiManager._signal;\n    if (signal instanceof AbortSignal && !signal.aborted) {\n      editToolbar.addEventListener(\"contextmenu\", noContextMenu, {\n        signal\n      });\n      editToolbar.addEventListener(\"pointerdown\", EditorToolbar.#pointerDown, {\n        signal\n      });\n    }\n    const buttons = this.#buttons = document.createElement(\"div\");\n    buttons.className = \"buttons\";\n    editToolbar.append(buttons);\n    const position = this.#editor.toolbarPosition;\n    if (position) {\n      const {\n        style\n      } = editToolbar;\n      const x = this.#editor._uiManager.direction === \"ltr\" ? 1 - position[0] : position[0];\n      style.insetInlineEnd = `${100 * x}%`;\n      style.top = `calc(${100 * position[1]}% + var(--editor-toolbar-vert-offset))`;\n    }\n    return editToolbar;\n  }\n  get div() {\n    return this.#toolbar;\n  }\n  static #pointerDown(e) {\n    e.stopPropagation();\n  }\n  #focusIn(e) {\n    this.#editor._focusEventsAllowed = false;\n    stopEvent(e);\n  }\n  #focusOut(e) {\n    this.#editor._focusEventsAllowed = true;\n    stopEvent(e);\n  }\n  #addListenersToElement(element) {\n    const signal = this.#editor._uiManager._signal;\n    if (!(signal instanceof AbortSignal) || signal.aborted) {\n      return false;\n    }\n    element.addEventListener(\"focusin\", this.#focusIn.bind(this), {\n      capture: true,\n      signal\n    });\n    element.addEventListener(\"focusout\", this.#focusOut.bind(this), {\n      capture: true,\n      signal\n    });\n    element.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    return true;\n  }\n  hide() {\n    this.#toolbar.classList.add(\"hidden\");\n    this.#colorPicker?.hideDropdown();\n  }\n  show() {\n    this.#toolbar.classList.remove(\"hidden\");\n    this.#altText?.shown();\n    this.#comment?.shown();\n  }\n  addDeleteButton() {\n    const {\n      editorType,\n      _uiManager\n    } = this.#editor;\n    const button = document.createElement(\"button\");\n    button.classList.add(\"basic\", \"deleteButton\");\n    button.tabIndex = 0;\n    button.setAttribute(\"data-l10n-id\", EditorToolbar.#l10nRemove[editorType]);\n    if (this.#addListenersToElement(button)) {\n      button.addEventListener(\"click\", e => {\n        _uiManager.delete();\n      }, {\n        signal: _uiManager._signal\n      });\n    }\n    this.#buttons.append(button);\n  }\n  get #divider() {\n    const divider = document.createElement(\"div\");\n    divider.className = \"divider\";\n    return divider;\n  }\n  async addAltText(altText) {\n    const button = await altText.render();\n    this.#addListenersToElement(button);\n    this.#buttons.append(button, this.#divider);\n    this.#altText = altText;\n  }\n  addComment(comment, beforeElement = null) {\n    if (this.#comment) {\n      return;\n    }\n    const button = comment.renderForToolbar();\n    if (!button) {\n      return;\n    }\n    this.#addListenersToElement(button);\n    const divider = this.#commentButtonDivider = this.#divider;\n    if (!beforeElement) {\n      this.#buttons.append(button, divider);\n    } else {\n      this.#buttons.insertBefore(button, beforeElement);\n      this.#buttons.insertBefore(divider, beforeElement);\n    }\n    this.#comment = comment;\n    comment.toolbar = this;\n  }\n  addColorPicker(colorPicker) {\n    if (this.#colorPicker) {\n      return;\n    }\n    this.#colorPicker = colorPicker;\n    const button = colorPicker.renderButton();\n    this.#addListenersToElement(button);\n    this.#buttons.append(button, this.#divider);\n  }\n  async addEditSignatureButton(signatureManager) {\n    const button = this.#signatureDescriptionButton = await signatureManager.renderEditButton(this.#editor);\n    this.#addListenersToElement(button);\n    this.#buttons.append(button, this.#divider);\n  }\n  removeButton(name) {\n    switch (name) {\n      case \"comment\":\n        this.#comment?.removeToolbarCommentButton();\n        this.#comment = null;\n        this.#commentButtonDivider?.remove();\n        this.#commentButtonDivider = null;\n        break;\n    }\n  }\n  async addButton(name, tool) {\n    switch (name) {\n      case \"colorPicker\":\n        this.addColorPicker(tool);\n        break;\n      case \"altText\":\n        await this.addAltText(tool);\n        break;\n      case \"editSignature\":\n        await this.addEditSignatureButton(tool);\n        break;\n      case \"delete\":\n        this.addDeleteButton();\n        break;\n      case \"comment\":\n        this.addComment(tool);\n        break;\n    }\n  }\n  async addButtonBefore(name, tool, beforeSelector) {\n    const beforeElement = this.#buttons.querySelector(beforeSelector);\n    if (!beforeElement) {\n      return;\n    }\n    if (name === \"comment\") {\n      this.addComment(tool, beforeElement);\n    }\n  }\n  updateEditSignatureButton(description) {\n    if (this.#signatureDescriptionButton) {\n      this.#signatureDescriptionButton.title = description;\n    }\n  }\n  remove() {\n    this.#toolbar.remove();\n    this.#colorPicker?.destroy();\n    this.#colorPicker = null;\n  }\n}\nclass FloatingToolbar {\n  #buttons = null;\n  #toolbar = null;\n  #uiManager;\n  constructor(uiManager) {\n    this.#uiManager = uiManager;\n  }\n  #render() {\n    const editToolbar = this.#toolbar = document.createElement(\"div\");\n    editToolbar.className = \"editToolbar\";\n    editToolbar.setAttribute(\"role\", \"toolbar\");\n    const signal = this.#uiManager._signal;\n    if (signal instanceof AbortSignal && !signal.aborted) {\n      editToolbar.addEventListener(\"contextmenu\", noContextMenu, {\n        signal\n      });\n    }\n    const buttons = this.#buttons = document.createElement(\"div\");\n    buttons.className = \"buttons\";\n    editToolbar.append(buttons);\n    if (this.#uiManager.hasCommentManager()) {\n      this.#makeButton(\"commentButton\", `pdfjs-comment-floating-button`, \"pdfjs-comment-floating-button-label\", () => {\n        this.#uiManager.commentSelection(\"floating_button\");\n      });\n    }\n    this.#makeButton(\"highlightButton\", `pdfjs-highlight-floating-button1`, \"pdfjs-highlight-floating-button-label\", () => {\n      this.#uiManager.highlightSelection(\"floating_button\");\n    });\n    return editToolbar;\n  }\n  #getLastPoint(boxes, isLTR) {\n    let lastY = 0;\n    let lastX = 0;\n    for (const box of boxes) {\n      const y = box.y + box.height;\n      if (y < lastY) {\n        continue;\n      }\n      const x = box.x + (isLTR ? box.width : 0);\n      if (y > lastY) {\n        lastX = x;\n        lastY = y;\n        continue;\n      }\n      if (isLTR) {\n        if (x > lastX) {\n          lastX = x;\n        }\n      } else if (x < lastX) {\n        lastX = x;\n      }\n    }\n    return [isLTR ? 1 - lastX : lastX, lastY];\n  }\n  show(parent, boxes, isLTR) {\n    const [x, y] = this.#getLastPoint(boxes, isLTR);\n    const {\n      style\n    } = this.#toolbar ||= this.#render();\n    parent.append(this.#toolbar);\n    style.insetInlineEnd = `${100 * x}%`;\n    style.top = `calc(${100 * y}% + var(--editor-toolbar-vert-offset))`;\n  }\n  hide() {\n    this.#toolbar.remove();\n  }\n  #makeButton(buttonClass, l10nId, labelL10nId, clickHandler) {\n    const button = document.createElement(\"button\");\n    button.classList.add(\"basic\", buttonClass);\n    button.tabIndex = 0;\n    button.setAttribute(\"data-l10n-id\", l10nId);\n    const span = document.createElement(\"span\");\n    button.append(span);\n    span.className = \"visuallyHidden\";\n    span.setAttribute(\"data-l10n-id\", labelL10nId);\n    const signal = this.#uiManager._signal;\n    if (signal instanceof AbortSignal && !signal.aborted) {\n      button.addEventListener(\"contextmenu\", noContextMenu, {\n        signal\n      });\n      button.addEventListener(\"click\", clickHandler, {\n        signal\n      });\n    }\n    this.#buttons.append(button);\n  }\n}\n\n;// ./src/display/editor/tools.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction bindEvents(obj, element, names) {\n  for (const name of names) {\n    element.addEventListener(name, obj[name].bind(obj));\n  }\n}\nclass IdManager {\n  #id = 0;\n  get id() {\n    return `${AnnotationEditorPrefix}${this.#id++}`;\n  }\n}\nclass ImageManager {\n  #baseId = getUuid();\n  #id = 0;\n  #cache = null;\n  static get _isSVGFittingCanvas() {\n    const svg = `data:image/svg+xml;charset=UTF-8,<svg viewBox=\"0 0 1 1\" width=\"1\" height=\"1\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"1\" height=\"1\" style=\"fill:red;\"/></svg>`;\n    const canvas = new OffscreenCanvas(1, 3);\n    const ctx = canvas.getContext(\"2d\", {\n      willReadFrequently: true\n    });\n    const image = new Image();\n    image.src = svg;\n    const promise = image.decode().then(() => {\n      ctx.drawImage(image, 0, 0, 1, 1, 0, 0, 1, 3);\n      return new Uint32Array(ctx.getImageData(0, 0, 1, 1).data.buffer)[0] === 0;\n    });\n    return shadow(this, \"_isSVGFittingCanvas\", promise);\n  }\n  async #get(key, rawData) {\n    this.#cache ||= new Map();\n    let data = this.#cache.get(key);\n    if (data === null) {\n      return null;\n    }\n    if (data?.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    try {\n      data ||= {\n        bitmap: null,\n        id: `image_${this.#baseId}_${this.#id++}`,\n        refCounter: 0,\n        isSvg: false\n      };\n      let image;\n      if (typeof rawData === \"string\") {\n        data.url = rawData;\n        image = await fetchData(rawData, \"blob\");\n      } else if (rawData instanceof File) {\n        image = data.file = rawData;\n      } else if (rawData instanceof Blob) {\n        image = rawData;\n      }\n      if (image.type === \"image/svg+xml\") {\n        const mustRemoveAspectRatioPromise = ImageManager._isSVGFittingCanvas;\n        const fileReader = new FileReader();\n        const imageElement = new Image();\n        const imagePromise = new Promise((resolve, reject) => {\n          imageElement.onload = () => {\n            data.bitmap = imageElement;\n            data.isSvg = true;\n            resolve();\n          };\n          fileReader.onload = async () => {\n            const url = data.svgUrl = fileReader.result;\n            imageElement.src = (await mustRemoveAspectRatioPromise) ? `${url}#svgView(preserveAspectRatio(none))` : url;\n          };\n          imageElement.onerror = fileReader.onerror = reject;\n        });\n        fileReader.readAsDataURL(image);\n        await imagePromise;\n      } else {\n        data.bitmap = await createImageBitmap(image);\n      }\n      data.refCounter = 1;\n    } catch (e) {\n      warn(e);\n      data = null;\n    }\n    this.#cache.set(key, data);\n    if (data) {\n      this.#cache.set(data.id, data);\n    }\n    return data;\n  }\n  async getFromFile(file) {\n    const {\n      lastModified,\n      name,\n      size,\n      type\n    } = file;\n    return this.#get(`${lastModified}_${name}_${size}_${type}`, file);\n  }\n  async getFromUrl(url) {\n    return this.#get(url, url);\n  }\n  async getFromBlob(id, blobPromise) {\n    const blob = await blobPromise;\n    return this.#get(id, blob);\n  }\n  async getFromId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return null;\n    }\n    if (data.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    if (data.file) {\n      return this.getFromFile(data.file);\n    }\n    if (data.blobPromise) {\n      const {\n        blobPromise\n      } = data;\n      delete data.blobPromise;\n      return this.getFromBlob(data.id, blobPromise);\n    }\n    return this.getFromUrl(data.url);\n  }\n  getFromCanvas(id, canvas) {\n    this.#cache ||= new Map();\n    let data = this.#cache.get(id);\n    if (data?.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    const offscreen = new OffscreenCanvas(canvas.width, canvas.height);\n    const ctx = offscreen.getContext(\"2d\");\n    ctx.drawImage(canvas, 0, 0);\n    data = {\n      bitmap: offscreen.transferToImageBitmap(),\n      id: `image_${this.#baseId}_${this.#id++}`,\n      refCounter: 1,\n      isSvg: false\n    };\n    this.#cache.set(id, data);\n    this.#cache.set(data.id, data);\n    return data;\n  }\n  getSvgUrl(id) {\n    const data = this.#cache.get(id);\n    if (!data?.isSvg) {\n      return null;\n    }\n    return data.svgUrl;\n  }\n  deleteId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return;\n    }\n    data.refCounter -= 1;\n    if (data.refCounter !== 0) {\n      return;\n    }\n    const {\n      bitmap\n    } = data;\n    if (!data.url && !data.file) {\n      const canvas = new OffscreenCanvas(bitmap.width, bitmap.height);\n      const ctx = canvas.getContext(\"bitmaprenderer\");\n      ctx.transferFromImageBitmap(bitmap);\n      data.blobPromise = canvas.convertToBlob();\n    }\n    bitmap.close?.();\n    data.bitmap = null;\n  }\n  isValidId(id) {\n    return id.startsWith(`image_${this.#baseId}_`);\n  }\n}\nclass CommandManager {\n  #commands = [];\n  #locked = false;\n  #maxSize;\n  #position = -1;\n  constructor(maxSize = 128) {\n    this.#maxSize = maxSize;\n  }\n  add({\n    cmd,\n    undo,\n    post,\n    mustExec,\n    type = NaN,\n    overwriteIfSameType = false,\n    keepUndo = false\n  }) {\n    if (mustExec) {\n      cmd();\n    }\n    if (this.#locked) {\n      return;\n    }\n    const save = {\n      cmd,\n      undo,\n      post,\n      type\n    };\n    if (this.#position === -1) {\n      if (this.#commands.length > 0) {\n        this.#commands.length = 0;\n      }\n      this.#position = 0;\n      this.#commands.push(save);\n      return;\n    }\n    if (overwriteIfSameType && this.#commands[this.#position].type === type) {\n      if (keepUndo) {\n        save.undo = this.#commands[this.#position].undo;\n      }\n      this.#commands[this.#position] = save;\n      return;\n    }\n    const next = this.#position + 1;\n    if (next === this.#maxSize) {\n      this.#commands.splice(0, 1);\n    } else {\n      this.#position = next;\n      if (next < this.#commands.length) {\n        this.#commands.splice(next);\n      }\n    }\n    this.#commands.push(save);\n  }\n  undo() {\n    if (this.#position === -1) {\n      return;\n    }\n    this.#locked = true;\n    const {\n      undo,\n      post\n    } = this.#commands[this.#position];\n    undo();\n    post?.();\n    this.#locked = false;\n    this.#position -= 1;\n  }\n  redo() {\n    if (this.#position < this.#commands.length - 1) {\n      this.#position += 1;\n      this.#locked = true;\n      const {\n        cmd,\n        post\n      } = this.#commands[this.#position];\n      cmd();\n      post?.();\n      this.#locked = false;\n    }\n  }\n  hasSomethingToUndo() {\n    return this.#position !== -1;\n  }\n  hasSomethingToRedo() {\n    return this.#position < this.#commands.length - 1;\n  }\n  cleanType(type) {\n    if (this.#position === -1) {\n      return;\n    }\n    for (let i = this.#position; i >= 0; i--) {\n      if (this.#commands[i].type !== type) {\n        this.#commands.splice(i + 1, this.#position - i);\n        this.#position = i;\n        return;\n      }\n    }\n    this.#commands.length = 0;\n    this.#position = -1;\n  }\n  destroy() {\n    this.#commands = null;\n  }\n}\nclass KeyboardManager {\n  constructor(callbacks) {\n    this.buffer = [];\n    this.callbacks = new Map();\n    this.allKeys = new Set();\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    for (const [keys, callback, options = {}] of callbacks) {\n      for (const key of keys) {\n        const isMacKey = key.startsWith(\"mac+\");\n        if (isMac && isMacKey) {\n          this.callbacks.set(key.slice(4), {\n            callback,\n            options\n          });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        } else if (!isMac && !isMacKey) {\n          this.callbacks.set(key, {\n            callback,\n            options\n          });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        }\n      }\n    }\n  }\n  #serialize(event) {\n    if (event.altKey) {\n      this.buffer.push(\"alt\");\n    }\n    if (event.ctrlKey) {\n      this.buffer.push(\"ctrl\");\n    }\n    if (event.metaKey) {\n      this.buffer.push(\"meta\");\n    }\n    if (event.shiftKey) {\n      this.buffer.push(\"shift\");\n    }\n    this.buffer.push(event.key);\n    const str = this.buffer.join(\"+\");\n    this.buffer.length = 0;\n    return str;\n  }\n  exec(self, event) {\n    if (!this.allKeys.has(event.key)) {\n      return;\n    }\n    const info = this.callbacks.get(this.#serialize(event));\n    if (!info) {\n      return;\n    }\n    const {\n      callback,\n      options: {\n        bubbles = false,\n        args = [],\n        checker = null\n      }\n    } = info;\n    if (checker && !checker(self, event)) {\n      return;\n    }\n    callback.bind(self, ...args, event)();\n    if (!bubbles) {\n      stopEvent(event);\n    }\n  }\n}\nclass ColorManager {\n  static _colorsMapping = new Map([[\"CanvasText\", [0, 0, 0]], [\"Canvas\", [255, 255, 255]]]);\n  get _colors() {\n    const colors = new Map([[\"CanvasText\", null], [\"Canvas\", null]]);\n    getColorValues(colors);\n    return shadow(this, \"_colors\", colors);\n  }\n  convert(color) {\n    const rgb = getRGB(color);\n    if (!window.matchMedia(\"(forced-colors: active)\").matches) {\n      return rgb;\n    }\n    for (const [name, RGB] of this._colors) {\n      if (RGB.every((x, i) => x === rgb[i])) {\n        return ColorManager._colorsMapping.get(name);\n      }\n    }\n    return rgb;\n  }\n  getHexCode(name) {\n    const rgb = this._colors.get(name);\n    if (!rgb) {\n      return name;\n    }\n    return Util.makeHexColor(...rgb);\n  }\n}\nclass AnnotationEditorUIManager {\n  #abortController = new AbortController();\n  #activeEditor = null;\n  #allEditableAnnotations = null;\n  #allEditors = new Map();\n  #allLayers = new Map();\n  #altTextManager = null;\n  #annotationStorage = null;\n  #changedExistingAnnotations = null;\n  #commandManager = new CommandManager();\n  #commentManager = null;\n  #copyPasteAC = null;\n  #currentDrawingSession = null;\n  #currentPageIndex = 0;\n  #deletedAnnotationsElementIds = new Set();\n  #draggingEditors = null;\n  #editorTypes = null;\n  #editorsToRescale = new Set();\n  _editorUndoBar = null;\n  #enableHighlightFloatingButton = false;\n  #enableUpdatedAddImage = false;\n  #enableNewAltTextWhenAddingImage = false;\n  #filterFactory = null;\n  #focusMainContainerTimeoutId = null;\n  #focusManagerAC = null;\n  #highlightColors = null;\n  #highlightWhenShiftUp = false;\n  #floatingToolbar = null;\n  #idManager = new IdManager();\n  #isEnabled = false;\n  #isPointerDown = false;\n  #isWaiting = false;\n  #keyboardManagerAC = null;\n  #lastActiveElement = null;\n  #mainHighlightColorPicker = null;\n  #missingCanvases = null;\n  #mlManager = null;\n  #mode = AnnotationEditorType.NONE;\n  #selectedEditors = new Set();\n  #selectedTextNode = null;\n  #signatureManager = null;\n  #pageColors = null;\n  #showAllStates = null;\n  #pdfDocument = null;\n  #previousStates = {\n    isEditing: false,\n    isEmpty: true,\n    hasSomethingToUndo: false,\n    hasSomethingToRedo: false,\n    hasSelectedEditor: false,\n    hasSelectedText: false\n  };\n  #translation = [0, 0];\n  #translationTimeoutId = null;\n  #container = null;\n  #viewer = null;\n  #viewerAlert = null;\n  #updateModeCapability = null;\n  static TRANSLATE_SMALL = 1;\n  static TRANSLATE_BIG = 10;\n  static get _keyboardManager() {\n    const proto = AnnotationEditorUIManager.prototype;\n    const arrowChecker = self => self.#container.contains(document.activeElement) && document.activeElement.tagName !== \"BUTTON\" && self.hasSomethingToControl();\n    const textInputChecker = (_self, {\n      target: el\n    }) => {\n      if (el instanceof HTMLInputElement) {\n        const {\n          type\n        } = el;\n        return type !== \"text\" && type !== \"number\";\n      }\n      return true;\n    };\n    const small = this.TRANSLATE_SMALL;\n    const big = this.TRANSLATE_BIG;\n    return shadow(this, \"_keyboardManager\", new KeyboardManager([[[\"ctrl+a\", \"mac+meta+a\"], proto.selectAll, {\n      checker: textInputChecker\n    }], [[\"ctrl+z\", \"mac+meta+z\"], proto.undo, {\n      checker: textInputChecker\n    }], [[\"ctrl+y\", \"ctrl+shift+z\", \"mac+meta+shift+z\", \"ctrl+shift+Z\", \"mac+meta+shift+Z\"], proto.redo, {\n      checker: textInputChecker\n    }], [[\"Backspace\", \"alt+Backspace\", \"ctrl+Backspace\", \"shift+Backspace\", \"mac+Backspace\", \"mac+alt+Backspace\", \"mac+ctrl+Backspace\", \"Delete\", \"ctrl+Delete\", \"shift+Delete\", \"mac+Delete\"], proto.delete, {\n      checker: textInputChecker\n    }], [[\"Enter\", \"mac+Enter\"], proto.addNewEditorFromKeyboard, {\n      checker: (self, {\n        target: el\n      }) => !(el instanceof HTMLButtonElement) && self.#container.contains(el) && !self.isEnterHandled\n    }], [[\" \", \"mac+ \"], proto.addNewEditorFromKeyboard, {\n      checker: (self, {\n        target: el\n      }) => !(el instanceof HTMLButtonElement) && self.#container.contains(document.activeElement)\n    }], [[\"Escape\", \"mac+Escape\"], proto.unselectAll], [[\"ArrowLeft\", \"mac+ArrowLeft\"], proto.translateSelectedEditors, {\n      args: [-small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], proto.translateSelectedEditors, {\n      args: [-big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto.translateSelectedEditors, {\n      args: [small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], proto.translateSelectedEditors, {\n      args: [big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto.translateSelectedEditors, {\n      args: [0, -small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], proto.translateSelectedEditors, {\n      args: [0, -big],\n      checker: arrowChecker\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto.translateSelectedEditors, {\n      args: [0, small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], proto.translateSelectedEditors, {\n      args: [0, big],\n      checker: arrowChecker\n    }]]));\n  }\n  constructor(container, viewer, viewerAlert, altTextManager, commentManager, signatureManager, eventBus, pdfDocument, pageColors, highlightColors, enableHighlightFloatingButton, enableUpdatedAddImage, enableNewAltTextWhenAddingImage, mlManager, editorUndoBar, supportsPinchToZoom) {\n    const signal = this._signal = this.#abortController.signal;\n    this.#container = container;\n    this.#viewer = viewer;\n    this.#viewerAlert = viewerAlert;\n    this.#altTextManager = altTextManager;\n    this.#commentManager = commentManager;\n    this.#signatureManager = signatureManager;\n    this.#pdfDocument = pdfDocument;\n    this._eventBus = eventBus;\n    eventBus._on(\"editingaction\", this.onEditingAction.bind(this), {\n      signal\n    });\n    eventBus._on(\"pagechanging\", this.onPageChanging.bind(this), {\n      signal\n    });\n    eventBus._on(\"scalechanging\", this.onScaleChanging.bind(this), {\n      signal\n    });\n    eventBus._on(\"rotationchanging\", this.onRotationChanging.bind(this), {\n      signal\n    });\n    eventBus._on(\"setpreference\", this.onSetPreference.bind(this), {\n      signal\n    });\n    eventBus._on(\"switchannotationeditorparams\", evt => this.updateParams(evt.type, evt.value), {\n      signal\n    });\n    window.addEventListener(\"pointerdown\", () => {\n      this.#isPointerDown = true;\n    }, {\n      capture: true,\n      signal\n    });\n    window.addEventListener(\"pointerup\", () => {\n      this.#isPointerDown = false;\n    }, {\n      capture: true,\n      signal\n    });\n    this.#addSelectionListener();\n    this.#addDragAndDropListeners();\n    this.#addKeyboardManager();\n    this.#annotationStorage = pdfDocument.annotationStorage;\n    this.#filterFactory = pdfDocument.filterFactory;\n    this.#pageColors = pageColors;\n    this.#highlightColors = highlightColors || null;\n    this.#enableHighlightFloatingButton = enableHighlightFloatingButton;\n    this.#enableUpdatedAddImage = enableUpdatedAddImage;\n    this.#enableNewAltTextWhenAddingImage = enableNewAltTextWhenAddingImage;\n    this.#mlManager = mlManager || null;\n    this.viewParameters = {\n      realScale: PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: 0\n    };\n    this.isShiftKeyDown = false;\n    this._editorUndoBar = editorUndoBar || null;\n    this._supportsPinchToZoom = supportsPinchToZoom !== false;\n    commentManager?.setSidebarUiManager(this);\n  }\n  destroy() {\n    this.#updateModeCapability?.resolve();\n    this.#updateModeCapability = null;\n    this.#abortController?.abort();\n    this.#abortController = null;\n    this._signal = null;\n    for (const layer of this.#allLayers.values()) {\n      layer.destroy();\n    }\n    this.#allLayers.clear();\n    this.#allEditors.clear();\n    this.#editorsToRescale.clear();\n    this.#missingCanvases?.clear();\n    this.#activeEditor = null;\n    this.#selectedEditors.clear();\n    this.#commandManager.destroy();\n    this.#altTextManager?.destroy();\n    this.#commentManager?.destroy();\n    this.#signatureManager?.destroy();\n    this.#floatingToolbar?.hide();\n    this.#floatingToolbar = null;\n    this.#mainHighlightColorPicker?.destroy();\n    this.#mainHighlightColorPicker = null;\n    this.#allEditableAnnotations = null;\n    if (this.#focusMainContainerTimeoutId) {\n      clearTimeout(this.#focusMainContainerTimeoutId);\n      this.#focusMainContainerTimeoutId = null;\n    }\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n      this.#translationTimeoutId = null;\n    }\n    this._editorUndoBar?.destroy();\n    this.#pdfDocument = null;\n  }\n  combinedSignal(ac) {\n    return AbortSignal.any([this._signal, ac.signal]);\n  }\n  get mlManager() {\n    return this.#mlManager;\n  }\n  get useNewAltTextFlow() {\n    return this.#enableUpdatedAddImage;\n  }\n  get useNewAltTextWhenAddingImage() {\n    return this.#enableNewAltTextWhenAddingImage;\n  }\n  get hcmFilter() {\n    return shadow(this, \"hcmFilter\", this.#pageColors ? this.#filterFactory.addHCMFilter(this.#pageColors.foreground, this.#pageColors.background) : \"none\");\n  }\n  get direction() {\n    return shadow(this, \"direction\", getComputedStyle(this.#container).direction);\n  }\n  get _highlightColors() {\n    return shadow(this, \"_highlightColors\", this.#highlightColors ? new Map(this.#highlightColors.split(\",\").map(pair => {\n      pair = pair.split(\"=\").map(x => x.trim());\n      pair[1] = pair[1].toUpperCase();\n      return pair;\n    })) : null);\n  }\n  get highlightColors() {\n    const {\n      _highlightColors\n    } = this;\n    if (!_highlightColors) {\n      return shadow(this, \"highlightColors\", null);\n    }\n    const map = new Map();\n    const hasHCM = !!this.#pageColors;\n    for (const [name, color] of _highlightColors) {\n      const isNameForHCM = name.endsWith(\"_HCM\");\n      if (hasHCM && isNameForHCM) {\n        map.set(name.replace(\"_HCM\", \"\"), color);\n        continue;\n      }\n      if (!hasHCM && !isNameForHCM) {\n        map.set(name, color);\n      }\n    }\n    return shadow(this, \"highlightColors\", map);\n  }\n  get highlightColorNames() {\n    return shadow(this, \"highlightColorNames\", this.highlightColors ? new Map(Array.from(this.highlightColors, e => e.reverse())) : null);\n  }\n  getNonHCMColor(color) {\n    if (!this._highlightColors) {\n      return color;\n    }\n    const colorName = this.highlightColorNames.get(color);\n    return this._highlightColors.get(colorName) || color;\n  }\n  getNonHCMColorName(color) {\n    return this.highlightColorNames.get(color) || color;\n  }\n  setCurrentDrawingSession(layer) {\n    if (layer) {\n      this.unselectAll();\n      this.disableUserSelect(true);\n    } else {\n      this.disableUserSelect(false);\n    }\n    this.#currentDrawingSession = layer;\n  }\n  setMainHighlightColorPicker(colorPicker) {\n    this.#mainHighlightColorPicker = colorPicker;\n  }\n  editAltText(editor, firstTime = false) {\n    this.#altTextManager?.editAltText(this, editor, firstTime);\n  }\n  hasCommentManager() {\n    return !!this.#commentManager;\n  }\n  editComment(editor, posX, posY, options) {\n    this.#commentManager?.showDialog(this, editor, posX, posY, options);\n  }\n  selectComment(pageIndex, uid) {\n    const layer = this.#allLayers.get(pageIndex);\n    const editor = layer?.getEditorByUID(uid);\n    editor?.toggleComment(true, true);\n  }\n  updateComment(editor) {\n    this.#commentManager?.updateComment(editor.getData());\n  }\n  updatePopupColor(editor) {\n    this.#commentManager?.updatePopupColor(editor);\n  }\n  removeComment(editor) {\n    this.#commentManager?.removeComments([editor.uid]);\n  }\n  toggleComment(editor, isSelected, visibility = undefined) {\n    this.#commentManager?.toggleCommentPopup(editor, isSelected, visibility);\n  }\n  makeCommentColor(color, opacity) {\n    return color && this.#commentManager?.makeCommentColor(color, opacity) || null;\n  }\n  getCommentDialogElement() {\n    return this.#commentManager?.dialogElement || null;\n  }\n  async waitForEditorsRendered(pageNumber) {\n    if (this.#allLayers.has(pageNumber - 1)) {\n      return;\n    }\n    const {\n      resolve,\n      promise\n    } = Promise.withResolvers();\n    const onEditorsRendered = evt => {\n      if (evt.pageNumber === pageNumber) {\n        this._eventBus._off(\"editorsrendered\", onEditorsRendered);\n        resolve();\n      }\n    };\n    this._eventBus.on(\"editorsrendered\", onEditorsRendered);\n    await promise;\n  }\n  getSignature(editor) {\n    this.#signatureManager?.getSignature({\n      uiManager: this,\n      editor\n    });\n  }\n  get signatureManager() {\n    return this.#signatureManager;\n  }\n  switchToMode(mode, callback) {\n    this._eventBus.on(\"annotationeditormodechanged\", callback, {\n      once: true,\n      signal: this._signal\n    });\n    this._eventBus.dispatch(\"showannotationeditorui\", {\n      source: this,\n      mode\n    });\n  }\n  setPreference(name, value) {\n    this._eventBus.dispatch(\"setpreference\", {\n      source: this,\n      name,\n      value\n    });\n  }\n  onSetPreference({\n    name,\n    value\n  }) {\n    switch (name) {\n      case \"enableNewAltTextWhenAddingImage\":\n        this.#enableNewAltTextWhenAddingImage = value;\n        break;\n    }\n  }\n  onPageChanging({\n    pageNumber\n  }) {\n    this.#currentPageIndex = pageNumber - 1;\n  }\n  focusMainContainer() {\n    this.#container.focus();\n  }\n  findParent(x, y) {\n    for (const layer of this.#allLayers.values()) {\n      const {\n        x: layerX,\n        y: layerY,\n        width,\n        height\n      } = layer.div.getBoundingClientRect();\n      if (x >= layerX && x <= layerX + width && y >= layerY && y <= layerY + height) {\n        return layer;\n      }\n    }\n    return null;\n  }\n  disableUserSelect(value = false) {\n    this.#viewer.classList.toggle(\"noUserSelect\", value);\n  }\n  addShouldRescale(editor) {\n    this.#editorsToRescale.add(editor);\n  }\n  removeShouldRescale(editor) {\n    this.#editorsToRescale.delete(editor);\n  }\n  onScaleChanging({\n    scale\n  }) {\n    this.commitOrRemove();\n    this.viewParameters.realScale = scale * PixelsPerInch.PDF_TO_CSS_UNITS;\n    for (const editor of this.#editorsToRescale) {\n      editor.onScaleChanging();\n    }\n    this.#currentDrawingSession?.onScaleChanging();\n  }\n  onRotationChanging({\n    pagesRotation\n  }) {\n    this.commitOrRemove();\n    this.viewParameters.rotation = pagesRotation;\n  }\n  #getAnchorElementForSelection({\n    anchorNode\n  }) {\n    return anchorNode.nodeType === Node.TEXT_NODE ? anchorNode.parentElement : anchorNode;\n  }\n  #getLayerForTextLayer(textLayer) {\n    const {\n      currentLayer\n    } = this;\n    if (currentLayer.hasTextLayer(textLayer)) {\n      return currentLayer;\n    }\n    for (const layer of this.#allLayers.values()) {\n      if (layer.hasTextLayer(textLayer)) {\n        return layer;\n      }\n    }\n    return null;\n  }\n  highlightSelection(methodOfCreation = \"\", comment = false) {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      return;\n    }\n    const {\n      anchorNode,\n      anchorOffset,\n      focusNode,\n      focusOffset\n    } = selection;\n    const text = selection.toString();\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    const boxes = this.getSelectionBoxes(textLayer);\n    if (!boxes) {\n      return;\n    }\n    selection.empty();\n    const layer = this.#getLayerForTextLayer(textLayer);\n    const isNoneMode = this.#mode === AnnotationEditorType.NONE;\n    const callback = () => {\n      const editor = layer?.createAndAddNewEditor({\n        x: 0,\n        y: 0\n      }, false, {\n        methodOfCreation,\n        boxes,\n        anchorNode,\n        anchorOffset,\n        focusNode,\n        focusOffset,\n        text\n      });\n      if (isNoneMode) {\n        this.showAllEditors(\"highlight\", true, true);\n      }\n      if (comment) {\n        editor?.editComment();\n      }\n    };\n    if (isNoneMode) {\n      this.switchToMode(AnnotationEditorType.HIGHLIGHT, callback);\n      return;\n    }\n    callback();\n  }\n  commentSelection(methodOfCreation = \"\") {\n    this.highlightSelection(methodOfCreation, true);\n  }\n  #displayFloatingToolbar() {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      return;\n    }\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    const boxes = this.getSelectionBoxes(textLayer);\n    if (!boxes) {\n      return;\n    }\n    this.#floatingToolbar ||= new FloatingToolbar(this);\n    this.#floatingToolbar.show(textLayer, boxes, this.direction === \"ltr\");\n  }\n  getAndRemoveDataFromAnnotationStorage(annotationId) {\n    if (!this.#annotationStorage) {\n      return null;\n    }\n    const key = `${AnnotationEditorPrefix}${annotationId}`;\n    const storedValue = this.#annotationStorage.getRawValue(key);\n    if (storedValue) {\n      this.#annotationStorage.remove(key);\n    }\n    return storedValue;\n  }\n  addToAnnotationStorage(editor) {\n    if (!editor.isEmpty() && this.#annotationStorage && !this.#annotationStorage.has(editor.id)) {\n      this.#annotationStorage.setValue(editor.id, editor);\n    }\n  }\n  a11yAlert(messageId, args = null) {\n    const viewerAlert = this.#viewerAlert;\n    if (!viewerAlert) {\n      return;\n    }\n    viewerAlert.setAttribute(\"data-l10n-id\", messageId);\n    if (args) {\n      viewerAlert.setAttribute(\"data-l10n-args\", JSON.stringify(args));\n    } else {\n      viewerAlert.removeAttribute(\"data-l10n-args\");\n    }\n  }\n  #selectionChange() {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      if (this.#selectedTextNode) {\n        this.#floatingToolbar?.hide();\n        this.#selectedTextNode = null;\n        this.#dispatchUpdateStates({\n          hasSelectedText: false\n        });\n      }\n      return;\n    }\n    const {\n      anchorNode\n    } = selection;\n    if (anchorNode === this.#selectedTextNode) {\n      return;\n    }\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    if (!textLayer) {\n      if (this.#selectedTextNode) {\n        this.#floatingToolbar?.hide();\n        this.#selectedTextNode = null;\n        this.#dispatchUpdateStates({\n          hasSelectedText: false\n        });\n      }\n      return;\n    }\n    this.#floatingToolbar?.hide();\n    this.#selectedTextNode = anchorNode;\n    this.#dispatchUpdateStates({\n      hasSelectedText: true\n    });\n    if (this.#mode !== AnnotationEditorType.HIGHLIGHT && this.#mode !== AnnotationEditorType.NONE) {\n      return;\n    }\n    if (this.#mode === AnnotationEditorType.HIGHLIGHT) {\n      this.showAllEditors(\"highlight\", true, true);\n    }\n    this.#highlightWhenShiftUp = this.isShiftKeyDown;\n    if (!this.isShiftKeyDown) {\n      const activeLayer = this.#mode === AnnotationEditorType.HIGHLIGHT ? this.#getLayerForTextLayer(textLayer) : null;\n      activeLayer?.toggleDrawing();\n      if (this.#isPointerDown) {\n        const ac = new AbortController();\n        const signal = this.combinedSignal(ac);\n        const pointerup = e => {\n          if (e.type === \"pointerup\" && e.button !== 0) {\n            return;\n          }\n          ac.abort();\n          activeLayer?.toggleDrawing(true);\n          if (e.type === \"pointerup\") {\n            this.#onSelectEnd(\"main_toolbar\");\n          }\n        };\n        window.addEventListener(\"pointerup\", pointerup, {\n          signal\n        });\n        window.addEventListener(\"blur\", pointerup, {\n          signal\n        });\n      } else {\n        activeLayer?.toggleDrawing(true);\n        this.#onSelectEnd(\"main_toolbar\");\n      }\n    }\n  }\n  #onSelectEnd(methodOfCreation = \"\") {\n    if (this.#mode === AnnotationEditorType.HIGHLIGHT) {\n      this.highlightSelection(methodOfCreation);\n    } else if (this.#enableHighlightFloatingButton) {\n      this.#displayFloatingToolbar();\n    }\n  }\n  #addSelectionListener() {\n    document.addEventListener(\"selectionchange\", this.#selectionChange.bind(this), {\n      signal: this._signal\n    });\n  }\n  #addFocusManager() {\n    if (this.#focusManagerAC) {\n      return;\n    }\n    this.#focusManagerAC = new AbortController();\n    const signal = this.combinedSignal(this.#focusManagerAC);\n    window.addEventListener(\"focus\", this.focus.bind(this), {\n      signal\n    });\n    window.addEventListener(\"blur\", this.blur.bind(this), {\n      signal\n    });\n  }\n  #removeFocusManager() {\n    this.#focusManagerAC?.abort();\n    this.#focusManagerAC = null;\n  }\n  blur() {\n    this.isShiftKeyDown = false;\n    if (this.#highlightWhenShiftUp) {\n      this.#highlightWhenShiftUp = false;\n      this.#onSelectEnd(\"main_toolbar\");\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    const {\n      activeElement\n    } = document;\n    for (const editor of this.#selectedEditors) {\n      if (editor.div.contains(activeElement)) {\n        this.#lastActiveElement = [editor, activeElement];\n        editor._focusEventsAllowed = false;\n        break;\n      }\n    }\n  }\n  focus() {\n    if (!this.#lastActiveElement) {\n      return;\n    }\n    const [lastEditor, lastActiveElement] = this.#lastActiveElement;\n    this.#lastActiveElement = null;\n    lastActiveElement.addEventListener(\"focusin\", () => {\n      lastEditor._focusEventsAllowed = true;\n    }, {\n      once: true,\n      signal: this._signal\n    });\n    lastActiveElement.focus();\n  }\n  #addKeyboardManager() {\n    if (this.#keyboardManagerAC) {\n      return;\n    }\n    this.#keyboardManagerAC = new AbortController();\n    const signal = this.combinedSignal(this.#keyboardManagerAC);\n    window.addEventListener(\"keydown\", this.keydown.bind(this), {\n      signal\n    });\n    window.addEventListener(\"keyup\", this.keyup.bind(this), {\n      signal\n    });\n  }\n  #removeKeyboardManager() {\n    this.#keyboardManagerAC?.abort();\n    this.#keyboardManagerAC = null;\n  }\n  #addCopyPasteListeners() {\n    if (this.#copyPasteAC) {\n      return;\n    }\n    this.#copyPasteAC = new AbortController();\n    const signal = this.combinedSignal(this.#copyPasteAC);\n    document.addEventListener(\"copy\", this.copy.bind(this), {\n      signal\n    });\n    document.addEventListener(\"cut\", this.cut.bind(this), {\n      signal\n    });\n    document.addEventListener(\"paste\", this.paste.bind(this), {\n      signal\n    });\n  }\n  #removeCopyPasteListeners() {\n    this.#copyPasteAC?.abort();\n    this.#copyPasteAC = null;\n  }\n  #addDragAndDropListeners() {\n    const signal = this._signal;\n    document.addEventListener(\"dragover\", this.dragOver.bind(this), {\n      signal\n    });\n    document.addEventListener(\"drop\", this.drop.bind(this), {\n      signal\n    });\n  }\n  addEditListeners() {\n    this.#addKeyboardManager();\n    this.#addCopyPasteListeners();\n  }\n  removeEditListeners() {\n    this.#removeKeyboardManager();\n    this.#removeCopyPasteListeners();\n  }\n  dragOver(event) {\n    for (const {\n      type\n    } of event.dataTransfer.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(type)) {\n          event.dataTransfer.dropEffect = \"copy\";\n          event.preventDefault();\n          return;\n        }\n      }\n    }\n  }\n  drop(event) {\n    for (const item of event.dataTransfer.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(item.type)) {\n          editorType.paste(item, this.currentLayer);\n          event.preventDefault();\n          return;\n        }\n      }\n    }\n  }\n  copy(event) {\n    event.preventDefault();\n    this.#activeEditor?.commitOrRemove();\n    if (!this.hasSelection) {\n      return;\n    }\n    const editors = [];\n    for (const editor of this.#selectedEditors) {\n      const serialized = editor.serialize(true);\n      if (serialized) {\n        editors.push(serialized);\n      }\n    }\n    if (editors.length === 0) {\n      return;\n    }\n    event.clipboardData.setData(\"application/pdfjs\", JSON.stringify(editors));\n  }\n  cut(event) {\n    this.copy(event);\n    this.delete();\n  }\n  async paste(event) {\n    event.preventDefault();\n    const {\n      clipboardData\n    } = event;\n    for (const item of clipboardData.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(item.type)) {\n          editorType.paste(item, this.currentLayer);\n          return;\n        }\n      }\n    }\n    let data = clipboardData.getData(\"application/pdfjs\");\n    if (!data) {\n      return;\n    }\n    try {\n      data = JSON.parse(data);\n    } catch (ex) {\n      warn(`paste: \"${ex.message}\".`);\n      return;\n    }\n    if (!Array.isArray(data)) {\n      return;\n    }\n    this.unselectAll();\n    const layer = this.currentLayer;\n    try {\n      const newEditors = [];\n      for (const editor of data) {\n        const deserializedEditor = await layer.deserialize(editor);\n        if (!deserializedEditor) {\n          return;\n        }\n        newEditors.push(deserializedEditor);\n      }\n      const cmd = () => {\n        for (const editor of newEditors) {\n          this.#addEditorToLayer(editor);\n        }\n        this.#selectEditors(newEditors);\n      };\n      const undo = () => {\n        for (const editor of newEditors) {\n          editor.remove();\n        }\n      };\n      this.addCommands({\n        cmd,\n        undo,\n        mustExec: true\n      });\n    } catch (ex) {\n      warn(`paste: \"${ex.message}\".`);\n    }\n  }\n  keydown(event) {\n    if (!this.isShiftKeyDown && event.key === \"Shift\") {\n      this.isShiftKeyDown = true;\n    }\n    if (this.#mode !== AnnotationEditorType.NONE && !this.isEditorHandlingKeyboard) {\n      AnnotationEditorUIManager._keyboardManager.exec(this, event);\n    }\n  }\n  keyup(event) {\n    if (this.isShiftKeyDown && event.key === \"Shift\") {\n      this.isShiftKeyDown = false;\n      if (this.#highlightWhenShiftUp) {\n        this.#highlightWhenShiftUp = false;\n        this.#onSelectEnd(\"main_toolbar\");\n      }\n    }\n  }\n  onEditingAction({\n    name\n  }) {\n    switch (name) {\n      case \"undo\":\n      case \"redo\":\n      case \"delete\":\n      case \"selectAll\":\n        this[name]();\n        break;\n      case \"highlightSelection\":\n        this.highlightSelection(\"context_menu\");\n        break;\n      case \"commentSelection\":\n        this.commentSelection(\"context_menu\");\n        break;\n    }\n  }\n  #dispatchUpdateStates(details) {\n    const hasChanged = Object.entries(details).some(([key, value]) => this.#previousStates[key] !== value);\n    if (hasChanged) {\n      this._eventBus.dispatch(\"annotationeditorstateschanged\", {\n        source: this,\n        details: Object.assign(this.#previousStates, details)\n      });\n      if (this.#mode === AnnotationEditorType.HIGHLIGHT && details.hasSelectedEditor === false) {\n        this.#dispatchUpdateUI([[AnnotationEditorParamsType.HIGHLIGHT_FREE, true]]);\n      }\n    }\n  }\n  #dispatchUpdateUI(details) {\n    this._eventBus.dispatch(\"annotationeditorparamschanged\", {\n      source: this,\n      details\n    });\n  }\n  setEditingState(isEditing) {\n    if (isEditing) {\n      this.#addFocusManager();\n      this.#addCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: this.#mode !== AnnotationEditorType.NONE,\n        isEmpty: this.#isEmpty(),\n        hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n        hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n        hasSelectedEditor: false\n      });\n    } else {\n      this.#removeFocusManager();\n      this.#removeCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: false\n      });\n      this.disableUserSelect(false);\n    }\n  }\n  registerEditorTypes(types) {\n    if (this.#editorTypes) {\n      return;\n    }\n    this.#editorTypes = types;\n    for (const editorType of this.#editorTypes) {\n      this.#dispatchUpdateUI(editorType.defaultPropertiesToUpdate);\n    }\n  }\n  getId() {\n    return this.#idManager.id;\n  }\n  get currentLayer() {\n    return this.#allLayers.get(this.#currentPageIndex);\n  }\n  getLayer(pageIndex) {\n    return this.#allLayers.get(pageIndex);\n  }\n  get currentPageIndex() {\n    return this.#currentPageIndex;\n  }\n  addLayer(layer) {\n    this.#allLayers.set(layer.pageIndex, layer);\n    if (this.#isEnabled) {\n      layer.enable();\n    } else {\n      layer.disable();\n    }\n  }\n  removeLayer(layer) {\n    this.#allLayers.delete(layer.pageIndex);\n  }\n  async updateMode(mode, editId = null, isFromKeyboard = false, mustEnterInEditMode = false, editComment = false) {\n    if (this.#mode === mode) {\n      return;\n    }\n    if (this.#updateModeCapability) {\n      await this.#updateModeCapability.promise;\n      if (!this.#updateModeCapability) {\n        return;\n      }\n    }\n    this.#updateModeCapability = Promise.withResolvers();\n    this.#currentDrawingSession?.commitOrRemove();\n    if (this.#mode === AnnotationEditorType.POPUP) {\n      this.#commentManager?.hideSidebar();\n    }\n    this.#commentManager?.destroyPopup();\n    this.#mode = mode;\n    if (mode === AnnotationEditorType.NONE) {\n      this.setEditingState(false);\n      this.#disableAll();\n      for (const editor of this.#allEditors.values()) {\n        editor.hideStandaloneCommentButton();\n      }\n      this._editorUndoBar?.hide();\n      this.toggleComment(null);\n      this.#updateModeCapability.resolve();\n      return;\n    }\n    for (const editor of this.#allEditors.values()) {\n      editor.addStandaloneCommentButton();\n    }\n    if (mode === AnnotationEditorType.SIGNATURE) {\n      await this.#signatureManager?.loadSignatures();\n    }\n    this.setEditingState(true);\n    await this.#enableAll();\n    this.unselectAll();\n    for (const layer of this.#allLayers.values()) {\n      layer.updateMode(mode);\n    }\n    if (mode === AnnotationEditorType.POPUP) {\n      this.#allEditableAnnotations ||= await this.#pdfDocument.getAnnotationsByType(new Set(this.#editorTypes.map(editorClass => editorClass._editorType)));\n      const elementIds = new Set();\n      const allComments = [];\n      for (const editor of this.#allEditors.values()) {\n        const {\n          annotationElementId,\n          hasComment,\n          deleted\n        } = editor;\n        if (annotationElementId) {\n          elementIds.add(annotationElementId);\n        }\n        if (hasComment && !deleted) {\n          allComments.push(editor.getData());\n        }\n      }\n      for (const annotation of this.#allEditableAnnotations) {\n        const {\n          id,\n          popupRef,\n          contentsObj\n        } = annotation;\n        if (popupRef && contentsObj?.str && !elementIds.has(id) && !this.#deletedAnnotationsElementIds.has(id)) {\n          allComments.push(annotation);\n        }\n      }\n      this.#commentManager?.showSidebar(allComments);\n    }\n    if (!editId) {\n      if (isFromKeyboard) {\n        this.addNewEditorFromKeyboard();\n      }\n      this.#updateModeCapability.resolve();\n      return;\n    }\n    for (const editor of this.#allEditors.values()) {\n      if (editor.uid === editId) {\n        this.setSelected(editor);\n        if (editComment) {\n          editor.editComment();\n        } else if (mustEnterInEditMode) {\n          editor.enterInEditMode();\n        } else {\n          editor.focus();\n        }\n      } else {\n        editor.unselect();\n      }\n    }\n    this.#updateModeCapability.resolve();\n  }\n  addNewEditorFromKeyboard() {\n    if (this.currentLayer.canCreateNewEmptyEditor()) {\n      this.currentLayer.addNewEditor();\n    }\n  }\n  updateToolbar(options) {\n    if (options.mode === this.#mode) {\n      return;\n    }\n    this._eventBus.dispatch(\"switchannotationeditormode\", {\n      source: this,\n      ...options\n    });\n  }\n  updateParams(type, value) {\n    if (!this.#editorTypes) {\n      return;\n    }\n    switch (type) {\n      case AnnotationEditorParamsType.CREATE:\n        this.currentLayer.addNewEditor(value);\n        return;\n      case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:\n        this._eventBus.dispatch(\"reporttelemetry\", {\n          source: this,\n          details: {\n            type: \"editing\",\n            data: {\n              type: \"highlight\",\n              action: \"toggle_visibility\"\n            }\n          }\n        });\n        (this.#showAllStates ||= new Map()).set(type, value);\n        this.showAllEditors(\"highlight\", value);\n        break;\n    }\n    if (this.hasSelection) {\n      for (const editor of this.#selectedEditors) {\n        editor.updateParams(type, value);\n      }\n    } else {\n      for (const editorType of this.#editorTypes) {\n        editorType.updateDefaultParams(type, value);\n      }\n    }\n  }\n  showAllEditors(type, visible, updateButton = false) {\n    for (const editor of this.#allEditors.values()) {\n      if (editor.editorType === type) {\n        editor.show(visible);\n      }\n    }\n    const state = this.#showAllStates?.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL) ?? true;\n    if (state !== visible) {\n      this.#dispatchUpdateUI([[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL, visible]]);\n    }\n  }\n  enableWaiting(mustWait = false) {\n    if (this.#isWaiting === mustWait) {\n      return;\n    }\n    this.#isWaiting = mustWait;\n    for (const layer of this.#allLayers.values()) {\n      if (mustWait) {\n        layer.disableClick();\n      } else {\n        layer.enableClick();\n      }\n      layer.div.classList.toggle(\"waiting\", mustWait);\n    }\n  }\n  async #enableAll() {\n    if (!this.#isEnabled) {\n      this.#isEnabled = true;\n      const promises = [];\n      for (const layer of this.#allLayers.values()) {\n        promises.push(layer.enable());\n      }\n      await Promise.all(promises);\n      for (const editor of this.#allEditors.values()) {\n        editor.enable();\n      }\n    }\n  }\n  #disableAll() {\n    this.unselectAll();\n    if (this.#isEnabled) {\n      this.#isEnabled = false;\n      for (const layer of this.#allLayers.values()) {\n        layer.disable();\n      }\n      for (const editor of this.#allEditors.values()) {\n        editor.disable();\n      }\n    }\n  }\n  *getEditors(pageIndex) {\n    for (const editor of this.#allEditors.values()) {\n      if (editor.pageIndex === pageIndex) {\n        yield editor;\n      }\n    }\n  }\n  getEditor(id) {\n    return this.#allEditors.get(id);\n  }\n  addEditor(editor) {\n    this.#allEditors.set(editor.id, editor);\n  }\n  removeEditor(editor) {\n    if (editor.div.contains(document.activeElement)) {\n      if (this.#focusMainContainerTimeoutId) {\n        clearTimeout(this.#focusMainContainerTimeoutId);\n      }\n      this.#focusMainContainerTimeoutId = setTimeout(() => {\n        this.focusMainContainer();\n        this.#focusMainContainerTimeoutId = null;\n      }, 0);\n    }\n    this.#allEditors.delete(editor.id);\n    if (editor.annotationElementId) {\n      this.#missingCanvases?.delete(editor.annotationElementId);\n    }\n    this.unselect(editor);\n    if (!editor.annotationElementId || !this.#deletedAnnotationsElementIds.has(editor.annotationElementId)) {\n      this.#annotationStorage?.remove(editor.id);\n    }\n  }\n  addDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.add(editor.annotationElementId);\n    this.addChangedExistingAnnotation(editor);\n    editor.deleted = true;\n  }\n  isDeletedAnnotationElement(annotationElementId) {\n    return this.#deletedAnnotationsElementIds.has(annotationElementId);\n  }\n  removeDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.delete(editor.annotationElementId);\n    this.removeChangedExistingAnnotation(editor);\n    editor.deleted = false;\n  }\n  #addEditorToLayer(editor) {\n    const layer = this.#allLayers.get(editor.pageIndex);\n    if (layer) {\n      layer.addOrRebuild(editor);\n    } else {\n      this.addEditor(editor);\n      this.addToAnnotationStorage(editor);\n    }\n  }\n  setActiveEditor(editor) {\n    if (this.#activeEditor === editor) {\n      return;\n    }\n    this.#activeEditor = editor;\n    if (editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n  get #lastSelectedEditor() {\n    let ed = null;\n    for (ed of this.#selectedEditors) {}\n    return ed;\n  }\n  updateUI(editor) {\n    if (this.#lastSelectedEditor === editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n  updateUIForDefaultProperties(editorType) {\n    this.#dispatchUpdateUI(editorType.defaultPropertiesToUpdate);\n  }\n  toggleSelected(editor) {\n    if (this.#selectedEditors.has(editor)) {\n      this.#selectedEditors.delete(editor);\n      editor.unselect();\n      this.#dispatchUpdateStates({\n        hasSelectedEditor: this.hasSelection\n      });\n      return;\n    }\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true\n    });\n  }\n  setSelected(editor) {\n    this.updateToolbar({\n      mode: editor.mode,\n      editId: editor.id\n    });\n    this.#currentDrawingSession?.commitOrRemove();\n    for (const ed of this.#selectedEditors) {\n      if (ed !== editor) {\n        ed.unselect();\n      }\n    }\n    this.#selectedEditors.clear();\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true\n    });\n  }\n  isSelected(editor) {\n    return this.#selectedEditors.has(editor);\n  }\n  get firstSelectedEditor() {\n    return this.#selectedEditors.values().next().value;\n  }\n  unselect(editor) {\n    editor.unselect();\n    this.#selectedEditors.delete(editor);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: this.hasSelection\n    });\n  }\n  get hasSelection() {\n    return this.#selectedEditors.size !== 0;\n  }\n  get isEnterHandled() {\n    return this.#selectedEditors.size === 1 && this.firstSelectedEditor.isEnterHandled;\n  }\n  undo() {\n    this.#commandManager.undo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n      hasSomethingToRedo: true,\n      isEmpty: this.#isEmpty()\n    });\n    this._editorUndoBar?.hide();\n  }\n  redo() {\n    this.#commandManager.redo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n      isEmpty: this.#isEmpty()\n    });\n  }\n  addCommands(params) {\n    this.#commandManager.add(params);\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: false,\n      isEmpty: this.#isEmpty()\n    });\n  }\n  cleanUndoStack(type) {\n    this.#commandManager.cleanType(type);\n  }\n  #isEmpty() {\n    if (this.#allEditors.size === 0) {\n      return true;\n    }\n    if (this.#allEditors.size === 1) {\n      for (const editor of this.#allEditors.values()) {\n        return editor.isEmpty();\n      }\n    }\n    return false;\n  }\n  delete() {\n    this.commitOrRemove();\n    const drawingEditor = this.currentLayer?.endDrawingSession(true);\n    if (!this.hasSelection && !drawingEditor) {\n      return;\n    }\n    const editors = drawingEditor ? [drawingEditor] : [...this.#selectedEditors];\n    const cmd = () => {\n      this._editorUndoBar?.show(undo, editors.length === 1 ? editors[0].editorType : editors.length);\n      for (const editor of editors) {\n        editor.remove();\n      }\n    };\n    const undo = () => {\n      for (const editor of editors) {\n        this.#addEditorToLayer(editor);\n      }\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: true\n    });\n  }\n  commitOrRemove() {\n    this.#activeEditor?.commitOrRemove();\n  }\n  hasSomethingToControl() {\n    return this.#activeEditor || this.hasSelection;\n  }\n  #selectEditors(editors) {\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    for (const editor of editors) {\n      if (editor.isEmpty()) {\n        continue;\n      }\n      this.#selectedEditors.add(editor);\n      editor.select();\n    }\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: this.hasSelection\n    });\n  }\n  selectAll() {\n    for (const editor of this.#selectedEditors) {\n      editor.commit();\n    }\n    this.#selectEditors(this.#allEditors.values());\n  }\n  unselectAll() {\n    if (this.#activeEditor) {\n      this.#activeEditor.commitOrRemove();\n      if (this.#mode !== AnnotationEditorType.NONE) {\n        return;\n      }\n    }\n    if (this.#currentDrawingSession?.commitOrRemove()) {\n      return;\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: false\n    });\n  }\n  translateSelectedEditors(x, y, noCommit = false) {\n    if (!noCommit) {\n      this.commitOrRemove();\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    this.#translation[0] += x;\n    this.#translation[1] += y;\n    const [totalX, totalY] = this.#translation;\n    const editors = [...this.#selectedEditors];\n    const TIME_TO_WAIT = 1000;\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n    }\n    this.#translationTimeoutId = setTimeout(() => {\n      this.#translationTimeoutId = null;\n      this.#translation[0] = this.#translation[1] = 0;\n      this.addCommands({\n        cmd: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(totalX, totalY);\n              editor.translationDone();\n            }\n          }\n        },\n        undo: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(-totalX, -totalY);\n              editor.translationDone();\n            }\n          }\n        },\n        mustExec: false\n      });\n    }, TIME_TO_WAIT);\n    for (const editor of editors) {\n      editor.translateInPage(x, y);\n      editor.translationDone();\n    }\n  }\n  setUpDragSession() {\n    if (!this.hasSelection) {\n      return;\n    }\n    this.disableUserSelect(true);\n    this.#draggingEditors = new Map();\n    for (const editor of this.#selectedEditors) {\n      this.#draggingEditors.set(editor, {\n        savedX: editor.x,\n        savedY: editor.y,\n        savedPageIndex: editor.pageIndex,\n        newX: 0,\n        newY: 0,\n        newPageIndex: -1\n      });\n    }\n  }\n  endDragSession() {\n    if (!this.#draggingEditors) {\n      return false;\n    }\n    this.disableUserSelect(false);\n    const map = this.#draggingEditors;\n    this.#draggingEditors = null;\n    let mustBeAddedInUndoStack = false;\n    for (const [{\n      x,\n      y,\n      pageIndex\n    }, value] of map) {\n      value.newX = x;\n      value.newY = y;\n      value.newPageIndex = pageIndex;\n      mustBeAddedInUndoStack ||= x !== value.savedX || y !== value.savedY || pageIndex !== value.savedPageIndex;\n    }\n    if (!mustBeAddedInUndoStack) {\n      return false;\n    }\n    const move = (editor, x, y, pageIndex) => {\n      if (this.#allEditors.has(editor.id)) {\n        const parent = this.#allLayers.get(pageIndex);\n        if (parent) {\n          editor._setParentAndPosition(parent, x, y);\n        } else {\n          editor.pageIndex = pageIndex;\n          editor.x = x;\n          editor.y = y;\n        }\n      }\n    };\n    this.addCommands({\n      cmd: () => {\n        for (const [editor, {\n          newX,\n          newY,\n          newPageIndex\n        }] of map) {\n          move(editor, newX, newY, newPageIndex);\n        }\n      },\n      undo: () => {\n        for (const [editor, {\n          savedX,\n          savedY,\n          savedPageIndex\n        }] of map) {\n          move(editor, savedX, savedY, savedPageIndex);\n        }\n      },\n      mustExec: true\n    });\n    return true;\n  }\n  dragSelectedEditors(tx, ty) {\n    if (!this.#draggingEditors) {\n      return;\n    }\n    for (const editor of this.#draggingEditors.keys()) {\n      editor.drag(tx, ty);\n    }\n  }\n  rebuild(editor) {\n    if (editor.parent === null) {\n      const parent = this.getLayer(editor.pageIndex);\n      if (parent) {\n        parent.changeParent(editor);\n        parent.addOrRebuild(editor);\n      } else {\n        this.addEditor(editor);\n        this.addToAnnotationStorage(editor);\n        editor.rebuild();\n      }\n    } else {\n      editor.parent.addOrRebuild(editor);\n    }\n  }\n  get isEditorHandlingKeyboard() {\n    return this.getActive()?.shouldGetKeyboardEvents() || this.#selectedEditors.size === 1 && this.firstSelectedEditor.shouldGetKeyboardEvents();\n  }\n  isActive(editor) {\n    return this.#activeEditor === editor;\n  }\n  getActive() {\n    return this.#activeEditor;\n  }\n  getMode() {\n    return this.#mode;\n  }\n  isEditingMode() {\n    return this.#mode !== AnnotationEditorType.NONE;\n  }\n  get imageManager() {\n    return shadow(this, \"imageManager\", new ImageManager());\n  }\n  getSelectionBoxes(textLayer) {\n    if (!textLayer) {\n      return null;\n    }\n    const selection = document.getSelection();\n    for (let i = 0, ii = selection.rangeCount; i < ii; i++) {\n      if (!textLayer.contains(selection.getRangeAt(i).commonAncestorContainer)) {\n        return null;\n      }\n    }\n    const {\n      x: layerX,\n      y: layerY,\n      width: parentWidth,\n      height: parentHeight\n    } = textLayer.getBoundingClientRect();\n    let rotator;\n    switch (textLayer.getAttribute(\"data-main-rotation\")) {\n      case \"90\":\n        rotator = (x, y, w, h) => ({\n          x: (y - layerY) / parentHeight,\n          y: 1 - (x + w - layerX) / parentWidth,\n          width: h / parentHeight,\n          height: w / parentWidth\n        });\n        break;\n      case \"180\":\n        rotator = (x, y, w, h) => ({\n          x: 1 - (x + w - layerX) / parentWidth,\n          y: 1 - (y + h - layerY) / parentHeight,\n          width: w / parentWidth,\n          height: h / parentHeight\n        });\n        break;\n      case \"270\":\n        rotator = (x, y, w, h) => ({\n          x: 1 - (y + h - layerY) / parentHeight,\n          y: (x - layerX) / parentWidth,\n          width: h / parentHeight,\n          height: w / parentWidth\n        });\n        break;\n      default:\n        rotator = (x, y, w, h) => ({\n          x: (x - layerX) / parentWidth,\n          y: (y - layerY) / parentHeight,\n          width: w / parentWidth,\n          height: h / parentHeight\n        });\n        break;\n    }\n    const boxes = [];\n    for (let i = 0, ii = selection.rangeCount; i < ii; i++) {\n      const range = selection.getRangeAt(i);\n      if (range.collapsed) {\n        continue;\n      }\n      for (const {\n        x,\n        y,\n        width,\n        height\n      } of range.getClientRects()) {\n        if (width === 0 || height === 0) {\n          continue;\n        }\n        boxes.push(rotator(x, y, width, height));\n      }\n    }\n    return boxes.length === 0 ? null : boxes;\n  }\n  addChangedExistingAnnotation({\n    annotationElementId,\n    id\n  }) {\n    (this.#changedExistingAnnotations ||= new Map()).set(annotationElementId, id);\n  }\n  removeChangedExistingAnnotation({\n    annotationElementId\n  }) {\n    this.#changedExistingAnnotations?.delete(annotationElementId);\n  }\n  renderAnnotationElement(annotation) {\n    const editorId = this.#changedExistingAnnotations?.get(annotation.data.id);\n    if (!editorId) {\n      return;\n    }\n    const editor = this.#annotationStorage.getRawValue(editorId);\n    if (!editor) {\n      return;\n    }\n    if (this.#mode === AnnotationEditorType.NONE && !editor.hasBeenModified) {\n      return;\n    }\n    editor.renderAnnotationElement(annotation);\n  }\n  setMissingCanvas(annotationId, annotationElementId, canvas) {\n    const editor = this.#missingCanvases?.get(annotationId);\n    if (!editor) {\n      return;\n    }\n    editor.setCanvas(annotationElementId, canvas);\n    this.#missingCanvases.delete(annotationId);\n  }\n  addMissingCanvas(annotationId, editor) {\n    (this.#missingCanvases ||= new Map()).set(annotationId, editor);\n  }\n}\n\n;// ./src/display/editor/alt_text.js\n\nclass AltText {\n  #altText = null;\n  #altTextDecorative = false;\n  #altTextButton = null;\n  #altTextButtonLabel = null;\n  #altTextTooltip = null;\n  #altTextTooltipTimeout = null;\n  #altTextWasFromKeyBoard = false;\n  #badge = null;\n  #editor = null;\n  #guessedText = null;\n  #textWithDisclaimer = null;\n  #useNewAltTextFlow = false;\n  static #l10nNewButton = null;\n  static _l10n = null;\n  constructor(editor) {\n    this.#editor = editor;\n    this.#useNewAltTextFlow = editor._uiManager.useNewAltTextFlow;\n    AltText.#l10nNewButton ||= Object.freeze({\n      added: \"pdfjs-editor-new-alt-text-added-button\",\n      \"added-label\": \"pdfjs-editor-new-alt-text-added-button-label\",\n      missing: \"pdfjs-editor-new-alt-text-missing-button\",\n      \"missing-label\": \"pdfjs-editor-new-alt-text-missing-button-label\",\n      review: \"pdfjs-editor-new-alt-text-to-review-button\",\n      \"review-label\": \"pdfjs-editor-new-alt-text-to-review-button-label\"\n    });\n  }\n  static initialize(l10n) {\n    AltText._l10n ??= l10n;\n  }\n  async render() {\n    const altText = this.#altTextButton = document.createElement(\"button\");\n    altText.className = \"altText\";\n    altText.tabIndex = \"0\";\n    const label = this.#altTextButtonLabel = document.createElement(\"span\");\n    altText.append(label);\n    if (this.#useNewAltTextFlow) {\n      altText.classList.add(\"new\");\n      altText.setAttribute(\"data-l10n-id\", AltText.#l10nNewButton.missing);\n      label.setAttribute(\"data-l10n-id\", AltText.#l10nNewButton[\"missing-label\"]);\n    } else {\n      altText.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-button\");\n      label.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-button-label\");\n    }\n    const signal = this.#editor._uiManager._signal;\n    altText.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    altText.addEventListener(\"pointerdown\", event => event.stopPropagation(), {\n      signal\n    });\n    const onClick = event => {\n      event.preventDefault();\n      this.#editor._uiManager.editAltText(this.#editor);\n      if (this.#useNewAltTextFlow) {\n        this.#editor._reportTelemetry({\n          action: \"pdfjs.image.alt_text.image_status_label_clicked\",\n          data: {\n            label: this.#label\n          }\n        });\n      }\n    };\n    altText.addEventListener(\"click\", onClick, {\n      capture: true,\n      signal\n    });\n    altText.addEventListener(\"keydown\", event => {\n      if (event.target === altText && event.key === \"Enter\") {\n        this.#altTextWasFromKeyBoard = true;\n        onClick(event);\n      }\n    }, {\n      signal\n    });\n    await this.#setState();\n    return altText;\n  }\n  get #label() {\n    return this.#altText && \"added\" || this.#altText === null && this.guessedText && \"review\" || \"missing\";\n  }\n  finish() {\n    if (!this.#altTextButton) {\n      return;\n    }\n    this.#altTextButton.focus({\n      focusVisible: this.#altTextWasFromKeyBoard\n    });\n    this.#altTextWasFromKeyBoard = false;\n  }\n  isEmpty() {\n    if (this.#useNewAltTextFlow) {\n      return this.#altText === null;\n    }\n    return !this.#altText && !this.#altTextDecorative;\n  }\n  hasData() {\n    if (this.#useNewAltTextFlow) {\n      return this.#altText !== null || !!this.#guessedText;\n    }\n    return this.isEmpty();\n  }\n  get guessedText() {\n    return this.#guessedText;\n  }\n  async setGuessedText(guessedText) {\n    if (this.#altText !== null) {\n      return;\n    }\n    this.#guessedText = guessedText;\n    this.#textWithDisclaimer = await AltText._l10n.get(\"pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer\", {\n      generatedAltText: guessedText\n    });\n    this.#setState();\n  }\n  toggleAltTextBadge(visibility = false) {\n    if (!this.#useNewAltTextFlow || this.#altText) {\n      this.#badge?.remove();\n      this.#badge = null;\n      return;\n    }\n    if (!this.#badge) {\n      const badge = this.#badge = document.createElement(\"div\");\n      badge.className = \"noAltTextBadge\";\n      this.#editor.div.append(badge);\n    }\n    this.#badge.classList.toggle(\"hidden\", !visibility);\n  }\n  serialize(isForCopying) {\n    let altText = this.#altText;\n    if (!isForCopying && this.#guessedText === altText) {\n      altText = this.#textWithDisclaimer;\n    }\n    return {\n      altText,\n      decorative: this.#altTextDecorative,\n      guessedText: this.#guessedText,\n      textWithDisclaimer: this.#textWithDisclaimer\n    };\n  }\n  get data() {\n    return {\n      altText: this.#altText,\n      decorative: this.#altTextDecorative\n    };\n  }\n  set data({\n    altText,\n    decorative,\n    guessedText,\n    textWithDisclaimer,\n    cancel = false\n  }) {\n    if (guessedText) {\n      this.#guessedText = guessedText;\n      this.#textWithDisclaimer = textWithDisclaimer;\n    }\n    if (this.#altText === altText && this.#altTextDecorative === decorative) {\n      return;\n    }\n    if (!cancel) {\n      this.#altText = altText;\n      this.#altTextDecorative = decorative;\n    }\n    this.#setState();\n  }\n  toggle(enabled = false) {\n    if (!this.#altTextButton) {\n      return;\n    }\n    if (!enabled && this.#altTextTooltipTimeout) {\n      clearTimeout(this.#altTextTooltipTimeout);\n      this.#altTextTooltipTimeout = null;\n    }\n    this.#altTextButton.disabled = !enabled;\n  }\n  shown() {\n    this.#editor._reportTelemetry({\n      action: \"pdfjs.image.alt_text.image_status_label_displayed\",\n      data: {\n        label: this.#label\n      }\n    });\n  }\n  destroy() {\n    this.#altTextButton?.remove();\n    this.#altTextButton = null;\n    this.#altTextButtonLabel = null;\n    this.#altTextTooltip = null;\n    this.#badge?.remove();\n    this.#badge = null;\n  }\n  async #setState() {\n    const button = this.#altTextButton;\n    if (!button) {\n      return;\n    }\n    if (this.#useNewAltTextFlow) {\n      button.classList.toggle(\"done\", !!this.#altText);\n      button.setAttribute(\"data-l10n-id\", AltText.#l10nNewButton[this.#label]);\n      this.#altTextButtonLabel?.setAttribute(\"data-l10n-id\", AltText.#l10nNewButton[`${this.#label}-label`]);\n      if (!this.#altText) {\n        this.#altTextTooltip?.remove();\n        return;\n      }\n    } else {\n      if (!this.#altText && !this.#altTextDecorative) {\n        button.classList.remove(\"done\");\n        this.#altTextTooltip?.remove();\n        return;\n      }\n      button.classList.add(\"done\");\n      button.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-edit-button\");\n    }\n    let tooltip = this.#altTextTooltip;\n    if (!tooltip) {\n      this.#altTextTooltip = tooltip = document.createElement(\"span\");\n      tooltip.className = \"tooltip\";\n      tooltip.setAttribute(\"role\", \"tooltip\");\n      tooltip.id = `alt-text-tooltip-${this.#editor.id}`;\n      const DELAY_TO_SHOW_TOOLTIP = 100;\n      const signal = this.#editor._uiManager._signal;\n      signal.addEventListener(\"abort\", () => {\n        clearTimeout(this.#altTextTooltipTimeout);\n        this.#altTextTooltipTimeout = null;\n      }, {\n        once: true\n      });\n      button.addEventListener(\"mouseenter\", () => {\n        this.#altTextTooltipTimeout = setTimeout(() => {\n          this.#altTextTooltipTimeout = null;\n          this.#altTextTooltip.classList.add(\"show\");\n          this.#editor._reportTelemetry({\n            action: \"alt_text_tooltip\"\n          });\n        }, DELAY_TO_SHOW_TOOLTIP);\n      }, {\n        signal\n      });\n      button.addEventListener(\"mouseleave\", () => {\n        if (this.#altTextTooltipTimeout) {\n          clearTimeout(this.#altTextTooltipTimeout);\n          this.#altTextTooltipTimeout = null;\n        }\n        this.#altTextTooltip?.classList.remove(\"show\");\n      }, {\n        signal\n      });\n    }\n    if (this.#altTextDecorative) {\n      tooltip.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-decorative-tooltip\");\n    } else {\n      tooltip.removeAttribute(\"data-l10n-id\");\n      tooltip.textContent = this.#altText;\n    }\n    if (!tooltip.parentNode) {\n      button.append(tooltip);\n    }\n    const element = this.#editor.getElementForAltText();\n    element?.setAttribute(\"aria-describedby\", tooltip.id);\n  }\n}\n\n;// ./src/display/editor/comment.js\n\nclass Comment {\n  #commentStandaloneButton = null;\n  #commentToolbarButton = null;\n  #commentWasFromKeyBoard = false;\n  #editor = null;\n  #initialText = null;\n  #richText = null;\n  #text = null;\n  #date = null;\n  #deleted = false;\n  #popupPosition = null;\n  constructor(editor) {\n    this.#editor = editor;\n  }\n  renderForToolbar() {\n    const button = this.#commentToolbarButton = document.createElement(\"button\");\n    button.className = \"comment\";\n    return this.#render(button, false);\n  }\n  renderForStandalone() {\n    const button = this.#commentStandaloneButton = document.createElement(\"button\");\n    button.className = \"annotationCommentButton\";\n    const position = this.#editor.commentButtonPosition;\n    if (position) {\n      const {\n        style\n      } = button;\n      style.insetInlineEnd = `calc(${100 * (this.#editor._uiManager.direction === \"ltr\" ? 1 - position[0] : position[0])}% - var(--comment-button-dim))`;\n      style.top = `calc(${100 * position[1]}% - var(--comment-button-dim))`;\n      const color = this.#editor.commentButtonColor;\n      if (color) {\n        style.backgroundColor = color;\n      }\n    }\n    return this.#render(button, true);\n  }\n  focusButton() {\n    setTimeout(() => {\n      (this.#commentStandaloneButton ?? this.#commentToolbarButton)?.focus();\n    }, 0);\n  }\n  onUpdatedColor() {\n    if (!this.#commentStandaloneButton) {\n      return;\n    }\n    const color = this.#editor.commentButtonColor;\n    if (color) {\n      this.#commentStandaloneButton.style.backgroundColor = color;\n    }\n    this.#editor._uiManager.updatePopupColor(this.#editor);\n  }\n  get commentButtonWidth() {\n    return (this.#commentStandaloneButton?.getBoundingClientRect().width ?? 0) / this.#editor.parent.boundingClientRect.width;\n  }\n  get commentPopupPositionInLayer() {\n    if (this.#popupPosition) {\n      return this.#popupPosition;\n    }\n    if (!this.#commentStandaloneButton) {\n      return null;\n    }\n    const {\n      x,\n      y,\n      height\n    } = this.#commentStandaloneButton.getBoundingClientRect();\n    const {\n      x: parentX,\n      y: parentY,\n      width: parentWidth,\n      height: parentHeight\n    } = this.#editor.parent.boundingClientRect;\n    return [(x - parentX) / parentWidth, (y + height - parentY) / parentHeight];\n  }\n  set commentPopupPositionInLayer(pos) {\n    this.#popupPosition = pos;\n  }\n  hasDefaultPopupPosition() {\n    return this.#popupPosition === null;\n  }\n  removeStandaloneCommentButton() {\n    this.#commentStandaloneButton?.remove();\n    this.#commentStandaloneButton = null;\n  }\n  removeToolbarCommentButton() {\n    this.#commentToolbarButton?.remove();\n    this.#commentToolbarButton = null;\n  }\n  setCommentButtonStates({\n    selected,\n    hasPopup\n  }) {\n    if (!this.#commentStandaloneButton) {\n      return;\n    }\n    this.#commentStandaloneButton.classList.toggle(\"selected\", selected);\n    this.#commentStandaloneButton.ariaExpanded = hasPopup;\n  }\n  #render(comment, isStandalone) {\n    if (!this.#editor._uiManager.hasCommentManager()) {\n      return null;\n    }\n    comment.tabIndex = \"0\";\n    comment.ariaHasPopup = \"dialog\";\n    if (isStandalone) {\n      comment.ariaControls = \"commentPopup\";\n      comment.setAttribute(\"data-l10n-id\", \"pdfjs-show-comment-button\");\n    } else {\n      comment.ariaControlsElements = [this.#editor._uiManager.getCommentDialogElement()];\n      comment.setAttribute(\"data-l10n-id\", \"pdfjs-editor-edit-comment-button\");\n    }\n    const signal = this.#editor._uiManager._signal;\n    if (!(signal instanceof AbortSignal) || signal.aborted) {\n      return comment;\n    }\n    comment.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    if (isStandalone) {\n      comment.addEventListener(\"focusin\", e => {\n        this.#editor._focusEventsAllowed = false;\n        stopEvent(e);\n      }, {\n        capture: true,\n        signal\n      });\n      comment.addEventListener(\"focusout\", e => {\n        this.#editor._focusEventsAllowed = true;\n        stopEvent(e);\n      }, {\n        capture: true,\n        signal\n      });\n    }\n    comment.addEventListener(\"pointerdown\", event => event.stopPropagation(), {\n      signal\n    });\n    const onClick = event => {\n      event.preventDefault();\n      if (comment === this.#commentToolbarButton) {\n        this.edit();\n      } else {\n        this.#editor.toggleComment(true);\n      }\n    };\n    comment.addEventListener(\"click\", onClick, {\n      capture: true,\n      signal\n    });\n    comment.addEventListener(\"keydown\", event => {\n      if (event.target === comment && event.key === \"Enter\") {\n        this.#commentWasFromKeyBoard = true;\n        onClick(event);\n      }\n    }, {\n      signal\n    });\n    comment.addEventListener(\"pointerenter\", () => {\n      this.#editor.toggleComment(false, true);\n    }, {\n      signal\n    });\n    comment.addEventListener(\"pointerleave\", () => {\n      this.#editor.toggleComment(false, false);\n    }, {\n      signal\n    });\n    return comment;\n  }\n  edit(options) {\n    const position = this.commentPopupPositionInLayer;\n    let posX, posY;\n    if (position) {\n      [posX, posY] = position;\n    } else {\n      [posX, posY] = this.#editor.commentButtonPosition;\n      const {\n        width,\n        height,\n        x,\n        y\n      } = this.#editor;\n      posX = x + posX * width;\n      posY = y + posY * height;\n    }\n    const parentDimensions = this.#editor.parent.boundingClientRect;\n    const {\n      x: parentX,\n      y: parentY,\n      width: parentWidth,\n      height: parentHeight\n    } = parentDimensions;\n    this.#editor._uiManager.editComment(this.#editor, parentX + posX * parentWidth, parentY + posY * parentHeight, {\n      ...options,\n      parentDimensions\n    });\n  }\n  finish() {\n    if (!this.#commentToolbarButton) {\n      return;\n    }\n    this.#commentToolbarButton.focus({\n      focusVisible: this.#commentWasFromKeyBoard\n    });\n    this.#commentWasFromKeyBoard = false;\n  }\n  isDeleted() {\n    return this.#deleted || this.#text === \"\";\n  }\n  isEmpty() {\n    return this.#text === null;\n  }\n  hasBeenEdited() {\n    return this.isDeleted() || this.#text !== this.#initialText;\n  }\n  serialize() {\n    return this.data;\n  }\n  get data() {\n    return {\n      text: this.#text,\n      richText: this.#richText,\n      date: this.#date,\n      deleted: this.isDeleted()\n    };\n  }\n  set data(text) {\n    if (text !== this.#text) {\n      this.#richText = null;\n    }\n    if (text === null) {\n      this.#text = \"\";\n      this.#deleted = true;\n      return;\n    }\n    this.#text = text;\n    this.#date = new Date();\n    this.#deleted = false;\n  }\n  setInitialText(text, richText = null) {\n    this.#initialText = text;\n    this.data = text;\n    this.#date = null;\n    this.#richText = richText;\n  }\n  shown() {}\n  destroy() {\n    this.#commentToolbarButton?.remove();\n    this.#commentToolbarButton = null;\n    this.#commentStandaloneButton?.remove();\n    this.#commentStandaloneButton = null;\n    this.#text = \"\";\n    this.#richText = null;\n    this.#date = null;\n    this.#editor = null;\n    this.#commentWasFromKeyBoard = false;\n    this.#deleted = false;\n  }\n}\n\n;// ./src/display/touch_manager.js\n\nclass TouchManager {\n  #container;\n  #isPinching = false;\n  #isPinchingStopped = null;\n  #isPinchingDisabled;\n  #onPinchStart;\n  #onPinching;\n  #onPinchEnd;\n  #pointerDownAC = null;\n  #signal;\n  #touchInfo = null;\n  #touchManagerAC;\n  #touchMoveAC = null;\n  constructor({\n    container,\n    isPinchingDisabled = null,\n    isPinchingStopped = null,\n    onPinchStart = null,\n    onPinching = null,\n    onPinchEnd = null,\n    signal\n  }) {\n    this.#container = container;\n    this.#isPinchingStopped = isPinchingStopped;\n    this.#isPinchingDisabled = isPinchingDisabled;\n    this.#onPinchStart = onPinchStart;\n    this.#onPinching = onPinching;\n    this.#onPinchEnd = onPinchEnd;\n    this.#touchManagerAC = new AbortController();\n    this.#signal = AbortSignal.any([signal, this.#touchManagerAC.signal]);\n    container.addEventListener(\"touchstart\", this.#onTouchStart.bind(this), {\n      passive: false,\n      signal: this.#signal\n    });\n  }\n  get MIN_TOUCH_DISTANCE_TO_PINCH() {\n    return 35 / OutputScale.pixelRatio;\n  }\n  #onTouchStart(evt) {\n    if (this.#isPinchingDisabled?.()) {\n      return;\n    }\n    if (evt.touches.length === 1) {\n      if (this.#pointerDownAC) {\n        return;\n      }\n      const pointerDownAC = this.#pointerDownAC = new AbortController();\n      const signal = AbortSignal.any([this.#signal, pointerDownAC.signal]);\n      const container = this.#container;\n      const opts = {\n        capture: true,\n        signal,\n        passive: false\n      };\n      const cancelPointerDown = e => {\n        if (e.pointerType === \"touch\") {\n          this.#pointerDownAC?.abort();\n          this.#pointerDownAC = null;\n        }\n      };\n      container.addEventListener(\"pointerdown\", e => {\n        if (e.pointerType === \"touch\") {\n          stopEvent(e);\n          cancelPointerDown(e);\n        }\n      }, opts);\n      container.addEventListener(\"pointerup\", cancelPointerDown, opts);\n      container.addEventListener(\"pointercancel\", cancelPointerDown, opts);\n      return;\n    }\n    if (!this.#touchMoveAC) {\n      this.#touchMoveAC = new AbortController();\n      const signal = AbortSignal.any([this.#signal, this.#touchMoveAC.signal]);\n      const container = this.#container;\n      const opt = {\n        signal,\n        capture: false,\n        passive: false\n      };\n      container.addEventListener(\"touchmove\", this.#onTouchMove.bind(this), opt);\n      const onTouchEnd = this.#onTouchEnd.bind(this);\n      container.addEventListener(\"touchend\", onTouchEnd, opt);\n      container.addEventListener(\"touchcancel\", onTouchEnd, opt);\n      opt.capture = true;\n      container.addEventListener(\"pointerdown\", stopEvent, opt);\n      container.addEventListener(\"pointermove\", stopEvent, opt);\n      container.addEventListener(\"pointercancel\", stopEvent, opt);\n      container.addEventListener(\"pointerup\", stopEvent, opt);\n      this.#onPinchStart?.();\n    }\n    stopEvent(evt);\n    if (evt.touches.length !== 2 || this.#isPinchingStopped?.()) {\n      this.#touchInfo = null;\n      return;\n    }\n    let [touch0, touch1] = evt.touches;\n    if (touch0.identifier > touch1.identifier) {\n      [touch0, touch1] = [touch1, touch0];\n    }\n    this.#touchInfo = {\n      touch0X: touch0.screenX,\n      touch0Y: touch0.screenY,\n      touch1X: touch1.screenX,\n      touch1Y: touch1.screenY\n    };\n  }\n  #onTouchMove(evt) {\n    if (!this.#touchInfo || evt.touches.length !== 2) {\n      return;\n    }\n    stopEvent(evt);\n    let [touch0, touch1] = evt.touches;\n    if (touch0.identifier > touch1.identifier) {\n      [touch0, touch1] = [touch1, touch0];\n    }\n    const {\n      screenX: screen0X,\n      screenY: screen0Y\n    } = touch0;\n    const {\n      screenX: screen1X,\n      screenY: screen1Y\n    } = touch1;\n    const touchInfo = this.#touchInfo;\n    const {\n      touch0X: pTouch0X,\n      touch0Y: pTouch0Y,\n      touch1X: pTouch1X,\n      touch1Y: pTouch1Y\n    } = touchInfo;\n    const prevGapX = pTouch1X - pTouch0X;\n    const prevGapY = pTouch1Y - pTouch0Y;\n    const currGapX = screen1X - screen0X;\n    const currGapY = screen1Y - screen0Y;\n    const distance = Math.hypot(currGapX, currGapY) || 1;\n    const pDistance = Math.hypot(prevGapX, prevGapY) || 1;\n    if (!this.#isPinching && Math.abs(pDistance - distance) <= TouchManager.MIN_TOUCH_DISTANCE_TO_PINCH) {\n      return;\n    }\n    touchInfo.touch0X = screen0X;\n    touchInfo.touch0Y = screen0Y;\n    touchInfo.touch1X = screen1X;\n    touchInfo.touch1Y = screen1Y;\n    if (!this.#isPinching) {\n      this.#isPinching = true;\n      return;\n    }\n    const origin = [(screen0X + screen1X) / 2, (screen0Y + screen1Y) / 2];\n    this.#onPinching?.(origin, pDistance, distance);\n  }\n  #onTouchEnd(evt) {\n    if (evt.touches.length >= 2) {\n      return;\n    }\n    if (this.#touchMoveAC) {\n      this.#touchMoveAC.abort();\n      this.#touchMoveAC = null;\n      this.#onPinchEnd?.();\n    }\n    if (!this.#touchInfo) {\n      return;\n    }\n    stopEvent(evt);\n    this.#touchInfo = null;\n    this.#isPinching = false;\n  }\n  destroy() {\n    this.#touchManagerAC?.abort();\n    this.#touchManagerAC = null;\n    this.#pointerDownAC?.abort();\n    this.#pointerDownAC = null;\n  }\n}\n\n;// ./src/display/editor/editor.js\n\n\n\n\n\n\n\nclass AnnotationEditor {\n  #accessibilityData = null;\n  #allResizerDivs = null;\n  #altText = null;\n  #comment = null;\n  #commentStandaloneButton = null;\n  #disabled = false;\n  #dragPointerId = null;\n  #dragPointerType = \"\";\n  #resizersDiv = null;\n  #lastPointerCoords = null;\n  #savedDimensions = null;\n  #fakeAnnotation = null;\n  #focusAC = null;\n  #focusedResizerName = \"\";\n  #hasBeenClicked = false;\n  #initialRect = null;\n  #isEditing = false;\n  #isInEditMode = false;\n  #isResizerEnabledForKeyboard = false;\n  #moveInDOMTimeout = null;\n  #prevDragX = 0;\n  #prevDragY = 0;\n  #telemetryTimeouts = null;\n  #touchManager = null;\n  isSelected = false;\n  _isCopy = false;\n  _editToolbar = null;\n  _initialOptions = Object.create(null);\n  _initialData = null;\n  _isVisible = true;\n  _uiManager = null;\n  _focusEventsAllowed = true;\n  static _l10n = null;\n  static _l10nResizer = null;\n  #isDraggable = false;\n  #zIndex = AnnotationEditor._zIndex++;\n  static _borderLineWidth = -1;\n  static _colorManager = new ColorManager();\n  static _zIndex = 1;\n  static _telemetryTimeout = 1000;\n  static get _resizerKeyboardManager() {\n    const resize = AnnotationEditor.prototype._resizeWithKeyboard;\n    const small = AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = AnnotationEditorUIManager.TRANSLATE_BIG;\n    return shadow(this, \"_resizerKeyboardManager\", new KeyboardManager([[[\"ArrowLeft\", \"mac+ArrowLeft\"], resize, {\n      args: [-small, 0]\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], resize, {\n      args: [-big, 0]\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], resize, {\n      args: [small, 0]\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], resize, {\n      args: [big, 0]\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], resize, {\n      args: [0, -small]\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], resize, {\n      args: [0, -big]\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], resize, {\n      args: [0, small]\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], resize, {\n      args: [0, big]\n    }], [[\"Escape\", \"mac+Escape\"], AnnotationEditor.prototype._stopResizingWithKeyboard]]));\n  }\n  constructor(parameters) {\n    this.parent = parameters.parent;\n    this.id = parameters.id;\n    this.width = this.height = null;\n    this.pageIndex = parameters.parent.pageIndex;\n    this.name = parameters.name;\n    this.div = null;\n    this._uiManager = parameters.uiManager;\n    this.annotationElementId = null;\n    this._willKeepAspectRatio = false;\n    this._initialOptions.isCentered = parameters.isCentered;\n    this._structTreeParentId = null;\n    this.annotationElementId = parameters.annotationElementId || null;\n    this.creationDate = parameters.creationDate || new Date();\n    this.modificationDate = parameters.modificationDate || null;\n    const {\n      rotation,\n      rawDims: {\n        pageWidth,\n        pageHeight,\n        pageX,\n        pageY\n      }\n    } = this.parent.viewport;\n    this.rotation = rotation;\n    this.pageRotation = (360 + rotation - this._uiManager.viewParameters.rotation) % 360;\n    this.pageDimensions = [pageWidth, pageHeight];\n    this.pageTranslation = [pageX, pageY];\n    const [width, height] = this.parentDimensions;\n    this.x = parameters.x / width;\n    this.y = parameters.y / height;\n    this.isAttachedToDOM = false;\n    this.deleted = false;\n  }\n  get editorType() {\n    return Object.getPrototypeOf(this).constructor._type;\n  }\n  get mode() {\n    return Object.getPrototypeOf(this).constructor._editorType;\n  }\n  static get isDrawer() {\n    return false;\n  }\n  static get _defaultLineColor() {\n    return shadow(this, \"_defaultLineColor\", this._colorManager.getHexCode(\"CanvasText\"));\n  }\n  static deleteAnnotationElement(editor) {\n    const fakeEditor = new FakeEditor({\n      id: editor.parent.getNextId(),\n      parent: editor.parent,\n      uiManager: editor._uiManager\n    });\n    fakeEditor.annotationElementId = editor.annotationElementId;\n    fakeEditor.deleted = true;\n    fakeEditor._uiManager.addToAnnotationStorage(fakeEditor);\n  }\n  static initialize(l10n, _uiManager) {\n    AnnotationEditor._l10n ??= l10n;\n    AnnotationEditor._l10nResizer ||= Object.freeze({\n      topLeft: \"pdfjs-editor-resizer-top-left\",\n      topMiddle: \"pdfjs-editor-resizer-top-middle\",\n      topRight: \"pdfjs-editor-resizer-top-right\",\n      middleRight: \"pdfjs-editor-resizer-middle-right\",\n      bottomRight: \"pdfjs-editor-resizer-bottom-right\",\n      bottomMiddle: \"pdfjs-editor-resizer-bottom-middle\",\n      bottomLeft: \"pdfjs-editor-resizer-bottom-left\",\n      middleLeft: \"pdfjs-editor-resizer-middle-left\"\n    });\n    if (AnnotationEditor._borderLineWidth !== -1) {\n      return;\n    }\n    const style = getComputedStyle(document.documentElement);\n    AnnotationEditor._borderLineWidth = parseFloat(style.getPropertyValue(\"--outline-width\")) || 0;\n  }\n  static updateDefaultParams(_type, _value) {}\n  static get defaultPropertiesToUpdate() {\n    return [];\n  }\n  static isHandlingMimeForPasting(mime) {\n    return false;\n  }\n  static paste(item, parent) {\n    unreachable(\"Not implemented\");\n  }\n  get propertiesToUpdate() {\n    return [];\n  }\n  get _isDraggable() {\n    return this.#isDraggable;\n  }\n  set _isDraggable(value) {\n    this.#isDraggable = value;\n    this.div?.classList.toggle(\"draggable\", value);\n  }\n  get uid() {\n    return this.annotationElementId || this.id;\n  }\n  get isEnterHandled() {\n    return true;\n  }\n  center() {\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    switch (this.parentRotation) {\n      case 90:\n        this.x -= this.height * pageHeight / (pageWidth * 2);\n        this.y += this.width * pageWidth / (pageHeight * 2);\n        break;\n      case 180:\n        this.x += this.width / 2;\n        this.y += this.height / 2;\n        break;\n      case 270:\n        this.x += this.height * pageHeight / (pageWidth * 2);\n        this.y -= this.width * pageWidth / (pageHeight * 2);\n        break;\n      default:\n        this.x -= this.width / 2;\n        this.y -= this.height / 2;\n        break;\n    }\n    this.fixAndSetPosition();\n  }\n  addCommands(params) {\n    this._uiManager.addCommands(params);\n  }\n  get currentLayer() {\n    return this._uiManager.currentLayer;\n  }\n  setInBackground() {\n    this.div.style.zIndex = 0;\n  }\n  setInForeground() {\n    this.div.style.zIndex = this.#zIndex;\n  }\n  setParent(parent) {\n    if (parent !== null) {\n      this.pageIndex = parent.pageIndex;\n      this.pageDimensions = parent.pageDimensions;\n    } else {\n      this.#stopResizing();\n      this.#fakeAnnotation?.remove();\n      this.#fakeAnnotation = null;\n    }\n    this.parent = parent;\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    if (!this.#hasBeenClicked) {\n      this.parent.setSelected(this);\n    } else {\n      this.#hasBeenClicked = false;\n    }\n  }\n  focusout(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    if (!this.isAttachedToDOM) {\n      return;\n    }\n    const target = event.relatedTarget;\n    if (target?.closest(`#${this.id}`)) {\n      return;\n    }\n    event.preventDefault();\n    if (!this.parent?.isMultipleSelection) {\n      this.commitOrRemove();\n    }\n  }\n  commitOrRemove() {\n    if (this.isEmpty()) {\n      this.remove();\n    } else {\n      this.commit();\n    }\n  }\n  commit() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n    this.addToAnnotationStorage();\n  }\n  addToAnnotationStorage() {\n    this._uiManager.addToAnnotationStorage(this);\n  }\n  setAt(x, y, tx, ty) {\n    const [width, height] = this.parentDimensions;\n    [tx, ty] = this.screenToPageTranslation(tx, ty);\n    this.x = (x + tx) / width;\n    this.y = (y + ty) / height;\n    this.fixAndSetPosition();\n  }\n  _moveAfterPaste(baseX, baseY) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setAt(baseX * parentWidth, baseY * parentHeight, this.width * parentWidth, this.height * parentHeight);\n    this._onTranslated();\n  }\n  #translate([width, height], x, y) {\n    [x, y] = this.screenToPageTranslation(x, y);\n    this.x += x / width;\n    this.y += y / height;\n    this._onTranslating(this.x, this.y);\n    this.fixAndSetPosition();\n  }\n  translate(x, y) {\n    this.#translate(this.parentDimensions, x, y);\n  }\n  translateInPage(x, y) {\n    this.#initialRect ||= [this.x, this.y, this.width, this.height];\n    this.#translate(this.pageDimensions, x, y);\n    this.div.scrollIntoView({\n      block: \"nearest\"\n    });\n  }\n  translationDone() {\n    this._onTranslated(this.x, this.y);\n  }\n  drag(tx, ty) {\n    this.#initialRect ||= [this.x, this.y, this.width, this.height];\n    const {\n      div,\n      parentDimensions: [parentWidth, parentHeight]\n    } = this;\n    this.x += tx / parentWidth;\n    this.y += ty / parentHeight;\n    if (this.parent && (this.x < 0 || this.x > 1 || this.y < 0 || this.y > 1)) {\n      const {\n        x,\n        y\n      } = this.div.getBoundingClientRect();\n      if (this.parent.findNewParent(this, x, y)) {\n        this.x -= Math.floor(this.x);\n        this.y -= Math.floor(this.y);\n      }\n    }\n    let {\n      x,\n      y\n    } = this;\n    const [bx, by] = this.getBaseTranslation();\n    x += bx;\n    y += by;\n    const {\n      style\n    } = div;\n    style.left = `${(100 * x).toFixed(2)}%`;\n    style.top = `${(100 * y).toFixed(2)}%`;\n    this._onTranslating(x, y);\n    div.scrollIntoView({\n      block: \"nearest\"\n    });\n  }\n  _onTranslating(x, y) {}\n  _onTranslated(x, y) {}\n  get _hasBeenMoved() {\n    return !!this.#initialRect && (this.#initialRect[0] !== this.x || this.#initialRect[1] !== this.y);\n  }\n  get _hasBeenResized() {\n    return !!this.#initialRect && (this.#initialRect[2] !== this.width || this.#initialRect[3] !== this.height);\n  }\n  getBaseTranslation() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const {\n      _borderLineWidth\n    } = AnnotationEditor;\n    const x = _borderLineWidth / parentWidth;\n    const y = _borderLineWidth / parentHeight;\n    switch (this.rotation) {\n      case 90:\n        return [-x, y];\n      case 180:\n        return [x, y];\n      case 270:\n        return [x, -y];\n      default:\n        return [-x, -y];\n    }\n  }\n  get _mustFixPosition() {\n    return true;\n  }\n  fixAndSetPosition(rotation = this.rotation) {\n    const {\n      div: {\n        style\n      },\n      pageDimensions: [pageWidth, pageHeight]\n    } = this;\n    let {\n      x,\n      y,\n      width,\n      height\n    } = this;\n    width *= pageWidth;\n    height *= pageHeight;\n    x *= pageWidth;\n    y *= pageHeight;\n    if (this._mustFixPosition) {\n      switch (rotation) {\n        case 0:\n          x = MathClamp(x, 0, pageWidth - width);\n          y = MathClamp(y, 0, pageHeight - height);\n          break;\n        case 90:\n          x = MathClamp(x, 0, pageWidth - height);\n          y = MathClamp(y, width, pageHeight);\n          break;\n        case 180:\n          x = MathClamp(x, width, pageWidth);\n          y = MathClamp(y, height, pageHeight);\n          break;\n        case 270:\n          x = MathClamp(x, height, pageWidth);\n          y = MathClamp(y, 0, pageHeight - width);\n          break;\n      }\n    }\n    this.x = x /= pageWidth;\n    this.y = y /= pageHeight;\n    const [bx, by] = this.getBaseTranslation();\n    x += bx;\n    y += by;\n    style.left = `${(100 * x).toFixed(2)}%`;\n    style.top = `${(100 * y).toFixed(2)}%`;\n    this.moveInDOM();\n  }\n  static #rotatePoint(x, y, angle) {\n    switch (angle) {\n      case 90:\n        return [y, -x];\n      case 180:\n        return [-x, -y];\n      case 270:\n        return [-y, x];\n      default:\n        return [x, y];\n    }\n  }\n  screenToPageTranslation(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, this.parentRotation);\n  }\n  pageTranslationToScreen(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, 360 - this.parentRotation);\n  }\n  #getRotationMatrix(rotation) {\n    switch (rotation) {\n      case 90:\n        {\n          const [pageWidth, pageHeight] = this.pageDimensions;\n          return [0, -pageWidth / pageHeight, pageHeight / pageWidth, 0];\n        }\n      case 180:\n        return [-1, 0, 0, -1];\n      case 270:\n        {\n          const [pageWidth, pageHeight] = this.pageDimensions;\n          return [0, pageWidth / pageHeight, -pageHeight / pageWidth, 0];\n        }\n      default:\n        return [1, 0, 0, 1];\n    }\n  }\n  get parentScale() {\n    return this._uiManager.viewParameters.realScale;\n  }\n  get parentRotation() {\n    return (this._uiManager.viewParameters.rotation + this.pageRotation) % 360;\n  }\n  get parentDimensions() {\n    const {\n      parentScale,\n      pageDimensions: [pageWidth, pageHeight]\n    } = this;\n    return [pageWidth * parentScale, pageHeight * parentScale];\n  }\n  setDims() {\n    const {\n      div: {\n        style\n      },\n      width,\n      height\n    } = this;\n    style.width = `${(100 * width).toFixed(2)}%`;\n    style.height = `${(100 * height).toFixed(2)}%`;\n  }\n  getInitialTranslation() {\n    return [0, 0];\n  }\n  #createResizers() {\n    if (this.#resizersDiv) {\n      return;\n    }\n    this.#resizersDiv = document.createElement(\"div\");\n    this.#resizersDiv.classList.add(\"resizers\");\n    const classes = this._willKeepAspectRatio ? [\"topLeft\", \"topRight\", \"bottomRight\", \"bottomLeft\"] : [\"topLeft\", \"topMiddle\", \"topRight\", \"middleRight\", \"bottomRight\", \"bottomMiddle\", \"bottomLeft\", \"middleLeft\"];\n    const signal = this._uiManager._signal;\n    for (const name of classes) {\n      const div = document.createElement(\"div\");\n      this.#resizersDiv.append(div);\n      div.classList.add(\"resizer\", name);\n      div.setAttribute(\"data-resizer-name\", name);\n      div.addEventListener(\"pointerdown\", this.#resizerPointerdown.bind(this, name), {\n        signal\n      });\n      div.addEventListener(\"contextmenu\", noContextMenu, {\n        signal\n      });\n      div.tabIndex = -1;\n    }\n    this.div.prepend(this.#resizersDiv);\n  }\n  #resizerPointerdown(name, event) {\n    event.preventDefault();\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    this.#altText?.toggle(false);\n    const savedDraggable = this._isDraggable;\n    this._isDraggable = false;\n    this.#lastPointerCoords = [event.screenX, event.screenY];\n    const ac = new AbortController();\n    const signal = this._uiManager.combinedSignal(ac);\n    this.parent.togglePointerEvents(false);\n    window.addEventListener(\"pointermove\", this.#resizerPointermove.bind(this, name), {\n      passive: true,\n      capture: true,\n      signal\n    });\n    window.addEventListener(\"touchmove\", stopEvent, {\n      passive: false,\n      signal\n    });\n    window.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    this.#savedDimensions = {\n      savedX: this.x,\n      savedY: this.y,\n      savedWidth: this.width,\n      savedHeight: this.height\n    };\n    const savedParentCursor = this.parent.div.style.cursor;\n    const savedCursor = this.div.style.cursor;\n    this.div.style.cursor = this.parent.div.style.cursor = window.getComputedStyle(event.target).cursor;\n    const pointerUpCallback = () => {\n      ac.abort();\n      this.parent.togglePointerEvents(true);\n      this.#altText?.toggle(true);\n      this._isDraggable = savedDraggable;\n      this.parent.div.style.cursor = savedParentCursor;\n      this.div.style.cursor = savedCursor;\n      this.#addResizeToUndoStack();\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback, {\n      signal\n    });\n    window.addEventListener(\"blur\", pointerUpCallback, {\n      signal\n    });\n  }\n  #resize(x, y, width, height) {\n    this.width = width;\n    this.height = height;\n    this.x = x;\n    this.y = y;\n    this.setDims();\n    this.fixAndSetPosition();\n    this._onResized();\n  }\n  _onResized() {}\n  #addResizeToUndoStack() {\n    if (!this.#savedDimensions) {\n      return;\n    }\n    const {\n      savedX,\n      savedY,\n      savedWidth,\n      savedHeight\n    } = this.#savedDimensions;\n    this.#savedDimensions = null;\n    const newX = this.x;\n    const newY = this.y;\n    const newWidth = this.width;\n    const newHeight = this.height;\n    if (newX === savedX && newY === savedY && newWidth === savedWidth && newHeight === savedHeight) {\n      return;\n    }\n    this.addCommands({\n      cmd: this.#resize.bind(this, newX, newY, newWidth, newHeight),\n      undo: this.#resize.bind(this, savedX, savedY, savedWidth, savedHeight),\n      mustExec: true\n    });\n  }\n  static _round(x) {\n    return Math.round(x * 10000) / 10000;\n  }\n  #resizerPointermove(name, event) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const minWidth = AnnotationEditor.MIN_SIZE / parentWidth;\n    const minHeight = AnnotationEditor.MIN_SIZE / parentHeight;\n    const rotationMatrix = this.#getRotationMatrix(this.rotation);\n    const transf = (x, y) => [rotationMatrix[0] * x + rotationMatrix[2] * y, rotationMatrix[1] * x + rotationMatrix[3] * y];\n    const invRotationMatrix = this.#getRotationMatrix(360 - this.rotation);\n    const invTransf = (x, y) => [invRotationMatrix[0] * x + invRotationMatrix[2] * y, invRotationMatrix[1] * x + invRotationMatrix[3] * y];\n    let getPoint;\n    let getOpposite;\n    let isDiagonal = false;\n    let isHorizontal = false;\n    switch (name) {\n      case \"topLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, 0];\n        getOpposite = (w, h) => [w, h];\n        break;\n      case \"topMiddle\":\n        getPoint = (w, h) => [w / 2, 0];\n        getOpposite = (w, h) => [w / 2, h];\n        break;\n      case \"topRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, 0];\n        getOpposite = (w, h) => [0, h];\n        break;\n      case \"middleRight\":\n        isHorizontal = true;\n        getPoint = (w, h) => [w, h / 2];\n        getOpposite = (w, h) => [0, h / 2];\n        break;\n      case \"bottomRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, h];\n        getOpposite = (w, h) => [0, 0];\n        break;\n      case \"bottomMiddle\":\n        getPoint = (w, h) => [w / 2, h];\n        getOpposite = (w, h) => [w / 2, 0];\n        break;\n      case \"bottomLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, h];\n        getOpposite = (w, h) => [w, 0];\n        break;\n      case \"middleLeft\":\n        isHorizontal = true;\n        getPoint = (w, h) => [0, h / 2];\n        getOpposite = (w, h) => [w, h / 2];\n        break;\n    }\n    const point = getPoint(savedWidth, savedHeight);\n    const oppositePoint = getOpposite(savedWidth, savedHeight);\n    let transfOppositePoint = transf(...oppositePoint);\n    const oppositeX = AnnotationEditor._round(savedX + transfOppositePoint[0]);\n    const oppositeY = AnnotationEditor._round(savedY + transfOppositePoint[1]);\n    let ratioX = 1;\n    let ratioY = 1;\n    let deltaX, deltaY;\n    if (!event.fromKeyboard) {\n      const {\n        screenX,\n        screenY\n      } = event;\n      const [lastScreenX, lastScreenY] = this.#lastPointerCoords;\n      [deltaX, deltaY] = this.screenToPageTranslation(screenX - lastScreenX, screenY - lastScreenY);\n      this.#lastPointerCoords[0] = screenX;\n      this.#lastPointerCoords[1] = screenY;\n    } else {\n      ({\n        deltaX,\n        deltaY\n      } = event);\n    }\n    [deltaX, deltaY] = invTransf(deltaX / parentWidth, deltaY / parentHeight);\n    if (isDiagonal) {\n      const oldDiag = Math.hypot(savedWidth, savedHeight);\n      ratioX = ratioY = Math.max(Math.min(Math.hypot(oppositePoint[0] - point[0] - deltaX, oppositePoint[1] - point[1] - deltaY) / oldDiag, 1 / savedWidth, 1 / savedHeight), minWidth / savedWidth, minHeight / savedHeight);\n    } else if (isHorizontal) {\n      ratioX = MathClamp(Math.abs(oppositePoint[0] - point[0] - deltaX), minWidth, 1) / savedWidth;\n    } else {\n      ratioY = MathClamp(Math.abs(oppositePoint[1] - point[1] - deltaY), minHeight, 1) / savedHeight;\n    }\n    const newWidth = AnnotationEditor._round(savedWidth * ratioX);\n    const newHeight = AnnotationEditor._round(savedHeight * ratioY);\n    transfOppositePoint = transf(...getOpposite(newWidth, newHeight));\n    const newX = oppositeX - transfOppositePoint[0];\n    const newY = oppositeY - transfOppositePoint[1];\n    this.#initialRect ||= [this.x, this.y, this.width, this.height];\n    this.width = newWidth;\n    this.height = newHeight;\n    this.x = newX;\n    this.y = newY;\n    this.setDims();\n    this.fixAndSetPosition();\n    this._onResizing();\n  }\n  _onResizing() {}\n  altTextFinish() {\n    this.#altText?.finish();\n  }\n  get toolbarButtons() {\n    return null;\n  }\n  async addEditToolbar() {\n    if (this._editToolbar || this.#isInEditMode) {\n      return this._editToolbar;\n    }\n    this._editToolbar = new EditorToolbar(this);\n    this.div.append(this._editToolbar.render());\n    const {\n      toolbarButtons\n    } = this;\n    if (toolbarButtons) {\n      for (const [name, tool] of toolbarButtons) {\n        await this._editToolbar.addButton(name, tool);\n      }\n    }\n    if (!this.hasComment) {\n      this._editToolbar.addButton(\"comment\", this.addCommentButton());\n    }\n    this._editToolbar.addButton(\"delete\");\n    return this._editToolbar;\n  }\n  addCommentButtonInToolbar() {\n    this._editToolbar?.addButtonBefore(\"comment\", this.addCommentButton(), \".deleteButton\");\n  }\n  removeCommentButtonFromToolbar() {\n    this._editToolbar?.removeButton(\"comment\");\n  }\n  removeEditToolbar() {\n    this._editToolbar?.remove();\n    this._editToolbar = null;\n    this.#altText?.destroy();\n  }\n  addContainer(container) {\n    const editToolbarDiv = this._editToolbar?.div;\n    if (editToolbarDiv) {\n      editToolbarDiv.before(container);\n    } else {\n      this.div.append(container);\n    }\n  }\n  getClientDimensions() {\n    return this.div.getBoundingClientRect();\n  }\n  createAltText() {\n    if (!this.#altText) {\n      AltText.initialize(AnnotationEditor._l10n);\n      this.#altText = new AltText(this);\n      if (this.#accessibilityData) {\n        this.#altText.data = this.#accessibilityData;\n        this.#accessibilityData = null;\n      }\n    }\n    return this.#altText;\n  }\n  get altTextData() {\n    return this.#altText?.data;\n  }\n  set altTextData(data) {\n    if (!this.#altText) {\n      return;\n    }\n    this.#altText.data = data;\n  }\n  get guessedAltText() {\n    return this.#altText?.guessedText;\n  }\n  async setGuessedAltText(text) {\n    await this.#altText?.setGuessedText(text);\n  }\n  serializeAltText(isForCopying) {\n    return this.#altText?.serialize(isForCopying);\n  }\n  hasAltText() {\n    return !!this.#altText && !this.#altText.isEmpty();\n  }\n  hasAltTextData() {\n    return this.#altText?.hasData() ?? false;\n  }\n  focusCommentButton() {\n    this.#comment?.focusButton();\n  }\n  addCommentButton() {\n    return this.#comment ||= new Comment(this);\n  }\n  addStandaloneCommentButton() {\n    if (this.#commentStandaloneButton) {\n      if (this._uiManager.isEditingMode()) {\n        this.#commentStandaloneButton.classList.remove(\"hidden\");\n      }\n      return;\n    }\n    if (!this.hasComment) {\n      return;\n    }\n    this.#commentStandaloneButton = this.#comment.renderForStandalone();\n    this.div.append(this.#commentStandaloneButton);\n  }\n  removeStandaloneCommentButton() {\n    this.#comment.removeStandaloneCommentButton();\n    this.#commentStandaloneButton = null;\n  }\n  hideStandaloneCommentButton() {\n    this.#commentStandaloneButton?.classList.add(\"hidden\");\n  }\n  get comment() {\n    const {\n      data: {\n        richText,\n        text,\n        date,\n        deleted\n      }\n    } = this.#comment;\n    return {\n      text,\n      richText,\n      date,\n      deleted,\n      color: this.getNonHCMColor(),\n      opacity: this.opacity ?? 1\n    };\n  }\n  set comment(text) {\n    this.#comment ||= new Comment(this);\n    this.#comment.data = text;\n    if (this.hasComment) {\n      this.removeCommentButtonFromToolbar();\n      this.addStandaloneCommentButton();\n      this._uiManager.updateComment(this);\n    } else {\n      this.addCommentButtonInToolbar();\n      this.removeStandaloneCommentButton();\n      this._uiManager.removeComment(this);\n    }\n  }\n  setCommentData({\n    comment,\n    popupRef,\n    richText\n  }) {\n    if (!popupRef) {\n      return;\n    }\n    this.#comment ||= new Comment(this);\n    this.#comment.setInitialText(comment, richText);\n    if (!this.annotationElementId) {\n      return;\n    }\n    const storedData = this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);\n    if (storedData) {\n      this.updateFromAnnotationLayer(storedData);\n    }\n  }\n  get hasEditedComment() {\n    return this.#comment?.hasBeenEdited();\n  }\n  get hasDeletedComment() {\n    return this.#comment?.isDeleted();\n  }\n  get hasComment() {\n    return !!this.#comment && !this.#comment.isEmpty() && !this.#comment.isDeleted();\n  }\n  async editComment(options) {\n    this.#comment ||= new Comment(this);\n    this.#comment.edit(options);\n  }\n  toggleComment(isSelected, visibility = undefined) {\n    if (this.hasComment) {\n      this._uiManager.toggleComment(this, isSelected, visibility);\n    }\n  }\n  setSelectedCommentButton(selected) {\n    this.#comment.setSelectedButton(selected);\n  }\n  addComment(serialized) {\n    if (this.hasEditedComment) {\n      const DEFAULT_POPUP_WIDTH = 180;\n      const DEFAULT_POPUP_HEIGHT = 100;\n      const [,,, trY] = serialized.rect;\n      const [pageWidth] = this.pageDimensions;\n      const [pageX] = this.pageTranslation;\n      const blX = pageX + pageWidth + 1;\n      const blY = trY - DEFAULT_POPUP_HEIGHT;\n      const trX = blX + DEFAULT_POPUP_WIDTH;\n      serialized.popup = {\n        contents: this.comment.text,\n        deleted: this.comment.deleted,\n        rect: [blX, blY, trX, trY]\n      };\n    }\n  }\n  updateFromAnnotationLayer({\n    popup: {\n      contents,\n      deleted\n    }\n  }) {\n    this.#comment.data = deleted ? null : contents;\n  }\n  get parentBoundingClientRect() {\n    return this.parent.boundingClientRect;\n  }\n  render() {\n    const div = this.div = document.createElement(\"div\");\n    div.setAttribute(\"data-editor-rotation\", (360 - this.rotation) % 360);\n    div.className = this.name;\n    div.setAttribute(\"id\", this.id);\n    div.tabIndex = this.#disabled ? -1 : 0;\n    div.setAttribute(\"role\", \"application\");\n    if (this.defaultL10nId) {\n      div.setAttribute(\"data-l10n-id\", this.defaultL10nId);\n    }\n    if (!this._isVisible) {\n      div.classList.add(\"hidden\");\n    }\n    this.setInForeground();\n    this.#addFocusListeners();\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    if (this.parentRotation % 180 !== 0) {\n      div.style.maxWidth = `${(100 * parentHeight / parentWidth).toFixed(2)}%`;\n      div.style.maxHeight = `${(100 * parentWidth / parentHeight).toFixed(2)}%`;\n    }\n    const [tx, ty] = this.getInitialTranslation();\n    this.translate(tx, ty);\n    bindEvents(this, div, [\"keydown\", \"pointerdown\", \"dblclick\"]);\n    if (this.isResizable && this._uiManager._supportsPinchToZoom) {\n      this.#touchManager ||= new TouchManager({\n        container: div,\n        isPinchingDisabled: () => !this.isSelected,\n        onPinchStart: this.#touchPinchStartCallback.bind(this),\n        onPinching: this.#touchPinchCallback.bind(this),\n        onPinchEnd: this.#touchPinchEndCallback.bind(this),\n        signal: this._uiManager._signal\n      });\n    }\n    this.addStandaloneCommentButton();\n    this._uiManager._editorUndoBar?.hide();\n    return div;\n  }\n  #touchPinchStartCallback() {\n    this.#savedDimensions = {\n      savedX: this.x,\n      savedY: this.y,\n      savedWidth: this.width,\n      savedHeight: this.height\n    };\n    this.#altText?.toggle(false);\n    this.parent.togglePointerEvents(false);\n  }\n  #touchPinchCallback(_origin, prevDistance, distance) {\n    const slowDownFactor = 0.7;\n    let factor = slowDownFactor * (distance / prevDistance) + 1 - slowDownFactor;\n    if (factor === 1) {\n      return;\n    }\n    const rotationMatrix = this.#getRotationMatrix(this.rotation);\n    const transf = (x, y) => [rotationMatrix[0] * x + rotationMatrix[2] * y, rotationMatrix[1] * x + rotationMatrix[3] * y];\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const minWidth = AnnotationEditor.MIN_SIZE / parentWidth;\n    const minHeight = AnnotationEditor.MIN_SIZE / parentHeight;\n    factor = Math.max(Math.min(factor, 1 / savedWidth, 1 / savedHeight), minWidth / savedWidth, minHeight / savedHeight);\n    const newWidth = AnnotationEditor._round(savedWidth * factor);\n    const newHeight = AnnotationEditor._round(savedHeight * factor);\n    if (newWidth === savedWidth && newHeight === savedHeight) {\n      return;\n    }\n    this.#initialRect ||= [savedX, savedY, savedWidth, savedHeight];\n    const transfCenterPoint = transf(savedWidth / 2, savedHeight / 2);\n    const centerX = AnnotationEditor._round(savedX + transfCenterPoint[0]);\n    const centerY = AnnotationEditor._round(savedY + transfCenterPoint[1]);\n    const newTransfCenterPoint = transf(newWidth / 2, newHeight / 2);\n    this.x = centerX - newTransfCenterPoint[0];\n    this.y = centerY - newTransfCenterPoint[1];\n    this.width = newWidth;\n    this.height = newHeight;\n    this.setDims();\n    this.fixAndSetPosition();\n    this._onResizing();\n  }\n  #touchPinchEndCallback() {\n    this.#altText?.toggle(true);\n    this.parent.togglePointerEvents(true);\n    this.#addResizeToUndoStack();\n  }\n  pointerdown(event) {\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      event.preventDefault();\n      return;\n    }\n    this.#hasBeenClicked = true;\n    if (this._isDraggable) {\n      this.#setUpDragSession(event);\n      return;\n    }\n    this.#selectOnPointerEvent(event);\n  }\n  #selectOnPointerEvent(event) {\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.ctrlKey && !isMac || event.shiftKey || event.metaKey && isMac) {\n      this.parent.toggleSelected(this);\n    } else {\n      this.parent.setSelected(this);\n    }\n  }\n  #setUpDragSession(event) {\n    const {\n      isSelected\n    } = this;\n    this._uiManager.setUpDragSession();\n    let hasDraggingStarted = false;\n    const ac = new AbortController();\n    const signal = this._uiManager.combinedSignal(ac);\n    const opts = {\n      capture: true,\n      passive: false,\n      signal\n    };\n    const cancelDrag = e => {\n      ac.abort();\n      this.#dragPointerId = null;\n      this.#hasBeenClicked = false;\n      if (!this._uiManager.endDragSession()) {\n        this.#selectOnPointerEvent(e);\n      }\n      if (hasDraggingStarted) {\n        this._onStopDragging();\n      }\n    };\n    if (isSelected) {\n      this.#prevDragX = event.clientX;\n      this.#prevDragY = event.clientY;\n      this.#dragPointerId = event.pointerId;\n      this.#dragPointerType = event.pointerType;\n      window.addEventListener(\"pointermove\", e => {\n        if (!hasDraggingStarted) {\n          hasDraggingStarted = true;\n          this._uiManager.toggleComment(this, true, false);\n          this._onStartDragging();\n        }\n        const {\n          clientX: x,\n          clientY: y,\n          pointerId\n        } = e;\n        if (pointerId !== this.#dragPointerId) {\n          stopEvent(e);\n          return;\n        }\n        const [tx, ty] = this.screenToPageTranslation(x - this.#prevDragX, y - this.#prevDragY);\n        this.#prevDragX = x;\n        this.#prevDragY = y;\n        this._uiManager.dragSelectedEditors(tx, ty);\n      }, opts);\n      window.addEventListener(\"touchmove\", stopEvent, opts);\n      window.addEventListener(\"pointerdown\", e => {\n        if (e.pointerType === this.#dragPointerType) {\n          if (this.#touchManager || e.isPrimary) {\n            cancelDrag(e);\n          }\n        }\n        stopEvent(e);\n      }, opts);\n    }\n    const pointerUpCallback = e => {\n      if (!this.#dragPointerId || this.#dragPointerId === e.pointerId) {\n        cancelDrag(e);\n        return;\n      }\n      stopEvent(e);\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback, {\n      signal\n    });\n    window.addEventListener(\"blur\", pointerUpCallback, {\n      signal\n    });\n  }\n  _onStartDragging() {}\n  _onStopDragging() {}\n  moveInDOM() {\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n    }\n    this.#moveInDOMTimeout = setTimeout(() => {\n      this.#moveInDOMTimeout = null;\n      this.parent?.moveEditorInDOM(this);\n    }, 0);\n  }\n  _setParentAndPosition(parent, x, y) {\n    parent.changeParent(this);\n    this.x = x;\n    this.y = y;\n    this.fixAndSetPosition();\n    this._onTranslated();\n  }\n  getRect(tx, ty, rotation = this.rotation) {\n    const scale = this.parentScale;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const [pageX, pageY] = this.pageTranslation;\n    const shiftX = tx / scale;\n    const shiftY = ty / scale;\n    const x = this.x * pageWidth;\n    const y = this.y * pageHeight;\n    const width = this.width * pageWidth;\n    const height = this.height * pageHeight;\n    switch (rotation) {\n      case 0:\n        return [x + shiftX + pageX, pageHeight - y - shiftY - height + pageY, x + shiftX + width + pageX, pageHeight - y - shiftY + pageY];\n      case 90:\n        return [x + shiftY + pageX, pageHeight - y + shiftX + pageY, x + shiftY + height + pageX, pageHeight - y + shiftX + width + pageY];\n      case 180:\n        return [x - shiftX - width + pageX, pageHeight - y + shiftY + pageY, x - shiftX + pageX, pageHeight - y + shiftY + height + pageY];\n      case 270:\n        return [x - shiftY - height + pageX, pageHeight - y - shiftX - width + pageY, x - shiftY + pageX, pageHeight - y - shiftX + pageY];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n  getRectInCurrentCoords(rect, pageHeight) {\n    const [x1, y1, x2, y2] = rect;\n    const width = x2 - x1;\n    const height = y2 - y1;\n    switch (this.rotation) {\n      case 0:\n        return [x1, pageHeight - y2, width, height];\n      case 90:\n        return [x1, pageHeight - y1, height, width];\n      case 180:\n        return [x2, pageHeight - y1, width, height];\n      case 270:\n        return [x2, pageHeight - y2, height, width];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n  getPDFRect() {\n    return this.getRect(0, 0);\n  }\n  getNonHCMColor() {\n    return this.color && AnnotationEditor._colorManager.convert(this._uiManager.getNonHCMColor(this.color));\n  }\n  onUpdatedColor() {\n    this.#comment?.onUpdatedColor();\n  }\n  getData() {\n    const {\n      comment: {\n        text: str,\n        color,\n        date,\n        opacity,\n        deleted,\n        richText\n      },\n      uid: id,\n      pageIndex,\n      creationDate,\n      modificationDate\n    } = this;\n    return {\n      id,\n      pageIndex,\n      rect: this.getPDFRect(),\n      richText,\n      contentsObj: {\n        str\n      },\n      creationDate,\n      modificationDate: date || modificationDate,\n      popupRef: !deleted,\n      color,\n      opacity\n    };\n  }\n  onceAdded(focus) {}\n  isEmpty() {\n    return false;\n  }\n  enableEditMode() {\n    if (this.isInEditMode()) {\n      return false;\n    }\n    this.parent.setEditingState(false);\n    this.#isInEditMode = true;\n    return true;\n  }\n  disableEditMode() {\n    if (!this.isInEditMode()) {\n      return false;\n    }\n    this.parent.setEditingState(true);\n    this.#isInEditMode = false;\n    return true;\n  }\n  isInEditMode() {\n    return this.#isInEditMode;\n  }\n  shouldGetKeyboardEvents() {\n    return this.#isResizerEnabledForKeyboard;\n  }\n  needsToBeRebuilt() {\n    return this.div && !this.isAttachedToDOM;\n  }\n  get isOnScreen() {\n    const {\n      top,\n      left,\n      bottom,\n      right\n    } = this.getClientDimensions();\n    const {\n      innerHeight,\n      innerWidth\n    } = window;\n    return left < innerWidth && right > 0 && top < innerHeight && bottom > 0;\n  }\n  #addFocusListeners() {\n    if (this.#focusAC || !this.div) {\n      return;\n    }\n    this.#focusAC = new AbortController();\n    const signal = this._uiManager.combinedSignal(this.#focusAC);\n    this.div.addEventListener(\"focusin\", this.focusin.bind(this), {\n      signal\n    });\n    this.div.addEventListener(\"focusout\", this.focusout.bind(this), {\n      signal\n    });\n  }\n  rebuild() {\n    this.#addFocusListeners();\n  }\n  rotate(_angle) {}\n  resize() {}\n  serializeDeleted() {\n    return {\n      id: this.annotationElementId,\n      deleted: true,\n      pageIndex: this.pageIndex,\n      popupRef: this._initialData?.popupRef || \"\"\n    };\n  }\n  serialize(isForCopying = false, context = null) {\n    return {\n      annotationType: this.mode,\n      pageIndex: this.pageIndex,\n      rect: this.getPDFRect(),\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId,\n      popupRef: this._initialData?.popupRef || \"\"\n    };\n  }\n  static async deserialize(data, parent, uiManager) {\n    const editor = new this.prototype.constructor({\n      parent,\n      id: parent.getNextId(),\n      uiManager,\n      annotationElementId: data.annotationElementId,\n      creationDate: data.creationDate,\n      modificationDate: data.modificationDate\n    });\n    editor.rotation = data.rotation;\n    editor.#accessibilityData = data.accessibilityData;\n    editor._isCopy = data.isCopy || false;\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const [x, y, width, height] = editor.getRectInCurrentCoords(data.rect, pageHeight);\n    editor.x = x / pageWidth;\n    editor.y = y / pageHeight;\n    editor.width = width / pageWidth;\n    editor.height = height / pageHeight;\n    return editor;\n  }\n  get hasBeenModified() {\n    return !!this.annotationElementId && (this.deleted || this.serialize() !== null);\n  }\n  remove() {\n    this.#focusAC?.abort();\n    this.#focusAC = null;\n    if (!this.isEmpty()) {\n      this.commit();\n    }\n    if (this.parent) {\n      this.parent.remove(this);\n    } else {\n      this._uiManager.removeEditor(this);\n    }\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n      this.#moveInDOMTimeout = null;\n    }\n    this.#stopResizing();\n    this.removeEditToolbar();\n    if (this.#telemetryTimeouts) {\n      for (const timeout of this.#telemetryTimeouts.values()) {\n        clearTimeout(timeout);\n      }\n      this.#telemetryTimeouts = null;\n    }\n    this.parent = null;\n    this.#touchManager?.destroy();\n    this.#touchManager = null;\n  }\n  get isResizable() {\n    return false;\n  }\n  makeResizable() {\n    if (this.isResizable) {\n      this.#createResizers();\n      this.#resizersDiv.classList.remove(\"hidden\");\n    }\n  }\n  get toolbarPosition() {\n    return null;\n  }\n  get commentButtonPosition() {\n    return this._uiManager.direction === \"ltr\" ? [1, 0] : [0, 0];\n  }\n  get commentButtonPositionInPage() {\n    const {\n      commentButtonPosition: [posX, posY]\n    } = this;\n    const [blX, blY, trX, trY] = this.getPDFRect();\n    return [AnnotationEditor._round(blX + (trX - blX) * posX), AnnotationEditor._round(blY + (trY - blY) * (1 - posY))];\n  }\n  get commentButtonColor() {\n    return this._uiManager.makeCommentColor(this.getNonHCMColor(), this.opacity);\n  }\n  get commentPopupPosition() {\n    return this.#comment.commentPopupPositionInLayer;\n  }\n  set commentPopupPosition(pos) {\n    this.#comment.commentPopupPositionInLayer = pos;\n  }\n  hasDefaultPopupPosition() {\n    return this.#comment.hasDefaultPopupPosition();\n  }\n  get commentButtonWidth() {\n    return this.#comment.commentButtonWidth;\n  }\n  get elementBeforePopup() {\n    return this.div;\n  }\n  setCommentButtonStates(options) {\n    this.#comment.setCommentButtonStates(options);\n  }\n  keydown(event) {\n    if (!this.isResizable || event.target !== this.div || event.key !== \"Enter\") {\n      return;\n    }\n    this._uiManager.setSelected(this);\n    this.#savedDimensions = {\n      savedX: this.x,\n      savedY: this.y,\n      savedWidth: this.width,\n      savedHeight: this.height\n    };\n    const children = this.#resizersDiv.children;\n    if (!this.#allResizerDivs) {\n      this.#allResizerDivs = Array.from(children);\n      const boundResizerKeydown = this.#resizerKeydown.bind(this);\n      const boundResizerBlur = this.#resizerBlur.bind(this);\n      const signal = this._uiManager._signal;\n      for (const div of this.#allResizerDivs) {\n        const name = div.getAttribute(\"data-resizer-name\");\n        div.setAttribute(\"role\", \"spinbutton\");\n        div.addEventListener(\"keydown\", boundResizerKeydown, {\n          signal\n        });\n        div.addEventListener(\"blur\", boundResizerBlur, {\n          signal\n        });\n        div.addEventListener(\"focus\", this.#resizerFocus.bind(this, name), {\n          signal\n        });\n        div.setAttribute(\"data-l10n-id\", AnnotationEditor._l10nResizer[name]);\n      }\n    }\n    const first = this.#allResizerDivs[0];\n    let firstPosition = 0;\n    for (const div of children) {\n      if (div === first) {\n        break;\n      }\n      firstPosition++;\n    }\n    const nextFirstPosition = (360 - this.rotation + this.parentRotation) % 360 / 90 * (this.#allResizerDivs.length / 4);\n    if (nextFirstPosition !== firstPosition) {\n      if (nextFirstPosition < firstPosition) {\n        for (let i = 0; i < firstPosition - nextFirstPosition; i++) {\n          this.#resizersDiv.append(this.#resizersDiv.firstChild);\n        }\n      } else if (nextFirstPosition > firstPosition) {\n        for (let i = 0; i < nextFirstPosition - firstPosition; i++) {\n          this.#resizersDiv.firstChild.before(this.#resizersDiv.lastChild);\n        }\n      }\n      let i = 0;\n      for (const child of children) {\n        const div = this.#allResizerDivs[i++];\n        const name = div.getAttribute(\"data-resizer-name\");\n        child.setAttribute(\"data-l10n-id\", AnnotationEditor._l10nResizer[name]);\n      }\n    }\n    this.#setResizerTabIndex(0);\n    this.#isResizerEnabledForKeyboard = true;\n    this.#resizersDiv.firstChild.focus({\n      focusVisible: true\n    });\n    event.preventDefault();\n    event.stopImmediatePropagation();\n  }\n  #resizerKeydown(event) {\n    AnnotationEditor._resizerKeyboardManager.exec(this, event);\n  }\n  #resizerBlur(event) {\n    if (this.#isResizerEnabledForKeyboard && event.relatedTarget?.parentNode !== this.#resizersDiv) {\n      this.#stopResizing();\n    }\n  }\n  #resizerFocus(name) {\n    this.#focusedResizerName = this.#isResizerEnabledForKeyboard ? name : \"\";\n  }\n  #setResizerTabIndex(value) {\n    if (!this.#allResizerDivs) {\n      return;\n    }\n    for (const div of this.#allResizerDivs) {\n      div.tabIndex = value;\n    }\n  }\n  _resizeWithKeyboard(x, y) {\n    if (!this.#isResizerEnabledForKeyboard) {\n      return;\n    }\n    this.#resizerPointermove(this.#focusedResizerName, {\n      deltaX: x,\n      deltaY: y,\n      fromKeyboard: true\n    });\n  }\n  #stopResizing() {\n    this.#isResizerEnabledForKeyboard = false;\n    this.#setResizerTabIndex(-1);\n    this.#addResizeToUndoStack();\n  }\n  _stopResizingWithKeyboard() {\n    this.#stopResizing();\n    this.div.focus();\n  }\n  select() {\n    if (this.isSelected && this._editToolbar) {\n      this._editToolbar.show();\n      return;\n    }\n    this.isSelected = true;\n    this.makeResizable();\n    this.div?.classList.add(\"selectedEditor\");\n    if (!this._editToolbar) {\n      this.addEditToolbar().then(() => {\n        if (this.div?.classList.contains(\"selectedEditor\")) {\n          this._editToolbar?.show();\n        }\n      });\n      return;\n    }\n    this._editToolbar?.show();\n    this.#altText?.toggleAltTextBadge(false);\n  }\n  focus() {\n    if (this.div && !this.div.contains(document.activeElement)) {\n      setTimeout(() => this.div?.focus({\n        preventScroll: true\n      }), 0);\n    }\n  }\n  unselect() {\n    if (!this.isSelected) {\n      return;\n    }\n    this.isSelected = false;\n    this.#resizersDiv?.classList.add(\"hidden\");\n    this.div?.classList.remove(\"selectedEditor\");\n    if (this.div?.contains(document.activeElement)) {\n      this._uiManager.currentLayer.div.focus({\n        preventScroll: true\n      });\n    }\n    this._editToolbar?.hide();\n    this.#altText?.toggleAltTextBadge(true);\n    if (this.hasComment) {\n      this._uiManager.toggleComment(this, false, false);\n    }\n  }\n  updateParams(type, value) {}\n  disableEditing() {}\n  enableEditing() {}\n  get canChangeContent() {\n    return false;\n  }\n  enterInEditMode() {\n    if (!this.canChangeContent) {\n      return;\n    }\n    this.enableEditMode();\n    this.div.focus();\n  }\n  dblclick(event) {\n    if (event.target.nodeName === \"BUTTON\") {\n      return;\n    }\n    this.enterInEditMode();\n    this.parent.updateToolbar({\n      mode: this.constructor._editorType,\n      editId: this.id\n    });\n  }\n  getElementForAltText() {\n    return this.div;\n  }\n  get contentDiv() {\n    return this.div;\n  }\n  get isEditing() {\n    return this.#isEditing;\n  }\n  set isEditing(value) {\n    this.#isEditing = value;\n    if (!this.parent) {\n      return;\n    }\n    if (value) {\n      this.parent.setSelected(this);\n      this.parent.setActiveEditor(this);\n    } else {\n      this.parent.setActiveEditor(null);\n    }\n  }\n  static get MIN_SIZE() {\n    return 16;\n  }\n  static canCreateNewEmptyEditor() {\n    return true;\n  }\n  get telemetryInitialData() {\n    return {\n      action: \"added\"\n    };\n  }\n  get telemetryFinalData() {\n    return null;\n  }\n  _reportTelemetry(data, mustWait = false) {\n    if (mustWait) {\n      this.#telemetryTimeouts ||= new Map();\n      const {\n        action\n      } = data;\n      let timeout = this.#telemetryTimeouts.get(action);\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n      timeout = setTimeout(() => {\n        this._reportTelemetry(data);\n        this.#telemetryTimeouts.delete(action);\n        if (this.#telemetryTimeouts.size === 0) {\n          this.#telemetryTimeouts = null;\n        }\n      }, AnnotationEditor._telemetryTimeout);\n      this.#telemetryTimeouts.set(action, timeout);\n      return;\n    }\n    data.type ||= this.editorType;\n    this._uiManager._eventBus.dispatch(\"reporttelemetry\", {\n      source: this,\n      details: {\n        type: \"editing\",\n        data\n      }\n    });\n  }\n  show(visible = this._isVisible) {\n    this.div.classList.toggle(\"hidden\", !visible);\n    this._isVisible = visible;\n  }\n  enable() {\n    if (this.div) {\n      this.div.tabIndex = 0;\n    }\n    this.#disabled = false;\n  }\n  disable() {\n    if (this.div) {\n      this.div.tabIndex = -1;\n    }\n    this.#disabled = true;\n  }\n  updateFakeAnnotationElement(annotationLayer) {\n    if (!this.#fakeAnnotation && !this.deleted) {\n      this.#fakeAnnotation = annotationLayer.addFakeAnnotation(this);\n      return;\n    }\n    if (this.deleted) {\n      this.#fakeAnnotation.remove();\n      this.#fakeAnnotation = null;\n      return;\n    }\n    if (this.hasEditedComment || this._hasBeenMoved || this._hasBeenResized) {\n      this.#fakeAnnotation.updateEdited({\n        rect: this.getPDFRect(),\n        popup: this.comment\n      });\n    }\n  }\n  renderAnnotationElement(annotation) {\n    if (this.deleted) {\n      annotation.hide();\n      return null;\n    }\n    let content = annotation.container.querySelector(\".annotationContent\");\n    if (!content) {\n      content = document.createElement(\"div\");\n      content.classList.add(\"annotationContent\", this.editorType);\n      annotation.container.prepend(content);\n    } else if (content.nodeName === \"CANVAS\") {\n      const canvas = content;\n      content = document.createElement(\"div\");\n      content.classList.add(\"annotationContent\", this.editorType);\n      canvas.before(content);\n    }\n    return content;\n  }\n  resetAnnotationElement(annotation) {\n    const {\n      firstChild\n    } = annotation.container;\n    if (firstChild?.nodeName === \"DIV\" && firstChild.classList.contains(\"annotationContent\")) {\n      firstChild.remove();\n    }\n  }\n}\nclass FakeEditor extends AnnotationEditor {\n  constructor(params) {\n    super(params);\n    this.annotationElementId = params.annotationElementId;\n    this.deleted = true;\n  }\n  serialize() {\n    return this.serializeDeleted();\n  }\n}\n\n;// ./src/shared/murmurhash3.js\n\n\n\n\n\n\n\n\nconst SEED = 0xc3d2e1f0;\nconst MASK_HIGH = 0xffff0000;\nconst MASK_LOW = 0xffff;\nclass MurmurHash3_64 {\n  constructor(seed) {\n    this.h1 = seed ? seed & 0xffffffff : SEED;\n    this.h2 = seed ? seed & 0xffffffff : SEED;\n  }\n  update(input) {\n    let data, length;\n    if (typeof input === \"string\") {\n      data = new Uint8Array(input.length * 2);\n      length = 0;\n      for (let i = 0, ii = input.length; i < ii; i++) {\n        const code = input.charCodeAt(i);\n        if (code <= 0xff) {\n          data[length++] = code;\n        } else {\n          data[length++] = code >>> 8;\n          data[length++] = code & 0xff;\n        }\n      }\n    } else if (ArrayBuffer.isView(input)) {\n      data = input.slice();\n      length = data.byteLength;\n    } else {\n      throw new Error(\"Invalid data format, must be a string or TypedArray.\");\n    }\n    const blockCounts = length >> 2;\n    const tailLength = length - blockCounts * 4;\n    const dataUint32 = new Uint32Array(data.buffer, 0, blockCounts);\n    let k1 = 0,\n      k2 = 0;\n    let h1 = this.h1,\n      h2 = this.h2;\n    const C1 = 0xcc9e2d51,\n      C2 = 0x1b873593;\n    const C1_LOW = C1 & MASK_LOW,\n      C2_LOW = C2 & MASK_LOW;\n    for (let i = 0; i < blockCounts; i++) {\n      if (i & 1) {\n        k1 = dataUint32[i];\n        k1 = k1 * C1 & MASK_HIGH | k1 * C1_LOW & MASK_LOW;\n        k1 = k1 << 15 | k1 >>> 17;\n        k1 = k1 * C2 & MASK_HIGH | k1 * C2_LOW & MASK_LOW;\n        h1 ^= k1;\n        h1 = h1 << 13 | h1 >>> 19;\n        h1 = h1 * 5 + 0xe6546b64;\n      } else {\n        k2 = dataUint32[i];\n        k2 = k2 * C1 & MASK_HIGH | k2 * C1_LOW & MASK_LOW;\n        k2 = k2 << 15 | k2 >>> 17;\n        k2 = k2 * C2 & MASK_HIGH | k2 * C2_LOW & MASK_LOW;\n        h2 ^= k2;\n        h2 = h2 << 13 | h2 >>> 19;\n        h2 = h2 * 5 + 0xe6546b64;\n      }\n    }\n    k1 = 0;\n    switch (tailLength) {\n      case 3:\n        k1 ^= data[blockCounts * 4 + 2] << 16;\n      case 2:\n        k1 ^= data[blockCounts * 4 + 1] << 8;\n      case 1:\n        k1 ^= data[blockCounts * 4];\n        k1 = k1 * C1 & MASK_HIGH | k1 * C1_LOW & MASK_LOW;\n        k1 = k1 << 15 | k1 >>> 17;\n        k1 = k1 * C2 & MASK_HIGH | k1 * C2_LOW & MASK_LOW;\n        if (blockCounts & 1) {\n          h1 ^= k1;\n        } else {\n          h2 ^= k1;\n        }\n    }\n    this.h1 = h1;\n    this.h2 = h2;\n  }\n  hexdigest() {\n    let h1 = this.h1,\n      h2 = this.h2;\n    h1 ^= h2 >>> 1;\n    h1 = h1 * 0xed558ccd & MASK_HIGH | h1 * 0x8ccd & MASK_LOW;\n    h2 = h2 * 0xff51afd7 & MASK_HIGH | ((h2 << 16 | h1 >>> 16) * 0xafd7ed55 & MASK_HIGH) >>> 16;\n    h1 ^= h2 >>> 1;\n    h1 = h1 * 0x1a85ec53 & MASK_HIGH | h1 * 0xec53 & MASK_LOW;\n    h2 = h2 * 0xc4ceb9fe & MASK_HIGH | ((h2 << 16 | h1 >>> 16) * 0xb9fe1a85 & MASK_HIGH) >>> 16;\n    h1 ^= h2 >>> 1;\n    return (h1 >>> 0).toString(16).padStart(8, \"0\") + (h2 >>> 0).toString(16).padStart(8, \"0\");\n  }\n}\n\n;// ./src/display/annotation_storage.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst SerializableEmpty = Object.freeze({\n  map: null,\n  hash: \"\",\n  transfer: undefined\n});\nclass AnnotationStorage {\n  #modified = false;\n  #modifiedIds = null;\n  #editorsMap = null;\n  #storage = new Map();\n  constructor() {\n    this.onSetModified = null;\n    this.onResetModified = null;\n    this.onAnnotationEditor = null;\n  }\n  getValue(key, defaultValue) {\n    const value = this.#storage.get(key);\n    if (value === undefined) {\n      return defaultValue;\n    }\n    return Object.assign(defaultValue, value);\n  }\n  getRawValue(key) {\n    return this.#storage.get(key);\n  }\n  remove(key) {\n    const storedValue = this.#storage.get(key);\n    if (storedValue === undefined) {\n      return;\n    }\n    if (storedValue instanceof AnnotationEditor) {\n      this.#editorsMap.delete(storedValue.annotationElementId);\n    }\n    this.#storage.delete(key);\n    if (this.#storage.size === 0) {\n      this.resetModified();\n    }\n    if (typeof this.onAnnotationEditor === \"function\") {\n      for (const value of this.#storage.values()) {\n        if (value instanceof AnnotationEditor) {\n          return;\n        }\n      }\n      this.onAnnotationEditor(null);\n    }\n  }\n  setValue(key, value) {\n    const obj = this.#storage.get(key);\n    let modified = false;\n    if (obj !== undefined) {\n      for (const [entry, val] of Object.entries(value)) {\n        if (obj[entry] !== val) {\n          modified = true;\n          obj[entry] = val;\n        }\n      }\n    } else {\n      modified = true;\n      this.#storage.set(key, value);\n    }\n    if (modified) {\n      this.#setModified();\n    }\n    if (value instanceof AnnotationEditor) {\n      (this.#editorsMap ||= new Map()).set(value.annotationElementId, value);\n      if (typeof this.onAnnotationEditor === \"function\") {\n        this.onAnnotationEditor(value.constructor._type);\n      }\n    }\n  }\n  has(key) {\n    return this.#storage.has(key);\n  }\n  get size() {\n    return this.#storage.size;\n  }\n  #setModified() {\n    if (!this.#modified) {\n      this.#modified = true;\n      if (typeof this.onSetModified === \"function\") {\n        this.onSetModified();\n      }\n    }\n  }\n  resetModified() {\n    if (this.#modified) {\n      this.#modified = false;\n      if (typeof this.onResetModified === \"function\") {\n        this.onResetModified();\n      }\n    }\n  }\n  get print() {\n    return new PrintAnnotationStorage(this);\n  }\n  get serializable() {\n    if (this.#storage.size === 0) {\n      return SerializableEmpty;\n    }\n    const map = new Map(),\n      hash = new MurmurHash3_64(),\n      transfer = [];\n    const context = Object.create(null);\n    let hasBitmap = false;\n    for (const [key, val] of this.#storage) {\n      const serialized = val instanceof AnnotationEditor ? val.serialize(false, context) : val;\n      if (serialized) {\n        map.set(key, serialized);\n        hash.update(`${key}:${JSON.stringify(serialized)}`);\n        hasBitmap ||= !!serialized.bitmap;\n      }\n    }\n    if (hasBitmap) {\n      for (const value of map.values()) {\n        if (value.bitmap) {\n          transfer.push(value.bitmap);\n        }\n      }\n    }\n    return map.size > 0 ? {\n      map,\n      hash: hash.hexdigest(),\n      transfer\n    } : SerializableEmpty;\n  }\n  get editorStats() {\n    let stats = null;\n    const typeToEditor = new Map();\n    let numberOfEditedComments = 0;\n    let numberOfDeletedComments = 0;\n    for (const value of this.#storage.values()) {\n      if (!(value instanceof AnnotationEditor)) {\n        if (value.popup) {\n          if (value.popup.deleted) {\n            numberOfDeletedComments += 1;\n          } else {\n            numberOfEditedComments += 1;\n          }\n        }\n        continue;\n      }\n      if (value.isCommentDeleted) {\n        numberOfDeletedComments += 1;\n      } else if (value.hasEditedComment) {\n        numberOfEditedComments += 1;\n      }\n      const editorStats = value.telemetryFinalData;\n      if (!editorStats) {\n        continue;\n      }\n      const {\n        type\n      } = editorStats;\n      if (!typeToEditor.has(type)) {\n        typeToEditor.set(type, Object.getPrototypeOf(value).constructor);\n      }\n      stats ||= Object.create(null);\n      const map = stats[type] ||= new Map();\n      for (const [key, val] of Object.entries(editorStats)) {\n        if (key === \"type\") {\n          continue;\n        }\n        let counters = map.get(key);\n        if (!counters) {\n          counters = new Map();\n          map.set(key, counters);\n        }\n        const count = counters.get(val) ?? 0;\n        counters.set(val, count + 1);\n      }\n    }\n    if (numberOfDeletedComments > 0 || numberOfEditedComments > 0) {\n      stats ||= Object.create(null);\n      stats.comments = {\n        deleted: numberOfDeletedComments,\n        edited: numberOfEditedComments\n      };\n    }\n    if (!stats) {\n      return null;\n    }\n    for (const [type, editor] of typeToEditor) {\n      stats[type] = editor.computeTelemetryFinalData(stats[type]);\n    }\n    return stats;\n  }\n  resetModifiedIds() {\n    this.#modifiedIds = null;\n  }\n  updateEditor(annotationId, data) {\n    const value = this.#editorsMap?.get(annotationId);\n    if (value) {\n      value.updateFromAnnotationLayer(data);\n      return true;\n    }\n    return false;\n  }\n  getEditor(annotationId) {\n    return this.#editorsMap?.get(annotationId) || null;\n  }\n  get modifiedIds() {\n    if (this.#modifiedIds) {\n      return this.#modifiedIds;\n    }\n    const ids = [];\n    if (this.#editorsMap) {\n      for (const value of this.#editorsMap.values()) {\n        if (!value.serialize()) {\n          continue;\n        }\n        ids.push(value.annotationElementId);\n      }\n    }\n    return this.#modifiedIds = {\n      ids: new Set(ids),\n      hash: ids.join(\",\")\n    };\n  }\n  [Symbol.iterator]() {\n    return this.#storage.entries();\n  }\n}\nclass PrintAnnotationStorage extends AnnotationStorage {\n  #serializable;\n  constructor(parent) {\n    super();\n    const {\n      map,\n      hash,\n      transfer\n    } = parent.serializable;\n    const clone = structuredClone(map, transfer ? {\n      transfer\n    } : null);\n    this.#serializable = {\n      map: clone,\n      hash,\n      transfer\n    };\n  }\n  get print() {\n    unreachable(\"Should not call PrintAnnotationStorage.print\");\n  }\n  get serializable() {\n    return this.#serializable;\n  }\n  get modifiedIds() {\n    return shadow(this, \"modifiedIds\", {\n      ids: new Set(),\n      hash: \"\"\n    });\n  }\n}\n\n;// ./src/display/font_loader.js\n\n\n\n\n\n\n\n\n\n\nclass FontLoader {\n  #systemFonts = new Set();\n  constructor({\n    ownerDocument = globalThis.document,\n    styleElement = null\n  }) {\n    this._document = ownerDocument;\n    this.nativeFontFaces = new Set();\n    this.styleElement = null;\n    this.loadingRequests = [];\n    this.loadTestFontId = 0;\n  }\n  addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.add(nativeFontFace);\n    this._document.fonts.add(nativeFontFace);\n  }\n  removeNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.delete(nativeFontFace);\n    this._document.fonts.delete(nativeFontFace);\n  }\n  insertRule(rule) {\n    if (!this.styleElement) {\n      this.styleElement = this._document.createElement(\"style\");\n      this._document.documentElement.getElementsByTagName(\"head\")[0].append(this.styleElement);\n    }\n    const styleSheet = this.styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n  clear() {\n    for (const nativeFontFace of this.nativeFontFaces) {\n      this._document.fonts.delete(nativeFontFace);\n    }\n    this.nativeFontFaces.clear();\n    this.#systemFonts.clear();\n    if (this.styleElement) {\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n  }\n  async loadSystemFont({\n    systemFontInfo: info,\n    disableFontFace,\n    _inspectFont\n  }) {\n    if (!info || this.#systemFonts.has(info.loadedName)) {\n      return;\n    }\n    assert(!disableFontFace, \"loadSystemFont shouldn't be called when `disableFontFace` is set.\");\n    if (this.isFontLoadingAPISupported) {\n      const {\n        loadedName,\n        src,\n        style\n      } = info;\n      const fontFace = new FontFace(loadedName, src, style);\n      this.addNativeFontFace(fontFace);\n      try {\n        await fontFace.load();\n        this.#systemFonts.add(loadedName);\n        _inspectFont?.(info);\n      } catch {\n        warn(`Cannot load system font: ${info.baseFontName}, installing it could help to improve PDF rendering.`);\n        this.removeNativeFontFace(fontFace);\n      }\n      return;\n    }\n    unreachable(\"Not implemented: loadSystemFont without the Font Loading API.\");\n  }\n  async bind(font) {\n    if (font.attached || font.missingFile && !font.systemFontInfo) {\n      return;\n    }\n    font.attached = true;\n    if (font.systemFontInfo) {\n      await this.loadSystemFont(font);\n      return;\n    }\n    if (this.isFontLoadingAPISupported) {\n      const nativeFontFace = font.createNativeFontFace();\n      if (nativeFontFace) {\n        this.addNativeFontFace(nativeFontFace);\n        try {\n          await nativeFontFace.loaded;\n        } catch (ex) {\n          warn(`Failed to load font '${nativeFontFace.family}': '${ex}'.`);\n          font.disableFontFace = true;\n          throw ex;\n        }\n      }\n      return;\n    }\n    const rule = font.createFontFaceRule();\n    if (rule) {\n      this.insertRule(rule);\n      if (this.isSyncFontLoadingSupported) {\n        return;\n      }\n      await new Promise(resolve => {\n        const request = this._queueLoadingCallback(resolve);\n        this._prepareFontLoadEvent(font, request);\n      });\n    }\n  }\n  get isFontLoadingAPISupported() {\n    const hasFonts = !!this._document?.fonts;\n    return shadow(this, \"isFontLoadingAPISupported\", hasFonts);\n  }\n  get isSyncFontLoadingSupported() {\n    return shadow(this, \"isSyncFontLoadingSupported\", isNodeJS || util_FeatureTest.platform.isFirefox);\n  }\n  _queueLoadingCallback(callback) {\n    function completeRequest() {\n      assert(!request.done, \"completeRequest() cannot be called twice.\");\n      request.done = true;\n      while (loadingRequests.length > 0 && loadingRequests[0].done) {\n        const otherRequest = loadingRequests.shift();\n        setTimeout(otherRequest.callback, 0);\n      }\n    }\n    const {\n      loadingRequests\n    } = this;\n    const request = {\n      done: false,\n      complete: completeRequest,\n      callback\n    };\n    loadingRequests.push(request);\n    return request;\n  }\n  get _loadTestFont() {\n    const testFont = atob(\"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\" + \"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\" + \"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\" + \"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\" + \"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\" + \"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\" + \"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\" + \"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\" + \"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\" + \"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\" + \"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\" + \"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\" + \"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\" + \"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\" + \"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\" + \"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\" + \"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\");\n    return shadow(this, \"_loadTestFont\", testFont);\n  }\n  _prepareFontLoadEvent(font, request) {\n    function int32(data, offset) {\n      return data.charCodeAt(offset) << 24 | data.charCodeAt(offset + 1) << 16 | data.charCodeAt(offset + 2) << 8 | data.charCodeAt(offset + 3) & 0xff;\n    }\n    function spliceString(s, offset, remove, insert) {\n      const chunk1 = s.substring(0, offset);\n      const chunk2 = s.substring(offset + remove);\n      return chunk1 + insert + chunk2;\n    }\n    let i, ii;\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = 1;\n    canvas.height = 1;\n    const ctx = canvas.getContext(\"2d\");\n    let called = 0;\n    function isFontReady(name, callback) {\n      if (++called > 30) {\n        warn(\"Load test font never loaded.\");\n        callback();\n        return;\n      }\n      ctx.font = \"30px \" + name;\n      ctx.fillText(\".\", 0, 20);\n      const imageData = ctx.getImageData(0, 0, 1, 1);\n      if (imageData.data[3] > 0) {\n        callback();\n        return;\n      }\n      setTimeout(isFontReady.bind(null, name, callback));\n    }\n    const loadTestFontId = `lt${Date.now()}${this.loadTestFontId++}`;\n    let data = this._loadTestFont;\n    const COMMENT_OFFSET = 976;\n    data = spliceString(data, COMMENT_OFFSET, loadTestFontId.length, loadTestFontId);\n    const CFF_CHECKSUM_OFFSET = 16;\n    const XXXX_VALUE = 0x58585858;\n    let checksum = int32(data, CFF_CHECKSUM_OFFSET);\n    for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n      checksum = checksum - XXXX_VALUE + int32(loadTestFontId, i) | 0;\n    }\n    if (i < loadTestFontId.length) {\n      checksum = checksum - XXXX_VALUE + int32(loadTestFontId + \"XXX\", i) | 0;\n    }\n    data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, string32(checksum));\n    const url = `url(data:font/opentype;base64,${btoa(data)});`;\n    const rule = `@font-face {font-family:\"${loadTestFontId}\";src:${url}}`;\n    this.insertRule(rule);\n    const div = this._document.createElement(\"div\");\n    div.style.visibility = \"hidden\";\n    div.style.width = div.style.height = \"10px\";\n    div.style.position = \"absolute\";\n    div.style.top = div.style.left = \"0px\";\n    for (const name of [font.loadedName, loadTestFontId]) {\n      const span = this._document.createElement(\"span\");\n      span.textContent = \"Hi\";\n      span.style.fontFamily = name;\n      div.append(span);\n    }\n    this._document.body.append(div);\n    isFontReady(loadTestFontId, () => {\n      div.remove();\n      request.complete();\n    });\n  }\n}\nclass FontFaceObject {\n  #fontData;\n  constructor(translatedData, inspectFont = null, extra, charProcOperatorList) {\n    this.compiledGlyphs = Object.create(null);\n    this.#fontData = translatedData;\n    this._inspectFont = inspectFont;\n    if (extra) {\n      Object.assign(this, extra);\n    }\n    if (charProcOperatorList) {\n      this.charProcOperatorList = charProcOperatorList;\n    }\n  }\n  createNativeFontFace() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    let nativeFontFace;\n    if (!this.cssFontInfo) {\n      nativeFontFace = new FontFace(this.loadedName, this.data, {});\n    } else {\n      const css = {\n        weight: this.cssFontInfo.fontWeight\n      };\n      if (this.cssFontInfo.italicAngle) {\n        css.style = `oblique ${this.cssFontInfo.italicAngle}deg`;\n      }\n      nativeFontFace = new FontFace(this.cssFontInfo.fontFamily, this.data, css);\n    }\n    this._inspectFont?.(this);\n    return nativeFontFace;\n  }\n  createFontFaceRule() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    const url = `url(data:${this.mimetype};base64,${toBase64Util(this.data)});`;\n    let rule;\n    if (!this.cssFontInfo) {\n      rule = `@font-face {font-family:\"${this.loadedName}\";src:${url}}`;\n    } else {\n      let css = `font-weight: ${this.cssFontInfo.fontWeight};`;\n      if (this.cssFontInfo.italicAngle) {\n        css += `font-style: oblique ${this.cssFontInfo.italicAngle}deg;`;\n      }\n      rule = `@font-face {font-family:\"${this.cssFontInfo.fontFamily}\";${css}src:${url}}`;\n    }\n    this._inspectFont?.(this, url);\n    return rule;\n  }\n  getPathGenerator(objs, character) {\n    if (this.compiledGlyphs[character] !== undefined) {\n      return this.compiledGlyphs[character];\n    }\n    const objId = this.loadedName + \"_path_\" + character;\n    let cmds;\n    try {\n      cmds = objs.get(objId);\n    } catch (ex) {\n      warn(`getPathGenerator - ignoring character: \"${ex}\".`);\n    }\n    const path = new Path2D(cmds || \"\");\n    if (!this.fontExtraProperties) {\n      objs.delete(objId);\n    }\n    return this.compiledGlyphs[character] = path;\n  }\n  get black() {\n    return this.#fontData.black;\n  }\n  get bold() {\n    return this.#fontData.bold;\n  }\n  get disableFontFace() {\n    return this.#fontData.disableFontFace ?? false;\n  }\n  get fontExtraProperties() {\n    return this.#fontData.fontExtraProperties ?? false;\n  }\n  get isInvalidPDFjsFont() {\n    return this.#fontData.isInvalidPDFjsFont;\n  }\n  get isType3Font() {\n    return this.#fontData.isType3Font;\n  }\n  get italic() {\n    return this.#fontData.italic;\n  }\n  get missingFile() {\n    return this.#fontData.missingFile;\n  }\n  get remeasure() {\n    return this.#fontData.remeasure;\n  }\n  get vertical() {\n    return this.#fontData.vertical;\n  }\n  get ascent() {\n    return this.#fontData.ascent;\n  }\n  get defaultWidth() {\n    return this.#fontData.defaultWidth;\n  }\n  get descent() {\n    return this.#fontData.descent;\n  }\n  get bbox() {\n    return this.#fontData.bbox;\n  }\n  get fontMatrix() {\n    return this.#fontData.fontMatrix;\n  }\n  get fallbackName() {\n    return this.#fontData.fallbackName;\n  }\n  get loadedName() {\n    return this.#fontData.loadedName;\n  }\n  get mimetype() {\n    return this.#fontData.mimetype;\n  }\n  get name() {\n    return this.#fontData.name;\n  }\n  get data() {\n    return this.#fontData.data;\n  }\n  clearData() {\n    this.#fontData.clearData();\n  }\n  get cssFontInfo() {\n    return this.#fontData.cssFontInfo;\n  }\n  get systemFontInfo() {\n    return this.#fontData.systemFontInfo;\n  }\n  get defaultVMetrics() {\n    return this.#fontData.defaultVMetrics;\n  }\n}\n\n;// ./src/display/api_utils.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction getUrlProp(val) {\n  if (val instanceof URL) {\n    return val.href;\n  }\n  if (typeof val === \"string\") {\n    if (isNodeJS) {\n      return val;\n    }\n    const url = URL.parse(val, window.location);\n    if (url) {\n      return url.href;\n    }\n  }\n  throw new Error(\"Invalid PDF url data: \" + \"either string or URL-object is expected in the url property.\");\n}\nfunction getDataProp(val) {\n  if (isNodeJS && typeof Buffer !== \"undefined\" && val instanceof Buffer) {\n    throw new Error(\"Please provide binary data as `Uint8Array`, rather than `Buffer`.\");\n  }\n  if (val instanceof Uint8Array && val.byteLength === val.buffer.byteLength) {\n    return val;\n  }\n  if (typeof val === \"string\") {\n    return stringToBytes(val);\n  }\n  if (val instanceof ArrayBuffer || ArrayBuffer.isView(val) || typeof val === \"object\" && !isNaN(val?.length)) {\n    return new Uint8Array(val);\n  }\n  throw new Error(\"Invalid PDF binary data: either TypedArray, \" + \"string, or array-like object is expected in the data property.\");\n}\nfunction getFactoryUrlProp(val) {\n  if (typeof val !== \"string\") {\n    return null;\n  }\n  if (val.endsWith(\"/\")) {\n    return val;\n  }\n  throw new Error(`Invalid factory url: \"${val}\" must include trailing slash.`);\n}\nconst isRefProxy = v => typeof v === \"object\" && Number.isInteger(v?.num) && v.num >= 0 && Number.isInteger(v?.gen) && v.gen >= 0;\nconst isNameProxy = v => typeof v === \"object\" && typeof v?.name === \"string\";\nconst isValidExplicitDest = _isValidExplicitDest.bind(null, isRefProxy, isNameProxy);\nclass LoopbackPort {\n  #listeners = new Map();\n  #deferred = Promise.resolve();\n  postMessage(obj, transfer) {\n    const event = {\n      data: structuredClone(obj, transfer ? {\n        transfer\n      } : null)\n    };\n    this.#deferred.then(() => {\n      for (const [listener] of this.#listeners) {\n        listener.call(this, event);\n      }\n    });\n  }\n  addEventListener(name, listener, options = null) {\n    let rmAbort = null;\n    if (options?.signal instanceof AbortSignal) {\n      const {\n        signal\n      } = options;\n      if (signal.aborted) {\n        warn(\"LoopbackPort - cannot use an `aborted` signal.\");\n        return;\n      }\n      const onAbort = () => this.removeEventListener(name, listener);\n      rmAbort = () => signal.removeEventListener(\"abort\", onAbort);\n      signal.addEventListener(\"abort\", onAbort);\n    }\n    this.#listeners.set(listener, rmAbort);\n  }\n  removeEventListener(name, listener) {\n    const rmAbort = this.#listeners.get(listener);\n    rmAbort?.();\n    this.#listeners.delete(listener);\n  }\n  terminate() {\n    for (const [, rmAbort] of this.#listeners) {\n      rmAbort?.();\n    }\n    this.#listeners.clear();\n  }\n}\n\n;// ./src/shared/message_handler.js\n\n\n\nconst CallbackKind = {\n  DATA: 1,\n  ERROR: 2\n};\nconst StreamKind = {\n  CANCEL: 1,\n  CANCEL_COMPLETE: 2,\n  CLOSE: 3,\n  ENQUEUE: 4,\n  ERROR: 5,\n  PULL: 6,\n  PULL_COMPLETE: 7,\n  START_COMPLETE: 8\n};\nfunction onFn() {}\nfunction wrapReason(ex) {\n  if (ex instanceof AbortException || ex instanceof InvalidPDFException || ex instanceof PasswordException || ex instanceof ResponseException || ex instanceof UnknownErrorException) {\n    return ex;\n  }\n  if (!(ex instanceof Error || typeof ex === \"object\" && ex !== null)) {\n    unreachable('wrapReason: Expected \"reason\" to be a (possibly cloned) Error.');\n  }\n  switch (ex.name) {\n    case \"AbortException\":\n      return new AbortException(ex.message);\n    case \"InvalidPDFException\":\n      return new InvalidPDFException(ex.message);\n    case \"PasswordException\":\n      return new PasswordException(ex.message, ex.code);\n    case \"ResponseException\":\n      return new ResponseException(ex.message, ex.status, ex.missing);\n    case \"UnknownErrorException\":\n      return new UnknownErrorException(ex.message, ex.details);\n  }\n  return new UnknownErrorException(ex.message, ex.toString());\n}\nclass MessageHandler {\n  #messageAC = new AbortController();\n  constructor(sourceName, targetName, comObj) {\n    this.sourceName = sourceName;\n    this.targetName = targetName;\n    this.comObj = comObj;\n    this.callbackId = 1;\n    this.streamId = 1;\n    this.streamSinks = Object.create(null);\n    this.streamControllers = Object.create(null);\n    this.callbackCapabilities = Object.create(null);\n    this.actionHandler = Object.create(null);\n    comObj.addEventListener(\"message\", this.#onMessage.bind(this), {\n      signal: this.#messageAC.signal\n    });\n  }\n  #onMessage({\n    data\n  }) {\n    if (data.targetName !== this.sourceName) {\n      return;\n    }\n    if (data.stream) {\n      this.#processStreamMessage(data);\n      return;\n    }\n    if (data.callback) {\n      const callbackId = data.callbackId;\n      const capability = this.callbackCapabilities[callbackId];\n      if (!capability) {\n        throw new Error(`Cannot resolve callback ${callbackId}`);\n      }\n      delete this.callbackCapabilities[callbackId];\n      if (data.callback === CallbackKind.DATA) {\n        capability.resolve(data.data);\n      } else if (data.callback === CallbackKind.ERROR) {\n        capability.reject(wrapReason(data.reason));\n      } else {\n        throw new Error(\"Unexpected callback case\");\n      }\n      return;\n    }\n    const action = this.actionHandler[data.action];\n    if (!action) {\n      throw new Error(`Unknown action from worker: ${data.action}`);\n    }\n    if (data.callbackId) {\n      const sourceName = this.sourceName,\n        targetName = data.sourceName,\n        comObj = this.comObj;\n      Promise.try(action, data.data).then(function (result) {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          callback: CallbackKind.DATA,\n          callbackId: data.callbackId,\n          data: result\n        });\n      }, function (reason) {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          callback: CallbackKind.ERROR,\n          callbackId: data.callbackId,\n          reason: wrapReason(reason)\n        });\n      });\n      return;\n    }\n    if (data.streamId) {\n      this.#createStreamSink(data);\n      return;\n    }\n    action(data.data);\n  }\n  on(actionName, handler) {\n    const ah = this.actionHandler;\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n    ah[actionName] = handler;\n  }\n  send(actionName, data, transfers) {\n    this.comObj.postMessage({\n      sourceName: this.sourceName,\n      targetName: this.targetName,\n      action: actionName,\n      data\n    }, transfers);\n  }\n  sendWithPromise(actionName, data, transfers) {\n    const callbackId = this.callbackId++;\n    const capability = Promise.withResolvers();\n    this.callbackCapabilities[callbackId] = capability;\n    try {\n      this.comObj.postMessage({\n        sourceName: this.sourceName,\n        targetName: this.targetName,\n        action: actionName,\n        callbackId,\n        data\n      }, transfers);\n    } catch (ex) {\n      capability.reject(ex);\n    }\n    return capability.promise;\n  }\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    const streamId = this.streamId++,\n      sourceName = this.sourceName,\n      targetName = this.targetName,\n      comObj = this.comObj;\n    return new ReadableStream({\n      start: controller => {\n        const startCapability = Promise.withResolvers();\n        this.streamControllers[streamId] = {\n          controller,\n          startCall: startCapability,\n          pullCall: null,\n          cancelCall: null,\n          isClosed: false\n        };\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          action: actionName,\n          streamId,\n          data,\n          desiredSize: controller.desiredSize\n        }, transfers);\n        return startCapability.promise;\n      },\n      pull: controller => {\n        const pullCapability = Promise.withResolvers();\n        this.streamControllers[streamId].pullCall = pullCapability;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.PULL,\n          streamId,\n          desiredSize: controller.desiredSize\n        });\n        return pullCapability.promise;\n      },\n      cancel: reason => {\n        assert(reason instanceof Error, \"cancel must have a valid reason\");\n        const cancelCapability = Promise.withResolvers();\n        this.streamControllers[streamId].cancelCall = cancelCapability;\n        this.streamControllers[streamId].isClosed = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CANCEL,\n          streamId,\n          reason: wrapReason(reason)\n        });\n        return cancelCapability.promise;\n      }\n    }, queueingStrategy);\n  }\n  #createStreamSink(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const self = this,\n      action = this.actionHandler[data.action];\n    const streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n        const lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = Promise.withResolvers();\n          this.ready = this.sinkCapability.promise;\n        }\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ENQUEUE,\n          streamId,\n          chunk\n        }, transfers);\n      },\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CLOSE,\n          streamId\n        });\n        delete self.streamSinks[streamId];\n      },\n      error(reason) {\n        assert(reason instanceof Error, \"error must have a valid reason\");\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ERROR,\n          streamId,\n          reason: wrapReason(reason)\n        });\n      },\n      sinkCapability: Promise.withResolvers(),\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize: data.desiredSize,\n      ready: null\n    };\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n    Promise.try(action, data.data, streamSink).then(function () {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        success: true\n      });\n    }, function (reason) {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        reason: wrapReason(reason)\n      });\n    });\n  }\n  #processStreamMessage(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const streamController = this.streamControllers[streamId],\n      streamSink = this.streamSinks[streamId];\n    switch (data.stream) {\n      case StreamKind.START_COMPLETE:\n        if (data.success) {\n          streamController.startCall.resolve();\n        } else {\n          streamController.startCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL_COMPLETE:\n        if (data.success) {\n          streamController.pullCall.resolve();\n        } else {\n          streamController.pullCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL:\n        if (!streamSink) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n          break;\n        }\n        if (streamSink.desiredSize <= 0 && data.desiredSize > 0) {\n          streamSink.sinkCapability.resolve();\n        }\n        streamSink.desiredSize = data.desiredSize;\n        Promise.try(streamSink.onPull || onFn).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        break;\n      case StreamKind.ENQUEUE:\n        assert(streamController, \"enqueue should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.controller.enqueue(data.chunk);\n        break;\n      case StreamKind.CLOSE:\n        assert(streamController, \"close should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.isClosed = true;\n        streamController.controller.close();\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.ERROR:\n        assert(streamController, \"error should have stream controller\");\n        streamController.controller.error(wrapReason(data.reason));\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL_COMPLETE:\n        if (data.success) {\n          streamController.cancelCall.resolve();\n        } else {\n          streamController.cancelCall.reject(wrapReason(data.reason));\n        }\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL:\n        if (!streamSink) {\n          break;\n        }\n        const dataReason = wrapReason(data.reason);\n        Promise.try(streamSink.onCancel || onFn, dataReason).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        streamSink.sinkCapability.reject(dataReason);\n        streamSink.isCancelled = true;\n        delete this.streamSinks[streamId];\n        break;\n      default:\n        throw new Error(\"Unexpected stream case\");\n    }\n  }\n  async #deleteStreamController(streamController, streamId) {\n    await Promise.allSettled([streamController.startCall?.promise, streamController.pullCall?.promise, streamController.cancelCall?.promise]);\n    delete this.streamControllers[streamId];\n  }\n  destroy() {\n    this.#messageAC?.abort();\n    this.#messageAC = null;\n  }\n}\n\n;// ./src/display/canvas_factory.js\n\nclass BaseCanvasFactory {\n  #enableHWA = false;\n  constructor({\n    enableHWA = false\n  }) {\n    this.#enableHWA = enableHWA;\n  }\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    const canvas = this._createCanvas(width, height);\n    return {\n      canvas,\n      context: canvas.getContext(\"2d\", {\n        willReadFrequently: !this.#enableHWA\n      })\n    };\n  }\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n  _createCanvas(width, height) {\n    unreachable(\"Abstract method `_createCanvas` called.\");\n  }\n}\nclass DOMCanvasFactory extends BaseCanvasFactory {\n  constructor({\n    ownerDocument = globalThis.document,\n    enableHWA = false\n  }) {\n    super({\n      enableHWA\n    });\n    this._document = ownerDocument;\n  }\n  _createCanvas(width, height) {\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n}\n\n;// ./src/display/cmap_reader_factory.js\n\n\n\n\n\n\n\n\n\n\nclass BaseCMapReaderFactory {\n  constructor({\n    baseUrl = null,\n    isCompressed = true\n  }) {\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n  async fetch({\n    name\n  }) {\n    if (!this.baseUrl) {\n      throw new Error(\"Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.\");\n    }\n    if (!name) {\n      throw new Error(\"CMap name must be specified.\");\n    }\n    const url = this.baseUrl + name + (this.isCompressed ? \".bcmap\" : \"\");\n    return this._fetch(url).then(cMapData => ({\n      cMapData,\n      isCompressed: this.isCompressed\n    })).catch(reason => {\n      throw new Error(`Unable to load ${this.isCompressed ? \"binary \" : \"\"}CMap at: ${url}`);\n    });\n  }\n  async _fetch(url) {\n    unreachable(\"Abstract method `_fetch` called.\");\n  }\n}\nclass DOMCMapReaderFactory extends BaseCMapReaderFactory {\n  async _fetch(url) {\n    const data = await fetchData(url, this.isCompressed ? \"arraybuffer\" : \"text\");\n    return data instanceof ArrayBuffer ? new Uint8Array(data) : stringToBytes(data);\n  }\n}\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.iterator.filter.js\nvar es_iterator_filter = __webpack_require__(2489);\n;// ./src/display/filter_factory.js\n\n\n\n\nclass BaseFilterFactory {\n  addFilter(maps) {\n    return \"none\";\n  }\n  addHCMFilter(fgColor, bgColor) {\n    return \"none\";\n  }\n  addAlphaFilter(map) {\n    return \"none\";\n  }\n  addLuminosityFilter(map) {\n    return \"none\";\n  }\n  addHighlightHCMFilter(filterName, fgColor, bgColor, newFgColor, newBgColor) {\n    return \"none\";\n  }\n  destroy(keepHCM = false) {}\n}\nclass DOMFilterFactory extends BaseFilterFactory {\n  #baseUrl;\n  #_cache;\n  #_defs;\n  #docId;\n  #document;\n  #_hcmCache;\n  #id = 0;\n  constructor({\n    docId,\n    ownerDocument = globalThis.document\n  }) {\n    super();\n    this.#docId = docId;\n    this.#document = ownerDocument;\n  }\n  get #cache() {\n    return this.#_cache ||= new Map();\n  }\n  get #hcmCache() {\n    return this.#_hcmCache ||= new Map();\n  }\n  get #defs() {\n    if (!this.#_defs) {\n      const div = this.#document.createElement(\"div\");\n      const {\n        style\n      } = div;\n      style.visibility = \"hidden\";\n      style.contain = \"strict\";\n      style.width = style.height = 0;\n      style.position = \"absolute\";\n      style.top = style.left = 0;\n      style.zIndex = -1;\n      const svg = this.#document.createElementNS(SVG_NS, \"svg\");\n      svg.setAttribute(\"width\", 0);\n      svg.setAttribute(\"height\", 0);\n      this.#_defs = this.#document.createElementNS(SVG_NS, \"defs\");\n      div.append(svg);\n      svg.append(this.#_defs);\n      this.#document.body.append(div);\n    }\n    return this.#_defs;\n  }\n  #createTables(maps) {\n    if (maps.length === 1) {\n      const mapR = maps[0];\n      const buffer = new Array(256);\n      for (let i = 0; i < 256; i++) {\n        buffer[i] = mapR[i] / 255;\n      }\n      const table = buffer.join(\",\");\n      return [table, table, table];\n    }\n    const [mapR, mapG, mapB] = maps;\n    const bufferR = new Array(256);\n    const bufferG = new Array(256);\n    const bufferB = new Array(256);\n    for (let i = 0; i < 256; i++) {\n      bufferR[i] = mapR[i] / 255;\n      bufferG[i] = mapG[i] / 255;\n      bufferB[i] = mapB[i] / 255;\n    }\n    return [bufferR.join(\",\"), bufferG.join(\",\"), bufferB.join(\",\")];\n  }\n  #createUrl(id) {\n    if (this.#baseUrl === undefined) {\n      this.#baseUrl = \"\";\n      const url = this.#document.URL;\n      if (url !== this.#document.baseURI) {\n        if (isDataScheme(url)) {\n          warn('#createUrl: ignore \"data:\"-URL for performance reasons.');\n        } else {\n          this.#baseUrl = updateUrlHash(url, \"\");\n        }\n      }\n    }\n    return `url(${this.#baseUrl}#${id})`;\n  }\n  addFilter(maps) {\n    if (!maps) {\n      return \"none\";\n    }\n    let value = this.#cache.get(maps);\n    if (value) {\n      return value;\n    }\n    const [tableR, tableG, tableB] = this.#createTables(maps);\n    const key = maps.length === 1 ? tableR : `${tableR}${tableG}${tableB}`;\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(maps, value);\n      return value;\n    }\n    const id = `g_${this.#docId}_transfer_map_${this.#id++}`;\n    const url = this.#createUrl(id);\n    this.#cache.set(maps, url);\n    this.#cache.set(key, url);\n    const filter = this.#createFilter(id);\n    this.#addTransferMapConversion(tableR, tableG, tableB, filter);\n    return url;\n  }\n  addHCMFilter(fgColor, bgColor) {\n    const key = `${fgColor}-${bgColor}`;\n    const filterName = \"base\";\n    let info = this.#hcmCache.get(filterName);\n    if (info?.key === key) {\n      return info.url;\n    }\n    if (info) {\n      info.filter?.remove();\n      info.key = key;\n      info.url = \"none\";\n      info.filter = null;\n    } else {\n      info = {\n        key,\n        url: \"none\",\n        filter: null\n      };\n      this.#hcmCache.set(filterName, info);\n    }\n    if (!fgColor || !bgColor) {\n      return info.url;\n    }\n    const fgRGB = this.#getRGB(fgColor);\n    fgColor = Util.makeHexColor(...fgRGB);\n    const bgRGB = this.#getRGB(bgColor);\n    bgColor = Util.makeHexColor(...bgRGB);\n    this.#defs.style.color = \"\";\n    if (fgColor === \"#000000\" && bgColor === \"#ffffff\" || fgColor === bgColor) {\n      return info.url;\n    }\n    const map = new Array(256);\n    for (let i = 0; i <= 255; i++) {\n      const x = i / 255;\n      map[i] = x <= 0.03928 ? x / 12.92 : ((x + 0.055) / 1.055) ** 2.4;\n    }\n    const table = map.join(\",\");\n    const id = `g_${this.#docId}_hcm_filter`;\n    const filter = info.filter = this.#createFilter(id);\n    this.#addTransferMapConversion(table, table, table, filter);\n    this.#addGrayConversion(filter);\n    const getSteps = (c, n) => {\n      const start = fgRGB[c] / 255;\n      const end = bgRGB[c] / 255;\n      const arr = new Array(n + 1);\n      for (let i = 0; i <= n; i++) {\n        arr[i] = start + i / n * (end - start);\n      }\n      return arr.join(\",\");\n    };\n    this.#addTransferMapConversion(getSteps(0, 5), getSteps(1, 5), getSteps(2, 5), filter);\n    info.url = this.#createUrl(id);\n    return info.url;\n  }\n  addAlphaFilter(map) {\n    let value = this.#cache.get(map);\n    if (value) {\n      return value;\n    }\n    const [tableA] = this.#createTables([map]);\n    const key = `alpha_${tableA}`;\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(map, value);\n      return value;\n    }\n    const id = `g_${this.#docId}_alpha_map_${this.#id++}`;\n    const url = this.#createUrl(id);\n    this.#cache.set(map, url);\n    this.#cache.set(key, url);\n    const filter = this.#createFilter(id);\n    this.#addTransferMapAlphaConversion(tableA, filter);\n    return url;\n  }\n  addLuminosityFilter(map) {\n    let value = this.#cache.get(map || \"luminosity\");\n    if (value) {\n      return value;\n    }\n    let tableA, key;\n    if (map) {\n      [tableA] = this.#createTables([map]);\n      key = `luminosity_${tableA}`;\n    } else {\n      key = \"luminosity\";\n    }\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(map, value);\n      return value;\n    }\n    const id = `g_${this.#docId}_luminosity_map_${this.#id++}`;\n    const url = this.#createUrl(id);\n    this.#cache.set(map, url);\n    this.#cache.set(key, url);\n    const filter = this.#createFilter(id);\n    this.#addLuminosityConversion(filter);\n    if (map) {\n      this.#addTransferMapAlphaConversion(tableA, filter);\n    }\n    return url;\n  }\n  addHighlightHCMFilter(filterName, fgColor, bgColor, newFgColor, newBgColor) {\n    const key = `${fgColor}-${bgColor}-${newFgColor}-${newBgColor}`;\n    let info = this.#hcmCache.get(filterName);\n    if (info?.key === key) {\n      return info.url;\n    }\n    if (info) {\n      info.filter?.remove();\n      info.key = key;\n      info.url = \"none\";\n      info.filter = null;\n    } else {\n      info = {\n        key,\n        url: \"none\",\n        filter: null\n      };\n      this.#hcmCache.set(filterName, info);\n    }\n    if (!fgColor || !bgColor) {\n      return info.url;\n    }\n    const [fgRGB, bgRGB] = [fgColor, bgColor].map(this.#getRGB.bind(this));\n    let fgGray = Math.round(0.2126 * fgRGB[0] + 0.7152 * fgRGB[1] + 0.0722 * fgRGB[2]);\n    let bgGray = Math.round(0.2126 * bgRGB[0] + 0.7152 * bgRGB[1] + 0.0722 * bgRGB[2]);\n    let [newFgRGB, newBgRGB] = [newFgColor, newBgColor].map(this.#getRGB.bind(this));\n    if (bgGray < fgGray) {\n      [fgGray, bgGray, newFgRGB, newBgRGB] = [bgGray, fgGray, newBgRGB, newFgRGB];\n    }\n    this.#defs.style.color = \"\";\n    const getSteps = (fg, bg, n) => {\n      const arr = new Array(256);\n      const step = (bgGray - fgGray) / n;\n      const newStart = fg / 255;\n      const newStep = (bg - fg) / (255 * n);\n      let prev = 0;\n      for (let i = 0; i <= n; i++) {\n        const k = Math.round(fgGray + i * step);\n        const value = newStart + i * newStep;\n        for (let j = prev; j <= k; j++) {\n          arr[j] = value;\n        }\n        prev = k + 1;\n      }\n      for (let i = prev; i < 256; i++) {\n        arr[i] = arr[prev - 1];\n      }\n      return arr.join(\",\");\n    };\n    const id = `g_${this.#docId}_hcm_${filterName}_filter`;\n    const filter = info.filter = this.#createFilter(id);\n    this.#addGrayConversion(filter);\n    this.#addTransferMapConversion(getSteps(newFgRGB[0], newBgRGB[0], 5), getSteps(newFgRGB[1], newBgRGB[1], 5), getSteps(newFgRGB[2], newBgRGB[2], 5), filter);\n    info.url = this.#createUrl(id);\n    return info.url;\n  }\n  destroy(keepHCM = false) {\n    if (keepHCM && this.#_hcmCache?.size) {\n      return;\n    }\n    this.#_defs?.parentNode.parentNode.remove();\n    this.#_defs = null;\n    this.#_cache?.clear();\n    this.#_cache = null;\n    this.#_hcmCache?.clear();\n    this.#_hcmCache = null;\n    this.#id = 0;\n  }\n  #addLuminosityConversion(filter) {\n    const feColorMatrix = this.#document.createElementNS(SVG_NS, \"feColorMatrix\");\n    feColorMatrix.setAttribute(\"type\", \"matrix\");\n    feColorMatrix.setAttribute(\"values\", \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0\");\n    filter.append(feColorMatrix);\n  }\n  #addGrayConversion(filter) {\n    const feColorMatrix = this.#document.createElementNS(SVG_NS, \"feColorMatrix\");\n    feColorMatrix.setAttribute(\"type\", \"matrix\");\n    feColorMatrix.setAttribute(\"values\", \"0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0\");\n    filter.append(feColorMatrix);\n  }\n  #createFilter(id) {\n    const filter = this.#document.createElementNS(SVG_NS, \"filter\");\n    filter.setAttribute(\"color-interpolation-filters\", \"sRGB\");\n    filter.setAttribute(\"id\", id);\n    this.#defs.append(filter);\n    return filter;\n  }\n  #appendFeFunc(feComponentTransfer, func, table) {\n    const feFunc = this.#document.createElementNS(SVG_NS, func);\n    feFunc.setAttribute(\"type\", \"discrete\");\n    feFunc.setAttribute(\"tableValues\", table);\n    feComponentTransfer.append(feFunc);\n  }\n  #addTransferMapConversion(rTable, gTable, bTable, filter) {\n    const feComponentTransfer = this.#document.createElementNS(SVG_NS, \"feComponentTransfer\");\n    filter.append(feComponentTransfer);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncR\", rTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncG\", gTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncB\", bTable);\n  }\n  #addTransferMapAlphaConversion(aTable, filter) {\n    const feComponentTransfer = this.#document.createElementNS(SVG_NS, \"feComponentTransfer\");\n    filter.append(feComponentTransfer);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncA\", aTable);\n  }\n  #getRGB(color) {\n    this.#defs.style.color = color;\n    return getRGB(getComputedStyle(this.#defs).getPropertyValue(\"color\"));\n  }\n}\n\n;// ./src/display/standard_fontdata_factory.js\n\n\n\n\n\n\n\n\n\n\nclass BaseStandardFontDataFactory {\n  constructor({\n    baseUrl = null\n  }) {\n    this.baseUrl = baseUrl;\n  }\n  async fetch({\n    filename\n  }) {\n    if (!this.baseUrl) {\n      throw new Error(\"Ensure that the `standardFontDataUrl` API parameter is provided.\");\n    }\n    if (!filename) {\n      throw new Error(\"Font filename must be specified.\");\n    }\n    const url = `${this.baseUrl}${filename}`;\n    return this._fetch(url).catch(reason => {\n      throw new Error(`Unable to load font data at: ${url}`);\n    });\n  }\n  async _fetch(url) {\n    unreachable(\"Abstract method `_fetch` called.\");\n  }\n}\nclass DOMStandardFontDataFactory extends BaseStandardFontDataFactory {\n  async _fetch(url) {\n    const data = await fetchData(url, \"arraybuffer\");\n    return new Uint8Array(data);\n  }\n}\n\n;// ./src/display/wasm_factory.js\n\n\n\n\n\n\n\n\n\n\nclass BaseWasmFactory {\n  constructor({\n    baseUrl = null\n  }) {\n    this.baseUrl = baseUrl;\n  }\n  async fetch({\n    filename\n  }) {\n    if (!this.baseUrl) {\n      throw new Error(\"Ensure that the `wasmUrl` API parameter is provided.\");\n    }\n    if (!filename) {\n      throw new Error(\"Wasm filename must be specified.\");\n    }\n    const url = `${this.baseUrl}${filename}`;\n    return this._fetch(url).catch(reason => {\n      throw new Error(`Unable to load wasm data at: ${url}`);\n    });\n  }\n  async _fetch(url) {\n    unreachable(\"Abstract method `_fetch` called.\");\n  }\n}\nclass DOMWasmFactory extends BaseWasmFactory {\n  async _fetch(url) {\n    const data = await fetchData(url, \"arraybuffer\");\n    return new Uint8Array(data);\n  }\n}\n\n;// ./src/display/node_utils.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nif (isNodeJS) {\n  let canvas;\n  try {\n    const require = process.getBuiltinModule(\"module\").createRequire(import.meta.url);\n    try {\n      canvas = require(\"@napi-rs/canvas\");\n    } catch (ex) {\n      warn(`Cannot load \"@napi-rs/canvas\" package: \"${ex}\".`);\n    }\n  } catch (ex) {\n    warn(`Cannot access the \\`require\\` function: \"${ex}\".`);\n  }\n  if (!globalThis.DOMMatrix) {\n    if (canvas?.DOMMatrix) {\n      globalThis.DOMMatrix = canvas.DOMMatrix;\n    } else {\n      warn(\"Cannot polyfill `DOMMatrix`, rendering may be broken.\");\n    }\n  }\n  if (!globalThis.ImageData) {\n    if (canvas?.ImageData) {\n      globalThis.ImageData = canvas.ImageData;\n    } else {\n      warn(\"Cannot polyfill `ImageData`, rendering may be broken.\");\n    }\n  }\n  if (!globalThis.Path2D) {\n    if (canvas?.Path2D) {\n      globalThis.Path2D = canvas.Path2D;\n    } else {\n      warn(\"Cannot polyfill `Path2D`, rendering may be broken.\");\n    }\n  }\n  if (!globalThis.navigator?.language) {\n    globalThis.navigator = {\n      language: \"en-US\",\n      platform: \"\",\n      userAgent: \"\"\n    };\n  }\n}\nasync function node_utils_fetchData(url) {\n  const fs = process.getBuiltinModule(\"fs\");\n  const data = await fs.promises.readFile(url);\n  return new Uint8Array(data);\n}\nclass NodeFilterFactory extends BaseFilterFactory {}\nclass NodeCanvasFactory extends BaseCanvasFactory {\n  _createCanvas(width, height) {\n    const require = process.getBuiltinModule(\"module\").createRequire(import.meta.url);\n    const canvas = require(\"@napi-rs/canvas\");\n    return canvas.createCanvas(width, height);\n  }\n}\nclass NodeCMapReaderFactory extends BaseCMapReaderFactory {\n  async _fetch(url) {\n    return node_utils_fetchData(url);\n  }\n}\nclass NodeStandardFontDataFactory extends BaseStandardFontDataFactory {\n  async _fetch(url) {\n    return node_utils_fetchData(url);\n  }\n}\nclass NodeWasmFactory extends BaseWasmFactory {\n  async _fetch(url) {\n    return node_utils_fetchData(url);\n  }\n}\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.iterator.for-each.js\nvar es_iterator_for_each = __webpack_require__(7588);\n;// ./src/display/canvas_dependency_tracker.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst FORCED_DEPENDENCY_LABEL = \"__forcedDependency\";\nconst {\n  floor,\n  ceil\n} = Math;\nfunction expandBBox(array, index, minX, minY, maxX, maxY) {\n  array[index * 4 + 0] = Math.min(array[index * 4 + 0], minX);\n  array[index * 4 + 1] = Math.min(array[index * 4 + 1], minY);\n  array[index * 4 + 2] = Math.max(array[index * 4 + 2], maxX);\n  array[index * 4 + 3] = Math.max(array[index * 4 + 3], maxY);\n}\nconst EMPTY_BBOX = new Uint32Array(new Uint8Array([255, 255, 0, 0]).buffer)[0];\nclass BBoxReader {\n  #bboxes;\n  #coords;\n  constructor(bboxes, coords) {\n    this.#bboxes = bboxes;\n    this.#coords = coords;\n  }\n  get length() {\n    return this.#bboxes.length;\n  }\n  isEmpty(i) {\n    return this.#bboxes[i] === EMPTY_BBOX;\n  }\n  minX(i) {\n    return this.#coords[i * 4 + 0] / 256;\n  }\n  minY(i) {\n    return this.#coords[i * 4 + 1] / 256;\n  }\n  maxX(i) {\n    return (this.#coords[i * 4 + 2] + 1) / 256;\n  }\n  maxY(i) {\n    return (this.#coords[i * 4 + 3] + 1) / 256;\n  }\n}\nconst ensureDebugMetadata = (map, key) => {\n  if (!map) {\n    return undefined;\n  }\n  let value = map.get(key);\n  if (!value) {\n    value = {\n      dependencies: new Set(),\n      isRenderingOperation: false\n    };\n    map.set(key, value);\n  }\n  return value;\n};\nclass CanvasDependencyTracker {\n  #simple = {\n    __proto__: null\n  };\n  #incremental = {\n    __proto__: null,\n    transform: [],\n    moveText: [],\n    sameLineText: [],\n    [FORCED_DEPENDENCY_LABEL]: []\n  };\n  #namedDependencies = new Map();\n  #savesStack = [];\n  #markedContentStack = [];\n  #baseTransformStack = [[1, 0, 0, 1, 0, 0]];\n  #clipBox = [-Infinity, -Infinity, Infinity, Infinity];\n  #pendingBBox = new Float64Array([Infinity, Infinity, -Infinity, -Infinity]);\n  #pendingBBoxIdx = -1;\n  #pendingDependencies = new Set();\n  #operations = new Map();\n  #fontBBoxTrustworthy = new Map();\n  #canvasWidth;\n  #canvasHeight;\n  #bboxesCoords;\n  #bboxes;\n  #debugMetadata;\n  constructor(canvas, operationsCount, recordDebugMetadata = false) {\n    this.#canvasWidth = canvas.width;\n    this.#canvasHeight = canvas.height;\n    this.#initializeBBoxes(operationsCount);\n    if (recordDebugMetadata) {\n      this.#debugMetadata = new Map();\n    }\n  }\n  growOperationsCount(operationsCount) {\n    if (operationsCount >= this.#bboxes.length) {\n      this.#initializeBBoxes(operationsCount, this.#bboxes);\n    }\n  }\n  #initializeBBoxes(operationsCount, oldBBoxes) {\n    const buffer = new ArrayBuffer(operationsCount * 4);\n    this.#bboxesCoords = new Uint8ClampedArray(buffer);\n    this.#bboxes = new Uint32Array(buffer);\n    if (oldBBoxes && oldBBoxes.length > 0) {\n      this.#bboxes.set(oldBBoxes);\n      this.#bboxes.fill(EMPTY_BBOX, oldBBoxes.length);\n    } else {\n      this.#bboxes.fill(EMPTY_BBOX);\n    }\n  }\n  save(opIdx) {\n    this.#simple = {\n      __proto__: this.#simple\n    };\n    this.#incremental = {\n      __proto__: this.#incremental,\n      transform: {\n        __proto__: this.#incremental.transform\n      },\n      moveText: {\n        __proto__: this.#incremental.moveText\n      },\n      sameLineText: {\n        __proto__: this.#incremental.sameLineText\n      },\n      [FORCED_DEPENDENCY_LABEL]: {\n        __proto__: this.#incremental[FORCED_DEPENDENCY_LABEL]\n      }\n    };\n    this.#clipBox = {\n      __proto__: this.#clipBox\n    };\n    this.#savesStack.push(opIdx);\n    return this;\n  }\n  restore(opIdx) {\n    const previous = Object.getPrototypeOf(this.#simple);\n    if (previous === null) {\n      return this;\n    }\n    this.#simple = previous;\n    this.#incremental = Object.getPrototypeOf(this.#incremental);\n    this.#clipBox = Object.getPrototypeOf(this.#clipBox);\n    const lastSave = this.#savesStack.pop();\n    if (lastSave !== undefined) {\n      ensureDebugMetadata(this.#debugMetadata, opIdx)?.dependencies.add(lastSave);\n      this.#bboxes[opIdx] = this.#bboxes[lastSave];\n    }\n    return this;\n  }\n  recordOpenMarker(idx) {\n    this.#savesStack.push(idx);\n    return this;\n  }\n  getOpenMarker() {\n    if (this.#savesStack.length === 0) {\n      return null;\n    }\n    return this.#savesStack.at(-1);\n  }\n  recordCloseMarker(opIdx) {\n    const lastSave = this.#savesStack.pop();\n    if (lastSave !== undefined) {\n      ensureDebugMetadata(this.#debugMetadata, opIdx)?.dependencies.add(lastSave);\n      this.#bboxes[opIdx] = this.#bboxes[lastSave];\n    }\n    return this;\n  }\n  beginMarkedContent(opIdx) {\n    this.#markedContentStack.push(opIdx);\n    return this;\n  }\n  endMarkedContent(opIdx) {\n    const lastSave = this.#markedContentStack.pop();\n    if (lastSave !== undefined) {\n      ensureDebugMetadata(this.#debugMetadata, opIdx)?.dependencies.add(lastSave);\n      this.#bboxes[opIdx] = this.#bboxes[lastSave];\n    }\n    return this;\n  }\n  pushBaseTransform(ctx) {\n    this.#baseTransformStack.push(Util.multiplyByDOMMatrix(this.#baseTransformStack.at(-1), ctx.getTransform()));\n    return this;\n  }\n  popBaseTransform() {\n    if (this.#baseTransformStack.length > 1) {\n      this.#baseTransformStack.pop();\n    }\n    return this;\n  }\n  recordSimpleData(name, idx) {\n    this.#simple[name] = idx;\n    return this;\n  }\n  recordIncrementalData(name, idx) {\n    this.#incremental[name].push(idx);\n    return this;\n  }\n  resetIncrementalData(name, idx) {\n    this.#incremental[name].length = 0;\n    return this;\n  }\n  recordNamedData(name, idx) {\n    this.#namedDependencies.set(name, idx);\n    return this;\n  }\n  recordSimpleDataFromNamed(name, depName, fallbackIdx) {\n    this.#simple[name] = this.#namedDependencies.get(depName) ?? fallbackIdx;\n  }\n  recordFutureForcedDependency(name, idx) {\n    this.recordIncrementalData(FORCED_DEPENDENCY_LABEL, idx);\n    return this;\n  }\n  inheritSimpleDataAsFutureForcedDependencies(names) {\n    for (const name of names) {\n      if (name in this.#simple) {\n        this.recordFutureForcedDependency(name, this.#simple[name]);\n      }\n    }\n    return this;\n  }\n  inheritPendingDependenciesAsFutureForcedDependencies() {\n    for (const dep of this.#pendingDependencies) {\n      this.recordFutureForcedDependency(FORCED_DEPENDENCY_LABEL, dep);\n    }\n    return this;\n  }\n  resetBBox(idx) {\n    if (this.#pendingBBoxIdx !== idx) {\n      this.#pendingBBoxIdx = idx;\n      this.#pendingBBox[0] = Infinity;\n      this.#pendingBBox[1] = Infinity;\n      this.#pendingBBox[2] = -Infinity;\n      this.#pendingBBox[3] = -Infinity;\n    }\n    return this;\n  }\n  recordClipBox(idx, ctx, minX, maxX, minY, maxY) {\n    const transform = Util.multiplyByDOMMatrix(this.#baseTransformStack.at(-1), ctx.getTransform());\n    const clipBox = [Infinity, Infinity, -Infinity, -Infinity];\n    Util.axialAlignedBoundingBox([minX, minY, maxX, maxY], transform, clipBox);\n    const intersection = Util.intersect(this.#clipBox, clipBox);\n    if (intersection) {\n      this.#clipBox[0] = intersection[0];\n      this.#clipBox[1] = intersection[1];\n      this.#clipBox[2] = intersection[2];\n      this.#clipBox[3] = intersection[3];\n    } else {\n      this.#clipBox[0] = this.#clipBox[1] = Infinity;\n      this.#clipBox[2] = this.#clipBox[3] = -Infinity;\n    }\n    return this;\n  }\n  recordBBox(idx, ctx, minX, maxX, minY, maxY) {\n    const clipBox = this.#clipBox;\n    if (clipBox[0] === Infinity) {\n      return this;\n    }\n    const transform = Util.multiplyByDOMMatrix(this.#baseTransformStack.at(-1), ctx.getTransform());\n    if (clipBox[0] === -Infinity) {\n      Util.axialAlignedBoundingBox([minX, minY, maxX, maxY], transform, this.#pendingBBox);\n      return this;\n    }\n    const bbox = [Infinity, Infinity, -Infinity, -Infinity];\n    Util.axialAlignedBoundingBox([minX, minY, maxX, maxY], transform, bbox);\n    this.#pendingBBox[0] = Math.min(this.#pendingBBox[0], Math.max(bbox[0], clipBox[0]));\n    this.#pendingBBox[1] = Math.min(this.#pendingBBox[1], Math.max(bbox[1], clipBox[1]));\n    this.#pendingBBox[2] = Math.max(this.#pendingBBox[2], Math.min(bbox[2], clipBox[2]));\n    this.#pendingBBox[3] = Math.max(this.#pendingBBox[3], Math.min(bbox[3], clipBox[3]));\n    return this;\n  }\n  recordCharacterBBox(idx, ctx, font, scale = 1, x = 0, y = 0, getMeasure) {\n    const fontBBox = font.bbox;\n    let isBBoxTrustworthy;\n    let computedBBox;\n    if (fontBBox) {\n      isBBoxTrustworthy = fontBBox[2] !== fontBBox[0] && fontBBox[3] !== fontBBox[1] && this.#fontBBoxTrustworthy.get(font);\n      if (isBBoxTrustworthy !== false) {\n        computedBBox = [0, 0, 0, 0];\n        Util.axialAlignedBoundingBox(fontBBox, font.fontMatrix, computedBBox);\n        if (scale !== 1 || x !== 0 || y !== 0) {\n          Util.scaleMinMax([scale, 0, 0, -scale, x, y], computedBBox);\n        }\n        if (isBBoxTrustworthy) {\n          return this.recordBBox(idx, ctx, computedBBox[0], computedBBox[2], computedBBox[1], computedBBox[3]);\n        }\n      }\n    }\n    if (!getMeasure) {\n      return this.recordFullPageBBox(idx);\n    }\n    const measure = getMeasure();\n    if (fontBBox && computedBBox && isBBoxTrustworthy === undefined) {\n      isBBoxTrustworthy = computedBBox[0] <= x - measure.actualBoundingBoxLeft && computedBBox[2] >= x + measure.actualBoundingBoxRight && computedBBox[1] <= y - measure.actualBoundingBoxAscent && computedBBox[3] >= y + measure.actualBoundingBoxDescent;\n      this.#fontBBoxTrustworthy.set(font, isBBoxTrustworthy);\n      if (isBBoxTrustworthy) {\n        return this.recordBBox(idx, ctx, computedBBox[0], computedBBox[2], computedBBox[1], computedBBox[3]);\n      }\n    }\n    return this.recordBBox(idx, ctx, x - measure.actualBoundingBoxLeft, x + measure.actualBoundingBoxRight, y - measure.actualBoundingBoxAscent, y + measure.actualBoundingBoxDescent);\n  }\n  recordFullPageBBox(idx) {\n    this.#pendingBBox[0] = Math.max(0, this.#clipBox[0]);\n    this.#pendingBBox[1] = Math.max(0, this.#clipBox[1]);\n    this.#pendingBBox[2] = Math.min(this.#canvasWidth, this.#clipBox[2]);\n    this.#pendingBBox[3] = Math.min(this.#canvasHeight, this.#clipBox[3]);\n    return this;\n  }\n  getSimpleIndex(dependencyName) {\n    return this.#simple[dependencyName];\n  }\n  recordDependencies(idx, dependencyNames) {\n    const pendingDependencies = this.#pendingDependencies;\n    const simple = this.#simple;\n    const incremental = this.#incremental;\n    for (const name of dependencyNames) {\n      if (name in this.#simple) {\n        pendingDependencies.add(simple[name]);\n      } else if (name in incremental) {\n        incremental[name].forEach(pendingDependencies.add, pendingDependencies);\n      }\n    }\n    return this;\n  }\n  recordNamedDependency(idx, name) {\n    if (this.#namedDependencies.has(name)) {\n      this.#pendingDependencies.add(this.#namedDependencies.get(name));\n    }\n    return this;\n  }\n  recordOperation(idx, preserve = false) {\n    this.recordDependencies(idx, [FORCED_DEPENDENCY_LABEL]);\n    if (this.#debugMetadata) {\n      const metadata = ensureDebugMetadata(this.#debugMetadata, idx);\n      const {\n        dependencies\n      } = metadata;\n      this.#pendingDependencies.forEach(dependencies.add, dependencies);\n      this.#savesStack.forEach(dependencies.add, dependencies);\n      this.#markedContentStack.forEach(dependencies.add, dependencies);\n      dependencies.delete(idx);\n      metadata.isRenderingOperation = true;\n    }\n    if (this.#pendingBBoxIdx === idx) {\n      const minX = floor(this.#pendingBBox[0] * 256 / this.#canvasWidth);\n      const minY = floor(this.#pendingBBox[1] * 256 / this.#canvasHeight);\n      const maxX = ceil(this.#pendingBBox[2] * 256 / this.#canvasWidth);\n      const maxY = ceil(this.#pendingBBox[3] * 256 / this.#canvasHeight);\n      expandBBox(this.#bboxesCoords, idx, minX, minY, maxX, maxY);\n      for (const depIdx of this.#pendingDependencies) {\n        if (depIdx !== idx) {\n          expandBBox(this.#bboxesCoords, depIdx, minX, minY, maxX, maxY);\n        }\n      }\n      for (const saveIdx of this.#savesStack) {\n        if (saveIdx !== idx) {\n          expandBBox(this.#bboxesCoords, saveIdx, minX, minY, maxX, maxY);\n        }\n      }\n      for (const saveIdx of this.#markedContentStack) {\n        if (saveIdx !== idx) {\n          expandBBox(this.#bboxesCoords, saveIdx, minX, minY, maxX, maxY);\n        }\n      }\n      if (!preserve) {\n        this.#pendingDependencies.clear();\n        this.#pendingBBoxIdx = -1;\n      }\n    }\n    return this;\n  }\n  recordShowTextOperation(idx, preserve = false) {\n    const deps = Array.from(this.#pendingDependencies);\n    this.recordOperation(idx, preserve);\n    this.recordIncrementalData(\"sameLineText\", idx);\n    for (const dep of deps) {\n      this.recordIncrementalData(\"sameLineText\", dep);\n    }\n    return this;\n  }\n  bboxToClipBoxDropOperation(idx, preserve = false) {\n    if (this.#pendingBBoxIdx === idx) {\n      this.#pendingBBoxIdx = -1;\n      this.#clipBox[0] = Math.max(this.#clipBox[0], this.#pendingBBox[0]);\n      this.#clipBox[1] = Math.max(this.#clipBox[1], this.#pendingBBox[1]);\n      this.#clipBox[2] = Math.min(this.#clipBox[2], this.#pendingBBox[2]);\n      this.#clipBox[3] = Math.min(this.#clipBox[3], this.#pendingBBox[3]);\n      if (!preserve) {\n        this.#pendingDependencies.clear();\n      }\n    }\n    return this;\n  }\n  _takePendingDependencies() {\n    const pendingDependencies = this.#pendingDependencies;\n    this.#pendingDependencies = new Set();\n    return pendingDependencies;\n  }\n  _extractOperation(idx) {\n    const operation = this.#operations.get(idx);\n    this.#operations.delete(idx);\n    return operation;\n  }\n  _pushPendingDependencies(dependencies) {\n    for (const dep of dependencies) {\n      this.#pendingDependencies.add(dep);\n    }\n  }\n  take() {\n    this.#fontBBoxTrustworthy.clear();\n    return new BBoxReader(this.#bboxes, this.#bboxesCoords);\n  }\n  takeDebugMetadata() {\n    return this.#debugMetadata;\n  }\n}\nclass CanvasNestedDependencyTracker {\n  #dependencyTracker;\n  #opIdx;\n  #ignoreBBoxes;\n  #nestingLevel = 0;\n  #savesLevel = 0;\n  constructor(dependencyTracker, opIdx, ignoreBBoxes) {\n    if (dependencyTracker instanceof CanvasNestedDependencyTracker && dependencyTracker.#ignoreBBoxes === !!ignoreBBoxes) {\n      return dependencyTracker;\n    }\n    this.#dependencyTracker = dependencyTracker;\n    this.#opIdx = opIdx;\n    this.#ignoreBBoxes = !!ignoreBBoxes;\n  }\n  growOperationsCount() {\n    throw new Error(\"Unreachable\");\n  }\n  save(opIdx) {\n    this.#savesLevel++;\n    this.#dependencyTracker.save(this.#opIdx);\n    return this;\n  }\n  restore(opIdx) {\n    if (this.#savesLevel > 0) {\n      this.#dependencyTracker.restore(this.#opIdx);\n      this.#savesLevel--;\n    }\n    return this;\n  }\n  recordOpenMarker(idx) {\n    this.#nestingLevel++;\n    return this;\n  }\n  getOpenMarker() {\n    return this.#nestingLevel > 0 ? this.#opIdx : this.#dependencyTracker.getOpenMarker();\n  }\n  recordCloseMarker(idx) {\n    this.#nestingLevel--;\n    return this;\n  }\n  beginMarkedContent(opIdx) {\n    return this;\n  }\n  endMarkedContent(opIdx) {\n    return this;\n  }\n  pushBaseTransform(ctx) {\n    this.#dependencyTracker.pushBaseTransform(ctx);\n    return this;\n  }\n  popBaseTransform() {\n    this.#dependencyTracker.popBaseTransform();\n    return this;\n  }\n  recordSimpleData(name, idx) {\n    this.#dependencyTracker.recordSimpleData(name, this.#opIdx);\n    return this;\n  }\n  recordIncrementalData(name, idx) {\n    this.#dependencyTracker.recordIncrementalData(name, this.#opIdx);\n    return this;\n  }\n  resetIncrementalData(name, idx) {\n    this.#dependencyTracker.resetIncrementalData(name, this.#opIdx);\n    return this;\n  }\n  recordNamedData(name, idx) {\n    return this;\n  }\n  recordSimpleDataFromNamed(name, depName, fallbackIdx) {\n    this.#dependencyTracker.recordSimpleDataFromNamed(name, depName, this.#opIdx);\n    return this;\n  }\n  recordFutureForcedDependency(name, idx) {\n    this.#dependencyTracker.recordFutureForcedDependency(name, this.#opIdx);\n    return this;\n  }\n  inheritSimpleDataAsFutureForcedDependencies(names) {\n    this.#dependencyTracker.inheritSimpleDataAsFutureForcedDependencies(names);\n    return this;\n  }\n  inheritPendingDependenciesAsFutureForcedDependencies() {\n    this.#dependencyTracker.inheritPendingDependenciesAsFutureForcedDependencies();\n    return this;\n  }\n  resetBBox(idx) {\n    if (!this.#ignoreBBoxes) {\n      this.#dependencyTracker.resetBBox(this.#opIdx);\n    }\n    return this;\n  }\n  recordClipBox(idx, ctx, minX, maxX, minY, maxY) {\n    if (!this.#ignoreBBoxes) {\n      this.#dependencyTracker.recordClipBox(this.#opIdx, ctx, minX, maxX, minY, maxY);\n    }\n    return this;\n  }\n  recordBBox(idx, ctx, minX, maxX, minY, maxY) {\n    if (!this.#ignoreBBoxes) {\n      this.#dependencyTracker.recordBBox(this.#opIdx, ctx, minX, maxX, minY, maxY);\n    }\n    return this;\n  }\n  recordCharacterBBox(idx, ctx, font, scale, x, y, getMeasure) {\n    if (!this.#ignoreBBoxes) {\n      this.#dependencyTracker.recordCharacterBBox(this.#opIdx, ctx, font, scale, x, y, getMeasure);\n    }\n    return this;\n  }\n  recordFullPageBBox(idx) {\n    if (!this.#ignoreBBoxes) {\n      this.#dependencyTracker.recordFullPageBBox(this.#opIdx);\n    }\n    return this;\n  }\n  getSimpleIndex(dependencyName) {\n    return this.#dependencyTracker.getSimpleIndex(dependencyName);\n  }\n  recordDependencies(idx, dependencyNames) {\n    this.#dependencyTracker.recordDependencies(this.#opIdx, dependencyNames);\n    return this;\n  }\n  recordNamedDependency(idx, name) {\n    this.#dependencyTracker.recordNamedDependency(this.#opIdx, name);\n    return this;\n  }\n  recordOperation(idx) {\n    this.#dependencyTracker.recordOperation(this.#opIdx, true);\n    return this;\n  }\n  recordShowTextOperation(idx) {\n    this.#dependencyTracker.recordShowTextOperation(this.#opIdx, true);\n    return this;\n  }\n  bboxToClipBoxDropOperation(idx) {\n    if (!this.#ignoreBBoxes) {\n      this.#dependencyTracker.bboxToClipBoxDropOperation(this.#opIdx, true);\n    }\n    return this;\n  }\n  take() {\n    throw new Error(\"Unreachable\");\n  }\n  takeDebugMetadata() {\n    throw new Error(\"Unreachable\");\n  }\n}\nconst Dependencies = {\n  stroke: [\"path\", \"transform\", \"filter\", \"strokeColor\", \"strokeAlpha\", \"lineWidth\", \"lineCap\", \"lineJoin\", \"miterLimit\", \"dash\"],\n  fill: [\"path\", \"transform\", \"filter\", \"fillColor\", \"fillAlpha\", \"globalCompositeOperation\", \"SMask\"],\n  imageXObject: [\"transform\", \"SMask\", \"filter\", \"fillAlpha\", \"strokeAlpha\", \"globalCompositeOperation\"],\n  rawFillPath: [\"filter\", \"fillColor\", \"fillAlpha\"],\n  showText: [\"transform\", \"leading\", \"charSpacing\", \"wordSpacing\", \"hScale\", \"textRise\", \"moveText\", \"textMatrix\", \"font\", \"fontObj\", \"filter\", \"fillColor\", \"textRenderingMode\", \"SMask\", \"fillAlpha\", \"strokeAlpha\", \"globalCompositeOperation\", \"sameLineText\"],\n  transform: [\"transform\"],\n  transformAndFill: [\"transform\", \"fillColor\"]\n};\n\n;// ./src/display/pattern_helper.js\n\n\n\n\n\n\nconst PathType = {\n  FILL: \"Fill\",\n  STROKE: \"Stroke\",\n  SHADING: \"Shading\"\n};\nfunction applyBoundingBox(ctx, bbox) {\n  if (!bbox) {\n    return;\n  }\n  const width = bbox[2] - bbox[0];\n  const height = bbox[3] - bbox[1];\n  const region = new Path2D();\n  region.rect(bbox[0], bbox[1], width, height);\n  ctx.clip(region);\n}\nclass BaseShadingPattern {\n  isModifyingCurrentTransform() {\n    return false;\n  }\n  getPattern() {\n    unreachable(\"Abstract method `getPattern` called.\");\n  }\n}\nclass RadialAxialShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._type = IR[1];\n    this._bbox = IR[2];\n    this._colorStops = IR[3];\n    this._p0 = IR[4];\n    this._p1 = IR[5];\n    this._r0 = IR[6];\n    this._r1 = IR[7];\n    this.matrix = null;\n  }\n  _createGradient(ctx) {\n    let grad;\n    if (this._type === \"axial\") {\n      grad = ctx.createLinearGradient(this._p0[0], this._p0[1], this._p1[0], this._p1[1]);\n    } else if (this._type === \"radial\") {\n      grad = ctx.createRadialGradient(this._p0[0], this._p0[1], this._r0, this._p1[0], this._p1[1], this._r1);\n    }\n    for (const colorStop of this._colorStops) {\n      grad.addColorStop(colorStop[0], colorStop[1]);\n    }\n    return grad;\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    let pattern;\n    if (pathType === PathType.STROKE || pathType === PathType.FILL) {\n      const ownerBBox = owner.current.getClippedPathBoundingBox(pathType, getCurrentTransform(ctx)) || [0, 0, 0, 0];\n      const width = Math.ceil(ownerBBox[2] - ownerBBox[0]) || 1;\n      const height = Math.ceil(ownerBBox[3] - ownerBBox[1]) || 1;\n      const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", width, height);\n      const tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.beginPath();\n      tmpCtx.rect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.translate(-ownerBBox[0], -ownerBBox[1]);\n      inverse = Util.transform(inverse, [1, 0, 0, 1, ownerBBox[0], ownerBBox[1]]);\n      tmpCtx.transform(...owner.baseTransform);\n      if (this.matrix) {\n        tmpCtx.transform(...this.matrix);\n      }\n      applyBoundingBox(tmpCtx, this._bbox);\n      tmpCtx.fillStyle = this._createGradient(tmpCtx);\n      tmpCtx.fill();\n      pattern = ctx.createPattern(tmpCanvas.canvas, \"no-repeat\");\n      const domMatrix = new DOMMatrix(inverse);\n      pattern.setTransform(domMatrix);\n    } else {\n      applyBoundingBox(ctx, this._bbox);\n      pattern = this._createGradient(ctx);\n    }\n    return pattern;\n  }\n}\nfunction drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n  const coords = context.coords,\n    colors = context.colors;\n  const bytes = data.data,\n    rowSize = data.width * 4;\n  let tmp;\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  if (coords[p2 + 1] > coords[p3 + 1]) {\n    tmp = p2;\n    p2 = p3;\n    p3 = tmp;\n    tmp = c2;\n    c2 = c3;\n    c3 = tmp;\n  }\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  const x1 = (coords[p1] + context.offsetX) * context.scaleX;\n  const y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n  const x2 = (coords[p2] + context.offsetX) * context.scaleX;\n  const y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n  const x3 = (coords[p3] + context.offsetX) * context.scaleX;\n  const y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n  if (y1 >= y3) {\n    return;\n  }\n  const c1r = colors[c1],\n    c1g = colors[c1 + 1],\n    c1b = colors[c1 + 2];\n  const c2r = colors[c2],\n    c2g = colors[c2 + 1],\n    c2b = colors[c2 + 2];\n  const c3r = colors[c3],\n    c3g = colors[c3 + 1],\n    c3b = colors[c3 + 2];\n  const minY = Math.round(y1),\n    maxY = Math.round(y3);\n  let xa, car, cag, cab;\n  let xb, cbr, cbg, cbb;\n  for (let y = minY; y <= maxY; y++) {\n    if (y < y2) {\n      const k = y < y1 ? 0 : (y1 - y) / (y1 - y2);\n      xa = x1 - (x1 - x2) * k;\n      car = c1r - (c1r - c2r) * k;\n      cag = c1g - (c1g - c2g) * k;\n      cab = c1b - (c1b - c2b) * k;\n    } else {\n      let k;\n      if (y > y3) {\n        k = 1;\n      } else if (y2 === y3) {\n        k = 0;\n      } else {\n        k = (y2 - y) / (y2 - y3);\n      }\n      xa = x2 - (x2 - x3) * k;\n      car = c2r - (c2r - c3r) * k;\n      cag = c2g - (c2g - c3g) * k;\n      cab = c2b - (c2b - c3b) * k;\n    }\n    let k;\n    if (y < y1) {\n      k = 0;\n    } else if (y > y3) {\n      k = 1;\n    } else {\n      k = (y1 - y) / (y1 - y3);\n    }\n    xb = x1 - (x1 - x3) * k;\n    cbr = c1r - (c1r - c3r) * k;\n    cbg = c1g - (c1g - c3g) * k;\n    cbb = c1b - (c1b - c3b) * k;\n    const x1_ = Math.round(Math.min(xa, xb));\n    const x2_ = Math.round(Math.max(xa, xb));\n    let j = rowSize * y + x1_ * 4;\n    for (let x = x1_; x <= x2_; x++) {\n      k = (xa - x) / (xa - xb);\n      if (k < 0) {\n        k = 0;\n      } else if (k > 1) {\n        k = 1;\n      }\n      bytes[j++] = car - (car - cbr) * k | 0;\n      bytes[j++] = cag - (cag - cbg) * k | 0;\n      bytes[j++] = cab - (cab - cbb) * k | 0;\n      bytes[j++] = 255;\n    }\n  }\n}\nfunction drawFigure(data, figure, context) {\n  const ps = figure.coords;\n  const cs = figure.colors;\n  let i, ii;\n  switch (figure.type) {\n    case \"lattice\":\n      const verticesPerRow = figure.verticesPerRow;\n      const rows = Math.floor(ps.length / verticesPerRow) - 1;\n      const cols = verticesPerRow - 1;\n      for (i = 0; i < rows; i++) {\n        let q = i * verticesPerRow;\n        for (let j = 0; j < cols; j++, q++) {\n          drawTriangle(data, context, ps[q], ps[q + 1], ps[q + verticesPerRow], cs[q], cs[q + 1], cs[q + verticesPerRow]);\n          drawTriangle(data, context, ps[q + verticesPerRow + 1], ps[q + 1], ps[q + verticesPerRow], cs[q + verticesPerRow + 1], cs[q + 1], cs[q + verticesPerRow]);\n        }\n      }\n      break;\n    case \"triangles\":\n      for (i = 0, ii = ps.length; i < ii; i += 3) {\n        drawTriangle(data, context, ps[i], ps[i + 1], ps[i + 2], cs[i], cs[i + 1], cs[i + 2]);\n      }\n      break;\n    default:\n      throw new Error(\"illegal figure\");\n  }\n}\nclass MeshShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._coords = IR[2];\n    this._colors = IR[3];\n    this._figures = IR[4];\n    this._bounds = IR[5];\n    this._bbox = IR[6];\n    this._background = IR[7];\n    this.matrix = null;\n  }\n  _createMeshCanvas(combinedScale, backgroundColor, cachedCanvases) {\n    const EXPECTED_SCALE = 1.1;\n    const MAX_PATTERN_SIZE = 3000;\n    const BORDER_SIZE = 2;\n    const offsetX = Math.floor(this._bounds[0]);\n    const offsetY = Math.floor(this._bounds[1]);\n    const boundsWidth = Math.ceil(this._bounds[2]) - offsetX;\n    const boundsHeight = Math.ceil(this._bounds[3]) - offsetY;\n    const width = Math.min(Math.ceil(Math.abs(boundsWidth * combinedScale[0] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const height = Math.min(Math.ceil(Math.abs(boundsHeight * combinedScale[1] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const scaleX = boundsWidth / width;\n    const scaleY = boundsHeight / height;\n    const context = {\n      coords: this._coords,\n      colors: this._colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY\n    };\n    const paddedWidth = width + BORDER_SIZE * 2;\n    const paddedHeight = height + BORDER_SIZE * 2;\n    const tmpCanvas = cachedCanvases.getCanvas(\"mesh\", paddedWidth, paddedHeight);\n    const tmpCtx = tmpCanvas.context;\n    const data = tmpCtx.createImageData(width, height);\n    if (backgroundColor) {\n      const bytes = data.data;\n      for (let i = 0, ii = bytes.length; i < ii; i += 4) {\n        bytes[i] = backgroundColor[0];\n        bytes[i + 1] = backgroundColor[1];\n        bytes[i + 2] = backgroundColor[2];\n        bytes[i + 3] = 255;\n      }\n    }\n    for (const figure of this._figures) {\n      drawFigure(data, figure, context);\n    }\n    tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n    const canvas = tmpCanvas.canvas;\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY\n    };\n  }\n  isModifyingCurrentTransform() {\n    return true;\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    applyBoundingBox(ctx, this._bbox);\n    const scale = new Float32Array(2);\n    if (pathType === PathType.SHADING) {\n      Util.singularValueDecompose2dScale(getCurrentTransform(ctx), scale);\n    } else if (this.matrix) {\n      Util.singularValueDecompose2dScale(this.matrix, scale);\n      const [matrixScaleX, matrixScaleY] = scale;\n      Util.singularValueDecompose2dScale(owner.baseTransform, scale);\n      scale[0] *= matrixScaleX;\n      scale[1] *= matrixScaleY;\n    } else {\n      Util.singularValueDecompose2dScale(owner.baseTransform, scale);\n    }\n    const temporaryPatternCanvas = this._createMeshCanvas(scale, pathType === PathType.SHADING ? null : this._background, owner.cachedCanvases);\n    if (pathType !== PathType.SHADING) {\n      ctx.setTransform(...owner.baseTransform);\n      if (this.matrix) {\n        ctx.transform(...this.matrix);\n      }\n    }\n    ctx.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n    ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n    return ctx.createPattern(temporaryPatternCanvas.canvas, \"no-repeat\");\n  }\n}\nclass DummyShadingPattern extends BaseShadingPattern {\n  getPattern() {\n    return \"hotpink\";\n  }\n}\nfunction getShadingPattern(IR) {\n  switch (IR[0]) {\n    case \"RadialAxial\":\n      return new RadialAxialShadingPattern(IR);\n    case \"Mesh\":\n      return new MeshShadingPattern(IR);\n    case \"Dummy\":\n      return new DummyShadingPattern();\n  }\n  throw new Error(`Unknown IR type: ${IR[0]}`);\n}\nconst PaintType = {\n  COLORED: 1,\n  UNCOLORED: 2\n};\nclass TilingPattern {\n  static MAX_PATTERN_SIZE = 3000;\n  constructor(IR, ctx, canvasGraphicsFactory, baseTransform) {\n    this.color = IR[1];\n    this.operatorList = IR[2];\n    this.matrix = IR[3];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.ctx = ctx;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n  }\n  createPatternCanvas(owner, opIdx) {\n    const {\n      bbox,\n      operatorList,\n      paintType,\n      tilingType,\n      color,\n      canvasGraphicsFactory\n    } = this;\n    let {\n      xstep,\n      ystep\n    } = this;\n    xstep = Math.abs(xstep);\n    ystep = Math.abs(ystep);\n    info(\"TilingType: \" + tilingType);\n    const x0 = bbox[0],\n      y0 = bbox[1],\n      x1 = bbox[2],\n      y1 = bbox[3];\n    const width = x1 - x0;\n    const height = y1 - y0;\n    const scale = new Float32Array(2);\n    Util.singularValueDecompose2dScale(this.matrix, scale);\n    const [matrixScaleX, matrixScaleY] = scale;\n    Util.singularValueDecompose2dScale(this.baseTransform, scale);\n    const combinedScaleX = matrixScaleX * scale[0];\n    const combinedScaleY = matrixScaleY * scale[1];\n    let canvasWidth = width,\n      canvasHeight = height,\n      redrawHorizontally = false,\n      redrawVertically = false;\n    const xScaledStep = Math.ceil(xstep * combinedScaleX);\n    const yScaledStep = Math.ceil(ystep * combinedScaleY);\n    const xScaledWidth = Math.ceil(width * combinedScaleX);\n    const yScaledHeight = Math.ceil(height * combinedScaleY);\n    if (xScaledStep >= xScaledWidth) {\n      canvasWidth = xstep;\n    } else {\n      redrawHorizontally = true;\n    }\n    if (yScaledStep >= yScaledHeight) {\n      canvasHeight = ystep;\n    } else {\n      redrawVertically = true;\n    }\n    const dimx = this.getSizeAndScale(canvasWidth, this.ctx.canvas.width, combinedScaleX);\n    const dimy = this.getSizeAndScale(canvasHeight, this.ctx.canvas.height, combinedScaleY);\n    const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", dimx.size, dimy.size);\n    const tmpCtx = tmpCanvas.context;\n    const graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx, opIdx);\n    graphics.groupLevel = owner.groupLevel;\n    this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n    tmpCtx.translate(-dimx.scale * x0, -dimy.scale * y0);\n    graphics.transform(0, dimx.scale, 0, 0, dimy.scale, 0, 0);\n    tmpCtx.save();\n    graphics.dependencyTracker?.save();\n    this.clipBbox(graphics, x0, y0, x1, y1);\n    graphics.baseTransform = getCurrentTransform(graphics.ctx);\n    graphics.executeOperatorList(operatorList);\n    graphics.endDrawing();\n    graphics.dependencyTracker?.restore();\n    tmpCtx.restore();\n    if (redrawHorizontally || redrawVertically) {\n      const image = tmpCanvas.canvas;\n      if (redrawHorizontally) {\n        canvasWidth = xstep;\n      }\n      if (redrawVertically) {\n        canvasHeight = ystep;\n      }\n      const dimx2 = this.getSizeAndScale(canvasWidth, this.ctx.canvas.width, combinedScaleX);\n      const dimy2 = this.getSizeAndScale(canvasHeight, this.ctx.canvas.height, combinedScaleY);\n      const xSize = dimx2.size;\n      const ySize = dimy2.size;\n      const tmpCanvas2 = owner.cachedCanvases.getCanvas(\"pattern-workaround\", xSize, ySize);\n      const tmpCtx2 = tmpCanvas2.context;\n      const ii = redrawHorizontally ? Math.floor(width / xstep) : 0;\n      const jj = redrawVertically ? Math.floor(height / ystep) : 0;\n      for (let i = 0; i <= ii; i++) {\n        for (let j = 0; j <= jj; j++) {\n          tmpCtx2.drawImage(image, xSize * i, ySize * j, xSize, ySize, 0, 0, xSize, ySize);\n        }\n      }\n      return {\n        canvas: tmpCanvas2.canvas,\n        scaleX: dimx2.scale,\n        scaleY: dimy2.scale,\n        offsetX: x0,\n        offsetY: y0\n      };\n    }\n    return {\n      canvas: tmpCanvas.canvas,\n      scaleX: dimx.scale,\n      scaleY: dimy.scale,\n      offsetX: x0,\n      offsetY: y0\n    };\n  }\n  getSizeAndScale(step, realOutputSize, scale) {\n    const maxSize = Math.max(TilingPattern.MAX_PATTERN_SIZE, realOutputSize);\n    let size = Math.ceil(step * scale);\n    if (size >= maxSize) {\n      size = maxSize;\n    } else {\n      scale = size / step;\n    }\n    return {\n      scale,\n      size\n    };\n  }\n  clipBbox(graphics, x0, y0, x1, y1) {\n    const bboxWidth = x1 - x0;\n    const bboxHeight = y1 - y0;\n    graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n    Util.axialAlignedBoundingBox([x0, y0, x1, y1], getCurrentTransform(graphics.ctx), graphics.current.minMax);\n    graphics.clip();\n    graphics.endPath();\n  }\n  setFillAndStrokeStyleToContext(graphics, paintType, color) {\n    const context = graphics.ctx,\n      current = graphics.current;\n    switch (paintType) {\n      case PaintType.COLORED:\n        const {\n          fillStyle,\n          strokeStyle\n        } = this.ctx;\n        context.fillStyle = current.fillColor = fillStyle;\n        context.strokeStyle = current.strokeColor = strokeStyle;\n        break;\n      case PaintType.UNCOLORED:\n        context.fillStyle = context.strokeStyle = color;\n        current.fillColor = current.strokeColor = color;\n        break;\n      default:\n        throw new FormatError(`Unsupported paint type: ${paintType}`);\n    }\n  }\n  isModifyingCurrentTransform() {\n    return false;\n  }\n  getPattern(ctx, owner, inverse, pathType, opIdx) {\n    let matrix = inverse;\n    if (pathType !== PathType.SHADING) {\n      matrix = Util.transform(matrix, owner.baseTransform);\n      if (this.matrix) {\n        matrix = Util.transform(matrix, this.matrix);\n      }\n    }\n    const temporaryPatternCanvas = this.createPatternCanvas(owner, opIdx);\n    let domMatrix = new DOMMatrix(matrix);\n    domMatrix = domMatrix.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n    domMatrix = domMatrix.scale(1 / temporaryPatternCanvas.scaleX, 1 / temporaryPatternCanvas.scaleY);\n    const pattern = ctx.createPattern(temporaryPatternCanvas.canvas, \"repeat\");\n    pattern.setTransform(domMatrix);\n    return pattern;\n  }\n}\n\n;// ./src/shared/image_utils.js\n\n\n\n\n\nfunction convertToRGBA(params) {\n  switch (params.kind) {\n    case ImageKind.GRAYSCALE_1BPP:\n      return convertBlackAndWhiteToRGBA(params);\n    case ImageKind.RGB_24BPP:\n      return convertRGBToRGBA(params);\n  }\n  return null;\n}\nfunction convertBlackAndWhiteToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  width,\n  height,\n  nonBlackColor = 0xffffffff,\n  inverseDecode = false\n}) {\n  const black = util_FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n  const [zeroMapping, oneMapping] = inverseDecode ? [nonBlackColor, black] : [black, nonBlackColor];\n  const widthInSource = width >> 3;\n  const widthRemainder = width & 7;\n  const srcLength = src.length;\n  dest = new Uint32Array(dest.buffer);\n  let destPos = 0;\n  for (let i = 0; i < height; i++) {\n    for (const max = srcPos + widthInSource; srcPos < max; srcPos++) {\n      const elem = srcPos < srcLength ? src[srcPos] : 255;\n      dest[destPos++] = elem & 0b10000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1 ? oneMapping : zeroMapping;\n    }\n    if (widthRemainder === 0) {\n      continue;\n    }\n    const elem = srcPos < srcLength ? src[srcPos++] : 255;\n    for (let j = 0; j < widthRemainder; j++) {\n      dest[destPos++] = elem & 1 << 7 - j ? oneMapping : zeroMapping;\n    }\n  }\n  return {\n    srcPos,\n    destPos\n  };\n}\nfunction convertRGBToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  destPos = 0,\n  width,\n  height\n}) {\n  let i = 0;\n  const len = width * height * 3;\n  const len32 = len >> 2;\n  const src32 = new Uint32Array(src.buffer, srcPos, len32);\n  if (FeatureTest.isLittleEndian) {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i];\n      const s2 = src32[i + 1];\n      const s3 = src32[i + 2];\n      dest[destPos] = s1 | 0xff000000;\n      dest[destPos + 1] = s1 >>> 24 | s2 << 8 | 0xff000000;\n      dest[destPos + 2] = s2 >>> 16 | s3 << 16 | 0xff000000;\n      dest[destPos + 3] = s3 >>> 8 | 0xff000000;\n    }\n    for (let j = i * 4, jj = srcPos + len; j < jj; j += 3) {\n      dest[destPos++] = src[j] | src[j + 1] << 8 | src[j + 2] << 16 | 0xff000000;\n    }\n  } else {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i];\n      const s2 = src32[i + 1];\n      const s3 = src32[i + 2];\n      dest[destPos] = s1 | 0xff;\n      dest[destPos + 1] = s1 << 24 | s2 >>> 8 | 0xff;\n      dest[destPos + 2] = s2 << 16 | s3 >>> 16 | 0xff;\n      dest[destPos + 3] = s3 << 8 | 0xff;\n    }\n    for (let j = i * 4, jj = srcPos + len; j < jj; j += 3) {\n      dest[destPos++] = src[j] << 24 | src[j + 1] << 16 | src[j + 2] << 8 | 0xff;\n    }\n  }\n  return {\n    srcPos: srcPos + len,\n    destPos\n  };\n}\nfunction grayToRGBA(src, dest) {\n  if (FeatureTest.isLittleEndian) {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = src[i] * 0x10101 | 0xff000000;\n    }\n  } else {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = src[i] * 0x1010100 | 0x000000ff;\n    }\n  }\n}\n\n;// ./src/display/canvas.js\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst MIN_FONT_SIZE = 16;\nconst MAX_FONT_SIZE = 100;\nconst EXECUTION_TIME = 15;\nconst EXECUTION_STEPS = 10;\nconst FULL_CHUNK_HEIGHT = 16;\nconst SCALE_MATRIX = new DOMMatrix();\nconst XY = new Float32Array(2);\nconst MIN_MAX_INIT = new Float32Array([Infinity, Infinity, -Infinity, -Infinity]);\nfunction mirrorContextOperations(ctx, destCtx) {\n  if (ctx._removeMirroring) {\n    throw new Error(\"Context is already forwarding operations.\");\n  }\n  ctx.__originalSave = ctx.save;\n  ctx.__originalRestore = ctx.restore;\n  ctx.__originalRotate = ctx.rotate;\n  ctx.__originalScale = ctx.scale;\n  ctx.__originalTranslate = ctx.translate;\n  ctx.__originalTransform = ctx.transform;\n  ctx.__originalSetTransform = ctx.setTransform;\n  ctx.__originalResetTransform = ctx.resetTransform;\n  ctx.__originalClip = ctx.clip;\n  ctx.__originalMoveTo = ctx.moveTo;\n  ctx.__originalLineTo = ctx.lineTo;\n  ctx.__originalBezierCurveTo = ctx.bezierCurveTo;\n  ctx.__originalRect = ctx.rect;\n  ctx.__originalClosePath = ctx.closePath;\n  ctx.__originalBeginPath = ctx.beginPath;\n  ctx._removeMirroring = () => {\n    ctx.save = ctx.__originalSave;\n    ctx.restore = ctx.__originalRestore;\n    ctx.rotate = ctx.__originalRotate;\n    ctx.scale = ctx.__originalScale;\n    ctx.translate = ctx.__originalTranslate;\n    ctx.transform = ctx.__originalTransform;\n    ctx.setTransform = ctx.__originalSetTransform;\n    ctx.resetTransform = ctx.__originalResetTransform;\n    ctx.clip = ctx.__originalClip;\n    ctx.moveTo = ctx.__originalMoveTo;\n    ctx.lineTo = ctx.__originalLineTo;\n    ctx.bezierCurveTo = ctx.__originalBezierCurveTo;\n    ctx.rect = ctx.__originalRect;\n    ctx.closePath = ctx.__originalClosePath;\n    ctx.beginPath = ctx.__originalBeginPath;\n    delete ctx._removeMirroring;\n  };\n  ctx.save = function () {\n    destCtx.save();\n    this.__originalSave();\n  };\n  ctx.restore = function () {\n    destCtx.restore();\n    this.__originalRestore();\n  };\n  ctx.translate = function (x, y) {\n    destCtx.translate(x, y);\n    this.__originalTranslate(x, y);\n  };\n  ctx.scale = function (x, y) {\n    destCtx.scale(x, y);\n    this.__originalScale(x, y);\n  };\n  ctx.transform = function (a, b, c, d, e, f) {\n    destCtx.transform(a, b, c, d, e, f);\n    this.__originalTransform(a, b, c, d, e, f);\n  };\n  ctx.setTransform = function (a, b, c, d, e, f) {\n    destCtx.setTransform(a, b, c, d, e, f);\n    this.__originalSetTransform(a, b, c, d, e, f);\n  };\n  ctx.resetTransform = function () {\n    destCtx.resetTransform();\n    this.__originalResetTransform();\n  };\n  ctx.rotate = function (angle) {\n    destCtx.rotate(angle);\n    this.__originalRotate(angle);\n  };\n  ctx.clip = function (rule) {\n    destCtx.clip(rule);\n    this.__originalClip(rule);\n  };\n  ctx.moveTo = function (x, y) {\n    destCtx.moveTo(x, y);\n    this.__originalMoveTo(x, y);\n  };\n  ctx.lineTo = function (x, y) {\n    destCtx.lineTo(x, y);\n    this.__originalLineTo(x, y);\n  };\n  ctx.bezierCurveTo = function (cp1x, cp1y, cp2x, cp2y, x, y) {\n    destCtx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n    this.__originalBezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n  };\n  ctx.rect = function (x, y, width, height) {\n    destCtx.rect(x, y, width, height);\n    this.__originalRect(x, y, width, height);\n  };\n  ctx.closePath = function () {\n    destCtx.closePath();\n    this.__originalClosePath();\n  };\n  ctx.beginPath = function () {\n    destCtx.beginPath();\n    this.__originalBeginPath();\n  };\n}\nclass CachedCanvases {\n  constructor(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n  getCanvas(id, width, height) {\n    let canvasEntry;\n    if (this.cache[id] !== undefined) {\n      canvasEntry = this.cache[id];\n      this.canvasFactory.reset(canvasEntry, width, height);\n    } else {\n      canvasEntry = this.canvasFactory.create(width, height);\n      this.cache[id] = canvasEntry;\n    }\n    return canvasEntry;\n  }\n  delete(id) {\n    delete this.cache[id];\n  }\n  clear() {\n    for (const id in this.cache) {\n      const canvasEntry = this.cache[id];\n      this.canvasFactory.destroy(canvasEntry);\n      delete this.cache[id];\n    }\n  }\n}\nfunction drawImageAtIntegerCoords(ctx, srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH) {\n  const [a, b, c, d, tx, ty] = getCurrentTransform(ctx);\n  if (b === 0 && c === 0) {\n    const tlX = destX * a + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destY * d + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destX + destW) * a + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destY + destH) * d + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n    ctx.setTransform(Math.sign(a), 0, 0, Math.sign(d), rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rWidth, rHeight);\n    ctx.setTransform(a, b, c, d, tx, ty);\n    return [rWidth, rHeight];\n  }\n  if (a === 0 && d === 0) {\n    const tlX = destY * c + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destX * b + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destY + destH) * c + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destX + destW) * b + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n    ctx.setTransform(0, Math.sign(b), Math.sign(c), 0, rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rHeight, rWidth);\n    ctx.setTransform(a, b, c, d, tx, ty);\n    return [rHeight, rWidth];\n  }\n  ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH);\n  const scaleX = Math.hypot(a, b);\n  const scaleY = Math.hypot(c, d);\n  return [scaleX * destW, scaleY * destH];\n}\nclass CanvasExtraState {\n  alphaIsShape = false;\n  fontSize = 0;\n  fontSizeScale = 1;\n  textMatrix = null;\n  textMatrixScale = 1;\n  fontMatrix = FONT_IDENTITY_MATRIX;\n  leading = 0;\n  x = 0;\n  y = 0;\n  lineX = 0;\n  lineY = 0;\n  charSpacing = 0;\n  wordSpacing = 0;\n  textHScale = 1;\n  textRenderingMode = TextRenderingMode.FILL;\n  textRise = 0;\n  fillColor = \"#000000\";\n  strokeColor = \"#000000\";\n  patternFill = false;\n  patternStroke = false;\n  fillAlpha = 1;\n  strokeAlpha = 1;\n  lineWidth = 1;\n  activeSMask = null;\n  transferMaps = \"none\";\n  constructor(width, height, preInit) {\n    preInit?.(this);\n    this.clipBox = new Float32Array([0, 0, width, height]);\n    this.minMax = MIN_MAX_INIT.slice();\n  }\n  clone() {\n    const clone = Object.create(this);\n    clone.clipBox = this.clipBox.slice();\n    clone.minMax = this.minMax.slice();\n    return clone;\n  }\n  getPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    const box = this.minMax.slice();\n    if (pathType === PathType.STROKE) {\n      if (!transform) {\n        unreachable(\"Stroke bounding box must include transform.\");\n      }\n      Util.singularValueDecompose2dScale(transform, XY);\n      const xStrokePad = XY[0] * this.lineWidth / 2;\n      const yStrokePad = XY[1] * this.lineWidth / 2;\n      box[0] -= xStrokePad;\n      box[1] -= yStrokePad;\n      box[2] += xStrokePad;\n      box[3] += yStrokePad;\n    }\n    return box;\n  }\n  updateClipFromPath() {\n    const intersect = Util.intersect(this.clipBox, this.getPathBoundingBox());\n    this.startNewPathAndClipBox(intersect || [0, 0, 0, 0]);\n  }\n  isEmptyClip() {\n    return this.minMax[0] === Infinity;\n  }\n  startNewPathAndClipBox(box) {\n    this.clipBox.set(box, 0);\n    this.minMax.set(MIN_MAX_INIT, 0);\n  }\n  getClippedPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    return Util.intersect(this.clipBox, this.getPathBoundingBox(pathType, transform));\n  }\n}\nfunction putBinaryImageData(ctx, imgData) {\n  if (imgData instanceof ImageData) {\n    ctx.putImageData(imgData, 0, 0);\n    return;\n  }\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0,\n    destPos;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  let i, j, thisChunkHeight, elemsInThisChunk;\n  if (imgData.kind === util_ImageKind.GRAYSCALE_1BPP) {\n    const srcLength = src.byteLength;\n    const dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n    const dest32DataLength = dest32.length;\n    const fullSrcDiff = width + 7 >> 3;\n    const white = 0xffffffff;\n    const black = util_FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n    for (i = 0; i < totalChunks; i++) {\n      thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n      destPos = 0;\n      for (j = 0; j < thisChunkHeight; j++) {\n        const srcDiff = srcLength - srcPos;\n        let k = 0;\n        const kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n        const kEndUnrolled = kEnd & ~7;\n        let mask = 0;\n        let srcByte = 0;\n        for (; k < kEndUnrolled; k += 8) {\n          srcByte = src[srcPos++];\n          dest32[destPos++] = srcByte & 128 ? white : black;\n          dest32[destPos++] = srcByte & 64 ? white : black;\n          dest32[destPos++] = srcByte & 32 ? white : black;\n          dest32[destPos++] = srcByte & 16 ? white : black;\n          dest32[destPos++] = srcByte & 8 ? white : black;\n          dest32[destPos++] = srcByte & 4 ? white : black;\n          dest32[destPos++] = srcByte & 2 ? white : black;\n          dest32[destPos++] = srcByte & 1 ? white : black;\n        }\n        for (; k < kEnd; k++) {\n          if (mask === 0) {\n            srcByte = src[srcPos++];\n            mask = 128;\n          }\n          dest32[destPos++] = srcByte & mask ? white : black;\n          mask >>= 1;\n        }\n      }\n      while (destPos < dest32DataLength) {\n        dest32[destPos++] = 0;\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else if (imgData.kind === util_ImageKind.RGBA_32BPP) {\n    j = 0;\n    elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n    for (i = 0; i < fullChunks; i++) {\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      srcPos += elemsInThisChunk;\n      ctx.putImageData(chunkImgData, 0, j);\n      j += FULL_CHUNK_HEIGHT;\n    }\n    if (i < totalChunks) {\n      elemsInThisChunk = width * partialChunkHeight * 4;\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      ctx.putImageData(chunkImgData, 0, j);\n    }\n  } else if (imgData.kind === util_ImageKind.RGB_24BPP) {\n    thisChunkHeight = FULL_CHUNK_HEIGHT;\n    elemsInThisChunk = width * thisChunkHeight;\n    for (i = 0; i < totalChunks; i++) {\n      if (i >= fullChunks) {\n        thisChunkHeight = partialChunkHeight;\n        elemsInThisChunk = width * thisChunkHeight;\n      }\n      destPos = 0;\n      for (j = elemsInThisChunk; j--;) {\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = 255;\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else {\n    throw new Error(`bad image kind: ${imgData.kind}`);\n  }\n}\nfunction putBinaryImageMask(ctx, imgData) {\n  if (imgData.bitmap) {\n    ctx.drawImage(imgData.bitmap, 0, 0);\n    return;\n  }\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  for (let i = 0; i < totalChunks; i++) {\n    const thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n    ({\n      srcPos\n    } = convertBlackAndWhiteToRGBA({\n      src,\n      srcPos,\n      dest,\n      width,\n      height: thisChunkHeight,\n      nonBlackColor: 0\n    }));\n    ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n  }\n}\nfunction copyCtxState(sourceCtx, destCtx) {\n  const properties = [\"strokeStyle\", \"fillStyle\", \"fillRule\", \"globalAlpha\", \"lineWidth\", \"lineCap\", \"lineJoin\", \"miterLimit\", \"globalCompositeOperation\", \"font\", \"filter\"];\n  for (const property of properties) {\n    if (sourceCtx[property] !== undefined) {\n      destCtx[property] = sourceCtx[property];\n    }\n  }\n  if (sourceCtx.setLineDash !== undefined) {\n    destCtx.setLineDash(sourceCtx.getLineDash());\n    destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n  }\n}\nfunction resetCtxToDefault(ctx) {\n  ctx.strokeStyle = ctx.fillStyle = \"#000000\";\n  ctx.fillRule = \"nonzero\";\n  ctx.globalAlpha = 1;\n  ctx.lineWidth = 1;\n  ctx.lineCap = \"butt\";\n  ctx.lineJoin = \"miter\";\n  ctx.miterLimit = 10;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.font = \"10px sans-serif\";\n  if (ctx.setLineDash !== undefined) {\n    ctx.setLineDash([]);\n    ctx.lineDashOffset = 0;\n  }\n  const {\n    filter\n  } = ctx;\n  if (filter !== \"none\" && filter !== \"\") {\n    ctx.filter = \"none\";\n  }\n}\nfunction getImageSmoothingEnabled(transform, interpolate) {\n  if (interpolate) {\n    return true;\n  }\n  Util.singularValueDecompose2dScale(transform, XY);\n  const actualScale = Math.fround(OutputScale.pixelRatio * PixelsPerInch.PDF_TO_CSS_UNITS);\n  return XY[0] <= actualScale && XY[1] <= actualScale;\n}\nconst LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\nconst LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\nconst NORMAL_CLIP = {};\nconst EO_CLIP = {};\nclass CanvasGraphics {\n  constructor(canvasCtx, commonObjs, objs, canvasFactory, filterFactory, {\n    optionalContentConfig,\n    markedContentStack = null\n  }, annotationCanvasMap, pageColors, dependencyTracker) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState(this.ctx.canvas.width, this.ctx.canvas.height);\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this.groupStack = [];\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.suspendedCtx = null;\n    this.contentVisible = true;\n    this.markedContentStack = markedContentStack || [];\n    this.optionalContentConfig = optionalContentConfig;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n    this.cachedPatterns = new Map();\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.viewportScale = 1;\n    this.outputScaleX = 1;\n    this.outputScaleY = 1;\n    this.pageColors = pageColors;\n    this._cachedScaleForStroking = [-1, 0];\n    this._cachedGetSinglePixelWidth = null;\n    this._cachedBitmapsMap = new Map();\n    this.dependencyTracker = dependencyTracker ?? null;\n  }\n  getObject(opIdx, data, fallback = null) {\n    if (typeof data === \"string\") {\n      this.dependencyTracker?.recordNamedDependency(opIdx, data);\n      return data.startsWith(\"g_\") ? this.commonObjs.get(data) : this.objs.get(data);\n    }\n    return fallback;\n  }\n  beginDrawing({\n    transform,\n    viewport,\n    transparency = false,\n    background = null\n  }) {\n    const width = this.ctx.canvas.width;\n    const height = this.ctx.canvas.height;\n    const savedFillStyle = this.ctx.fillStyle;\n    this.ctx.fillStyle = background || \"#ffffff\";\n    this.ctx.fillRect(0, 0, width, height);\n    this.ctx.fillStyle = savedFillStyle;\n    if (transparency) {\n      const transparentCanvas = this.cachedCanvases.getCanvas(\"transparent\", width, height);\n      this.compositeCtx = this.ctx;\n      this.transparentCanvas = transparentCanvas.canvas;\n      this.ctx = transparentCanvas.context;\n      this.ctx.save();\n      this.ctx.transform(...getCurrentTransform(this.compositeCtx));\n    }\n    this.ctx.save();\n    resetCtxToDefault(this.ctx);\n    if (transform) {\n      this.ctx.transform(...transform);\n      this.outputScaleX = transform[0];\n      this.outputScaleY = transform[0];\n    }\n    this.ctx.transform(...viewport.transform);\n    this.viewportScale = viewport.scale;\n    this.baseTransform = getCurrentTransform(this.ctx);\n  }\n  executeOperatorList(operatorList, executionStartIdx, continueCallback, stepper, operationsFilter) {\n    const argsArray = operatorList.argsArray;\n    const fnArray = operatorList.fnArray;\n    let i = executionStartIdx || 0;\n    const argsArrayLen = argsArray.length;\n    if (argsArrayLen === i) {\n      return i;\n    }\n    const chunkOperations = argsArrayLen - i > EXECUTION_STEPS && typeof continueCallback === \"function\";\n    const endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n    let steps = 0;\n    const commonObjs = this.commonObjs;\n    const objs = this.objs;\n    let fnId, fnArgs;\n    while (true) {\n      if (stepper !== undefined && i === stepper.nextBreakPoint) {\n        stepper.breakIt(i, continueCallback);\n        return i;\n      }\n      if (!operationsFilter || operationsFilter(i)) {\n        fnId = fnArray[i];\n        fnArgs = argsArray[i] ?? null;\n        if (fnId !== OPS.dependency) {\n          if (fnArgs === null) {\n            this[fnId](i);\n          } else {\n            this[fnId](i, ...fnArgs);\n          }\n        } else {\n          for (const depObjId of fnArgs) {\n            this.dependencyTracker?.recordNamedData(depObjId, i);\n            const objsPool = depObjId.startsWith(\"g_\") ? commonObjs : objs;\n            if (!objsPool.has(depObjId)) {\n              objsPool.get(depObjId, continueCallback);\n              return i;\n            }\n          }\n        }\n      }\n      i++;\n      if (i === argsArrayLen) {\n        return i;\n      }\n      if (chunkOperations && ++steps > EXECUTION_STEPS) {\n        if (Date.now() > endTime) {\n          continueCallback();\n          return i;\n        }\n        steps = 0;\n      }\n    }\n  }\n  #restoreInitialState() {\n    while (this.stateStack.length || this.inSMaskMode) {\n      this.restore();\n    }\n    this.current.activeSMask = null;\n    this.ctx.restore();\n    if (this.transparentCanvas) {\n      this.ctx = this.compositeCtx;\n      this.ctx.save();\n      this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n      this.ctx.drawImage(this.transparentCanvas, 0, 0);\n      this.ctx.restore();\n      this.transparentCanvas = null;\n    }\n  }\n  endDrawing() {\n    this.#restoreInitialState();\n    this.cachedCanvases.clear();\n    this.cachedPatterns.clear();\n    for (const cache of this._cachedBitmapsMap.values()) {\n      for (const canvas of cache.values()) {\n        if (typeof HTMLCanvasElement !== \"undefined\" && canvas instanceof HTMLCanvasElement) {\n          canvas.width = canvas.height = 0;\n        }\n      }\n      cache.clear();\n    }\n    this._cachedBitmapsMap.clear();\n    this.#drawFilter();\n  }\n  #drawFilter() {\n    if (this.pageColors) {\n      const hcmFilterId = this.filterFactory.addHCMFilter(this.pageColors.foreground, this.pageColors.background);\n      if (hcmFilterId !== \"none\") {\n        const savedFilter = this.ctx.filter;\n        this.ctx.filter = hcmFilterId;\n        this.ctx.drawImage(this.ctx.canvas, 0, 0);\n        this.ctx.filter = savedFilter;\n      }\n    }\n  }\n  _scaleImage(img, inverseTransform) {\n    const width = img.width ?? img.displayWidth;\n    const height = img.height ?? img.displayHeight;\n    let widthScale = Math.max(Math.hypot(inverseTransform[0], inverseTransform[1]), 1);\n    let heightScale = Math.max(Math.hypot(inverseTransform[2], inverseTransform[3]), 1);\n    let paintWidth = width,\n      paintHeight = height;\n    let tmpCanvasId = \"prescale1\";\n    let tmpCanvas, tmpCtx;\n    while (widthScale > 2 && paintWidth > 1 || heightScale > 2 && paintHeight > 1) {\n      let newWidth = paintWidth,\n        newHeight = paintHeight;\n      if (widthScale > 2 && paintWidth > 1) {\n        newWidth = paintWidth >= 16384 ? Math.floor(paintWidth / 2) - 1 || 1 : Math.ceil(paintWidth / 2);\n        widthScale /= paintWidth / newWidth;\n      }\n      if (heightScale > 2 && paintHeight > 1) {\n        newHeight = paintHeight >= 16384 ? Math.floor(paintHeight / 2) - 1 || 1 : Math.ceil(paintHeight) / 2;\n        heightScale /= paintHeight / newHeight;\n      }\n      tmpCanvas = this.cachedCanvases.getCanvas(tmpCanvasId, newWidth, newHeight);\n      tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, newWidth, newHeight);\n      tmpCtx.drawImage(img, 0, 0, paintWidth, paintHeight, 0, 0, newWidth, newHeight);\n      img = tmpCanvas.canvas;\n      paintWidth = newWidth;\n      paintHeight = newHeight;\n      tmpCanvasId = tmpCanvasId === \"prescale1\" ? \"prescale2\" : \"prescale1\";\n    }\n    return {\n      img,\n      paintWidth,\n      paintHeight\n    };\n  }\n  _createMaskCanvas(opIdx, img) {\n    const ctx = this.ctx;\n    const {\n      width,\n      height\n    } = img;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    const currentTransform = getCurrentTransform(ctx);\n    let cache, cacheKey, scaled, maskCanvas;\n    if ((img.bitmap || img.data) && img.count > 1) {\n      const mainKey = img.bitmap || img.data.buffer;\n      cacheKey = JSON.stringify(isPatternFill ? currentTransform : [currentTransform.slice(0, 4), fillColor]);\n      cache = this._cachedBitmapsMap.get(mainKey);\n      if (!cache) {\n        cache = new Map();\n        this._cachedBitmapsMap.set(mainKey, cache);\n      }\n      const cachedImage = cache.get(cacheKey);\n      if (cachedImage && !isPatternFill) {\n        const offsetX = Math.round(Math.min(currentTransform[0], currentTransform[2]) + currentTransform[4]);\n        const offsetY = Math.round(Math.min(currentTransform[1], currentTransform[3]) + currentTransform[5]);\n        this.dependencyTracker?.recordDependencies(opIdx, Dependencies.transformAndFill);\n        return {\n          canvas: cachedImage,\n          offsetX,\n          offsetY\n        };\n      }\n      scaled = cachedImage;\n    }\n    if (!scaled) {\n      maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      putBinaryImageMask(maskCanvas.context, img);\n    }\n    let maskToCanvas = Util.transform(currentTransform, [1 / width, 0, 0, -1 / height, 0, 0]);\n    maskToCanvas = Util.transform(maskToCanvas, [1, 0, 0, 1, 0, -height]);\n    const minMax = MIN_MAX_INIT.slice();\n    Util.axialAlignedBoundingBox([0, 0, width, height], maskToCanvas, minMax);\n    const [minX, minY, maxX, maxY] = minMax;\n    const drawnWidth = Math.round(maxX - minX) || 1;\n    const drawnHeight = Math.round(maxY - minY) || 1;\n    const fillCanvas = this.cachedCanvases.getCanvas(\"fillCanvas\", drawnWidth, drawnHeight);\n    const fillCtx = fillCanvas.context;\n    const offsetX = minX;\n    const offsetY = minY;\n    fillCtx.translate(-offsetX, -offsetY);\n    fillCtx.transform(...maskToCanvas);\n    if (!scaled) {\n      scaled = this._scaleImage(maskCanvas.canvas, getCurrentTransformInverse(fillCtx));\n      scaled = scaled.img;\n      if (cache && isPatternFill) {\n        cache.set(cacheKey, scaled);\n      }\n    }\n    fillCtx.imageSmoothingEnabled = getImageSmoothingEnabled(getCurrentTransform(fillCtx), img.interpolate);\n    drawImageAtIntegerCoords(fillCtx, scaled, 0, 0, scaled.width, scaled.height, 0, 0, width, height);\n    fillCtx.globalCompositeOperation = \"source-in\";\n    const inverse = Util.transform(getCurrentTransformInverse(fillCtx), [1, 0, 0, 1, -offsetX, -offsetY]);\n    fillCtx.fillStyle = isPatternFill ? fillColor.getPattern(ctx, this, inverse, PathType.FILL, opIdx) : fillColor;\n    fillCtx.fillRect(0, 0, width, height);\n    if (cache && !isPatternFill) {\n      this.cachedCanvases.delete(\"fillCanvas\");\n      cache.set(cacheKey, fillCanvas.canvas);\n    }\n    this.dependencyTracker?.recordDependencies(opIdx, Dependencies.transformAndFill);\n    return {\n      canvas: fillCanvas.canvas,\n      offsetX: Math.round(offsetX),\n      offsetY: Math.round(offsetY)\n    };\n  }\n  setLineWidth(opIdx, width) {\n    this.dependencyTracker?.recordSimpleData(\"lineWidth\", opIdx);\n    if (width !== this.current.lineWidth) {\n      this._cachedScaleForStroking[0] = -1;\n    }\n    this.current.lineWidth = width;\n    this.ctx.lineWidth = width;\n  }\n  setLineCap(opIdx, style) {\n    this.dependencyTracker?.recordSimpleData(\"lineCap\", opIdx);\n    this.ctx.lineCap = LINE_CAP_STYLES[style];\n  }\n  setLineJoin(opIdx, style) {\n    this.dependencyTracker?.recordSimpleData(\"lineJoin\", opIdx);\n    this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n  }\n  setMiterLimit(opIdx, limit) {\n    this.dependencyTracker?.recordSimpleData(\"miterLimit\", opIdx);\n    this.ctx.miterLimit = limit;\n  }\n  setDash(opIdx, dashArray, dashPhase) {\n    this.dependencyTracker?.recordSimpleData(\"dash\", opIdx);\n    const ctx = this.ctx;\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash(dashArray);\n      ctx.lineDashOffset = dashPhase;\n    }\n  }\n  setRenderingIntent(opIdx, intent) {}\n  setFlatness(opIdx, flatness) {}\n  setGState(opIdx, states) {\n    for (const [key, value] of states) {\n      switch (key) {\n        case \"LW\":\n          this.setLineWidth(opIdx, value);\n          break;\n        case \"LC\":\n          this.setLineCap(opIdx, value);\n          break;\n        case \"LJ\":\n          this.setLineJoin(opIdx, value);\n          break;\n        case \"ML\":\n          this.setMiterLimit(opIdx, value);\n          break;\n        case \"D\":\n          this.setDash(opIdx, value[0], value[1]);\n          break;\n        case \"RI\":\n          this.setRenderingIntent(opIdx, value);\n          break;\n        case \"FL\":\n          this.setFlatness(opIdx, value);\n          break;\n        case \"Font\":\n          this.setFont(opIdx, value[0], value[1]);\n          break;\n        case \"CA\":\n          this.dependencyTracker?.recordSimpleData(\"strokeAlpha\", opIdx);\n          this.current.strokeAlpha = value;\n          break;\n        case \"ca\":\n          this.dependencyTracker?.recordSimpleData(\"fillAlpha\", opIdx);\n          this.ctx.globalAlpha = this.current.fillAlpha = value;\n          break;\n        case \"BM\":\n          this.dependencyTracker?.recordSimpleData(\"globalCompositeOperation\", opIdx);\n          this.ctx.globalCompositeOperation = value;\n          break;\n        case \"SMask\":\n          this.dependencyTracker?.recordSimpleData(\"SMask\", opIdx);\n          this.current.activeSMask = value ? this.tempSMask : null;\n          this.tempSMask = null;\n          this.checkSMaskState();\n          break;\n        case \"TR\":\n          this.dependencyTracker?.recordSimpleData(\"filter\", opIdx);\n          this.ctx.filter = this.current.transferMaps = this.filterFactory.addFilter(value);\n          break;\n      }\n    }\n  }\n  get inSMaskMode() {\n    return !!this.suspendedCtx;\n  }\n  checkSMaskState() {\n    const inSMaskMode = this.inSMaskMode;\n    if (this.current.activeSMask && !inSMaskMode) {\n      this.beginSMaskMode();\n    } else if (!this.current.activeSMask && inSMaskMode) {\n      this.endSMaskMode();\n    }\n  }\n  beginSMaskMode(opIdx) {\n    if (this.inSMaskMode) {\n      throw new Error(\"beginSMaskMode called while already in smask mode\");\n    }\n    const drawnWidth = this.ctx.canvas.width;\n    const drawnHeight = this.ctx.canvas.height;\n    const cacheId = \"smaskGroupAt\" + this.groupLevel;\n    const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight);\n    this.suspendedCtx = this.ctx;\n    const ctx = this.ctx = scratchCanvas.context;\n    ctx.setTransform(this.suspendedCtx.getTransform());\n    copyCtxState(this.suspendedCtx, ctx);\n    mirrorContextOperations(ctx, this.suspendedCtx);\n    this.setGState(opIdx, [[\"BM\", \"source-over\"]]);\n  }\n  endSMaskMode() {\n    if (!this.inSMaskMode) {\n      throw new Error(\"endSMaskMode called while not in smask mode\");\n    }\n    this.ctx._removeMirroring();\n    copyCtxState(this.ctx, this.suspendedCtx);\n    this.ctx = this.suspendedCtx;\n    this.suspendedCtx = null;\n  }\n  compose(dirtyBox) {\n    if (!this.current.activeSMask) {\n      return;\n    }\n    if (!dirtyBox) {\n      dirtyBox = [0, 0, this.ctx.canvas.width, this.ctx.canvas.height];\n    } else {\n      dirtyBox[0] = Math.floor(dirtyBox[0]);\n      dirtyBox[1] = Math.floor(dirtyBox[1]);\n      dirtyBox[2] = Math.ceil(dirtyBox[2]);\n      dirtyBox[3] = Math.ceil(dirtyBox[3]);\n    }\n    const smask = this.current.activeSMask;\n    const suspendedCtx = this.suspendedCtx;\n    this.composeSMask(suspendedCtx, smask, this.ctx, dirtyBox);\n    this.ctx.save();\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n    this.ctx.restore();\n  }\n  composeSMask(ctx, smask, layerCtx, layerBox) {\n    const layerOffsetX = layerBox[0];\n    const layerOffsetY = layerBox[1];\n    const layerWidth = layerBox[2] - layerOffsetX;\n    const layerHeight = layerBox[3] - layerOffsetY;\n    if (layerWidth === 0 || layerHeight === 0) {\n      return;\n    }\n    this.genericComposeSMask(smask.context, layerCtx, layerWidth, layerHeight, smask.subtype, smask.backdrop, smask.transferMap, layerOffsetX, layerOffsetY, smask.offsetX, smask.offsetY);\n    ctx.save();\n    ctx.globalAlpha = 1;\n    ctx.globalCompositeOperation = \"source-over\";\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(layerCtx.canvas, 0, 0);\n    ctx.restore();\n  }\n  genericComposeSMask(maskCtx, layerCtx, width, height, subtype, backdrop, transferMap, layerOffsetX, layerOffsetY, maskOffsetX, maskOffsetY) {\n    let maskCanvas = maskCtx.canvas;\n    let maskX = layerOffsetX - maskOffsetX;\n    let maskY = layerOffsetY - maskOffsetY;\n    if (backdrop) {\n      if (maskX < 0 || maskY < 0 || maskX + width > maskCanvas.width || maskY + height > maskCanvas.height) {\n        const canvas = this.cachedCanvases.getCanvas(\"maskExtension\", width, height);\n        const ctx = canvas.context;\n        ctx.drawImage(maskCanvas, -maskX, -maskY);\n        ctx.globalCompositeOperation = \"destination-atop\";\n        ctx.fillStyle = backdrop;\n        ctx.fillRect(0, 0, width, height);\n        ctx.globalCompositeOperation = \"source-over\";\n        maskCanvas = canvas.canvas;\n        maskX = maskY = 0;\n      } else {\n        maskCtx.save();\n        maskCtx.globalAlpha = 1;\n        maskCtx.setTransform(1, 0, 0, 1, 0, 0);\n        const clip = new Path2D();\n        clip.rect(maskX, maskY, width, height);\n        maskCtx.clip(clip);\n        maskCtx.globalCompositeOperation = \"destination-atop\";\n        maskCtx.fillStyle = backdrop;\n        maskCtx.fillRect(maskX, maskY, width, height);\n        maskCtx.restore();\n      }\n    }\n    layerCtx.save();\n    layerCtx.globalAlpha = 1;\n    layerCtx.setTransform(1, 0, 0, 1, 0, 0);\n    if (subtype === \"Alpha\" && transferMap) {\n      layerCtx.filter = this.filterFactory.addAlphaFilter(transferMap);\n    } else if (subtype === \"Luminosity\") {\n      layerCtx.filter = this.filterFactory.addLuminosityFilter(transferMap);\n    }\n    const clip = new Path2D();\n    clip.rect(layerOffsetX, layerOffsetY, width, height);\n    layerCtx.clip(clip);\n    layerCtx.globalCompositeOperation = \"destination-in\";\n    layerCtx.drawImage(maskCanvas, maskX, maskY, width, height, layerOffsetX, layerOffsetY, width, height);\n    layerCtx.restore();\n  }\n  save(opIdx) {\n    if (this.inSMaskMode) {\n      copyCtxState(this.ctx, this.suspendedCtx);\n    }\n    this.ctx.save();\n    const old = this.current;\n    this.stateStack.push(old);\n    this.current = old.clone();\n    this.dependencyTracker?.save(opIdx);\n  }\n  restore(opIdx) {\n    this.dependencyTracker?.restore(opIdx);\n    if (this.stateStack.length === 0) {\n      if (this.inSMaskMode) {\n        this.endSMaskMode();\n      }\n      return;\n    }\n    this.current = this.stateStack.pop();\n    this.ctx.restore();\n    if (this.inSMaskMode) {\n      copyCtxState(this.suspendedCtx, this.ctx);\n    }\n    this.checkSMaskState();\n    this.pendingClip = null;\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n  }\n  transform(opIdx, a, b, c, d, e, f) {\n    this.dependencyTracker?.recordIncrementalData(\"transform\", opIdx);\n    this.ctx.transform(a, b, c, d, e, f);\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n  }\n  constructPath(opIdx, op, data, minMax) {\n    let [path] = data;\n    if (!minMax) {\n      path ||= data[0] = new Path2D();\n      this[op](opIdx, path);\n      return;\n    }\n    if (this.dependencyTracker !== null) {\n      const outerExtraSize = op === OPS.stroke ? this.current.lineWidth / 2 : 0;\n      this.dependencyTracker.resetBBox(opIdx).recordBBox(opIdx, this.ctx, minMax[0] - outerExtraSize, minMax[2] + outerExtraSize, minMax[1] - outerExtraSize, minMax[3] + outerExtraSize).recordDependencies(opIdx, [\"transform\"]);\n    }\n    if (!(path instanceof Path2D)) {\n      const path2d = data[0] = new Path2D();\n      for (let i = 0, ii = path.length; i < ii;) {\n        switch (path[i++]) {\n          case DrawOPS.moveTo:\n            path2d.moveTo(path[i++], path[i++]);\n            break;\n          case DrawOPS.lineTo:\n            path2d.lineTo(path[i++], path[i++]);\n            break;\n          case DrawOPS.curveTo:\n            path2d.bezierCurveTo(path[i++], path[i++], path[i++], path[i++], path[i++], path[i++]);\n            break;\n          case DrawOPS.closePath:\n            path2d.closePath();\n            break;\n          default:\n            warn(`Unrecognized drawing path operator: ${path[i - 1]}`);\n            break;\n        }\n      }\n      path = path2d;\n    }\n    Util.axialAlignedBoundingBox(minMax, getCurrentTransform(this.ctx), this.current.minMax);\n    this[op](opIdx, path);\n    this._pathStartIdx = opIdx;\n  }\n  closePath(opIdx) {\n    this.ctx.closePath();\n  }\n  stroke(opIdx, path, consumePath = true) {\n    const ctx = this.ctx;\n    const strokeColor = this.current.strokeColor;\n    ctx.globalAlpha = this.current.strokeAlpha;\n    if (this.contentVisible) {\n      if (typeof strokeColor === \"object\" && strokeColor?.getPattern) {\n        const baseTransform = strokeColor.isModifyingCurrentTransform() ? ctx.getTransform() : null;\n        ctx.save();\n        ctx.strokeStyle = strokeColor.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.STROKE, opIdx);\n        if (baseTransform) {\n          const newPath = new Path2D();\n          newPath.addPath(path, ctx.getTransform().invertSelf().multiplySelf(baseTransform));\n          path = newPath;\n        }\n        this.rescaleAndStroke(path, false);\n        ctx.restore();\n      } else {\n        this.rescaleAndStroke(path, true);\n      }\n    }\n    this.dependencyTracker?.recordDependencies(opIdx, Dependencies.stroke);\n    if (consumePath) {\n      this.consumePath(opIdx, path, this.current.getClippedPathBoundingBox(PathType.STROKE, getCurrentTransform(this.ctx)));\n    }\n    ctx.globalAlpha = this.current.fillAlpha;\n  }\n  closeStroke(opIdx, path) {\n    this.stroke(opIdx, path);\n  }\n  fill(opIdx, path, consumePath = true) {\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    let needRestore = false;\n    if (isPatternFill) {\n      const baseTransform = fillColor.isModifyingCurrentTransform() ? ctx.getTransform() : null;\n      this.dependencyTracker?.save(opIdx);\n      ctx.save();\n      ctx.fillStyle = fillColor.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.FILL, opIdx);\n      if (baseTransform) {\n        const newPath = new Path2D();\n        newPath.addPath(path, ctx.getTransform().invertSelf().multiplySelf(baseTransform));\n        path = newPath;\n      }\n      needRestore = true;\n    }\n    const intersect = this.current.getClippedPathBoundingBox();\n    if (this.contentVisible && intersect !== null) {\n      if (this.pendingEOFill) {\n        ctx.fill(path, \"evenodd\");\n        this.pendingEOFill = false;\n      } else {\n        ctx.fill(path);\n      }\n    }\n    this.dependencyTracker?.recordDependencies(opIdx, Dependencies.fill);\n    if (needRestore) {\n      ctx.restore();\n      this.dependencyTracker?.restore(opIdx);\n    }\n    if (consumePath) {\n      this.consumePath(opIdx, path, intersect);\n    }\n  }\n  eoFill(opIdx, path) {\n    this.pendingEOFill = true;\n    this.fill(opIdx, path);\n  }\n  fillStroke(opIdx, path) {\n    this.fill(opIdx, path, false);\n    this.stroke(opIdx, path, false);\n    this.consumePath(opIdx, path);\n  }\n  eoFillStroke(opIdx, path) {\n    this.pendingEOFill = true;\n    this.fillStroke(opIdx, path);\n  }\n  closeFillStroke(opIdx, path) {\n    this.fillStroke(opIdx, path);\n  }\n  closeEOFillStroke(opIdx, path) {\n    this.pendingEOFill = true;\n    this.fillStroke(opIdx, path);\n  }\n  endPath(opIdx, path) {\n    this.consumePath(opIdx, path);\n  }\n  rawFillPath(opIdx, path) {\n    this.ctx.fill(path);\n    this.dependencyTracker?.recordDependencies(opIdx, Dependencies.rawFillPath).recordOperation(opIdx);\n  }\n  clip(opIdx) {\n    this.dependencyTracker?.recordFutureForcedDependency(\"clipMode\", opIdx);\n    this.pendingClip = NORMAL_CLIP;\n  }\n  eoClip(opIdx) {\n    this.dependencyTracker?.recordFutureForcedDependency(\"clipMode\", opIdx);\n    this.pendingClip = EO_CLIP;\n  }\n  beginText(opIdx) {\n    this.current.textMatrix = null;\n    this.current.textMatrixScale = 1;\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n    this.dependencyTracker?.recordOpenMarker(opIdx).resetIncrementalData(\"sameLineText\").resetIncrementalData(\"moveText\", opIdx);\n  }\n  endText(opIdx) {\n    const paths = this.pendingTextPaths;\n    const ctx = this.ctx;\n    if (this.dependencyTracker) {\n      const {\n        dependencyTracker\n      } = this;\n      if (paths !== undefined) {\n        dependencyTracker.recordFutureForcedDependency(\"textClip\", dependencyTracker.getOpenMarker()).recordFutureForcedDependency(\"textClip\", opIdx);\n      }\n      dependencyTracker.recordCloseMarker(opIdx);\n    }\n    if (paths !== undefined) {\n      const newPath = new Path2D();\n      const invTransf = ctx.getTransform().invertSelf();\n      for (const {\n        transform,\n        x,\n        y,\n        fontSize,\n        path\n      } of paths) {\n        if (!path) {\n          continue;\n        }\n        newPath.addPath(path, new DOMMatrix(transform).preMultiplySelf(invTransf).translate(x, y).scale(fontSize, -fontSize));\n      }\n      ctx.clip(newPath);\n    }\n    delete this.pendingTextPaths;\n  }\n  setCharSpacing(opIdx, spacing) {\n    this.dependencyTracker?.recordSimpleData(\"charSpacing\", opIdx);\n    this.current.charSpacing = spacing;\n  }\n  setWordSpacing(opIdx, spacing) {\n    this.dependencyTracker?.recordSimpleData(\"wordSpacing\", opIdx);\n    this.current.wordSpacing = spacing;\n  }\n  setHScale(opIdx, scale) {\n    this.dependencyTracker?.recordSimpleData(\"hScale\", opIdx);\n    this.current.textHScale = scale / 100;\n  }\n  setLeading(opIdx, leading) {\n    this.dependencyTracker?.recordSimpleData(\"leading\", opIdx);\n    this.current.leading = -leading;\n  }\n  setFont(opIdx, fontRefName, size) {\n    this.dependencyTracker?.recordSimpleData(\"font\", opIdx).recordSimpleDataFromNamed(\"fontObj\", fontRefName, opIdx);\n    const fontObj = this.commonObjs.get(fontRefName);\n    const current = this.current;\n    if (!fontObj) {\n      throw new Error(`Can't find font for ${fontRefName}`);\n    }\n    current.fontMatrix = fontObj.fontMatrix || FONT_IDENTITY_MATRIX;\n    if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n      warn(\"Invalid font matrix for font \" + fontRefName);\n    }\n    if (size < 0) {\n      size = -size;\n      current.fontDirection = -1;\n    } else {\n      current.fontDirection = 1;\n    }\n    this.current.font = fontObj;\n    this.current.fontSize = size;\n    if (fontObj.isType3Font) {\n      return;\n    }\n    const name = fontObj.loadedName || \"sans-serif\";\n    const typeface = fontObj.systemFontInfo?.css || `\"${name}\", ${fontObj.fallbackName}`;\n    let bold = \"normal\";\n    if (fontObj.black) {\n      bold = \"900\";\n    } else if (fontObj.bold) {\n      bold = \"bold\";\n    }\n    const italic = fontObj.italic ? \"italic\" : \"normal\";\n    let browserFontSize = size;\n    if (size < MIN_FONT_SIZE) {\n      browserFontSize = MIN_FONT_SIZE;\n    } else if (size > MAX_FONT_SIZE) {\n      browserFontSize = MAX_FONT_SIZE;\n    }\n    this.current.fontSizeScale = size / browserFontSize;\n    this.ctx.font = `${italic} ${bold} ${browserFontSize}px ${typeface}`;\n  }\n  setTextRenderingMode(opIdx, mode) {\n    this.dependencyTracker?.recordSimpleData(\"textRenderingMode\", opIdx);\n    this.current.textRenderingMode = mode;\n  }\n  setTextRise(opIdx, rise) {\n    this.dependencyTracker?.recordSimpleData(\"textRise\", opIdx);\n    this.current.textRise = rise;\n  }\n  moveText(opIdx, x, y) {\n    this.dependencyTracker?.resetIncrementalData(\"sameLineText\").recordIncrementalData(\"moveText\", opIdx);\n    this.current.x = this.current.lineX += x;\n    this.current.y = this.current.lineY += y;\n  }\n  setLeadingMoveText(opIdx, x, y) {\n    this.setLeading(opIdx, -y);\n    this.moveText(opIdx, x, y);\n  }\n  setTextMatrix(opIdx, matrix) {\n    this.dependencyTracker?.recordSimpleData(\"textMatrix\", opIdx);\n    const {\n      current\n    } = this;\n    current.textMatrix = matrix;\n    current.textMatrixScale = Math.hypot(matrix[0], matrix[1]);\n    current.x = current.lineX = 0;\n    current.y = current.lineY = 0;\n  }\n  nextLine(opIdx) {\n    this.moveText(opIdx, 0, this.current.leading);\n    this.dependencyTracker?.recordIncrementalData(\"moveText\", this.dependencyTracker.getSimpleIndex(\"leading\") ?? opIdx);\n  }\n  #getScaledPath(path, currentTransform, transform) {\n    const newPath = new Path2D();\n    newPath.addPath(path, new DOMMatrix(transform).invertSelf().multiplySelf(currentTransform));\n    return newPath;\n  }\n  paintChar(opIdx, character, x, y, patternFillTransform, patternStrokeTransform) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const textRenderingMode = current.textRenderingMode;\n    const fontSize = current.fontSize / current.fontSizeScale;\n    const fillStrokeMode = textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n    const isAddToPathSet = !!(textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG);\n    const patternFill = current.patternFill && !font.missingFile;\n    const patternStroke = current.patternStroke && !font.missingFile;\n    let path;\n    if ((font.disableFontFace || isAddToPathSet || patternFill || patternStroke) && !font.missingFile) {\n      path = font.getPathGenerator(this.commonObjs, character);\n    }\n    if (path && (font.disableFontFace || patternFill || patternStroke)) {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.scale(fontSize, -fontSize);\n      this.dependencyTracker?.recordCharacterBBox(opIdx, ctx, font);\n      let currentTransform;\n      if (fillStrokeMode === TextRenderingMode.FILL || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        if (patternFillTransform) {\n          currentTransform = ctx.getTransform();\n          ctx.setTransform(...patternFillTransform);\n          const scaledPath = this.#getScaledPath(path, currentTransform, patternFillTransform);\n          ctx.fill(scaledPath);\n        } else {\n          ctx.fill(path);\n        }\n      }\n      if (fillStrokeMode === TextRenderingMode.STROKE || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        if (patternStrokeTransform) {\n          currentTransform ||= ctx.getTransform();\n          ctx.setTransform(...patternStrokeTransform);\n          const {\n            a,\n            b,\n            c,\n            d\n          } = currentTransform;\n          const invPatternTransform = Util.inverseTransform(patternStrokeTransform);\n          const transf = Util.transform([a, b, c, d, 0, 0], invPatternTransform);\n          Util.singularValueDecompose2dScale(transf, XY);\n          ctx.lineWidth *= Math.max(XY[0], XY[1]) / fontSize;\n          ctx.stroke(this.#getScaledPath(path, currentTransform, patternStrokeTransform));\n        } else {\n          ctx.lineWidth /= fontSize;\n          ctx.stroke(path);\n        }\n      }\n      ctx.restore();\n    } else {\n      if (fillStrokeMode === TextRenderingMode.FILL || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        ctx.fillText(character, x, y);\n        this.dependencyTracker?.recordCharacterBBox(opIdx, ctx, font, fontSize, x, y, () => ctx.measureText(character));\n      }\n      if (fillStrokeMode === TextRenderingMode.STROKE || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        if (this.dependencyTracker) {\n          this.dependencyTracker?.recordCharacterBBox(opIdx, ctx, font, fontSize, x, y, () => ctx.measureText(character)).recordDependencies(opIdx, Dependencies.stroke);\n        }\n        ctx.strokeText(character, x, y);\n      }\n    }\n    if (isAddToPathSet) {\n      const paths = this.pendingTextPaths ||= [];\n      paths.push({\n        transform: getCurrentTransform(ctx),\n        x,\n        y,\n        fontSize,\n        path\n      });\n      this.dependencyTracker?.recordCharacterBBox(opIdx, ctx, font, fontSize, x, y);\n    }\n  }\n  get isFontSubpixelAAEnabled() {\n    const {\n      context: ctx\n    } = this.cachedCanvases.getCanvas(\"isFontSubpixelAAEnabled\", 10, 10);\n    ctx.scale(1.5, 1);\n    ctx.fillText(\"I\", 0, 10);\n    const data = ctx.getImageData(0, 0, 10, 10).data;\n    let enabled = false;\n    for (let i = 3; i < data.length; i += 4) {\n      if (data[i] > 0 && data[i] < 255) {\n        enabled = true;\n        break;\n      }\n    }\n    return shadow(this, \"isFontSubpixelAAEnabled\", enabled);\n  }\n  showText(opIdx, glyphs) {\n    if (this.dependencyTracker) {\n      this.dependencyTracker.recordDependencies(opIdx, Dependencies.showText).resetBBox(opIdx);\n      if (this.current.textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG) {\n        this.dependencyTracker.recordFutureForcedDependency(\"textClip\", opIdx).inheritPendingDependenciesAsFutureForcedDependencies();\n      }\n    }\n    const current = this.current;\n    const font = current.font;\n    if (font.isType3Font) {\n      this.showType3Text(opIdx, glyphs);\n      this.dependencyTracker?.recordShowTextOperation(opIdx);\n      return undefined;\n    }\n    const fontSize = current.fontSize;\n    if (fontSize === 0) {\n      this.dependencyTracker?.recordOperation(opIdx);\n      return undefined;\n    }\n    const ctx = this.ctx;\n    const fontSizeScale = current.fontSizeScale;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const fontDirection = current.fontDirection;\n    const textHScale = current.textHScale * fontDirection;\n    const glyphsLength = glyphs.length;\n    const vertical = font.vertical;\n    const spacingDir = vertical ? 1 : -1;\n    const defaultVMetrics = font.defaultVMetrics;\n    const widthAdvanceScale = fontSize * current.fontMatrix[0];\n    const simpleFillText = current.textRenderingMode === TextRenderingMode.FILL && !font.disableFontFace && !current.patternFill;\n    ctx.save();\n    if (current.textMatrix) {\n      ctx.transform(...current.textMatrix);\n    }\n    ctx.translate(current.x, current.y + current.textRise);\n    if (fontDirection > 0) {\n      ctx.scale(textHScale, -1);\n    } else {\n      ctx.scale(textHScale, 1);\n    }\n    let patternFillTransform, patternStrokeTransform;\n    if (current.patternFill) {\n      ctx.save();\n      const pattern = current.fillColor.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.FILL, opIdx);\n      patternFillTransform = getCurrentTransform(ctx);\n      ctx.restore();\n      ctx.fillStyle = pattern;\n    }\n    if (current.patternStroke) {\n      ctx.save();\n      const pattern = current.strokeColor.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.STROKE, opIdx);\n      patternStrokeTransform = getCurrentTransform(ctx);\n      ctx.restore();\n      ctx.strokeStyle = pattern;\n    }\n    let lineWidth = current.lineWidth;\n    const scale = current.textMatrixScale;\n    if (scale === 0 || lineWidth === 0) {\n      const fillStrokeMode = current.textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n      if (fillStrokeMode === TextRenderingMode.STROKE || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        lineWidth = this.getSinglePixelWidth();\n      }\n    } else {\n      lineWidth /= scale;\n    }\n    if (fontSizeScale !== 1.0) {\n      ctx.scale(fontSizeScale, fontSizeScale);\n      lineWidth /= fontSizeScale;\n    }\n    ctx.lineWidth = lineWidth;\n    if (font.isInvalidPDFjsFont) {\n      const chars = [];\n      let width = 0;\n      for (const glyph of glyphs) {\n        chars.push(glyph.unicode);\n        width += glyph.width;\n      }\n      const joinedChars = chars.join(\"\");\n      ctx.fillText(joinedChars, 0, 0);\n      if (this.dependencyTracker !== null) {\n        const measure = ctx.measureText(joinedChars);\n        this.dependencyTracker.recordBBox(opIdx, this.ctx, -measure.actualBoundingBoxLeft, measure.actualBoundingBoxRight, -measure.actualBoundingBoxAscent, measure.actualBoundingBoxDescent).recordShowTextOperation(opIdx);\n      }\n      current.x += width * widthAdvanceScale * textHScale;\n      ctx.restore();\n      this.compose();\n      return undefined;\n    }\n    let x = 0,\n      i;\n    for (i = 0; i < glyphsLength; ++i) {\n      const glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        x += spacingDir * glyph * fontSize / 1000;\n        continue;\n      }\n      let restoreNeeded = false;\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const character = glyph.fontChar;\n      const accent = glyph.accent;\n      let scaledX, scaledY;\n      let width = glyph.width;\n      if (vertical) {\n        const vmetric = glyph.vmetric || defaultVMetrics;\n        const vx = -(glyph.vmetric ? vmetric[1] : width * 0.5) * widthAdvanceScale;\n        const vy = vmetric[2] * widthAdvanceScale;\n        width = vmetric ? -vmetric[0] : width;\n        scaledX = vx / fontSizeScale;\n        scaledY = (x + vy) / fontSizeScale;\n      } else {\n        scaledX = x / fontSizeScale;\n        scaledY = 0;\n      }\n      let measure;\n      if (font.remeasure && width > 0) {\n        measure = ctx.measureText(character);\n        const measuredWidth = measure.width * 1000 / fontSize * fontSizeScale;\n        if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n          const characterScaleX = width / measuredWidth;\n          restoreNeeded = true;\n          ctx.save();\n          ctx.scale(characterScaleX, 1);\n          scaledX /= characterScaleX;\n        } else if (width !== measuredWidth) {\n          scaledX += (width - measuredWidth) / 2000 * fontSize / fontSizeScale;\n        }\n      }\n      if (this.contentVisible && (glyph.isInFont || font.missingFile)) {\n        if (simpleFillText && !accent) {\n          ctx.fillText(character, scaledX, scaledY);\n          this.dependencyTracker?.recordCharacterBBox(opIdx, ctx, measure ? {\n            bbox: null\n          } : font, fontSize / fontSizeScale, scaledX, scaledY, () => measure ?? ctx.measureText(character));\n        } else {\n          this.paintChar(opIdx, character, scaledX, scaledY, patternFillTransform, patternStrokeTransform);\n          if (accent) {\n            const scaledAccentX = scaledX + fontSize * accent.offset.x / fontSizeScale;\n            const scaledAccentY = scaledY - fontSize * accent.offset.y / fontSizeScale;\n            this.paintChar(opIdx, accent.fontChar, scaledAccentX, scaledAccentY, patternFillTransform, patternStrokeTransform);\n          }\n        }\n      }\n      const charWidth = vertical ? width * widthAdvanceScale - spacing * fontDirection : width * widthAdvanceScale + spacing * fontDirection;\n      x += charWidth;\n      if (restoreNeeded) {\n        ctx.restore();\n      }\n    }\n    if (vertical) {\n      current.y -= x;\n    } else {\n      current.x += x * textHScale;\n    }\n    ctx.restore();\n    this.compose();\n    this.dependencyTracker?.recordShowTextOperation(opIdx);\n    return undefined;\n  }\n  showType3Text(opIdx, glyphs) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const fontSize = current.fontSize;\n    const fontDirection = current.fontDirection;\n    const spacingDir = font.vertical ? 1 : -1;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const textHScale = current.textHScale * fontDirection;\n    const fontMatrix = current.fontMatrix || FONT_IDENTITY_MATRIX;\n    const glyphsLength = glyphs.length;\n    const isTextInvisible = current.textRenderingMode === TextRenderingMode.INVISIBLE;\n    let i, glyph, width, spacingLength;\n    if (isTextInvisible || fontSize === 0) {\n      return;\n    }\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n    ctx.save();\n    if (current.textMatrix) {\n      ctx.transform(...current.textMatrix);\n    }\n    ctx.translate(current.x, current.y + current.textRise);\n    ctx.scale(textHScale, fontDirection);\n    const dependencyTracker = this.dependencyTracker;\n    this.dependencyTracker = dependencyTracker ? new CanvasNestedDependencyTracker(dependencyTracker, opIdx) : null;\n    for (i = 0; i < glyphsLength; ++i) {\n      glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        spacingLength = spacingDir * glyph * fontSize / 1000;\n        this.ctx.translate(spacingLength, 0);\n        current.x += spacingLength * textHScale;\n        continue;\n      }\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const operatorList = font.charProcOperatorList[glyph.operatorListId];\n      if (!operatorList) {\n        warn(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n      } else if (this.contentVisible) {\n        this.save();\n        ctx.scale(fontSize, fontSize);\n        ctx.transform(...fontMatrix);\n        this.executeOperatorList(operatorList);\n        this.restore();\n      }\n      const p = [glyph.width, 0];\n      Util.applyTransform(p, fontMatrix);\n      width = p[0] * fontSize + spacing;\n      ctx.translate(width, 0);\n      current.x += width * textHScale;\n    }\n    ctx.restore();\n    if (dependencyTracker) {\n      this.dependencyTracker = dependencyTracker;\n    }\n  }\n  setCharWidth(opIdx, xWidth, yWidth) {}\n  setCharWidthAndBounds(opIdx, xWidth, yWidth, llx, lly, urx, ury) {\n    const clip = new Path2D();\n    clip.rect(llx, lly, urx - llx, ury - lly);\n    this.ctx.clip(clip);\n    this.dependencyTracker?.recordBBox(opIdx, this.ctx, llx, urx, lly, ury).recordClipBox(opIdx, this.ctx, llx, urx, lly, ury);\n    this.endPath(opIdx);\n  }\n  getColorN_Pattern(opIdx, IR) {\n    let pattern;\n    if (IR[0] === \"TilingPattern\") {\n      const baseTransform = this.baseTransform || getCurrentTransform(this.ctx);\n      const canvasGraphicsFactory = {\n        createCanvasGraphics: (ctx, renderingOpIdx) => new CanvasGraphics(ctx, this.commonObjs, this.objs, this.canvasFactory, this.filterFactory, {\n          optionalContentConfig: this.optionalContentConfig,\n          markedContentStack: this.markedContentStack\n        }, undefined, undefined, this.dependencyTracker ? new CanvasNestedDependencyTracker(this.dependencyTracker, renderingOpIdx, true) : null)\n      };\n      pattern = new TilingPattern(IR, this.ctx, canvasGraphicsFactory, baseTransform);\n    } else {\n      pattern = this._getPattern(opIdx, IR[1], IR[2]);\n    }\n    return pattern;\n  }\n  setStrokeColorN(opIdx, ...args) {\n    this.dependencyTracker?.recordSimpleData(\"strokeColor\", opIdx);\n    this.current.strokeColor = this.getColorN_Pattern(opIdx, args);\n    this.current.patternStroke = true;\n  }\n  setFillColorN(opIdx, ...args) {\n    this.dependencyTracker?.recordSimpleData(\"fillColor\", opIdx);\n    this.current.fillColor = this.getColorN_Pattern(opIdx, args);\n    this.current.patternFill = true;\n  }\n  setStrokeRGBColor(opIdx, color) {\n    this.dependencyTracker?.recordSimpleData(\"strokeColor\", opIdx);\n    this.ctx.strokeStyle = this.current.strokeColor = color;\n    this.current.patternStroke = false;\n  }\n  setStrokeTransparent(opIdx) {\n    this.dependencyTracker?.recordSimpleData(\"strokeColor\", opIdx);\n    this.ctx.strokeStyle = this.current.strokeColor = \"transparent\";\n    this.current.patternStroke = false;\n  }\n  setFillRGBColor(opIdx, color) {\n    this.dependencyTracker?.recordSimpleData(\"fillColor\", opIdx);\n    this.ctx.fillStyle = this.current.fillColor = color;\n    this.current.patternFill = false;\n  }\n  setFillTransparent(opIdx) {\n    this.dependencyTracker?.recordSimpleData(\"fillColor\", opIdx);\n    this.ctx.fillStyle = this.current.fillColor = \"transparent\";\n    this.current.patternFill = false;\n  }\n  _getPattern(opIdx, objId, matrix = null) {\n    let pattern;\n    if (this.cachedPatterns.has(objId)) {\n      pattern = this.cachedPatterns.get(objId);\n    } else {\n      pattern = getShadingPattern(this.getObject(opIdx, objId));\n      this.cachedPatterns.set(objId, pattern);\n    }\n    if (matrix) {\n      pattern.matrix = matrix;\n    }\n    return pattern;\n  }\n  shadingFill(opIdx, objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    this.save(opIdx);\n    const pattern = this._getPattern(opIdx, objId);\n    ctx.fillStyle = pattern.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.SHADING, opIdx);\n    const inv = getCurrentTransformInverse(ctx);\n    if (inv) {\n      const {\n        width,\n        height\n      } = ctx.canvas;\n      const minMax = MIN_MAX_INIT.slice();\n      Util.axialAlignedBoundingBox([0, 0, width, height], inv, minMax);\n      const [x0, y0, x1, y1] = minMax;\n      this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n    } else {\n      this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n    }\n    this.dependencyTracker?.resetBBox(opIdx).recordFullPageBBox(opIdx).recordDependencies(opIdx, Dependencies.transform).recordDependencies(opIdx, Dependencies.fill).recordOperation(opIdx);\n    this.compose(this.current.getClippedPathBoundingBox());\n    this.restore(opIdx);\n  }\n  beginInlineImage() {\n    unreachable(\"Should not call beginInlineImage\");\n  }\n  beginImageData() {\n    unreachable(\"Should not call beginImageData\");\n  }\n  paintFormXObjectBegin(opIdx, matrix, bbox) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save(opIdx);\n    this.baseTransformStack.push(this.baseTransform);\n    if (matrix) {\n      this.transform(opIdx, ...matrix);\n    }\n    this.baseTransform = getCurrentTransform(this.ctx);\n    if (bbox) {\n      Util.axialAlignedBoundingBox(bbox, this.baseTransform, this.current.minMax);\n      const [x0, y0, x1, y1] = bbox;\n      const clip = new Path2D();\n      clip.rect(x0, y0, x1 - x0, y1 - y0);\n      this.ctx.clip(clip);\n      this.dependencyTracker?.recordClipBox(opIdx, this.ctx, x0, x1, y0, y1);\n      this.endPath(opIdx);\n    }\n  }\n  paintFormXObjectEnd(opIdx) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.restore(opIdx);\n    this.baseTransform = this.baseTransformStack.pop();\n  }\n  beginGroup(opIdx, group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save(opIdx);\n    if (this.inSMaskMode) {\n      this.endSMaskMode();\n      this.current.activeSMask = null;\n    }\n    const currentCtx = this.ctx;\n    if (!group.isolated) {\n      info(\"TODO: Support non-isolated groups.\");\n    }\n    if (group.knockout) {\n      warn(\"Knockout groups not supported.\");\n    }\n    const currentTransform = getCurrentTransform(currentCtx);\n    if (group.matrix) {\n      currentCtx.transform(...group.matrix);\n    }\n    if (!group.bbox) {\n      throw new Error(\"Bounding box is required.\");\n    }\n    let bounds = MIN_MAX_INIT.slice();\n    Util.axialAlignedBoundingBox(group.bbox, getCurrentTransform(currentCtx), bounds);\n    const canvasBounds = [0, 0, currentCtx.canvas.width, currentCtx.canvas.height];\n    bounds = Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n    const offsetX = Math.floor(bounds[0]);\n    const offsetY = Math.floor(bounds[1]);\n    const drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n    const drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n    this.current.startNewPathAndClipBox([0, 0, drawnWidth, drawnHeight]);\n    let cacheId = \"groupAt\" + this.groupLevel;\n    if (group.smask) {\n      cacheId += \"_smask_\" + this.smaskCounter++ % 2;\n    }\n    const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight);\n    const groupCtx = scratchCanvas.context;\n    groupCtx.translate(-offsetX, -offsetY);\n    groupCtx.transform(...currentTransform);\n    let clip = new Path2D();\n    const [x0, y0, x1, y1] = group.bbox;\n    clip.rect(x0, y0, x1 - x0, y1 - y0);\n    if (group.matrix) {\n      const path = new Path2D();\n      path.addPath(clip, new DOMMatrix(group.matrix));\n      clip = path;\n    }\n    groupCtx.clip(clip);\n    if (group.smask) {\n      this.smaskStack.push({\n        canvas: scratchCanvas.canvas,\n        context: groupCtx,\n        offsetX,\n        offsetY,\n        subtype: group.smask.subtype,\n        backdrop: group.smask.backdrop,\n        transferMap: group.smask.transferMap || null,\n        startTransformInverse: null\n      });\n    }\n    if (!group.smask || this.dependencyTracker) {\n      currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n      currentCtx.translate(offsetX, offsetY);\n      currentCtx.save();\n    }\n    copyCtxState(currentCtx, groupCtx);\n    this.ctx = groupCtx;\n    this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies([\"fillAlpha\", \"strokeAlpha\", \"globalCompositeOperation\"]).pushBaseTransform(currentCtx);\n    this.setGState(opIdx, [[\"BM\", \"source-over\"], [\"ca\", 1], [\"CA\", 1]]);\n    this.groupStack.push(currentCtx);\n    this.groupLevel++;\n  }\n  endGroup(opIdx, group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.groupLevel--;\n    const groupCtx = this.ctx;\n    const ctx = this.groupStack.pop();\n    this.ctx = ctx;\n    this.ctx.imageSmoothingEnabled = false;\n    this.dependencyTracker?.popBaseTransform();\n    if (group.smask) {\n      this.tempSMask = this.smaskStack.pop();\n      this.restore(opIdx);\n      if (this.dependencyTracker) {\n        this.ctx.restore();\n      }\n    } else {\n      this.ctx.restore();\n      const currentMtx = getCurrentTransform(this.ctx);\n      this.restore(opIdx);\n      this.ctx.save();\n      this.ctx.setTransform(...currentMtx);\n      const dirtyBox = MIN_MAX_INIT.slice();\n      Util.axialAlignedBoundingBox([0, 0, groupCtx.canvas.width, groupCtx.canvas.height], currentMtx, dirtyBox);\n      this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      this.ctx.restore();\n      this.compose(dirtyBox);\n    }\n  }\n  beginAnnotation(opIdx, id, rect, transform, matrix, hasOwnCanvas) {\n    this.#restoreInitialState();\n    resetCtxToDefault(this.ctx);\n    this.ctx.save();\n    this.save(opIdx);\n    if (this.baseTransform) {\n      this.ctx.setTransform(...this.baseTransform);\n    }\n    if (rect) {\n      const width = rect[2] - rect[0];\n      const height = rect[3] - rect[1];\n      if (hasOwnCanvas && this.annotationCanvasMap) {\n        transform = transform.slice();\n        transform[4] -= rect[0];\n        transform[5] -= rect[1];\n        rect = rect.slice();\n        rect[0] = rect[1] = 0;\n        rect[2] = width;\n        rect[3] = height;\n        Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx), XY);\n        const {\n          viewportScale\n        } = this;\n        const canvasWidth = Math.ceil(width * this.outputScaleX * viewportScale);\n        const canvasHeight = Math.ceil(height * this.outputScaleY * viewportScale);\n        this.annotationCanvas = this.canvasFactory.create(canvasWidth, canvasHeight);\n        const {\n          canvas,\n          context\n        } = this.annotationCanvas;\n        this.annotationCanvasMap.set(id, canvas);\n        this.annotationCanvas.savedCtx = this.ctx;\n        this.ctx = context;\n        this.ctx.save();\n        this.ctx.setTransform(XY[0], 0, 0, -XY[1], 0, height * XY[1]);\n        resetCtxToDefault(this.ctx);\n      } else {\n        resetCtxToDefault(this.ctx);\n        this.endPath(opIdx);\n        const clip = new Path2D();\n        clip.rect(rect[0], rect[1], width, height);\n        this.ctx.clip(clip);\n      }\n    }\n    this.current = new CanvasExtraState(this.ctx.canvas.width, this.ctx.canvas.height);\n    this.transform(opIdx, ...transform);\n    this.transform(opIdx, ...matrix);\n  }\n  endAnnotation(opIdx) {\n    if (this.annotationCanvas) {\n      this.ctx.restore();\n      this.#drawFilter();\n      this.ctx = this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas;\n    }\n  }\n  paintImageMaskXObject(opIdx, img) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const count = img.count;\n    img = this.getObject(opIdx, img.data, img);\n    img.count = count;\n    const ctx = this.ctx;\n    const mask = this._createMaskCanvas(opIdx, img);\n    const maskCanvas = mask.canvas;\n    ctx.save();\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(maskCanvas, mask.offsetX, mask.offsetY);\n    this.dependencyTracker?.resetBBox(opIdx).recordBBox(opIdx, this.ctx, mask.offsetX, mask.offsetX + maskCanvas.width, mask.offsetY, mask.offsetY + maskCanvas.height).recordOperation(opIdx);\n    ctx.restore();\n    this.compose();\n  }\n  paintImageMaskXObjectRepeat(opIdx, img, scaleX, skewX = 0, skewY = 0, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    img = this.getObject(opIdx, img.data, img);\n    const ctx = this.ctx;\n    ctx.save();\n    const currentTransform = getCurrentTransform(ctx);\n    ctx.transform(scaleX, skewX, skewY, scaleY, 0, 0);\n    const mask = this._createMaskCanvas(opIdx, img);\n    ctx.setTransform(1, 0, 0, 1, mask.offsetX - currentTransform[4], mask.offsetY - currentTransform[5]);\n    this.dependencyTracker?.resetBBox(opIdx);\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      const trans = Util.transform(currentTransform, [scaleX, skewX, skewY, scaleY, positions[i], positions[i + 1]]);\n      ctx.drawImage(mask.canvas, trans[4], trans[5]);\n      this.dependencyTracker?.recordBBox(opIdx, this.ctx, trans[4], trans[4] + mask.canvas.width, trans[5], trans[5] + mask.canvas.height);\n    }\n    ctx.restore();\n    this.compose();\n    this.dependencyTracker?.recordOperation(opIdx);\n  }\n  paintImageMaskXObjectGroup(opIdx, images) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    this.dependencyTracker?.resetBBox(opIdx).recordDependencies(opIdx, Dependencies.transformAndFill);\n    for (const image of images) {\n      const {\n        data,\n        width,\n        height,\n        transform\n      } = image;\n      const maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      const maskCtx = maskCanvas.context;\n      maskCtx.save();\n      const img = this.getObject(opIdx, data, image);\n      putBinaryImageMask(maskCtx, img);\n      maskCtx.globalCompositeOperation = \"source-in\";\n      maskCtx.fillStyle = isPatternFill ? fillColor.getPattern(maskCtx, this, getCurrentTransformInverse(ctx), PathType.FILL, opIdx) : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n      maskCtx.restore();\n      ctx.save();\n      ctx.transform(...transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(ctx, maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n      this.dependencyTracker?.recordBBox(opIdx, ctx, 0, width, 0, height);\n      ctx.restore();\n    }\n    this.compose();\n    this.dependencyTracker?.recordOperation(opIdx);\n  }\n  paintImageXObject(opIdx, objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(opIdx, objId);\n    if (!imgData) {\n      warn(\"Dependent image isn't ready yet\");\n      return;\n    }\n    this.paintInlineImageXObject(opIdx, imgData);\n  }\n  paintImageXObjectRepeat(opIdx, objId, scaleX, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(opIdx, objId);\n    if (!imgData) {\n      warn(\"Dependent image isn't ready yet\");\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const map = [];\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      map.push({\n        transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n        x: 0,\n        y: 0,\n        w: width,\n        h: height\n      });\n    }\n    this.paintInlineImageXObjectGroup(opIdx, imgData, map);\n  }\n  applyTransferMapsToCanvas(ctx) {\n    if (this.current.transferMaps !== \"none\") {\n      ctx.filter = this.current.transferMaps;\n      ctx.drawImage(ctx.canvas, 0, 0);\n      ctx.filter = \"none\";\n    }\n    return ctx.canvas;\n  }\n  applyTransferMapsToBitmap(imgData) {\n    if (this.current.transferMaps === \"none\") {\n      return imgData.bitmap;\n    }\n    const {\n      bitmap,\n      width,\n      height\n    } = imgData;\n    const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n    const tmpCtx = tmpCanvas.context;\n    tmpCtx.filter = this.current.transferMaps;\n    tmpCtx.drawImage(bitmap, 0, 0);\n    tmpCtx.filter = \"none\";\n    return tmpCanvas.canvas;\n  }\n  paintInlineImageXObject(opIdx, imgData) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const ctx = this.ctx;\n    this.save(opIdx);\n    const {\n      filter\n    } = ctx;\n    if (filter !== \"none\" && filter !== \"\") {\n      ctx.filter = \"none\";\n    }\n    ctx.scale(1 / width, -1 / height);\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = this.applyTransferMapsToBitmap(imgData);\n    } else if (typeof HTMLElement === \"function\" && imgData instanceof HTMLElement || !imgData.data) {\n      imgToPaint = imgData;\n    } else {\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n    const scaled = this._scaleImage(imgToPaint, getCurrentTransformInverse(ctx));\n    ctx.imageSmoothingEnabled = getImageSmoothingEnabled(getCurrentTransform(ctx), imgData.interpolate);\n    this.dependencyTracker?.resetBBox(opIdx).recordBBox(opIdx, ctx, 0, width, -height, 0).recordDependencies(opIdx, Dependencies.imageXObject).recordOperation(opIdx);\n    drawImageAtIntegerCoords(ctx, scaled.img, 0, 0, scaled.paintWidth, scaled.paintHeight, 0, -height, width, height);\n    this.compose();\n    this.restore(opIdx);\n  }\n  paintInlineImageXObjectGroup(opIdx, imgData, map) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = imgData.bitmap;\n    } else {\n      const w = imgData.width;\n      const h = imgData.height;\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", w, h);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n    this.dependencyTracker?.resetBBox(opIdx);\n    for (const entry of map) {\n      ctx.save();\n      ctx.transform(...entry.transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(ctx, imgToPaint, entry.x, entry.y, entry.w, entry.h, 0, -1, 1, 1);\n      this.dependencyTracker?.recordBBox(opIdx, ctx, 0, 1, -1, 0);\n      ctx.restore();\n    }\n    this.dependencyTracker?.recordOperation(opIdx);\n    this.compose();\n  }\n  paintSolidColorImageMask(opIdx) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.dependencyTracker?.resetBBox(opIdx).recordBBox(opIdx, this.ctx, 0, 1, 0, 1).recordDependencies(opIdx, Dependencies.fill).recordOperation(opIdx);\n    this.ctx.fillRect(0, 0, 1, 1);\n    this.compose();\n  }\n  markPoint(opIdx, tag) {}\n  markPointProps(opIdx, tag, properties) {}\n  beginMarkedContent(opIdx, tag) {\n    this.dependencyTracker?.beginMarkedContent(opIdx);\n    this.markedContentStack.push({\n      visible: true\n    });\n  }\n  beginMarkedContentProps(opIdx, tag, properties) {\n    this.dependencyTracker?.beginMarkedContent(opIdx);\n    if (tag === \"OC\") {\n      this.markedContentStack.push({\n        visible: this.optionalContentConfig.isVisible(properties)\n      });\n    } else {\n      this.markedContentStack.push({\n        visible: true\n      });\n    }\n    this.contentVisible = this.isContentVisible();\n  }\n  endMarkedContent(opIdx) {\n    this.dependencyTracker?.endMarkedContent(opIdx);\n    this.markedContentStack.pop();\n    this.contentVisible = this.isContentVisible();\n  }\n  beginCompat(opIdx) {}\n  endCompat(opIdx) {}\n  consumePath(opIdx, path, clipBox) {\n    const isEmpty = this.current.isEmptyClip();\n    if (this.pendingClip) {\n      this.current.updateClipFromPath();\n    }\n    if (!this.pendingClip) {\n      this.compose(clipBox);\n    }\n    const ctx = this.ctx;\n    if (this.pendingClip) {\n      if (!isEmpty) {\n        if (this.pendingClip === EO_CLIP) {\n          ctx.clip(path, \"evenodd\");\n        } else {\n          ctx.clip(path);\n        }\n      }\n      this.pendingClip = null;\n      this.dependencyTracker?.bboxToClipBoxDropOperation(opIdx).recordFutureForcedDependency(\"clipPath\", opIdx);\n    } else {\n      this.dependencyTracker?.recordOperation(opIdx);\n    }\n    this.current.startNewPathAndClipBox(this.current.clipBox);\n  }\n  getSinglePixelWidth() {\n    if (!this._cachedGetSinglePixelWidth) {\n      const m = getCurrentTransform(this.ctx);\n      if (m[1] === 0 && m[2] === 0) {\n        this._cachedGetSinglePixelWidth = 1 / Math.min(Math.abs(m[0]), Math.abs(m[3]));\n      } else {\n        const absDet = Math.abs(m[0] * m[3] - m[2] * m[1]);\n        const normX = Math.hypot(m[0], m[2]);\n        const normY = Math.hypot(m[1], m[3]);\n        this._cachedGetSinglePixelWidth = Math.max(normX, normY) / absDet;\n      }\n    }\n    return this._cachedGetSinglePixelWidth;\n  }\n  getScaleForStroking() {\n    if (this._cachedScaleForStroking[0] === -1) {\n      const {\n        lineWidth\n      } = this.current;\n      const {\n        a,\n        b,\n        c,\n        d\n      } = this.ctx.getTransform();\n      let scaleX, scaleY;\n      if (b === 0 && c === 0) {\n        const normX = Math.abs(a);\n        const normY = Math.abs(d);\n        if (normX === normY) {\n          if (lineWidth === 0) {\n            scaleX = scaleY = 1 / normX;\n          } else {\n            const scaledLineWidth = normX * lineWidth;\n            scaleX = scaleY = scaledLineWidth < 1 ? 1 / scaledLineWidth : 1;\n          }\n        } else if (lineWidth === 0) {\n          scaleX = 1 / normX;\n          scaleY = 1 / normY;\n        } else {\n          const scaledXLineWidth = normX * lineWidth;\n          const scaledYLineWidth = normY * lineWidth;\n          scaleX = scaledXLineWidth < 1 ? 1 / scaledXLineWidth : 1;\n          scaleY = scaledYLineWidth < 1 ? 1 / scaledYLineWidth : 1;\n        }\n      } else {\n        const absDet = Math.abs(a * d - b * c);\n        const normX = Math.hypot(a, b);\n        const normY = Math.hypot(c, d);\n        if (lineWidth === 0) {\n          scaleX = normY / absDet;\n          scaleY = normX / absDet;\n        } else {\n          const baseArea = lineWidth * absDet;\n          scaleX = normY > baseArea ? normY / baseArea : 1;\n          scaleY = normX > baseArea ? normX / baseArea : 1;\n        }\n      }\n      this._cachedScaleForStroking[0] = scaleX;\n      this._cachedScaleForStroking[1] = scaleY;\n    }\n    return this._cachedScaleForStroking;\n  }\n  rescaleAndStroke(path, saveRestore) {\n    const {\n      ctx,\n      current: {\n        lineWidth\n      }\n    } = this;\n    const [scaleX, scaleY] = this.getScaleForStroking();\n    if (scaleX === scaleY) {\n      ctx.lineWidth = (lineWidth || 1) * scaleX;\n      ctx.stroke(path);\n      return;\n    }\n    const dashes = ctx.getLineDash();\n    if (saveRestore) {\n      ctx.save();\n    }\n    ctx.scale(scaleX, scaleY);\n    SCALE_MATRIX.a = 1 / scaleX;\n    SCALE_MATRIX.d = 1 / scaleY;\n    const newPath = new Path2D();\n    newPath.addPath(path, SCALE_MATRIX);\n    if (dashes.length > 0) {\n      const scale = Math.max(scaleX, scaleY);\n      ctx.setLineDash(dashes.map(x => x / scale));\n      ctx.lineDashOffset /= scale;\n    }\n    ctx.lineWidth = lineWidth || 1;\n    ctx.stroke(newPath);\n    if (saveRestore) {\n      ctx.restore();\n    }\n  }\n  isContentVisible() {\n    for (let i = this.markedContentStack.length - 1; i >= 0; i--) {\n      if (!this.markedContentStack[i].visible) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\nfor (const op in OPS) {\n  if (CanvasGraphics.prototype[op] !== undefined) {\n    CanvasGraphics.prototype[OPS[op]] = CanvasGraphics.prototype[op];\n  }\n}\n\n;// ./src/shared/obj-bin-transform.js\n\n\n\n\n\n\n\n\n\n\nclass CssFontInfo {\n  #buffer;\n  #view;\n  #decoder;\n  static strings = [\"fontFamily\", \"fontWeight\", \"italicAngle\"];\n  static write(info) {\n    const encoder = new TextEncoder();\n    const encodedStrings = {};\n    let stringsLength = 0;\n    for (const prop of CssFontInfo.strings) {\n      const encoded = encoder.encode(info[prop]);\n      encodedStrings[prop] = encoded;\n      stringsLength += 4 + encoded.length;\n    }\n    const buffer = new ArrayBuffer(stringsLength);\n    const data = new Uint8Array(buffer);\n    const view = new DataView(buffer);\n    let offset = 0;\n    for (const prop of CssFontInfo.strings) {\n      const encoded = encodedStrings[prop];\n      const length = encoded.length;\n      view.setUint32(offset, length);\n      data.set(encoded, offset + 4);\n      offset += 4 + length;\n    }\n    assert(offset === buffer.byteLength, \"CssFontInfo.write: Buffer overflow\");\n    return buffer;\n  }\n  constructor(buffer) {\n    this.#buffer = buffer;\n    this.#view = new DataView(this.#buffer);\n    this.#decoder = new TextDecoder();\n  }\n  #readString(index) {\n    assert(index < CssFontInfo.strings.length, \"Invalid string index\");\n    let offset = 0;\n    for (let i = 0; i < index; i++) {\n      offset += this.#view.getUint32(offset) + 4;\n    }\n    const length = this.#view.getUint32(offset);\n    return this.#decoder.decode(new Uint8Array(this.#buffer, offset + 4, length));\n  }\n  get fontFamily() {\n    return this.#readString(0);\n  }\n  get fontWeight() {\n    return this.#readString(1);\n  }\n  get italicAngle() {\n    return this.#readString(2);\n  }\n}\nclass SystemFontInfo {\n  #buffer;\n  #view;\n  #decoder;\n  static strings = [\"css\", \"loadedName\", \"baseFontName\", \"src\"];\n  static write(info) {\n    const encoder = new TextEncoder();\n    const encodedStrings = {};\n    let stringsLength = 0;\n    for (const prop of SystemFontInfo.strings) {\n      const encoded = encoder.encode(info[prop]);\n      encodedStrings[prop] = encoded;\n      stringsLength += 4 + encoded.length;\n    }\n    stringsLength += 4;\n    let encodedStyleStyle,\n      encodedStyleWeight,\n      lengthEstimate = 1 + stringsLength;\n    if (info.style) {\n      encodedStyleStyle = encoder.encode(info.style.style);\n      encodedStyleWeight = encoder.encode(info.style.weight);\n      lengthEstimate += 4 + encodedStyleStyle.length + 4 + encodedStyleWeight.length;\n    }\n    const buffer = new ArrayBuffer(lengthEstimate);\n    const data = new Uint8Array(buffer);\n    const view = new DataView(buffer);\n    let offset = 0;\n    view.setUint8(offset++, info.guessFallback ? 1 : 0);\n    view.setUint32(offset, 0);\n    offset += 4;\n    stringsLength = 0;\n    for (const prop of SystemFontInfo.strings) {\n      const encoded = encodedStrings[prop];\n      const length = encoded.length;\n      stringsLength += 4 + length;\n      view.setUint32(offset, length);\n      data.set(encoded, offset + 4);\n      offset += 4 + length;\n    }\n    view.setUint32(offset - stringsLength - 4, stringsLength);\n    if (info.style) {\n      view.setUint32(offset, encodedStyleStyle.length);\n      data.set(encodedStyleStyle, offset + 4);\n      offset += 4 + encodedStyleStyle.length;\n      view.setUint32(offset, encodedStyleWeight.length);\n      data.set(encodedStyleWeight, offset + 4);\n      offset += 4 + encodedStyleWeight.length;\n    }\n    assert(offset <= buffer.byteLength, \"SubstitionInfo.write: Buffer overflow\");\n    return buffer.transferToFixedLength(offset);\n  }\n  constructor(buffer) {\n    this.#buffer = buffer;\n    this.#view = new DataView(this.#buffer);\n    this.#decoder = new TextDecoder();\n  }\n  get guessFallback() {\n    return this.#view.getUint8(0) !== 0;\n  }\n  #readString(index) {\n    assert(index < SystemFontInfo.strings.length, \"Invalid string index\");\n    let offset = 5;\n    for (let i = 0; i < index; i++) {\n      offset += this.#view.getUint32(offset) + 4;\n    }\n    const length = this.#view.getUint32(offset);\n    return this.#decoder.decode(new Uint8Array(this.#buffer, offset + 4, length));\n  }\n  get css() {\n    return this.#readString(0);\n  }\n  get loadedName() {\n    return this.#readString(1);\n  }\n  get baseFontName() {\n    return this.#readString(2);\n  }\n  get src() {\n    return this.#readString(3);\n  }\n  get style() {\n    let offset = 1;\n    offset += 4 + this.#view.getUint32(offset);\n    const styleLength = this.#view.getUint32(offset);\n    const style = this.#decoder.decode(new Uint8Array(this.#buffer, offset + 4, styleLength));\n    offset += 4 + styleLength;\n    const weightLength = this.#view.getUint32(offset);\n    const weight = this.#decoder.decode(new Uint8Array(this.#buffer, offset + 4, weightLength));\n    return {\n      style,\n      weight\n    };\n  }\n}\nclass FontInfo {\n  static bools = [\"black\", \"bold\", \"disableFontFace\", \"fontExtraProperties\", \"isInvalidPDFjsFont\", \"isType3Font\", \"italic\", \"missingFile\", \"remeasure\", \"vertical\"];\n  static numbers = [\"ascent\", \"defaultWidth\", \"descent\"];\n  static strings = [\"fallbackName\", \"loadedName\", \"mimetype\", \"name\"];\n  static #OFFSET_NUMBERS = Math.ceil(this.bools.length * 2 / 8);\n  static #OFFSET_BBOX = this.#OFFSET_NUMBERS + this.numbers.length * 8;\n  static #OFFSET_FONT_MATRIX = this.#OFFSET_BBOX + 1 + 2 * 4;\n  static #OFFSET_DEFAULT_VMETRICS = this.#OFFSET_FONT_MATRIX + 1 + 8 * 6;\n  static #OFFSET_STRINGS = this.#OFFSET_DEFAULT_VMETRICS + 1 + 2 * 3;\n  #buffer;\n  #decoder;\n  #view;\n  constructor({\n    data,\n    extra\n  }) {\n    this.#buffer = data;\n    this.#decoder = new TextDecoder();\n    this.#view = new DataView(this.#buffer);\n    if (extra) {\n      Object.assign(this, extra);\n    }\n  }\n  #readBoolean(index) {\n    assert(index < FontInfo.bools.length, \"Invalid boolean index\");\n    const byteOffset = Math.floor(index / 4);\n    const bitOffset = index * 2 % 8;\n    const value = this.#view.getUint8(byteOffset) >> bitOffset & 0x03;\n    return value === 0x00 ? undefined : value === 0x02;\n  }\n  get black() {\n    return this.#readBoolean(0);\n  }\n  get bold() {\n    return this.#readBoolean(1);\n  }\n  get disableFontFace() {\n    return this.#readBoolean(2);\n  }\n  get fontExtraProperties() {\n    return this.#readBoolean(3);\n  }\n  get isInvalidPDFjsFont() {\n    return this.#readBoolean(4);\n  }\n  get isType3Font() {\n    return this.#readBoolean(5);\n  }\n  get italic() {\n    return this.#readBoolean(6);\n  }\n  get missingFile() {\n    return this.#readBoolean(7);\n  }\n  get remeasure() {\n    return this.#readBoolean(8);\n  }\n  get vertical() {\n    return this.#readBoolean(9);\n  }\n  #readNumber(index) {\n    assert(index < FontInfo.numbers.length, \"Invalid number index\");\n    return this.#view.getFloat64(FontInfo.#OFFSET_NUMBERS + index * 8);\n  }\n  get ascent() {\n    return this.#readNumber(0);\n  }\n  get defaultWidth() {\n    return this.#readNumber(1);\n  }\n  get descent() {\n    return this.#readNumber(2);\n  }\n  get bbox() {\n    let offset = FontInfo.#OFFSET_BBOX;\n    const numCoords = this.#view.getUint8(offset);\n    if (numCoords === 0) {\n      return undefined;\n    }\n    offset += 1;\n    const bbox = [];\n    for (let i = 0; i < 4; i++) {\n      bbox.push(this.#view.getInt16(offset, true));\n      offset += 2;\n    }\n    return bbox;\n  }\n  get fontMatrix() {\n    let offset = FontInfo.#OFFSET_FONT_MATRIX;\n    const numPoints = this.#view.getUint8(offset);\n    if (numPoints === 0) {\n      return undefined;\n    }\n    offset += 1;\n    const fontMatrix = [];\n    for (let i = 0; i < 6; i++) {\n      fontMatrix.push(this.#view.getFloat64(offset, true));\n      offset += 8;\n    }\n    return fontMatrix;\n  }\n  get defaultVMetrics() {\n    let offset = FontInfo.#OFFSET_DEFAULT_VMETRICS;\n    const numMetrics = this.#view.getUint8(offset);\n    if (numMetrics === 0) {\n      return undefined;\n    }\n    offset += 1;\n    const defaultVMetrics = [];\n    for (let i = 0; i < 3; i++) {\n      defaultVMetrics.push(this.#view.getInt16(offset, true));\n      offset += 2;\n    }\n    return defaultVMetrics;\n  }\n  #readString(index) {\n    assert(index < FontInfo.strings.length, \"Invalid string index\");\n    let offset = FontInfo.#OFFSET_STRINGS + 4;\n    for (let i = 0; i < index; i++) {\n      offset += this.#view.getUint32(offset) + 4;\n    }\n    const length = this.#view.getUint32(offset);\n    const stringData = new Uint8Array(length);\n    stringData.set(new Uint8Array(this.#buffer, offset + 4, length));\n    return this.#decoder.decode(stringData);\n  }\n  get fallbackName() {\n    return this.#readString(0);\n  }\n  get loadedName() {\n    return this.#readString(1);\n  }\n  get mimetype() {\n    return this.#readString(2);\n  }\n  get name() {\n    return this.#readString(3);\n  }\n  get data() {\n    let offset = FontInfo.#OFFSET_STRINGS;\n    const stringsLength = this.#view.getUint32(offset);\n    offset += 4 + stringsLength;\n    const systemFontInfoLength = this.#view.getUint32(offset);\n    offset += 4 + systemFontInfoLength;\n    const cssFontInfoLength = this.#view.getUint32(offset);\n    offset += 4 + cssFontInfoLength;\n    const length = this.#view.getUint32(offset);\n    if (length === 0) {\n      return undefined;\n    }\n    return new Uint8Array(this.#buffer, offset + 4, length);\n  }\n  clearData() {\n    let offset = FontInfo.#OFFSET_STRINGS;\n    const stringsLength = this.#view.getUint32(offset);\n    offset += 4 + stringsLength;\n    const systemFontInfoLength = this.#view.getUint32(offset);\n    offset += 4 + systemFontInfoLength;\n    const cssFontInfoLength = this.#view.getUint32(offset);\n    offset += 4 + cssFontInfoLength;\n    const length = this.#view.getUint32(offset);\n    const data = new Uint8Array(this.#buffer, offset + 4, length);\n    data.fill(0);\n    this.#view.setUint32(offset, 0);\n  }\n  get cssFontInfo() {\n    let offset = FontInfo.#OFFSET_STRINGS;\n    const stringsLength = this.#view.getUint32(offset);\n    offset += 4 + stringsLength;\n    const systemFontInfoLength = this.#view.getUint32(offset);\n    offset += 4 + systemFontInfoLength;\n    const cssFontInfoLength = this.#view.getUint32(offset);\n    if (cssFontInfoLength === 0) {\n      return null;\n    }\n    const cssFontInfoData = new Uint8Array(cssFontInfoLength);\n    cssFontInfoData.set(new Uint8Array(this.#buffer, offset + 4, cssFontInfoLength));\n    return new CssFontInfo(cssFontInfoData.buffer);\n  }\n  get systemFontInfo() {\n    let offset = FontInfo.#OFFSET_STRINGS;\n    const stringsLength = this.#view.getUint32(offset);\n    offset += 4 + stringsLength;\n    const systemFontInfoLength = this.#view.getUint32(offset);\n    if (systemFontInfoLength === 0) {\n      return null;\n    }\n    const systemFontInfoData = new Uint8Array(systemFontInfoLength);\n    systemFontInfoData.set(new Uint8Array(this.#buffer, offset + 4, systemFontInfoLength));\n    return new SystemFontInfo(systemFontInfoData.buffer);\n  }\n  static write(font) {\n    const systemFontInfoBuffer = font.systemFontInfo ? SystemFontInfo.write(font.systemFontInfo) : null;\n    const cssFontInfoBuffer = font.cssFontInfo ? CssFontInfo.write(font.cssFontInfo) : null;\n    const encoder = new TextEncoder();\n    const encodedStrings = {};\n    let stringsLength = 0;\n    for (const prop of FontInfo.strings) {\n      encodedStrings[prop] = encoder.encode(font[prop]);\n      stringsLength += 4 + encodedStrings[prop].length;\n    }\n    const lengthEstimate = FontInfo.#OFFSET_STRINGS + 4 + stringsLength + 4 + (systemFontInfoBuffer ? systemFontInfoBuffer.byteLength : 0) + 4 + (cssFontInfoBuffer ? cssFontInfoBuffer.byteLength : 0) + 4 + (font.data ? font.data.length : 0);\n    const buffer = new ArrayBuffer(lengthEstimate);\n    const data = new Uint8Array(buffer);\n    const view = new DataView(buffer);\n    let offset = 0;\n    const numBools = FontInfo.bools.length;\n    let boolByte = 0,\n      boolBit = 0;\n    for (let i = 0; i < numBools; i++) {\n      const value = font[FontInfo.bools[i]];\n      const bits = value === undefined ? 0x00 : value ? 0x02 : 0x01;\n      boolByte |= bits << boolBit;\n      boolBit += 2;\n      if (boolBit === 8 || i === numBools - 1) {\n        view.setUint8(offset++, boolByte);\n        boolByte = 0;\n        boolBit = 0;\n      }\n    }\n    assert(offset === FontInfo.#OFFSET_NUMBERS, \"FontInfo.write: Boolean properties offset mismatch\");\n    for (const prop of FontInfo.numbers) {\n      view.setFloat64(offset, font[prop]);\n      offset += 8;\n    }\n    assert(offset === FontInfo.#OFFSET_BBOX, \"FontInfo.write: Number properties offset mismatch\");\n    if (font.bbox) {\n      view.setUint8(offset++, 4);\n      for (const coord of font.bbox) {\n        view.setInt16(offset, coord, true);\n        offset += 2;\n      }\n    } else {\n      view.setUint8(offset++, 0);\n      offset += 2 * 4;\n    }\n    assert(offset === FontInfo.#OFFSET_FONT_MATRIX, \"FontInfo.write: BBox properties offset mismatch\");\n    if (font.fontMatrix) {\n      view.setUint8(offset++, 6);\n      for (const point of font.fontMatrix) {\n        view.setFloat64(offset, point, true);\n        offset += 8;\n      }\n    } else {\n      view.setUint8(offset++, 0);\n      offset += 8 * 6;\n    }\n    assert(offset === FontInfo.#OFFSET_DEFAULT_VMETRICS, \"FontInfo.write: FontMatrix properties offset mismatch\");\n    if (font.defaultVMetrics) {\n      view.setUint8(offset++, 1);\n      for (const metric of font.defaultVMetrics) {\n        view.setInt16(offset, metric, true);\n        offset += 2;\n      }\n    } else {\n      view.setUint8(offset++, 0);\n      offset += 3 * 2;\n    }\n    assert(offset === FontInfo.#OFFSET_STRINGS, \"FontInfo.write: DefaultVMetrics properties offset mismatch\");\n    view.setUint32(FontInfo.#OFFSET_STRINGS, 0);\n    offset += 4;\n    for (const prop of FontInfo.strings) {\n      const encoded = encodedStrings[prop];\n      const length = encoded.length;\n      view.setUint32(offset, length);\n      data.set(encoded, offset + 4);\n      offset += 4 + length;\n    }\n    view.setUint32(FontInfo.#OFFSET_STRINGS, offset - FontInfo.#OFFSET_STRINGS - 4);\n    if (!systemFontInfoBuffer) {\n      view.setUint32(offset, 0);\n      offset += 4;\n    } else {\n      const length = systemFontInfoBuffer.byteLength;\n      view.setUint32(offset, length);\n      assert(offset + 4 + length <= buffer.byteLength, \"FontInfo.write: Buffer overflow at systemFontInfo\");\n      data.set(new Uint8Array(systemFontInfoBuffer), offset + 4);\n      offset += 4 + length;\n    }\n    if (!cssFontInfoBuffer) {\n      view.setUint32(offset, 0);\n      offset += 4;\n    } else {\n      const length = cssFontInfoBuffer.byteLength;\n      view.setUint32(offset, length);\n      assert(offset + 4 + length <= buffer.byteLength, \"FontInfo.write: Buffer overflow at cssFontInfo\");\n      data.set(new Uint8Array(cssFontInfoBuffer), offset + 4);\n      offset += 4 + length;\n    }\n    if (font.data === undefined) {\n      view.setUint32(offset, 0);\n      offset += 4;\n    } else {\n      view.setUint32(offset, font.data.length);\n      data.set(font.data, offset + 4);\n      offset += 4 + font.data.length;\n    }\n    assert(offset <= buffer.byteLength, \"FontInfo.write: Buffer overflow\");\n    return buffer.transferToFixedLength(offset);\n  }\n}\n\n;// ./src/display/worker_options.js\nclass GlobalWorkerOptions {\n  static #port = null;\n  static #src = \"\";\n  static get workerPort() {\n    return this.#port;\n  }\n  static set workerPort(val) {\n    if (!(typeof Worker !== \"undefined\" && val instanceof Worker) && val !== null) {\n      throw new Error(\"Invalid `workerPort` type.\");\n    }\n    this.#port = val;\n  }\n  static get workerSrc() {\n    return this.#src;\n  }\n  static set workerSrc(val) {\n    if (typeof val !== \"string\") {\n      throw new Error(\"Invalid `workerSrc` type.\");\n    }\n    this.#src = val;\n  }\n}\n\n;// ./src/display/metadata.js\nclass Metadata {\n  #map;\n  #data;\n  constructor({\n    parsedData,\n    rawData\n  }) {\n    this.#map = parsedData;\n    this.#data = rawData;\n  }\n  getRaw() {\n    return this.#data;\n  }\n  get(name) {\n    return this.#map.get(name) ?? null;\n  }\n  [Symbol.iterator]() {\n    return this.#map.entries();\n  }\n}\n\n;// ./src/display/optional_content_config.js\n\n\nconst INTERNAL = Symbol(\"INTERNAL\");\nclass OptionalContentGroup {\n  #isDisplay = false;\n  #isPrint = false;\n  #userSet = false;\n  #visible = true;\n  constructor(renderingIntent, {\n    name,\n    intent,\n    usage,\n    rbGroups\n  }) {\n    this.#isDisplay = !!(renderingIntent & RenderingIntentFlag.DISPLAY);\n    this.#isPrint = !!(renderingIntent & RenderingIntentFlag.PRINT);\n    this.name = name;\n    this.intent = intent;\n    this.usage = usage;\n    this.rbGroups = rbGroups;\n  }\n  get visible() {\n    if (this.#userSet) {\n      return this.#visible;\n    }\n    if (!this.#visible) {\n      return false;\n    }\n    const {\n      print,\n      view\n    } = this.usage;\n    if (this.#isDisplay) {\n      return view?.viewState !== \"OFF\";\n    } else if (this.#isPrint) {\n      return print?.printState !== \"OFF\";\n    }\n    return true;\n  }\n  _setVisible(internal, visible, userSet = false) {\n    if (internal !== INTERNAL) {\n      unreachable(\"Internal method `_setVisible` called.\");\n    }\n    this.#userSet = userSet;\n    this.#visible = visible;\n  }\n}\nclass OptionalContentConfig {\n  #cachedGetHash = null;\n  #groups = new Map();\n  #initialHash = null;\n  #order = null;\n  constructor(data, renderingIntent = RenderingIntentFlag.DISPLAY) {\n    this.renderingIntent = renderingIntent;\n    this.name = null;\n    this.creator = null;\n    if (data === null) {\n      return;\n    }\n    this.name = data.name;\n    this.creator = data.creator;\n    this.#order = data.order;\n    for (const group of data.groups) {\n      this.#groups.set(group.id, new OptionalContentGroup(renderingIntent, group));\n    }\n    if (data.baseState === \"OFF\") {\n      for (const group of this.#groups.values()) {\n        group._setVisible(INTERNAL, false);\n      }\n    }\n    for (const on of data.on) {\n      this.#groups.get(on)._setVisible(INTERNAL, true);\n    }\n    for (const off of data.off) {\n      this.#groups.get(off)._setVisible(INTERNAL, false);\n    }\n    this.#initialHash = this.getHash();\n  }\n  #evaluateVisibilityExpression(array) {\n    const length = array.length;\n    if (length < 2) {\n      return true;\n    }\n    const operator = array[0];\n    for (let i = 1; i < length; i++) {\n      const element = array[i];\n      let state;\n      if (Array.isArray(element)) {\n        state = this.#evaluateVisibilityExpression(element);\n      } else if (this.#groups.has(element)) {\n        state = this.#groups.get(element).visible;\n      } else {\n        warn(`Optional content group not found: ${element}`);\n        return true;\n      }\n      switch (operator) {\n        case \"And\":\n          if (!state) {\n            return false;\n          }\n          break;\n        case \"Or\":\n          if (state) {\n            return true;\n          }\n          break;\n        case \"Not\":\n          return !state;\n        default:\n          return true;\n      }\n    }\n    return operator === \"And\";\n  }\n  isVisible(group) {\n    if (this.#groups.size === 0) {\n      return true;\n    }\n    if (!group) {\n      info(\"Optional content group not defined.\");\n      return true;\n    }\n    if (group.type === \"OCG\") {\n      if (!this.#groups.has(group.id)) {\n        warn(`Optional content group not found: ${group.id}`);\n        return true;\n      }\n      return this.#groups.get(group.id).visible;\n    } else if (group.type === \"OCMD\") {\n      if (group.expression) {\n        return this.#evaluateVisibilityExpression(group.expression);\n      }\n      if (!group.policy || group.policy === \"AnyOn\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOn\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      } else if (group.policy === \"AnyOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      }\n      warn(`Unknown optional content policy ${group.policy}.`);\n      return true;\n    }\n    warn(`Unknown group type ${group.type}.`);\n    return true;\n  }\n  setVisibility(id, visible = true, preserveRB = true) {\n    const group = this.#groups.get(id);\n    if (!group) {\n      warn(`Optional content group not found: ${id}`);\n      return;\n    }\n    if (preserveRB && visible && group.rbGroups.length) {\n      for (const rbGroup of group.rbGroups) {\n        for (const otherId of rbGroup) {\n          if (otherId !== id) {\n            this.#groups.get(otherId)?._setVisible(INTERNAL, false, true);\n          }\n        }\n      }\n    }\n    group._setVisible(INTERNAL, !!visible, true);\n    this.#cachedGetHash = null;\n  }\n  setOCGState({\n    state,\n    preserveRB\n  }) {\n    let operator;\n    for (const elem of state) {\n      switch (elem) {\n        case \"ON\":\n        case \"OFF\":\n        case \"Toggle\":\n          operator = elem;\n          continue;\n      }\n      const group = this.#groups.get(elem);\n      if (!group) {\n        continue;\n      }\n      switch (operator) {\n        case \"ON\":\n          this.setVisibility(elem, true, preserveRB);\n          break;\n        case \"OFF\":\n          this.setVisibility(elem, false, preserveRB);\n          break;\n        case \"Toggle\":\n          this.setVisibility(elem, !group.visible, preserveRB);\n          break;\n      }\n    }\n    this.#cachedGetHash = null;\n  }\n  get hasInitialVisibility() {\n    return this.#initialHash === null || this.getHash() === this.#initialHash;\n  }\n  getOrder() {\n    if (!this.#groups.size) {\n      return null;\n    }\n    if (this.#order) {\n      return this.#order.slice();\n    }\n    return [...this.#groups.keys()];\n  }\n  getGroup(id) {\n    return this.#groups.get(id) || null;\n  }\n  getHash() {\n    if (this.#cachedGetHash !== null) {\n      return this.#cachedGetHash;\n    }\n    const hash = new MurmurHash3_64();\n    for (const [id, group] of this.#groups) {\n      hash.update(`${id}:${group.visible}`);\n    }\n    return this.#cachedGetHash = hash.hexdigest();\n  }\n  [Symbol.iterator]() {\n    return this.#groups.entries();\n  }\n}\n\n;// ./src/display/transport_stream.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass PDFDataTransportStream {\n  constructor(pdfDataRangeTransport, {\n    disableRange = false,\n    disableStream = false\n  }) {\n    assert(pdfDataRangeTransport, 'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.');\n    const {\n      length,\n      initialData,\n      progressiveDone,\n      contentDispositionFilename\n    } = pdfDataRangeTransport;\n    this._queuedChunks = [];\n    this._progressiveDone = progressiveDone;\n    this._contentDispositionFilename = contentDispositionFilename;\n    if (initialData?.length > 0) {\n      const buffer = initialData instanceof Uint8Array && initialData.byteLength === initialData.buffer.byteLength ? initialData.buffer : new Uint8Array(initialData).buffer;\n      this._queuedChunks.push(buffer);\n    }\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isStreamingSupported = !disableStream;\n    this._isRangeSupported = !disableRange;\n    this._contentLength = length;\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n    pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({\n        begin,\n        chunk\n      });\n    });\n    pdfDataRangeTransport.addProgressListener((loaded, total) => {\n      this._onProgress({\n        loaded,\n        total\n      });\n    });\n    pdfDataRangeTransport.addProgressiveReadListener(chunk => {\n      this._onReceiveData({\n        chunk\n      });\n    });\n    pdfDataRangeTransport.addProgressiveDoneListener(() => {\n      this._onProgressiveDone();\n    });\n    pdfDataRangeTransport.transportReady();\n  }\n  _onReceiveData({\n    begin,\n    chunk\n  }) {\n    const buffer = chunk instanceof Uint8Array && chunk.byteLength === chunk.buffer.byteLength ? chunk.buffer : new Uint8Array(chunk).buffer;\n    if (begin === undefined) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader._enqueue(buffer);\n      } else {\n        this._queuedChunks.push(buffer);\n      }\n    } else {\n      const found = this._rangeReaders.some(function (rangeReader) {\n        if (rangeReader._begin !== begin) {\n          return false;\n        }\n        rangeReader._enqueue(buffer);\n        return true;\n      });\n      assert(found, \"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\");\n    }\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  _onProgress(evt) {\n    if (evt.total === undefined) {\n      this._rangeReaders[0]?.onProgress?.({\n        loaded: evt.loaded\n      });\n    } else {\n      this._fullRequestReader?.onProgress?.({\n        loaded: evt.loaded,\n        total: evt.total\n      });\n    }\n  }\n  _onProgressiveDone() {\n    this._fullRequestReader?.progressiveDone();\n    this._progressiveDone = true;\n  }\n  _removeRangeReader(reader) {\n    const i = this._rangeReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeReaders.splice(i, 1);\n    }\n  }\n  getFullReader() {\n    assert(!this._fullRequestReader, \"PDFDataTransportStream.getFullReader can only be called once.\");\n    const queuedChunks = this._queuedChunks;\n    this._queuedChunks = null;\n    return new PDFDataTransportStreamReader(this, queuedChunks, this._progressiveDone, this._contentDispositionFilename);\n  }\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n    this._pdfDataRangeTransport.requestDataRange(begin, end);\n    this._rangeReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n    this._pdfDataRangeTransport.abort();\n  }\n}\nclass PDFDataTransportStreamReader {\n  constructor(stream, queuedChunks, progressiveDone = false, contentDispositionFilename = null) {\n    this._stream = stream;\n    this._done = progressiveDone || false;\n    this._filename = isPdfFile(contentDispositionFilename) ? contentDispositionFilename : null;\n    this._queuedChunks = queuedChunks || [];\n    this._loaded = 0;\n    for (const chunk of this._queuedChunks) {\n      this._loaded += chunk.byteLength;\n    }\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n    this.onProgress = null;\n  }\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunks.push(chunk);\n    }\n    this._loaded += chunk.byteLength;\n  }\n  get headersReady() {\n    return this._headersReady;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get isRangeSupported() {\n    return this._stream._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._stream._isStreamingSupported;\n  }\n  get contentLength() {\n    return this._stream._contentLength;\n  }\n  async read() {\n    if (this._queuedChunks.length > 0) {\n      const chunk = this._queuedChunks.shift();\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n  }\n  progressiveDone() {\n    if (this._done) {\n      return;\n    }\n    this._done = true;\n  }\n}\nclass PDFDataTransportStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n    this.onProgress = null;\n  }\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n    if (this._requests.length === 0) {\n      this._queuedChunk = chunk;\n    } else {\n      const requestsCapability = this._requests.shift();\n      requestsCapability.resolve({\n        value: chunk,\n        done: false\n      });\n      for (const requestCapability of this._requests) {\n        requestCapability.resolve({\n          value: undefined,\n          done: true\n        });\n      }\n      this._requests.length = 0;\n    }\n    this._done = true;\n    this._stream._removeRangeReader(this);\n  }\n  get isStreamingSupported() {\n    return false;\n  }\n  async read() {\n    if (this._queuedChunk) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    this._stream._removeRangeReader(this);\n  }\n}\n\n;// ./src/display/content_disposition.js\n\n\n\nfunction getFilenameFromContentDispositionHeader(contentDisposition) {\n  let needsEncodingFixup = true;\n  let tmp = toParamRegExp(\"filename\\\\*\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = unescape(filename);\n    filename = rfc5987decode(filename);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n  tmp = rfc2231getparam(contentDisposition);\n  if (tmp) {\n    const filename = rfc2047decode(tmp);\n    return fixupEncoding(filename);\n  }\n  tmp = toParamRegExp(\"filename\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n  function toParamRegExp(attributePattern, flags) {\n    return new RegExp(\"(?:^|;)\\\\s*\" + attributePattern + \"\\\\s*=\\\\s*\" + \"(\" + '[^\";\\\\s][^;\\\\s]*' + \"|\" + '\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?' + \")\", flags);\n  }\n  function textdecode(encoding, value) {\n    if (encoding) {\n      if (!/^[\\x00-\\xFF]+$/.test(value)) {\n        return value;\n      }\n      try {\n        const decoder = new TextDecoder(encoding, {\n          fatal: true\n        });\n        const buffer = stringToBytes(value);\n        value = decoder.decode(buffer);\n        needsEncodingFixup = false;\n      } catch {}\n    }\n    return value;\n  }\n  function fixupEncoding(value) {\n    if (needsEncodingFixup && /[\\x80-\\xff]/.test(value)) {\n      value = textdecode(\"utf-8\", value);\n      if (needsEncodingFixup) {\n        value = textdecode(\"iso-8859-1\", value);\n      }\n    }\n    return value;\n  }\n  function rfc2231getparam(contentDispositionStr) {\n    const matches = [];\n    let match;\n    const iter = toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\", \"ig\");\n    while ((match = iter.exec(contentDispositionStr)) !== null) {\n      let [, n, quot, part] = match;\n      n = parseInt(n, 10);\n      if (n in matches) {\n        if (n === 0) {\n          break;\n        }\n        continue;\n      }\n      matches[n] = [quot, part];\n    }\n    const parts = [];\n    for (let n = 0; n < matches.length; ++n) {\n      if (!(n in matches)) {\n        break;\n      }\n      let [quot, part] = matches[n];\n      part = rfc2616unquote(part);\n      if (quot) {\n        part = unescape(part);\n        if (n === 0) {\n          part = rfc5987decode(part);\n        }\n      }\n      parts.push(part);\n    }\n    return parts.join(\"\");\n  }\n  function rfc2616unquote(value) {\n    if (value.startsWith('\"')) {\n      const parts = value.slice(1).split('\\\\\"');\n      for (let i = 0; i < parts.length; ++i) {\n        const quotindex = parts[i].indexOf('\"');\n        if (quotindex !== -1) {\n          parts[i] = parts[i].slice(0, quotindex);\n          parts.length = i + 1;\n        }\n        parts[i] = parts[i].replaceAll(/\\\\(.)/g, \"$1\");\n      }\n      value = parts.join('\"');\n    }\n    return value;\n  }\n  function rfc5987decode(extvalue) {\n    const encodingend = extvalue.indexOf(\"'\");\n    if (encodingend === -1) {\n      return extvalue;\n    }\n    const encoding = extvalue.slice(0, encodingend);\n    const langvalue = extvalue.slice(encodingend + 1);\n    const value = langvalue.replace(/^[^']*'/, \"\");\n    return textdecode(encoding, value);\n  }\n  function rfc2047decode(value) {\n    if (!value.startsWith(\"=?\") || /[\\x00-\\x19\\x80-\\xff]/.test(value)) {\n      return value;\n    }\n    return value.replaceAll(/=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g, function (matches, charset, encoding, text) {\n      if (encoding === \"q\" || encoding === \"Q\") {\n        text = text.replaceAll(\"_\", \" \");\n        text = text.replaceAll(/=([0-9a-fA-F]{2})/g, function (match, hex) {\n          return String.fromCharCode(parseInt(hex, 16));\n        });\n        return textdecode(charset, text);\n      }\n      try {\n        text = atob(text);\n      } catch {}\n      return textdecode(charset, text);\n    });\n  }\n  return \"\";\n}\n\n;// ./src/display/network_utils.js\n\n\n\n\nfunction createHeaders(isHttp, httpHeaders) {\n  const headers = new Headers();\n  if (!isHttp || !httpHeaders || typeof httpHeaders !== \"object\") {\n    return headers;\n  }\n  for (const key in httpHeaders) {\n    const val = httpHeaders[key];\n    if (val !== undefined) {\n      headers.append(key, val);\n    }\n  }\n  return headers;\n}\nfunction getResponseOrigin(url) {\n  return URL.parse(url)?.origin ?? null;\n}\nfunction validateRangeRequestCapabilities({\n  responseHeaders,\n  isHttp,\n  rangeChunkSize,\n  disableRange\n}) {\n  const returnValues = {\n    allowRangeRequests: false,\n    suggestedLength: undefined\n  };\n  const length = parseInt(responseHeaders.get(\"Content-Length\"), 10);\n  if (!Number.isInteger(length)) {\n    return returnValues;\n  }\n  returnValues.suggestedLength = length;\n  if (length <= 2 * rangeChunkSize) {\n    return returnValues;\n  }\n  if (disableRange || !isHttp) {\n    return returnValues;\n  }\n  if (responseHeaders.get(\"Accept-Ranges\") !== \"bytes\") {\n    return returnValues;\n  }\n  const contentEncoding = responseHeaders.get(\"Content-Encoding\") || \"identity\";\n  if (contentEncoding !== \"identity\") {\n    return returnValues;\n  }\n  returnValues.allowRangeRequests = true;\n  return returnValues;\n}\nfunction extractFilenameFromHeader(responseHeaders) {\n  const contentDisposition = responseHeaders.get(\"Content-Disposition\");\n  if (contentDisposition) {\n    let filename = getFilenameFromContentDispositionHeader(contentDisposition);\n    if (filename.includes(\"%\")) {\n      try {\n        filename = decodeURIComponent(filename);\n      } catch {}\n    }\n    if (isPdfFile(filename)) {\n      return filename;\n    }\n  }\n  return null;\n}\nfunction createResponseError(status, url) {\n  return new ResponseException(`Unexpected server response (${status}) while retrieving PDF \"${url}\".`, status, status === 404 || status === 0 && url.startsWith(\"file:\"));\n}\nfunction validateResponseStatus(status) {\n  return status === 200 || status === 206;\n}\n\n;// ./src/display/fetch_stream.js\n\n\n\n\n\n\n\n\n\n\n\n\nfunction createFetchOptions(headers, withCredentials, abortController) {\n  return {\n    method: \"GET\",\n    headers,\n    signal: abortController.signal,\n    mode: \"cors\",\n    credentials: withCredentials ? \"include\" : \"same-origin\",\n    redirect: \"follow\"\n  };\n}\nfunction getArrayBuffer(val) {\n  if (val instanceof Uint8Array) {\n    return val.buffer;\n  }\n  if (val instanceof ArrayBuffer) {\n    return val;\n  }\n  warn(`getArrayBuffer - unexpected data format: ${val}`);\n  return new Uint8Array(val).buffer;\n}\nclass PDFFetchStream {\n  _responseOrigin = null;\n  constructor(source) {\n    this.source = source;\n    this.isHttp = /^https?:/i.test(source.url);\n    this.headers = createHeaders(this.isHttp, source.httpHeaders);\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  getFullReader() {\n    assert(!this._fullRequestReader, \"PDFFetchStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFFetchStreamReader(this);\n    return this._fullRequestReader;\n  }\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFFetchStreamRangeReader(this, begin, end);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass PDFFetchStreamReader {\n  constructor(stream) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    this._filename = null;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._contentLength = source.length;\n    this._headersCapability = Promise.withResolvers();\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._abortController = new AbortController();\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    const headers = new Headers(stream.headers);\n    const url = source.url;\n    fetch(url, createFetchOptions(headers, this._withCredentials, this._abortController)).then(response => {\n      stream._responseOrigin = getResponseOrigin(response.url);\n      if (!validateResponseStatus(response.status)) {\n        throw createResponseError(response.status, url);\n      }\n      this._reader = response.body.getReader();\n      this._headersCapability.resolve();\n      const responseHeaders = response.headers;\n      const {\n        allowRangeRequests,\n        suggestedLength\n      } = validateRangeRequestCapabilities({\n        responseHeaders,\n        isHttp: stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange\n      });\n      this._isRangeSupported = allowRangeRequests;\n      this._contentLength = suggestedLength || this._contentLength;\n      this._filename = extractFilenameFromHeader(responseHeaders);\n      if (!this._isStreamingSupported && this._isRangeSupported) {\n        this.cancel(new AbortException(\"Streaming is disabled.\"));\n      }\n    }).catch(this._headersCapability.reject);\n    this.onProgress = null;\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._headersCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength\n    });\n    return {\n      value: getArrayBuffer(value),\n      done: false\n    };\n  }\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\nclass PDFFetchStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._readCapability = Promise.withResolvers();\n    this._isStreamingSupported = !source.disableStream;\n    this._abortController = new AbortController();\n    const headers = new Headers(stream.headers);\n    headers.append(\"Range\", `bytes=${begin}-${end - 1}`);\n    const url = source.url;\n    fetch(url, createFetchOptions(headers, this._withCredentials, this._abortController)).then(response => {\n      const responseOrigin = getResponseOrigin(response.url);\n      if (responseOrigin !== stream._responseOrigin) {\n        throw new Error(`Expected range response-origin \"${responseOrigin}\" to match \"${stream._responseOrigin}\".`);\n      }\n      if (!validateResponseStatus(response.status)) {\n        throw createResponseError(response.status, url);\n      }\n      this._readCapability.resolve();\n      this._reader = response.body.getReader();\n    }).catch(this._readCapability.reject);\n    this.onProgress = null;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({\n      loaded: this._loaded\n    });\n    return {\n      value: getArrayBuffer(value),\n      done: false\n    };\n  }\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\n\n;// ./src/display/network.js\n\n\n\n\n\n\nconst OK_RESPONSE = 200;\nconst PARTIAL_CONTENT_RESPONSE = 206;\nfunction network_getArrayBuffer(xhr) {\n  const data = xhr.response;\n  if (typeof data !== \"string\") {\n    return data;\n  }\n  return stringToBytes(data).buffer;\n}\nclass NetworkManager {\n  _responseOrigin = null;\n  constructor({\n    url,\n    httpHeaders,\n    withCredentials\n  }) {\n    this.url = url;\n    this.isHttp = /^https?:/i.test(url);\n    this.headers = createHeaders(this.isHttp, httpHeaders);\n    this.withCredentials = withCredentials || false;\n    this.currXhrId = 0;\n    this.pendingRequests = Object.create(null);\n  }\n  request(args) {\n    const xhr = new XMLHttpRequest();\n    const xhrId = this.currXhrId++;\n    const pendingRequest = this.pendingRequests[xhrId] = {\n      xhr\n    };\n    xhr.open(\"GET\", this.url);\n    xhr.withCredentials = this.withCredentials;\n    for (const [key, val] of this.headers) {\n      xhr.setRequestHeader(key, val);\n    }\n    if (this.isHttp && \"begin\" in args && \"end\" in args) {\n      xhr.setRequestHeader(\"Range\", `bytes=${args.begin}-${args.end - 1}`);\n      pendingRequest.expectedStatus = PARTIAL_CONTENT_RESPONSE;\n    } else {\n      pendingRequest.expectedStatus = OK_RESPONSE;\n    }\n    xhr.responseType = \"arraybuffer\";\n    assert(args.onError, \"Expected `onError` callback to be provided.\");\n    xhr.onerror = () => {\n      args.onError(xhr.status);\n    };\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n    xhr.send(null);\n    return xhrId;\n  }\n  onProgress(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return;\n    }\n    pendingRequest.onProgress?.(evt);\n  }\n  onStateChange(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return;\n    }\n    const xhr = pendingRequest.xhr;\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n    if (xhr.readyState !== 4) {\n      return;\n    }\n    if (!(xhrId in this.pendingRequests)) {\n      return;\n    }\n    delete this.pendingRequests[xhrId];\n    if (xhr.status === 0 && this.isHttp) {\n      pendingRequest.onError(xhr.status);\n      return;\n    }\n    const xhrStatus = xhr.status || OK_RESPONSE;\n    const ok_response_on_range_request = xhrStatus === OK_RESPONSE && pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n    if (!ok_response_on_range_request && xhrStatus !== pendingRequest.expectedStatus) {\n      pendingRequest.onError(xhr.status);\n      return;\n    }\n    const chunk = network_getArrayBuffer(xhr);\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      const rangeHeader = xhr.getResponseHeader(\"Content-Range\");\n      const matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      if (matches) {\n        pendingRequest.onDone({\n          begin: parseInt(matches[1], 10),\n          chunk\n        });\n      } else {\n        warn(`Missing or invalid \"Content-Range\" header.`);\n        pendingRequest.onError(0);\n      }\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk\n      });\n    } else {\n      pendingRequest.onError(xhr.status);\n    }\n  }\n  getRequestXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  }\n  isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  }\n  abortRequest(xhrId) {\n    const xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  }\n}\nclass PDFNetworkStream {\n  constructor(source) {\n    this._source = source;\n    this._manager = new NetworkManager(source);\n    this._rangeChunkSize = source.rangeChunkSize;\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  _onRangeRequestReaderClosed(reader) {\n    const i = this._rangeRequestReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  }\n  getFullReader() {\n    assert(!this._fullRequestReader, \"PDFNetworkStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFNetworkStreamFullRequestReader(this._manager, this._source);\n    return this._fullRequestReader;\n  }\n  getRangeReader(begin, end) {\n    const reader = new PDFNetworkStreamRangeRequestReader(this._manager, begin, end);\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass PDFNetworkStreamFullRequestReader {\n  constructor(manager, source) {\n    this._manager = manager;\n    this._url = source.url;\n    this._fullRequestId = manager.request({\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this)\n    });\n    this._headersCapability = Promise.withResolvers();\n    this._disableRange = source.disableRange || false;\n    this._contentLength = source.length;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._isStreamingSupported = false;\n    this._isRangeSupported = false;\n    this._cachedChunks = [];\n    this._requests = [];\n    this._done = false;\n    this._storedError = undefined;\n    this._filename = null;\n    this.onProgress = null;\n  }\n  _onHeadersReceived() {\n    const fullRequestXhrId = this._fullRequestId;\n    const fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n    this._manager._responseOrigin = getResponseOrigin(fullRequestXhr.responseURL);\n    const rawResponseHeaders = fullRequestXhr.getAllResponseHeaders();\n    const responseHeaders = new Headers(rawResponseHeaders ? rawResponseHeaders.trimStart().replace(/[^\\S ]+$/, \"\").split(/[\\r\\n]+/).map(x => {\n      const [key, ...val] = x.split(\": \");\n      return [key, val.join(\": \")];\n    }) : []);\n    const {\n      allowRangeRequests,\n      suggestedLength\n    } = validateRangeRequestCapabilities({\n      responseHeaders,\n      isHttp: this._manager.isHttp,\n      rangeChunkSize: this._rangeChunkSize,\n      disableRange: this._disableRange\n    });\n    if (allowRangeRequests) {\n      this._isRangeSupported = true;\n    }\n    this._contentLength = suggestedLength || this._contentLength;\n    this._filename = extractFilenameFromHeader(responseHeaders);\n    if (this._isRangeSupported) {\n      this._manager.abortRequest(fullRequestXhrId);\n    }\n    this._headersCapability.resolve();\n  }\n  _onDone(data) {\n    if (data) {\n      if (this._requests.length > 0) {\n        const requestCapability = this._requests.shift();\n        requestCapability.resolve({\n          value: data.chunk,\n          done: false\n        });\n      } else {\n        this._cachedChunks.push(data.chunk);\n      }\n    }\n    this._done = true;\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n  }\n  _onError(status) {\n    this._storedError = createResponseError(status, this._url);\n    this._headersCapability.reject(this._storedError);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._cachedChunks.length = 0;\n  }\n  _onProgress(evt) {\n    this.onProgress?.({\n      loaded: evt.loaded,\n      total: evt.lengthComputable ? evt.total : this._contentLength\n    });\n  }\n  get filename() {\n    return this._filename;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  async read() {\n    await this._headersCapability.promise;\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._cachedChunks.length > 0) {\n      const chunk = this._cachedChunks.shift();\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    this._headersCapability.reject(reason);\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n    this._fullRequestReader = null;\n  }\n}\nclass PDFNetworkStreamRangeRequestReader {\n  constructor(manager, begin, end) {\n    this._manager = manager;\n    this._url = manager.url;\n    this._requestId = manager.request({\n      begin,\n      end,\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this)\n    });\n    this._requests = [];\n    this._queuedChunk = null;\n    this._done = false;\n    this._storedError = undefined;\n    this.onProgress = null;\n    this.onClosed = null;\n  }\n  _onHeadersReceived() {\n    const responseOrigin = getResponseOrigin(this._manager.getRequestXhr(this._requestId)?.responseURL);\n    if (responseOrigin !== this._manager._responseOrigin) {\n      this._storedError = new Error(`Expected range response-origin \"${responseOrigin}\" to match \"${this._manager._responseOrigin}\".`);\n      this._onError(0);\n    }\n  }\n  _close() {\n    this.onClosed?.(this);\n  }\n  _onDone(data) {\n    const chunk = data.chunk;\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunk = chunk;\n    }\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    this._close();\n  }\n  _onError(status) {\n    this._storedError ??= createResponseError(status, this._url);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._queuedChunk = null;\n  }\n  _onProgress(evt) {\n    if (!this.isStreamingSupported) {\n      this.onProgress?.({\n        loaded: evt.loaded\n      });\n    }\n  }\n  get isStreamingSupported() {\n    return false;\n  }\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._queuedChunk !== null) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n    this._close();\n  }\n}\n\n;// ./src/display/node_stream.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst urlRegex = /^[a-z][a-z0-9\\-+.]+:/i;\nfunction parseUrlOrPath(sourceUrl) {\n  if (urlRegex.test(sourceUrl)) {\n    return new URL(sourceUrl);\n  }\n  const url = process.getBuiltinModule(\"url\");\n  return new URL(url.pathToFileURL(sourceUrl));\n}\nclass PDFNodeStream {\n  constructor(source) {\n    this.source = source;\n    this.url = parseUrlOrPath(source.url);\n    assert(this.url.protocol === \"file:\", \"PDFNodeStream only supports file:// URLs.\");\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  getFullReader() {\n    assert(!this._fullRequestReader, \"PDFNodeStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFNodeStreamFsFullReader(this);\n    return this._fullRequestReader;\n  }\n  getRangeReader(start, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const rangeReader = new PDFNodeStreamFsRangeReader(this, start, end);\n    this._rangeRequestReaders.push(rangeReader);\n    return rangeReader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass PDFNodeStreamFsFullReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    const source = stream.source;\n    this._contentLength = source.length;\n    this._loaded = 0;\n    this._filename = null;\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    this._readableStream = null;\n    this._readCapability = Promise.withResolvers();\n    this._headersCapability = Promise.withResolvers();\n    const fs = process.getBuiltinModule(\"fs\");\n    fs.promises.lstat(this._url).then(stat => {\n      this._contentLength = stat.size;\n      this._setReadableStream(fs.createReadStream(this._url));\n      this._headersCapability.resolve();\n    }, error => {\n      if (error.code === \"ENOENT\") {\n        error = createResponseError(0, this._url.href);\n      }\n      this._storedError = error;\n      this._headersCapability.reject(error);\n    });\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = Promise.withResolvers();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength\n    });\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n    if (!this._isStreamingSupported && this._isRangeSupported) {\n      this._error(new AbortException(\"streaming is disabled\"));\n    }\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\nclass PDFNodeStreamFsRangeReader {\n  constructor(stream, start, end) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    this._loaded = 0;\n    this._readableStream = null;\n    this._readCapability = Promise.withResolvers();\n    const source = stream.source;\n    this._isStreamingSupported = !source.disableStream;\n    const fs = process.getBuiltinModule(\"fs\");\n    this._setReadableStream(fs.createReadStream(this._url, {\n      start,\n      end: end - 1\n    }));\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = Promise.withResolvers();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({\n      loaded: this._loaded\n    });\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\n\n;// ./src/display/pdf_objects.js\n\nconst INITIAL_DATA = Symbol(\"INITIAL_DATA\");\nclass PDFObjects {\n  #objs = Object.create(null);\n  #ensureObj(objId) {\n    return this.#objs[objId] ||= {\n      ...Promise.withResolvers(),\n      data: INITIAL_DATA\n    };\n  }\n  get(objId, callback = null) {\n    if (callback) {\n      const obj = this.#ensureObj(objId);\n      obj.promise.then(() => callback(obj.data));\n      return null;\n    }\n    const obj = this.#objs[objId];\n    if (!obj || obj.data === INITIAL_DATA) {\n      throw new Error(`Requesting object that isn't resolved yet ${objId}.`);\n    }\n    return obj.data;\n  }\n  has(objId) {\n    const obj = this.#objs[objId];\n    return !!obj && obj.data !== INITIAL_DATA;\n  }\n  delete(objId) {\n    const obj = this.#objs[objId];\n    if (!obj || obj.data === INITIAL_DATA) {\n      return false;\n    }\n    delete this.#objs[objId];\n    return true;\n  }\n  resolve(objId, data = null) {\n    const obj = this.#ensureObj(objId);\n    obj.data = data;\n    obj.resolve();\n  }\n  clear() {\n    for (const objId in this.#objs) {\n      const {\n        data\n      } = this.#objs[objId];\n      data?.bitmap?.close();\n    }\n    this.#objs = Object.create(null);\n  }\n  *[Symbol.iterator]() {\n    for (const objId in this.#objs) {\n      const {\n        data\n      } = this.#objs[objId];\n      if (data === INITIAL_DATA) {\n        continue;\n      }\n      yield [objId, data];\n    }\n  }\n}\n\n;// ./src/display/text_layer.js\n\n\n\n\n\n\n\n\n\n\n\nconst MAX_TEXT_DIVS_TO_RENDER = 100000;\nconst DEFAULT_FONT_SIZE = 30;\nclass TextLayer {\n  #capability = Promise.withResolvers();\n  #container = null;\n  #disableProcessItems = false;\n  #fontInspectorEnabled = !!globalThis.FontInspector?.enabled;\n  #lang = null;\n  #layoutTextParams = null;\n  #pageHeight = 0;\n  #pageWidth = 0;\n  #reader = null;\n  #rootContainer = null;\n  #rotation = 0;\n  #scale = 0;\n  #styleCache = Object.create(null);\n  #textContentItemsStr = [];\n  #textContentSource = null;\n  #textDivs = [];\n  #textDivProperties = new WeakMap();\n  #transform = null;\n  static #ascentCache = new Map();\n  static #canvasContexts = new Map();\n  static #canvasCtxFonts = new WeakMap();\n  static #minFontSize = null;\n  static #pendingTextLayers = new Set();\n  constructor({\n    textContentSource,\n    container,\n    viewport\n  }) {\n    if (textContentSource instanceof ReadableStream) {\n      this.#textContentSource = textContentSource;\n    } else if (typeof textContentSource === \"object\") {\n      this.#textContentSource = new ReadableStream({\n        start(controller) {\n          controller.enqueue(textContentSource);\n          controller.close();\n        }\n      });\n    } else {\n      throw new Error('No \"textContentSource\" parameter specified.');\n    }\n    this.#container = this.#rootContainer = container;\n    this.#scale = viewport.scale * OutputScale.pixelRatio;\n    this.#rotation = viewport.rotation;\n    this.#layoutTextParams = {\n      div: null,\n      properties: null,\n      ctx: null\n    };\n    const {\n      pageWidth,\n      pageHeight,\n      pageX,\n      pageY\n    } = viewport.rawDims;\n    this.#transform = [1, 0, 0, -1, -pageX, pageY + pageHeight];\n    this.#pageWidth = pageWidth;\n    this.#pageHeight = pageHeight;\n    TextLayer.#ensureMinFontSizeComputed();\n    setLayerDimensions(container, viewport);\n    this.#capability.promise.finally(() => {\n      TextLayer.#pendingTextLayers.delete(this);\n      this.#layoutTextParams = null;\n      this.#styleCache = null;\n    }).catch(() => {});\n  }\n  static get fontFamilyMap() {\n    const {\n      isWindows,\n      isFirefox\n    } = util_FeatureTest.platform;\n    return shadow(this, \"fontFamilyMap\", new Map([[\"sans-serif\", `${isWindows && isFirefox ? \"Calibri, \" : \"\"}sans-serif`], [\"monospace\", `${isWindows && isFirefox ? \"Lucida Console, \" : \"\"}monospace`]]));\n  }\n  render() {\n    const pump = () => {\n      this.#reader.read().then(({\n        value,\n        done\n      }) => {\n        if (done) {\n          this.#capability.resolve();\n          return;\n        }\n        this.#lang ??= value.lang;\n        Object.assign(this.#styleCache, value.styles);\n        this.#processItems(value.items);\n        pump();\n      }, this.#capability.reject);\n    };\n    this.#reader = this.#textContentSource.getReader();\n    TextLayer.#pendingTextLayers.add(this);\n    pump();\n    return this.#capability.promise;\n  }\n  update({\n    viewport,\n    onBefore = null\n  }) {\n    const scale = viewport.scale * OutputScale.pixelRatio;\n    const rotation = viewport.rotation;\n    if (rotation !== this.#rotation) {\n      onBefore?.();\n      this.#rotation = rotation;\n      setLayerDimensions(this.#rootContainer, {\n        rotation\n      });\n    }\n    if (scale !== this.#scale) {\n      onBefore?.();\n      this.#scale = scale;\n      const params = {\n        div: null,\n        properties: null,\n        ctx: TextLayer.#getCtx(this.#lang)\n      };\n      for (const div of this.#textDivs) {\n        params.properties = this.#textDivProperties.get(div);\n        params.div = div;\n        this.#layout(params);\n      }\n    }\n  }\n  cancel() {\n    const abortEx = new AbortException(\"TextLayer task cancelled.\");\n    this.#reader?.cancel(abortEx).catch(() => {});\n    this.#reader = null;\n    this.#capability.reject(abortEx);\n  }\n  get textDivs() {\n    return this.#textDivs;\n  }\n  get textContentItemsStr() {\n    return this.#textContentItemsStr;\n  }\n  #processItems(items) {\n    if (this.#disableProcessItems) {\n      return;\n    }\n    this.#layoutTextParams.ctx ??= TextLayer.#getCtx(this.#lang);\n    const textDivs = this.#textDivs,\n      textContentItemsStr = this.#textContentItemsStr;\n    for (const item of items) {\n      if (textDivs.length > MAX_TEXT_DIVS_TO_RENDER) {\n        warn(\"Ignoring additional textDivs for performance reasons.\");\n        this.#disableProcessItems = true;\n        return;\n      }\n      if (item.str === undefined) {\n        if (item.type === \"beginMarkedContentProps\" || item.type === \"beginMarkedContent\") {\n          const parent = this.#container;\n          this.#container = document.createElement(\"span\");\n          this.#container.classList.add(\"markedContent\");\n          if (item.id) {\n            this.#container.setAttribute(\"id\", `${item.id}`);\n          }\n          parent.append(this.#container);\n        } else if (item.type === \"endMarkedContent\") {\n          this.#container = this.#container.parentNode;\n        }\n        continue;\n      }\n      textContentItemsStr.push(item.str);\n      this.#appendText(item);\n    }\n  }\n  #appendText(geom) {\n    const textDiv = document.createElement(\"span\");\n    const textDivProperties = {\n      angle: 0,\n      canvasWidth: 0,\n      hasText: geom.str !== \"\",\n      hasEOL: geom.hasEOL,\n      fontSize: 0\n    };\n    this.#textDivs.push(textDiv);\n    const tx = Util.transform(this.#transform, geom.transform);\n    let angle = Math.atan2(tx[1], tx[0]);\n    const style = this.#styleCache[geom.fontName];\n    if (style.vertical) {\n      angle += Math.PI / 2;\n    }\n    let fontFamily = this.#fontInspectorEnabled && style.fontSubstitution || style.fontFamily;\n    fontFamily = TextLayer.fontFamilyMap.get(fontFamily) || fontFamily;\n    const fontHeight = Math.hypot(tx[2], tx[3]);\n    const fontAscent = fontHeight * TextLayer.#getAscent(fontFamily, style, this.#lang);\n    let left, top;\n    if (angle === 0) {\n      left = tx[4];\n      top = tx[5] - fontAscent;\n    } else {\n      left = tx[4] + fontAscent * Math.sin(angle);\n      top = tx[5] - fontAscent * Math.cos(angle);\n    }\n    const scaleFactorStr = \"calc(var(--total-scale-factor) *\";\n    const divStyle = textDiv.style;\n    if (this.#container === this.#rootContainer) {\n      divStyle.left = `${(100 * left / this.#pageWidth).toFixed(2)}%`;\n      divStyle.top = `${(100 * top / this.#pageHeight).toFixed(2)}%`;\n    } else {\n      divStyle.left = `${scaleFactorStr}${left.toFixed(2)}px)`;\n      divStyle.top = `${scaleFactorStr}${top.toFixed(2)}px)`;\n    }\n    divStyle.fontSize = `${scaleFactorStr}${(TextLayer.#minFontSize * fontHeight).toFixed(2)}px)`;\n    divStyle.fontFamily = fontFamily;\n    textDivProperties.fontSize = fontHeight;\n    textDiv.setAttribute(\"role\", \"presentation\");\n    textDiv.textContent = geom.str;\n    textDiv.dir = geom.dir;\n    if (this.#fontInspectorEnabled) {\n      textDiv.dataset.fontName = style.fontSubstitutionLoadedName || geom.fontName;\n    }\n    if (angle !== 0) {\n      textDivProperties.angle = angle * (180 / Math.PI);\n    }\n    let shouldScaleText = false;\n    if (geom.str.length > 1) {\n      shouldScaleText = true;\n    } else if (geom.str !== \" \" && geom.transform[0] !== geom.transform[3]) {\n      const absScaleX = Math.abs(geom.transform[0]),\n        absScaleY = Math.abs(geom.transform[3]);\n      if (absScaleX !== absScaleY && Math.max(absScaleX, absScaleY) / Math.min(absScaleX, absScaleY) > 1.5) {\n        shouldScaleText = true;\n      }\n    }\n    if (shouldScaleText) {\n      textDivProperties.canvasWidth = style.vertical ? geom.height : geom.width;\n    }\n    this.#textDivProperties.set(textDiv, textDivProperties);\n    this.#layoutTextParams.div = textDiv;\n    this.#layoutTextParams.properties = textDivProperties;\n    this.#layout(this.#layoutTextParams);\n    if (textDivProperties.hasText) {\n      this.#container.append(textDiv);\n    }\n    if (textDivProperties.hasEOL) {\n      const br = document.createElement(\"br\");\n      br.setAttribute(\"role\", \"presentation\");\n      this.#container.append(br);\n    }\n  }\n  #layout(params) {\n    const {\n      div,\n      properties,\n      ctx\n    } = params;\n    const {\n      style\n    } = div;\n    let transform = \"\";\n    if (TextLayer.#minFontSize > 1) {\n      transform = `scale(${1 / TextLayer.#minFontSize})`;\n    }\n    if (properties.canvasWidth !== 0 && properties.hasText) {\n      const {\n        fontFamily\n      } = style;\n      const {\n        canvasWidth,\n        fontSize\n      } = properties;\n      TextLayer.#ensureCtxFont(ctx, fontSize * this.#scale, fontFamily);\n      const {\n        width\n      } = ctx.measureText(div.textContent);\n      if (width > 0) {\n        transform = `scaleX(${canvasWidth * this.#scale / width}) ${transform}`;\n      }\n    }\n    if (properties.angle !== 0) {\n      transform = `rotate(${properties.angle}deg) ${transform}`;\n    }\n    if (transform.length > 0) {\n      style.transform = transform;\n    }\n  }\n  static cleanup() {\n    if (this.#pendingTextLayers.size > 0) {\n      return;\n    }\n    this.#ascentCache.clear();\n    for (const {\n      canvas\n    } of this.#canvasContexts.values()) {\n      canvas.remove();\n    }\n    this.#canvasContexts.clear();\n  }\n  static #getCtx(lang = null) {\n    let ctx = this.#canvasContexts.get(lang ||= \"\");\n    if (!ctx) {\n      const canvas = document.createElement(\"canvas\");\n      canvas.className = \"hiddenCanvasElement\";\n      canvas.lang = lang;\n      document.body.append(canvas);\n      ctx = canvas.getContext(\"2d\", {\n        alpha: false,\n        willReadFrequently: true\n      });\n      this.#canvasContexts.set(lang, ctx);\n      this.#canvasCtxFonts.set(ctx, {\n        size: 0,\n        family: \"\"\n      });\n    }\n    return ctx;\n  }\n  static #ensureCtxFont(ctx, size, family) {\n    const cached = this.#canvasCtxFonts.get(ctx);\n    if (size === cached.size && family === cached.family) {\n      return;\n    }\n    ctx.font = `${size}px ${family}`;\n    cached.size = size;\n    cached.family = family;\n  }\n  static #ensureMinFontSizeComputed() {\n    if (this.#minFontSize !== null) {\n      return;\n    }\n    const div = document.createElement(\"div\");\n    div.style.opacity = 0;\n    div.style.lineHeight = 1;\n    div.style.fontSize = \"1px\";\n    div.style.position = \"absolute\";\n    div.textContent = \"X\";\n    document.body.append(div);\n    this.#minFontSize = div.getBoundingClientRect().height;\n    div.remove();\n  }\n  static #getAscent(fontFamily, style, lang) {\n    const cachedAscent = this.#ascentCache.get(fontFamily);\n    if (cachedAscent) {\n      return cachedAscent;\n    }\n    const ctx = this.#getCtx(lang);\n    ctx.canvas.width = ctx.canvas.height = DEFAULT_FONT_SIZE;\n    this.#ensureCtxFont(ctx, DEFAULT_FONT_SIZE, fontFamily);\n    const metrics = ctx.measureText(\"\");\n    const ascent = metrics.fontBoundingBoxAscent;\n    const descent = Math.abs(metrics.fontBoundingBoxDescent);\n    ctx.canvas.width = ctx.canvas.height = 0;\n    let ratio = 0.8;\n    if (ascent) {\n      ratio = ascent / (ascent + descent);\n    } else {\n      if (util_FeatureTest.platform.isFirefox) {\n        warn(\"Enable the `dom.textMetrics.fontBoundingBox.enabled` preference \" + \"in `about:config` to improve TextLayer rendering.\");\n      }\n      if (style.ascent) {\n        ratio = style.ascent;\n      } else if (style.descent) {\n        ratio = 1 + style.descent;\n      }\n    }\n    this.#ascentCache.set(fontFamily, ratio);\n    return ratio;\n  }\n}\n\n;// ./src/display/api.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst RENDERING_CANCELLED_TIMEOUT = 100;\nfunction getDocument(src = {}) {\n  if (typeof src === \"string\" || src instanceof URL) {\n    src = {\n      url: src\n    };\n  } else if (src instanceof ArrayBuffer || ArrayBuffer.isView(src)) {\n    src = {\n      data: src\n    };\n  }\n  const task = new PDFDocumentLoadingTask();\n  const {\n    docId\n  } = task;\n  const url = src.url ? getUrlProp(src.url) : null;\n  const data = src.data ? getDataProp(src.data) : null;\n  const httpHeaders = src.httpHeaders || null;\n  const withCredentials = src.withCredentials === true;\n  const password = src.password ?? null;\n  const rangeTransport = src.range instanceof PDFDataRangeTransport ? src.range : null;\n  const rangeChunkSize = Number.isInteger(src.rangeChunkSize) && src.rangeChunkSize > 0 ? src.rangeChunkSize : 2 ** 16;\n  let worker = src.worker instanceof PDFWorker ? src.worker : null;\n  const verbosity = src.verbosity;\n  const docBaseUrl = typeof src.docBaseUrl === \"string\" && !isDataScheme(src.docBaseUrl) ? src.docBaseUrl : null;\n  const cMapUrl = getFactoryUrlProp(src.cMapUrl);\n  const cMapPacked = src.cMapPacked !== false;\n  const CMapReaderFactory = src.CMapReaderFactory || (isNodeJS ? NodeCMapReaderFactory : DOMCMapReaderFactory);\n  const iccUrl = getFactoryUrlProp(src.iccUrl);\n  const standardFontDataUrl = getFactoryUrlProp(src.standardFontDataUrl);\n  const StandardFontDataFactory = src.StandardFontDataFactory || (isNodeJS ? NodeStandardFontDataFactory : DOMStandardFontDataFactory);\n  const wasmUrl = getFactoryUrlProp(src.wasmUrl);\n  const WasmFactory = src.WasmFactory || (isNodeJS ? NodeWasmFactory : DOMWasmFactory);\n  const ignoreErrors = src.stopAtErrors !== true;\n  const maxImageSize = Number.isInteger(src.maxImageSize) && src.maxImageSize > -1 ? src.maxImageSize : -1;\n  const isEvalSupported = src.isEvalSupported !== false;\n  const isOffscreenCanvasSupported = typeof src.isOffscreenCanvasSupported === \"boolean\" ? src.isOffscreenCanvasSupported : !isNodeJS;\n  const isImageDecoderSupported = typeof src.isImageDecoderSupported === \"boolean\" ? src.isImageDecoderSupported : !isNodeJS && (util_FeatureTest.platform.isFirefox || !globalThis.chrome);\n  const canvasMaxAreaInBytes = Number.isInteger(src.canvasMaxAreaInBytes) ? src.canvasMaxAreaInBytes : -1;\n  const disableFontFace = typeof src.disableFontFace === \"boolean\" ? src.disableFontFace : isNodeJS;\n  const fontExtraProperties = src.fontExtraProperties === true;\n  const enableXfa = src.enableXfa === true;\n  const ownerDocument = src.ownerDocument || globalThis.document;\n  const disableRange = src.disableRange === true;\n  const disableStream = src.disableStream === true;\n  const disableAutoFetch = src.disableAutoFetch === true;\n  const pdfBug = src.pdfBug === true;\n  const CanvasFactory = src.CanvasFactory || (isNodeJS ? NodeCanvasFactory : DOMCanvasFactory);\n  const FilterFactory = src.FilterFactory || (isNodeJS ? NodeFilterFactory : DOMFilterFactory);\n  const enableHWA = src.enableHWA === true;\n  const useWasm = src.useWasm !== false;\n  const length = rangeTransport ? rangeTransport.length : src.length ?? NaN;\n  const useSystemFonts = typeof src.useSystemFonts === \"boolean\" ? src.useSystemFonts : !isNodeJS && !disableFontFace;\n  const useWorkerFetch = typeof src.useWorkerFetch === \"boolean\" ? src.useWorkerFetch : !!(CMapReaderFactory === DOMCMapReaderFactory && StandardFontDataFactory === DOMStandardFontDataFactory && WasmFactory === DOMWasmFactory && cMapUrl && standardFontDataUrl && wasmUrl && isValidFetchUrl(cMapUrl, document.baseURI) && isValidFetchUrl(standardFontDataUrl, document.baseURI) && isValidFetchUrl(wasmUrl, document.baseURI));\n  const styleElement = null;\n  setVerbosityLevel(verbosity);\n  const transportFactory = {\n    canvasFactory: new CanvasFactory({\n      ownerDocument,\n      enableHWA\n    }),\n    filterFactory: new FilterFactory({\n      docId,\n      ownerDocument\n    }),\n    cMapReaderFactory: useWorkerFetch ? null : new CMapReaderFactory({\n      baseUrl: cMapUrl,\n      isCompressed: cMapPacked\n    }),\n    standardFontDataFactory: useWorkerFetch ? null : new StandardFontDataFactory({\n      baseUrl: standardFontDataUrl\n    }),\n    wasmFactory: useWorkerFetch ? null : new WasmFactory({\n      baseUrl: wasmUrl\n    })\n  };\n  if (!worker) {\n    worker = PDFWorker.create({\n      verbosity,\n      port: GlobalWorkerOptions.workerPort\n    });\n    task._worker = worker;\n  }\n  const docParams = {\n    docId,\n    apiVersion: \"5.4.296\",\n    data,\n    password,\n    disableAutoFetch,\n    rangeChunkSize,\n    length,\n    docBaseUrl,\n    enableXfa,\n    evaluatorOptions: {\n      maxImageSize,\n      disableFontFace,\n      ignoreErrors,\n      isEvalSupported,\n      isOffscreenCanvasSupported,\n      isImageDecoderSupported,\n      canvasMaxAreaInBytes,\n      fontExtraProperties,\n      useSystemFonts,\n      useWasm,\n      useWorkerFetch,\n      cMapUrl,\n      iccUrl,\n      standardFontDataUrl,\n      wasmUrl\n    }\n  };\n  const transportParams = {\n    ownerDocument,\n    pdfBug,\n    styleElement,\n    loadingParams: {\n      disableAutoFetch,\n      enableXfa\n    }\n  };\n  worker.promise.then(function () {\n    if (task.destroyed) {\n      throw new Error(\"Loading aborted\");\n    }\n    if (worker.destroyed) {\n      throw new Error(\"Worker was destroyed\");\n    }\n    const workerIdPromise = worker.messageHandler.sendWithPromise(\"GetDocRequest\", docParams, data ? [data.buffer] : null);\n    let networkStream;\n    if (rangeTransport) {\n      networkStream = new PDFDataTransportStream(rangeTransport, {\n        disableRange,\n        disableStream\n      });\n    } else if (!data) {\n      if (!url) {\n        throw new Error(\"getDocument - no `url` parameter provided.\");\n      }\n      const NetworkStream = isValidFetchUrl(url) ? PDFFetchStream : isNodeJS ? PDFNodeStream : PDFNetworkStream;\n      networkStream = new NetworkStream({\n        url,\n        length,\n        httpHeaders,\n        withCredentials,\n        rangeChunkSize,\n        disableRange,\n        disableStream\n      });\n    }\n    return workerIdPromise.then(workerId => {\n      if (task.destroyed) {\n        throw new Error(\"Loading aborted\");\n      }\n      if (worker.destroyed) {\n        throw new Error(\"Worker was destroyed\");\n      }\n      const messageHandler = new MessageHandler(docId, workerId, worker.port);\n      const transport = new WorkerTransport(messageHandler, task, networkStream, transportParams, transportFactory, enableHWA);\n      task._transport = transport;\n      messageHandler.send(\"Ready\", null);\n    });\n  }).catch(task._capability.reject);\n  return task;\n}\nclass PDFDocumentLoadingTask {\n  static #docId = 0;\n  _capability = Promise.withResolvers();\n  _transport = null;\n  _worker = null;\n  docId = `d${PDFDocumentLoadingTask.#docId++}`;\n  destroyed = false;\n  onPassword = null;\n  onProgress = null;\n  get promise() {\n    return this._capability.promise;\n  }\n  async destroy() {\n    this.destroyed = true;\n    try {\n      if (this._worker?.port) {\n        this._worker._pendingDestroy = true;\n      }\n      await this._transport?.destroy();\n    } catch (ex) {\n      if (this._worker?.port) {\n        delete this._worker._pendingDestroy;\n      }\n      throw ex;\n    }\n    this._transport = null;\n    this._worker?.destroy();\n    this._worker = null;\n  }\n  async getData() {\n    return this._transport.getData();\n  }\n}\nclass PDFDataRangeTransport {\n  #capability = Promise.withResolvers();\n  #progressiveDoneListeners = [];\n  #progressiveReadListeners = [];\n  #progressListeners = [];\n  #rangeListeners = [];\n  constructor(length, initialData, progressiveDone = false, contentDispositionFilename = null) {\n    this.length = length;\n    this.initialData = initialData;\n    this.progressiveDone = progressiveDone;\n    this.contentDispositionFilename = contentDispositionFilename;\n  }\n  addRangeListener(listener) {\n    this.#rangeListeners.push(listener);\n  }\n  addProgressListener(listener) {\n    this.#progressListeners.push(listener);\n  }\n  addProgressiveReadListener(listener) {\n    this.#progressiveReadListeners.push(listener);\n  }\n  addProgressiveDoneListener(listener) {\n    this.#progressiveDoneListeners.push(listener);\n  }\n  onDataRange(begin, chunk) {\n    for (const listener of this.#rangeListeners) {\n      listener(begin, chunk);\n    }\n  }\n  onDataProgress(loaded, total) {\n    this.#capability.promise.then(() => {\n      for (const listener of this.#progressListeners) {\n        listener(loaded, total);\n      }\n    });\n  }\n  onDataProgressiveRead(chunk) {\n    this.#capability.promise.then(() => {\n      for (const listener of this.#progressiveReadListeners) {\n        listener(chunk);\n      }\n    });\n  }\n  onDataProgressiveDone() {\n    this.#capability.promise.then(() => {\n      for (const listener of this.#progressiveDoneListeners) {\n        listener();\n      }\n    });\n  }\n  transportReady() {\n    this.#capability.resolve();\n  }\n  requestDataRange(begin, end) {\n    unreachable(\"Abstract method PDFDataRangeTransport.requestDataRange\");\n  }\n  abort() {}\n}\nclass PDFDocumentProxy {\n  constructor(pdfInfo, transport) {\n    this._pdfInfo = pdfInfo;\n    this._transport = transport;\n  }\n  get annotationStorage() {\n    return this._transport.annotationStorage;\n  }\n  get canvasFactory() {\n    return this._transport.canvasFactory;\n  }\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n  get numPages() {\n    return this._pdfInfo.numPages;\n  }\n  get fingerprints() {\n    return this._pdfInfo.fingerprints;\n  }\n  get isPureXfa() {\n    return shadow(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n  get allXfaHtml() {\n    return this._transport._htmlForXfa;\n  }\n  getPage(pageNumber) {\n    return this._transport.getPage(pageNumber);\n  }\n  getPageIndex(ref) {\n    return this._transport.getPageIndex(ref);\n  }\n  getDestinations() {\n    return this._transport.getDestinations();\n  }\n  getDestination(id) {\n    return this._transport.getDestination(id);\n  }\n  getPageLabels() {\n    return this._transport.getPageLabels();\n  }\n  getPageLayout() {\n    return this._transport.getPageLayout();\n  }\n  getPageMode() {\n    return this._transport.getPageMode();\n  }\n  getViewerPreferences() {\n    return this._transport.getViewerPreferences();\n  }\n  getOpenAction() {\n    return this._transport.getOpenAction();\n  }\n  getAttachments() {\n    return this._transport.getAttachments();\n  }\n  getAnnotationsByType(types, pageIndexesToSkip) {\n    return this._transport.getAnnotationsByType(types, pageIndexesToSkip);\n  }\n  getJSActions() {\n    return this._transport.getDocJSActions();\n  }\n  getOutline() {\n    return this._transport.getOutline();\n  }\n  getOptionalContentConfig({\n    intent = \"display\"\n  } = {}) {\n    const {\n      renderingIntent\n    } = this._transport.getRenderingIntent(intent);\n    return this._transport.getOptionalContentConfig(renderingIntent);\n  }\n  getPermissions() {\n    return this._transport.getPermissions();\n  }\n  getMetadata() {\n    return this._transport.getMetadata();\n  }\n  getMarkInfo() {\n    return this._transport.getMarkInfo();\n  }\n  getData() {\n    return this._transport.getData();\n  }\n  saveDocument() {\n    return this._transport.saveDocument();\n  }\n  getDownloadInfo() {\n    return this._transport.downloadInfoCapability.promise;\n  }\n  cleanup(keepLoadedFonts = false) {\n    return this._transport.startCleanup(keepLoadedFonts || this.isPureXfa);\n  }\n  destroy() {\n    return this.loadingTask.destroy();\n  }\n  cachedPageNumber(ref) {\n    return this._transport.cachedPageNumber(ref);\n  }\n  get loadingParams() {\n    return this._transport.loadingParams;\n  }\n  get loadingTask() {\n    return this._transport.loadingTask;\n  }\n  getFieldObjects() {\n    return this._transport.getFieldObjects();\n  }\n  hasJSActions() {\n    return this._transport.hasJSActions();\n  }\n  getCalculationOrderIds() {\n    return this._transport.getCalculationOrderIds();\n  }\n}\nclass PDFPageProxy {\n  #pendingCleanup = false;\n  constructor(pageIndex, pageInfo, transport, pdfBug = false) {\n    this._pageIndex = pageIndex;\n    this._pageInfo = pageInfo;\n    this._transport = transport;\n    this._stats = pdfBug ? new StatTimer() : null;\n    this._pdfBug = pdfBug;\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n    this._intentStates = new Map();\n    this.destroyed = false;\n    this.recordedBBoxes = null;\n  }\n  get pageNumber() {\n    return this._pageIndex + 1;\n  }\n  get rotate() {\n    return this._pageInfo.rotate;\n  }\n  get ref() {\n    return this._pageInfo.ref;\n  }\n  get userUnit() {\n    return this._pageInfo.userUnit;\n  }\n  get view() {\n    return this._pageInfo.view;\n  }\n  getViewport({\n    scale,\n    rotation = this.rotate,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.view,\n      userUnit: this.userUnit,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n  getAnnotations({\n    intent = \"display\"\n  } = {}) {\n    const {\n      renderingIntent\n    } = this._transport.getRenderingIntent(intent);\n    return this._transport.getAnnotations(this._pageIndex, renderingIntent);\n  }\n  getJSActions() {\n    return this._transport.getPageJSActions(this._pageIndex);\n  }\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n  get isPureXfa() {\n    return shadow(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n  async getXfa() {\n    return this._transport._htmlForXfa?.children[this._pageIndex] || null;\n  }\n  render({\n    canvasContext,\n    canvas = canvasContext.canvas,\n    viewport,\n    intent = \"display\",\n    annotationMode = AnnotationMode.ENABLE,\n    transform = null,\n    background = null,\n    optionalContentConfigPromise = null,\n    annotationCanvasMap = null,\n    pageColors = null,\n    printAnnotationStorage = null,\n    isEditing = false,\n    recordOperations = false,\n    operationsFilter = null\n  }) {\n    this._stats?.time(\"Overall\");\n    const intentArgs = this._transport.getRenderingIntent(intent, annotationMode, printAnnotationStorage, isEditing);\n    const {\n      renderingIntent,\n      cacheKey\n    } = intentArgs;\n    this.#pendingCleanup = false;\n    optionalContentConfigPromise ||= this._transport.getOptionalContentConfig(renderingIntent);\n    let intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(cacheKey, intentState);\n    }\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n    const intentPrint = !!(renderingIntent & RenderingIntentFlag.PRINT);\n    if (!intentState.displayReadyCapability) {\n      intentState.displayReadyCapability = Promise.withResolvers();\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null\n      };\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n    const recordForDebugger = Boolean(this._pdfBug && globalThis.StepperManager?.enabled);\n    const shouldRecordOperations = !this.recordedBBoxes && (recordOperations || recordForDebugger);\n    const complete = error => {\n      intentState.renderTasks.delete(internalRenderTask);\n      if (shouldRecordOperations) {\n        const recordedBBoxes = internalRenderTask.gfx?.dependencyTracker.take();\n        if (recordedBBoxes) {\n          if (internalRenderTask.stepper) {\n            internalRenderTask.stepper.setOperatorBBoxes(recordedBBoxes, internalRenderTask.gfx.dependencyTracker.takeDebugMetadata());\n          }\n          if (recordOperations) {\n            this.recordedBBoxes = recordedBBoxes;\n          }\n        }\n      }\n      if (intentPrint) {\n        this.#pendingCleanup = true;\n      }\n      this.#tryCleanup();\n      if (error) {\n        internalRenderTask.capability.reject(error);\n        this._abortOperatorList({\n          intentState,\n          reason: error instanceof Error ? error : new Error(error)\n        });\n      } else {\n        internalRenderTask.capability.resolve();\n      }\n      if (this._stats) {\n        this._stats.timeEnd(\"Rendering\");\n        this._stats.timeEnd(\"Overall\");\n        if (globalThis.Stats?.enabled) {\n          globalThis.Stats.add(this.pageNumber, this._stats);\n        }\n      }\n    };\n    const internalRenderTask = new InternalRenderTask({\n      callback: complete,\n      params: {\n        canvas,\n        canvasContext,\n        dependencyTracker: shouldRecordOperations ? new CanvasDependencyTracker(canvas, intentState.operatorList.length, recordForDebugger) : null,\n        viewport,\n        transform,\n        background\n      },\n      objs: this.objs,\n      commonObjs: this.commonObjs,\n      annotationCanvasMap,\n      operatorList: intentState.operatorList,\n      pageIndex: this._pageIndex,\n      canvasFactory: this._transport.canvasFactory,\n      filterFactory: this._transport.filterFactory,\n      useRequestAnimationFrame: !intentPrint,\n      pdfBug: this._pdfBug,\n      pageColors,\n      enableHWA: this._transport.enableHWA,\n      operationsFilter\n    });\n    (intentState.renderTasks ||= new Set()).add(internalRenderTask);\n    const renderTask = internalRenderTask.task;\n    Promise.all([intentState.displayReadyCapability.promise, optionalContentConfigPromise]).then(([transparency, optionalContentConfig]) => {\n      if (this.destroyed) {\n        complete();\n        return;\n      }\n      this._stats?.time(\"Rendering\");\n      if (!(optionalContentConfig.renderingIntent & renderingIntent)) {\n        throw new Error(\"Must use the same `intent`-argument when calling the `PDFPageProxy.render` \" + \"and `PDFDocumentProxy.getOptionalContentConfig` methods.\");\n      }\n      internalRenderTask.initializeGraphics({\n        transparency,\n        optionalContentConfig\n      });\n      internalRenderTask.operatorListChanged();\n    }).catch(complete);\n    return renderTask;\n  }\n  getOperatorList({\n    intent = \"display\",\n    annotationMode = AnnotationMode.ENABLE,\n    printAnnotationStorage = null,\n    isEditing = false\n  } = {}) {\n    function operatorListChanged() {\n      if (intentState.operatorList.lastChunk) {\n        intentState.opListReadCapability.resolve(intentState.operatorList);\n        intentState.renderTasks.delete(opListTask);\n      }\n    }\n    const intentArgs = this._transport.getRenderingIntent(intent, annotationMode, printAnnotationStorage, isEditing, true);\n    let intentState = this._intentStates.get(intentArgs.cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(intentArgs.cacheKey, intentState);\n    }\n    let opListTask;\n    if (!intentState.opListReadCapability) {\n      opListTask = Object.create(null);\n      opListTask.operatorListChanged = operatorListChanged;\n      intentState.opListReadCapability = Promise.withResolvers();\n      (intentState.renderTasks ||= new Set()).add(opListTask);\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null\n      };\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n    return intentState.opListReadCapability.promise;\n  }\n  streamTextContent({\n    includeMarkedContent = false,\n    disableNormalization = false\n  } = {}) {\n    const TEXT_CONTENT_CHUNK_SIZE = 100;\n    return this._transport.messageHandler.sendWithStream(\"GetTextContent\", {\n      pageIndex: this._pageIndex,\n      includeMarkedContent: includeMarkedContent === true,\n      disableNormalization: disableNormalization === true\n    }, {\n      highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n      size(textContent) {\n        return textContent.items.length;\n      }\n    });\n  }\n  getTextContent(params = {}) {\n    if (this._transport._htmlForXfa) {\n      return this.getXfa().then(xfa => XfaText.textContent(xfa));\n    }\n    const readableStream = this.streamTextContent(params);\n    return new Promise(function (resolve, reject) {\n      function pump() {\n        reader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            resolve(textContent);\n            return;\n          }\n          textContent.lang ??= value.lang;\n          Object.assign(textContent.styles, value.styles);\n          textContent.items.push(...value.items);\n          pump();\n        }, reject);\n      }\n      const reader = readableStream.getReader();\n      const textContent = {\n        items: [],\n        styles: Object.create(null),\n        lang: null\n      };\n      pump();\n    });\n  }\n  getStructTree() {\n    return this._transport.getStructTree(this._pageIndex);\n  }\n  _destroy() {\n    this.destroyed = true;\n    const waitOn = [];\n    for (const intentState of this._intentStates.values()) {\n      this._abortOperatorList({\n        intentState,\n        reason: new Error(\"Page was destroyed.\"),\n        force: true\n      });\n      if (intentState.opListReadCapability) {\n        continue;\n      }\n      for (const internalRenderTask of intentState.renderTasks) {\n        waitOn.push(internalRenderTask.completed);\n        internalRenderTask.cancel();\n      }\n    }\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    return Promise.all(waitOn);\n  }\n  cleanup(resetStats = false) {\n    this.#pendingCleanup = true;\n    const success = this.#tryCleanup();\n    if (resetStats && success) {\n      this._stats &&= new StatTimer();\n    }\n    return success;\n  }\n  #tryCleanup() {\n    if (!this.#pendingCleanup || this.destroyed) {\n      return false;\n    }\n    for (const {\n      renderTasks,\n      operatorList\n    } of this._intentStates.values()) {\n      if (renderTasks.size > 0 || !operatorList.lastChunk) {\n        return false;\n      }\n    }\n    this._intentStates.clear();\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    return true;\n  }\n  _startRenderPage(transparency, cacheKey) {\n    const intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      return;\n    }\n    this._stats?.timeEnd(\"Page Request\");\n    intentState.displayReadyCapability?.resolve(transparency);\n  }\n  _renderPageChunk(operatorListChunk, intentState) {\n    for (let i = 0, ii = operatorListChunk.length; i < ii; i++) {\n      intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n      intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n    }\n    intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n    intentState.operatorList.separateAnnots = operatorListChunk.separateAnnots;\n    for (const internalRenderTask of intentState.renderTasks) {\n      internalRenderTask.operatorListChanged();\n    }\n    if (operatorListChunk.lastChunk) {\n      this.#tryCleanup();\n    }\n  }\n  _pumpOperatorList({\n    renderingIntent,\n    cacheKey,\n    annotationStorageSerializable,\n    modifiedIds\n  }) {\n    const {\n      map,\n      transfer\n    } = annotationStorageSerializable;\n    const readableStream = this._transport.messageHandler.sendWithStream(\"GetOperatorList\", {\n      pageIndex: this._pageIndex,\n      intent: renderingIntent,\n      cacheKey,\n      annotationStorage: map,\n      modifiedIds\n    }, transfer);\n    const reader = readableStream.getReader();\n    const intentState = this._intentStates.get(cacheKey);\n    intentState.streamReader = reader;\n    const pump = () => {\n      reader.read().then(({\n        value,\n        done\n      }) => {\n        if (done) {\n          intentState.streamReader = null;\n          return;\n        }\n        if (this._transport.destroyed) {\n          return;\n        }\n        this._renderPageChunk(value, intentState);\n        pump();\n      }, reason => {\n        intentState.streamReader = null;\n        if (this._transport.destroyed) {\n          return;\n        }\n        if (intentState.operatorList) {\n          intentState.operatorList.lastChunk = true;\n          for (const internalRenderTask of intentState.renderTasks) {\n            internalRenderTask.operatorListChanged();\n          }\n          this.#tryCleanup();\n        }\n        if (intentState.displayReadyCapability) {\n          intentState.displayReadyCapability.reject(reason);\n        } else if (intentState.opListReadCapability) {\n          intentState.opListReadCapability.reject(reason);\n        } else {\n          throw reason;\n        }\n      });\n    };\n    pump();\n  }\n  _abortOperatorList({\n    intentState,\n    reason,\n    force = false\n  }) {\n    if (!intentState.streamReader) {\n      return;\n    }\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n    if (!force) {\n      if (intentState.renderTasks.size > 0) {\n        return;\n      }\n      if (reason instanceof RenderingCancelledException) {\n        let delay = RENDERING_CANCELLED_TIMEOUT;\n        if (reason.extraDelay > 0 && reason.extraDelay < 1000) {\n          delay += reason.extraDelay;\n        }\n        intentState.streamReaderCancelTimeout = setTimeout(() => {\n          intentState.streamReaderCancelTimeout = null;\n          this._abortOperatorList({\n            intentState,\n            reason,\n            force: true\n          });\n        }, delay);\n        return;\n      }\n    }\n    intentState.streamReader.cancel(new AbortException(reason.message)).catch(() => {});\n    intentState.streamReader = null;\n    if (this._transport.destroyed) {\n      return;\n    }\n    for (const [curCacheKey, curIntentState] of this._intentStates) {\n      if (curIntentState === intentState) {\n        this._intentStates.delete(curCacheKey);\n        break;\n      }\n    }\n    this.cleanup();\n  }\n  get stats() {\n    return this._stats;\n  }\n}\nclass PDFWorker {\n  #capability = Promise.withResolvers();\n  #messageHandler = null;\n  #port = null;\n  #webWorker = null;\n  static #fakeWorkerId = 0;\n  static #isWorkerDisabled = false;\n  static #workerPorts = new WeakMap();\n  static {\n    if (isNodeJS) {\n      this.#isWorkerDisabled = true;\n      GlobalWorkerOptions.workerSrc ||= \"./pdf.worker.mjs\";\n    }\n    this._isSameOrigin = (baseUrl, otherUrl) => {\n      const base = URL.parse(baseUrl);\n      if (!base?.origin || base.origin === \"null\") {\n        return false;\n      }\n      const other = new URL(otherUrl, base);\n      return base.origin === other.origin;\n    };\n    this._createCDNWrapper = url => {\n      const wrapper = `await import(\"${url}\");`;\n      return URL.createObjectURL(new Blob([wrapper], {\n        type: \"text/javascript\"\n      }));\n    };\n    this.fromPort = params => {\n      deprecated(\"`PDFWorker.fromPort` - please use `PDFWorker.create` instead.\");\n      if (!params?.port) {\n        throw new Error(\"PDFWorker.fromPort - invalid method signature.\");\n      }\n      return this.create(params);\n    };\n  }\n  constructor({\n    name = null,\n    port = null,\n    verbosity = getVerbosityLevel()\n  } = {}) {\n    this.name = name;\n    this.destroyed = false;\n    this.verbosity = verbosity;\n    if (port) {\n      if (PDFWorker.#workerPorts.has(port)) {\n        throw new Error(\"Cannot use more than one PDFWorker per port.\");\n      }\n      PDFWorker.#workerPorts.set(port, this);\n      this.#initializeFromPort(port);\n    } else {\n      this.#initialize();\n    }\n  }\n  get promise() {\n    return this.#capability.promise;\n  }\n  #resolve() {\n    this.#capability.resolve();\n    this.#messageHandler.send(\"configure\", {\n      verbosity: this.verbosity\n    });\n  }\n  get port() {\n    return this.#port;\n  }\n  get messageHandler() {\n    return this.#messageHandler;\n  }\n  #initializeFromPort(port) {\n    this.#port = port;\n    this.#messageHandler = new MessageHandler(\"main\", \"worker\", port);\n    this.#messageHandler.on(\"ready\", () => {});\n    this.#resolve();\n  }\n  #initialize() {\n    if (PDFWorker.#isWorkerDisabled || PDFWorker.#mainThreadWorkerMessageHandler) {\n      this.#setupFakeWorker();\n      return;\n    }\n    let {\n      workerSrc\n    } = PDFWorker;\n    try {\n      if (!PDFWorker._isSameOrigin(window.location, workerSrc)) {\n        workerSrc = PDFWorker._createCDNWrapper(new URL(workerSrc, window.location).href);\n      }\n      const worker = new Worker(workerSrc, {\n        type: \"module\"\n      });\n      const messageHandler = new MessageHandler(\"main\", \"worker\", worker);\n      const terminateEarly = () => {\n        ac.abort();\n        messageHandler.destroy();\n        worker.terminate();\n        if (this.destroyed) {\n          this.#capability.reject(new Error(\"Worker was destroyed\"));\n        } else {\n          this.#setupFakeWorker();\n        }\n      };\n      const ac = new AbortController();\n      worker.addEventListener(\"error\", () => {\n        if (!this.#webWorker) {\n          terminateEarly();\n        }\n      }, {\n        signal: ac.signal\n      });\n      messageHandler.on(\"test\", data => {\n        ac.abort();\n        if (this.destroyed || !data) {\n          terminateEarly();\n          return;\n        }\n        this.#messageHandler = messageHandler;\n        this.#port = worker;\n        this.#webWorker = worker;\n        this.#resolve();\n      });\n      messageHandler.on(\"ready\", data => {\n        ac.abort();\n        if (this.destroyed) {\n          terminateEarly();\n          return;\n        }\n        try {\n          sendTest();\n        } catch {\n          this.#setupFakeWorker();\n        }\n      });\n      const sendTest = () => {\n        const testObj = new Uint8Array();\n        messageHandler.send(\"test\", testObj, [testObj.buffer]);\n      };\n      sendTest();\n      return;\n    } catch {\n      info(\"The worker has been disabled.\");\n    }\n    this.#setupFakeWorker();\n  }\n  #setupFakeWorker() {\n    if (!PDFWorker.#isWorkerDisabled) {\n      warn(\"Setting up fake worker.\");\n      PDFWorker.#isWorkerDisabled = true;\n    }\n    PDFWorker._setupFakeWorkerGlobal.then(WorkerMessageHandler => {\n      if (this.destroyed) {\n        this.#capability.reject(new Error(\"Worker was destroyed\"));\n        return;\n      }\n      const port = new LoopbackPort();\n      this.#port = port;\n      const id = `fake${PDFWorker.#fakeWorkerId++}`;\n      const workerHandler = new MessageHandler(id + \"_worker\", id, port);\n      WorkerMessageHandler.setup(workerHandler, port);\n      this.#messageHandler = new MessageHandler(id, id + \"_worker\", port);\n      this.#resolve();\n    }).catch(reason => {\n      this.#capability.reject(new Error(`Setting up fake worker failed: \"${reason.message}\".`));\n    });\n  }\n  destroy() {\n    this.destroyed = true;\n    this.#webWorker?.terminate();\n    this.#webWorker = null;\n    PDFWorker.#workerPorts.delete(this.#port);\n    this.#port = null;\n    this.#messageHandler?.destroy();\n    this.#messageHandler = null;\n  }\n  static create(params) {\n    const cachedPort = this.#workerPorts.get(params?.port);\n    if (cachedPort) {\n      if (cachedPort._pendingDestroy) {\n        throw new Error(\"PDFWorker.create - the worker is being destroyed.\\n\" + \"Please remember to await `PDFDocumentLoadingTask.destroy()`-calls.\");\n      }\n      return cachedPort;\n    }\n    return new PDFWorker(params);\n  }\n  static get workerSrc() {\n    if (GlobalWorkerOptions.workerSrc) {\n      return GlobalWorkerOptions.workerSrc;\n    }\n    throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');\n  }\n  static get #mainThreadWorkerMessageHandler() {\n    try {\n      return globalThis.pdfjsWorker?.WorkerMessageHandler || null;\n    } catch {\n      return null;\n    }\n  }\n  static get _setupFakeWorkerGlobal() {\n    const loader = async () => {\n      if (this.#mainThreadWorkerMessageHandler) {\n        return this.#mainThreadWorkerMessageHandler;\n      }\n      const worker = await import(\n      /*webpackIgnore: true*/\n      /*@vite-ignore*/\n      this.workerSrc);\n      return worker.WorkerMessageHandler;\n    };\n    return shadow(this, \"_setupFakeWorkerGlobal\", loader());\n  }\n}\nclass WorkerTransport {\n  #methodPromises = new Map();\n  #pageCache = new Map();\n  #pagePromises = new Map();\n  #pageRefCache = new Map();\n  #passwordCapability = null;\n  constructor(messageHandler, loadingTask, networkStream, params, factory, enableHWA) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new FontLoader({\n      ownerDocument: params.ownerDocument,\n      styleElement: params.styleElement\n    });\n    this.loadingParams = params.loadingParams;\n    this._params = params;\n    this.canvasFactory = factory.canvasFactory;\n    this.filterFactory = factory.filterFactory;\n    this.cMapReaderFactory = factory.cMapReaderFactory;\n    this.standardFontDataFactory = factory.standardFontDataFactory;\n    this.wasmFactory = factory.wasmFactory;\n    this.destroyed = false;\n    this.destroyCapability = null;\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n    this.downloadInfoCapability = Promise.withResolvers();\n    this.enableHWA = enableHWA;\n    this.setupMessageHandler();\n  }\n  #cacheSimpleMethod(name, data = null) {\n    const cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(name, data);\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n  get annotationStorage() {\n    return shadow(this, \"annotationStorage\", new AnnotationStorage());\n  }\n  getRenderingIntent(intent, annotationMode = AnnotationMode.ENABLE, printAnnotationStorage = null, isEditing = false, isOpList = false) {\n    let renderingIntent = RenderingIntentFlag.DISPLAY;\n    let annotationStorageSerializable = SerializableEmpty;\n    switch (intent) {\n      case \"any\":\n        renderingIntent = RenderingIntentFlag.ANY;\n        break;\n      case \"display\":\n        break;\n      case \"print\":\n        renderingIntent = RenderingIntentFlag.PRINT;\n        break;\n      default:\n        warn(`getRenderingIntent - invalid intent: ${intent}`);\n    }\n    const annotationStorage = renderingIntent & RenderingIntentFlag.PRINT && printAnnotationStorage instanceof PrintAnnotationStorage ? printAnnotationStorage : this.annotationStorage;\n    switch (annotationMode) {\n      case AnnotationMode.DISABLE:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_DISABLE;\n        break;\n      case AnnotationMode.ENABLE:\n        break;\n      case AnnotationMode.ENABLE_FORMS:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_FORMS;\n        break;\n      case AnnotationMode.ENABLE_STORAGE:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_STORAGE;\n        annotationStorageSerializable = annotationStorage.serializable;\n        break;\n      default:\n        warn(`getRenderingIntent - invalid annotationMode: ${annotationMode}`);\n    }\n    if (isEditing) {\n      renderingIntent += RenderingIntentFlag.IS_EDITING;\n    }\n    if (isOpList) {\n      renderingIntent += RenderingIntentFlag.OPLIST;\n    }\n    const {\n      ids: modifiedIds,\n      hash: modifiedIdsHash\n    } = annotationStorage.modifiedIds;\n    const cacheKeyBuf = [renderingIntent, annotationStorageSerializable.hash, modifiedIdsHash];\n    return {\n      renderingIntent,\n      cacheKey: cacheKeyBuf.join(\"_\"),\n      annotationStorageSerializable,\n      modifiedIds\n    };\n  }\n  destroy() {\n    if (this.destroyCapability) {\n      return this.destroyCapability.promise;\n    }\n    this.destroyed = true;\n    this.destroyCapability = Promise.withResolvers();\n    this.#passwordCapability?.reject(new Error(\"Worker was destroyed during onPassword callback\"));\n    const waitOn = [];\n    for (const page of this.#pageCache.values()) {\n      waitOn.push(page._destroy());\n    }\n    this.#pageCache.clear();\n    this.#pagePromises.clear();\n    this.#pageRefCache.clear();\n    if (this.hasOwnProperty(\"annotationStorage\")) {\n      this.annotationStorage.resetModified();\n    }\n    const terminated = this.messageHandler.sendWithPromise(\"Terminate\", null);\n    waitOn.push(terminated);\n    Promise.all(waitOn).then(() => {\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n      this.#methodPromises.clear();\n      this.filterFactory.destroy();\n      TextLayer.cleanup();\n      this._networkStream?.cancelAllRequests(new AbortException(\"Worker was terminated.\"));\n      this.messageHandler?.destroy();\n      this.messageHandler = null;\n      this.destroyCapability.resolve();\n    }, this.destroyCapability.reject);\n    return this.destroyCapability.promise;\n  }\n  setupMessageHandler() {\n    const {\n      messageHandler,\n      loadingTask\n    } = this;\n    messageHandler.on(\"GetReader\", (data, sink) => {\n      assert(this._networkStream, \"GetReader - no `IPDFStream` instance available.\");\n      this._fullReader = this._networkStream.getFullReader();\n      this._fullReader.onProgress = evt => {\n        this._lastProgress = {\n          loaded: evt.loaded,\n          total: evt.total\n        };\n      };\n      sink.onPull = () => {\n        this._fullReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n          assert(value instanceof ArrayBuffer, \"GetReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n      sink.onCancel = reason => {\n        this._fullReader.cancel(reason);\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"ReaderHeadersReady\", async data => {\n      await this._fullReader.headersReady;\n      const {\n        isStreamingSupported,\n        isRangeSupported,\n        contentLength\n      } = this._fullReader;\n      if (!isStreamingSupported || !isRangeSupported) {\n        if (this._lastProgress) {\n          loadingTask.onProgress?.(this._lastProgress);\n        }\n        this._fullReader.onProgress = evt => {\n          loadingTask.onProgress?.({\n            loaded: evt.loaded,\n            total: evt.total\n          });\n        };\n      }\n      return {\n        isStreamingSupported,\n        isRangeSupported,\n        contentLength\n      };\n    });\n    messageHandler.on(\"GetRangeReader\", (data, sink) => {\n      assert(this._networkStream, \"GetRangeReader - no `IPDFStream` instance available.\");\n      const rangeReader = this._networkStream.getRangeReader(data.begin, data.end);\n      if (!rangeReader) {\n        sink.close();\n        return;\n      }\n      sink.onPull = () => {\n        rangeReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n          assert(value instanceof ArrayBuffer, \"GetRangeReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n      sink.onCancel = reason => {\n        rangeReader.cancel(reason);\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"GetDoc\", ({\n      pdfInfo\n    }) => {\n      this._numPages = pdfInfo.numPages;\n      this._htmlForXfa = pdfInfo.htmlForXfa;\n      delete pdfInfo.htmlForXfa;\n      loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo, this));\n    });\n    messageHandler.on(\"DocException\", ex => {\n      loadingTask._capability.reject(wrapReason(ex));\n    });\n    messageHandler.on(\"PasswordRequest\", ex => {\n      this.#passwordCapability = Promise.withResolvers();\n      try {\n        if (!loadingTask.onPassword) {\n          throw wrapReason(ex);\n        }\n        const updatePassword = password => {\n          if (password instanceof Error) {\n            this.#passwordCapability.reject(password);\n          } else {\n            this.#passwordCapability.resolve({\n              password\n            });\n          }\n        };\n        loadingTask.onPassword(updatePassword, ex.code);\n      } catch (err) {\n        this.#passwordCapability.reject(err);\n      }\n      return this.#passwordCapability.promise;\n    });\n    messageHandler.on(\"DataLoaded\", data => {\n      loadingTask.onProgress?.({\n        loaded: data.length,\n        total: data.length\n      });\n      this.downloadInfoCapability.resolve(data);\n    });\n    messageHandler.on(\"StartRenderPage\", data => {\n      if (this.destroyed) {\n        return;\n      }\n      const page = this.#pageCache.get(data.pageIndex);\n      page._startRenderPage(data.transparency, data.cacheKey);\n    });\n    messageHandler.on(\"commonobj\", ([id, type, exportedData]) => {\n      if (this.destroyed) {\n        return null;\n      }\n      if (this.commonObjs.has(id)) {\n        return null;\n      }\n      switch (type) {\n        case \"Font\":\n          if (\"error\" in exportedData) {\n            const exportedError = exportedData.error;\n            warn(`Error during font loading: ${exportedError}`);\n            this.commonObjs.resolve(id, exportedError);\n            break;\n          }\n          const fontData = new FontInfo(exportedData);\n          const inspectFont = this._params.pdfBug && globalThis.FontInspector?.enabled ? (font, url) => globalThis.FontInspector.fontAdded(font, url) : null;\n          const font = new FontFaceObject(fontData, inspectFont, exportedData.extra, exportedData.charProcOperatorList);\n          this.fontLoader.bind(font).catch(() => messageHandler.sendWithPromise(\"FontFallback\", {\n            id\n          })).finally(() => {\n            if (!font.fontExtraProperties && font.data) {\n              font.clearData();\n            }\n            this.commonObjs.resolve(id, font);\n          });\n          break;\n        case \"CopyLocalImage\":\n          const {\n            imageRef\n          } = exportedData;\n          assert(imageRef, \"The imageRef must be defined.\");\n          for (const pageProxy of this.#pageCache.values()) {\n            for (const [, data] of pageProxy.objs) {\n              if (data?.ref !== imageRef) {\n                continue;\n              }\n              if (!data.dataLen) {\n                return null;\n              }\n              this.commonObjs.resolve(id, structuredClone(data));\n              return data.dataLen;\n            }\n          }\n          break;\n        case \"FontPath\":\n        case \"Image\":\n        case \"Pattern\":\n          this.commonObjs.resolve(id, exportedData);\n          break;\n        default:\n          throw new Error(`Got unknown common object type ${type}`);\n      }\n      return null;\n    });\n    messageHandler.on(\"obj\", ([id, pageIndex, type, imageData]) => {\n      if (this.destroyed) {\n        return;\n      }\n      const pageProxy = this.#pageCache.get(pageIndex);\n      if (pageProxy.objs.has(id)) {\n        return;\n      }\n      if (pageProxy._intentStates.size === 0) {\n        imageData?.bitmap?.close();\n        return;\n      }\n      switch (type) {\n        case \"Image\":\n        case \"Pattern\":\n          pageProxy.objs.resolve(id, imageData);\n          break;\n        default:\n          throw new Error(`Got unknown object type ${type}`);\n      }\n    });\n    messageHandler.on(\"DocProgress\", data => {\n      if (this.destroyed) {\n        return;\n      }\n      loadingTask.onProgress?.({\n        loaded: data.loaded,\n        total: data.total\n      });\n    });\n    messageHandler.on(\"FetchBinaryData\", async data => {\n      if (this.destroyed) {\n        throw new Error(\"Worker was destroyed.\");\n      }\n      const factory = this[data.type];\n      if (!factory) {\n        throw new Error(`${data.type} not initialized, see the \\`useWorkerFetch\\` parameter.`);\n      }\n      return factory.fetch(data);\n    });\n  }\n  getData() {\n    return this.messageHandler.sendWithPromise(\"GetData\", null);\n  }\n  saveDocument() {\n    if (this.annotationStorage.size <= 0) {\n      warn(\"saveDocument called while `annotationStorage` is empty, \" + \"please use the getData-method instead.\");\n    }\n    const {\n      map,\n      transfer\n    } = this.annotationStorage.serializable;\n    return this.messageHandler.sendWithPromise(\"SaveDocument\", {\n      isPureXfa: !!this._htmlForXfa,\n      numPages: this._numPages,\n      annotationStorage: map,\n      filename: this._fullReader?.filename ?? null\n    }, transfer).finally(() => {\n      this.annotationStorage.resetModified();\n    });\n  }\n  getPage(pageNumber) {\n    if (!Number.isInteger(pageNumber) || pageNumber <= 0 || pageNumber > this._numPages) {\n      return Promise.reject(new Error(\"Invalid page request.\"));\n    }\n    const pageIndex = pageNumber - 1,\n      cachedPromise = this.#pagePromises.get(pageIndex);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(\"GetPage\", {\n      pageIndex\n    }).then(pageInfo => {\n      if (this.destroyed) {\n        throw new Error(\"Transport destroyed\");\n      }\n      if (pageInfo.refStr) {\n        this.#pageRefCache.set(pageInfo.refStr, pageNumber);\n      }\n      const page = new PDFPageProxy(pageIndex, pageInfo, this, this._params.pdfBug);\n      this.#pageCache.set(pageIndex, page);\n      return page;\n    });\n    this.#pagePromises.set(pageIndex, promise);\n    return promise;\n  }\n  getPageIndex(ref) {\n    if (!isRefProxy(ref)) {\n      return Promise.reject(new Error(\"Invalid pageIndex request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetPageIndex\", {\n      num: ref.num,\n      gen: ref.gen\n    });\n  }\n  getAnnotations(pageIndex, intent) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotations\", {\n      pageIndex,\n      intent\n    });\n  }\n  getFieldObjects() {\n    return this.#cacheSimpleMethod(\"GetFieldObjects\");\n  }\n  hasJSActions() {\n    return this.#cacheSimpleMethod(\"HasJSActions\");\n  }\n  getCalculationOrderIds() {\n    return this.messageHandler.sendWithPromise(\"GetCalculationOrderIds\", null);\n  }\n  getDestinations() {\n    return this.messageHandler.sendWithPromise(\"GetDestinations\", null);\n  }\n  getDestination(id) {\n    if (typeof id !== \"string\") {\n      return Promise.reject(new Error(\"Invalid destination request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetDestination\", {\n      id\n    });\n  }\n  getPageLabels() {\n    return this.messageHandler.sendWithPromise(\"GetPageLabels\", null);\n  }\n  getPageLayout() {\n    return this.messageHandler.sendWithPromise(\"GetPageLayout\", null);\n  }\n  getPageMode() {\n    return this.messageHandler.sendWithPromise(\"GetPageMode\", null);\n  }\n  getViewerPreferences() {\n    return this.messageHandler.sendWithPromise(\"GetViewerPreferences\", null);\n  }\n  getOpenAction() {\n    return this.messageHandler.sendWithPromise(\"GetOpenAction\", null);\n  }\n  getAttachments() {\n    return this.messageHandler.sendWithPromise(\"GetAttachments\", null);\n  }\n  getAnnotationsByType(types, pageIndexesToSkip) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotationsByType\", {\n      types,\n      pageIndexesToSkip\n    });\n  }\n  getDocJSActions() {\n    return this.#cacheSimpleMethod(\"GetDocJSActions\");\n  }\n  getPageJSActions(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetPageJSActions\", {\n      pageIndex\n    });\n  }\n  getStructTree(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetStructTree\", {\n      pageIndex\n    });\n  }\n  getOutline() {\n    return this.messageHandler.sendWithPromise(\"GetOutline\", null);\n  }\n  getOptionalContentConfig(renderingIntent) {\n    return this.#cacheSimpleMethod(\"GetOptionalContentConfig\").then(data => new OptionalContentConfig(data, renderingIntent));\n  }\n  getPermissions() {\n    return this.messageHandler.sendWithPromise(\"GetPermissions\", null);\n  }\n  getMetadata() {\n    const name = \"GetMetadata\",\n      cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(name, null).then(results => ({\n      info: results[0],\n      metadata: results[1] ? new Metadata(results[1]) : null,\n      contentDispositionFilename: this._fullReader?.filename ?? null,\n      contentLength: this._fullReader?.contentLength ?? null\n    }));\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n  getMarkInfo() {\n    return this.messageHandler.sendWithPromise(\"GetMarkInfo\", null);\n  }\n  async startCleanup(keepLoadedFonts = false) {\n    if (this.destroyed) {\n      return;\n    }\n    await this.messageHandler.sendWithPromise(\"Cleanup\", null);\n    for (const page of this.#pageCache.values()) {\n      const cleanupSuccessful = page.cleanup();\n      if (!cleanupSuccessful) {\n        throw new Error(`startCleanup: Page ${page.pageNumber} is currently rendering.`);\n      }\n    }\n    this.commonObjs.clear();\n    if (!keepLoadedFonts) {\n      this.fontLoader.clear();\n    }\n    this.#methodPromises.clear();\n    this.filterFactory.destroy(true);\n    TextLayer.cleanup();\n  }\n  cachedPageNumber(ref) {\n    if (!isRefProxy(ref)) {\n      return null;\n    }\n    const refStr = ref.gen === 0 ? `${ref.num}R` : `${ref.num}R${ref.gen}`;\n    return this.#pageRefCache.get(refStr) ?? null;\n  }\n}\nclass RenderTask {\n  #internalRenderTask = null;\n  onContinue = null;\n  onError = null;\n  constructor(internalRenderTask) {\n    this.#internalRenderTask = internalRenderTask;\n  }\n  get promise() {\n    return this.#internalRenderTask.capability.promise;\n  }\n  cancel(extraDelay = 0) {\n    this.#internalRenderTask.cancel(null, extraDelay);\n  }\n  get separateAnnots() {\n    const {\n      separateAnnots\n    } = this.#internalRenderTask.operatorList;\n    if (!separateAnnots) {\n      return false;\n    }\n    const {\n      annotationCanvasMap\n    } = this.#internalRenderTask;\n    return separateAnnots.form || separateAnnots.canvas && annotationCanvasMap?.size > 0;\n  }\n}\nclass InternalRenderTask {\n  #rAF = null;\n  static #canvasInUse = new WeakSet();\n  constructor({\n    callback,\n    params,\n    objs,\n    commonObjs,\n    annotationCanvasMap,\n    operatorList,\n    pageIndex,\n    canvasFactory,\n    filterFactory,\n    useRequestAnimationFrame = false,\n    pdfBug = false,\n    pageColors = null,\n    enableHWA = false,\n    operationsFilter = null\n  }) {\n    this.callback = callback;\n    this.params = params;\n    this.objs = objs;\n    this.commonObjs = commonObjs;\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.operatorListIdx = null;\n    this.operatorList = operatorList;\n    this._pageIndex = pageIndex;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this._pdfBug = pdfBug;\n    this.pageColors = pageColors;\n    this.running = false;\n    this.graphicsReadyCallback = null;\n    this.graphicsReady = false;\n    this._useRequestAnimationFrame = useRequestAnimationFrame === true && typeof window !== \"undefined\";\n    this.cancelled = false;\n    this.capability = Promise.withResolvers();\n    this.task = new RenderTask(this);\n    this._cancelBound = this.cancel.bind(this);\n    this._continueBound = this._continue.bind(this);\n    this._scheduleNextBound = this._scheduleNext.bind(this);\n    this._nextBound = this._next.bind(this);\n    this._canvas = params.canvas;\n    this._canvasContext = params.canvas ? null : params.canvasContext;\n    this._enableHWA = enableHWA;\n    this._dependencyTracker = params.dependencyTracker;\n    this._operationsFilter = operationsFilter;\n  }\n  get completed() {\n    return this.capability.promise.catch(function () {});\n  }\n  initializeGraphics({\n    transparency = false,\n    optionalContentConfig\n  }) {\n    if (this.cancelled) {\n      return;\n    }\n    if (this._canvas) {\n      if (InternalRenderTask.#canvasInUse.has(this._canvas)) {\n        throw new Error(\"Cannot use the same canvas during multiple render() operations. \" + \"Use different canvas or ensure previous operations were \" + \"cancelled or completed.\");\n      }\n      InternalRenderTask.#canvasInUse.add(this._canvas);\n    }\n    if (this._pdfBug && globalThis.StepperManager?.enabled) {\n      this.stepper = globalThis.StepperManager.create(this._pageIndex);\n      this.stepper.init(this.operatorList);\n      this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n    }\n    const {\n      viewport,\n      transform,\n      background,\n      dependencyTracker\n    } = this.params;\n    const canvasContext = this._canvasContext || this._canvas.getContext(\"2d\", {\n      alpha: false,\n      willReadFrequently: !this._enableHWA\n    });\n    this.gfx = new CanvasGraphics(canvasContext, this.commonObjs, this.objs, this.canvasFactory, this.filterFactory, {\n      optionalContentConfig\n    }, this.annotationCanvasMap, this.pageColors, dependencyTracker);\n    this.gfx.beginDrawing({\n      transform,\n      viewport,\n      transparency,\n      background\n    });\n    this.operatorListIdx = 0;\n    this.graphicsReady = true;\n    this.graphicsReadyCallback?.();\n  }\n  cancel(error = null, extraDelay = 0) {\n    this.running = false;\n    this.cancelled = true;\n    this.gfx?.endDrawing();\n    if (this.#rAF) {\n      window.cancelAnimationFrame(this.#rAF);\n      this.#rAF = null;\n    }\n    InternalRenderTask.#canvasInUse.delete(this._canvas);\n    error ||= new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex + 1}`, extraDelay);\n    this.callback(error);\n    this.task.onError?.(error);\n  }\n  operatorListChanged() {\n    if (!this.graphicsReady) {\n      this.graphicsReadyCallback ||= this._continueBound;\n      return;\n    }\n    this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length);\n    this.stepper?.updateOperatorList(this.operatorList);\n    if (this.running) {\n      return;\n    }\n    this._continue();\n  }\n  _continue() {\n    this.running = true;\n    if (this.cancelled) {\n      return;\n    }\n    if (this.task.onContinue) {\n      this.task.onContinue(this._scheduleNextBound);\n    } else {\n      this._scheduleNext();\n    }\n  }\n  _scheduleNext() {\n    if (this._useRequestAnimationFrame) {\n      this.#rAF = window.requestAnimationFrame(() => {\n        this.#rAF = null;\n        this._nextBound().catch(this._cancelBound);\n      });\n    } else {\n      Promise.resolve().then(this._nextBound).catch(this._cancelBound);\n    }\n  }\n  async _next() {\n    if (this.cancelled) {\n      return;\n    }\n    this.operatorListIdx = this.gfx.executeOperatorList(this.operatorList, this.operatorListIdx, this._continueBound, this.stepper, this._operationsFilter);\n    if (this.operatorListIdx === this.operatorList.argsArray.length) {\n      this.running = false;\n      if (this.operatorList.lastChunk) {\n        this.gfx.endDrawing();\n        InternalRenderTask.#canvasInUse.delete(this._canvas);\n        this.callback();\n      }\n    }\n  }\n}\nconst version = \"5.4.296\";\nconst build = \"f56dc8601\";\n\n;// ./src/display/editor/color_picker.js\n\n\n\nclass ColorPicker {\n  #button = null;\n  #buttonSwatch = null;\n  #defaultColor;\n  #dropdown = null;\n  #dropdownWasFromKeyboard = false;\n  #isMainColorPicker = false;\n  #editor = null;\n  #eventBus;\n  #openDropdownAC = null;\n  #uiManager = null;\n  static #l10nColor = null;\n  static get _keyboardManager() {\n    return shadow(this, \"_keyboardManager\", new KeyboardManager([[[\"Escape\", \"mac+Escape\"], ColorPicker.prototype._hideDropdownFromKeyboard], [[\" \", \"mac+ \"], ColorPicker.prototype._colorSelectFromKeyboard], [[\"ArrowDown\", \"ArrowRight\", \"mac+ArrowDown\", \"mac+ArrowRight\"], ColorPicker.prototype._moveToNext], [[\"ArrowUp\", \"ArrowLeft\", \"mac+ArrowUp\", \"mac+ArrowLeft\"], ColorPicker.prototype._moveToPrevious], [[\"Home\", \"mac+Home\"], ColorPicker.prototype._moveToBeginning], [[\"End\", \"mac+End\"], ColorPicker.prototype._moveToEnd]]));\n  }\n  constructor({\n    editor = null,\n    uiManager = null\n  }) {\n    if (editor) {\n      this.#isMainColorPicker = false;\n      this.#editor = editor;\n    } else {\n      this.#isMainColorPicker = true;\n    }\n    this.#uiManager = editor?._uiManager || uiManager;\n    this.#eventBus = this.#uiManager._eventBus;\n    this.#defaultColor = editor?.color?.toUpperCase() || this.#uiManager?.highlightColors.values().next().value || \"#FFFF98\";\n    ColorPicker.#l10nColor ||= Object.freeze({\n      blue: \"pdfjs-editor-colorpicker-blue\",\n      green: \"pdfjs-editor-colorpicker-green\",\n      pink: \"pdfjs-editor-colorpicker-pink\",\n      red: \"pdfjs-editor-colorpicker-red\",\n      yellow: \"pdfjs-editor-colorpicker-yellow\"\n    });\n  }\n  renderButton() {\n    const button = this.#button = document.createElement(\"button\");\n    button.className = \"colorPicker\";\n    button.tabIndex = \"0\";\n    button.setAttribute(\"data-l10n-id\", \"pdfjs-editor-colorpicker-button\");\n    button.ariaHasPopup = \"true\";\n    if (this.#editor) {\n      button.ariaControls = `${this.#editor.id}_colorpicker_dropdown`;\n    }\n    const signal = this.#uiManager._signal;\n    button.addEventListener(\"click\", this.#openDropdown.bind(this), {\n      signal\n    });\n    button.addEventListener(\"keydown\", this.#keyDown.bind(this), {\n      signal\n    });\n    const swatch = this.#buttonSwatch = document.createElement(\"span\");\n    swatch.className = \"swatch\";\n    swatch.ariaHidden = \"true\";\n    swatch.style.backgroundColor = this.#defaultColor;\n    button.append(swatch);\n    return button;\n  }\n  renderMainDropdown() {\n    const dropdown = this.#dropdown = this.#getDropdownRoot();\n    dropdown.ariaOrientation = \"horizontal\";\n    dropdown.ariaLabelledBy = \"highlightColorPickerLabel\";\n    return dropdown;\n  }\n  #getDropdownRoot() {\n    const div = document.createElement(\"div\");\n    const signal = this.#uiManager._signal;\n    div.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    div.className = \"dropdown\";\n    div.role = \"listbox\";\n    div.ariaMultiSelectable = \"false\";\n    div.ariaOrientation = \"vertical\";\n    div.setAttribute(\"data-l10n-id\", \"pdfjs-editor-colorpicker-dropdown\");\n    if (this.#editor) {\n      div.id = `${this.#editor.id}_colorpicker_dropdown`;\n    }\n    for (const [name, color] of this.#uiManager.highlightColors) {\n      const button = document.createElement(\"button\");\n      button.tabIndex = \"0\";\n      button.role = \"option\";\n      button.setAttribute(\"data-color\", color);\n      button.title = name;\n      button.setAttribute(\"data-l10n-id\", ColorPicker.#l10nColor[name]);\n      const swatch = document.createElement(\"span\");\n      button.append(swatch);\n      swatch.className = \"swatch\";\n      swatch.style.backgroundColor = color;\n      button.ariaSelected = color === this.#defaultColor;\n      button.addEventListener(\"click\", this.#colorSelect.bind(this, color), {\n        signal\n      });\n      div.append(button);\n    }\n    div.addEventListener(\"keydown\", this.#keyDown.bind(this), {\n      signal\n    });\n    return div;\n  }\n  #colorSelect(color, event) {\n    event.stopPropagation();\n    this.#eventBus.dispatch(\"switchannotationeditorparams\", {\n      source: this,\n      type: AnnotationEditorParamsType.HIGHLIGHT_COLOR,\n      value: color\n    });\n    this.updateColor(color);\n  }\n  _colorSelectFromKeyboard(event) {\n    if (event.target === this.#button) {\n      this.#openDropdown(event);\n      return;\n    }\n    const color = event.target.getAttribute(\"data-color\");\n    if (!color) {\n      return;\n    }\n    this.#colorSelect(color, event);\n  }\n  _moveToNext(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    if (event.target === this.#button) {\n      this.#dropdown.firstChild?.focus();\n      return;\n    }\n    event.target.nextSibling?.focus();\n  }\n  _moveToPrevious(event) {\n    if (event.target === this.#dropdown?.firstChild || event.target === this.#button) {\n      if (this.#isDropdownVisible) {\n        this._hideDropdownFromKeyboard();\n      }\n      return;\n    }\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n    }\n    event.target.previousSibling?.focus();\n  }\n  _moveToBeginning(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    this.#dropdown.firstChild?.focus();\n  }\n  _moveToEnd(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    this.#dropdown.lastChild?.focus();\n  }\n  #keyDown(event) {\n    ColorPicker._keyboardManager.exec(this, event);\n  }\n  #openDropdown(event) {\n    if (this.#isDropdownVisible) {\n      this.hideDropdown();\n      return;\n    }\n    this.#dropdownWasFromKeyboard = event.detail === 0;\n    if (!this.#openDropdownAC) {\n      this.#openDropdownAC = new AbortController();\n      window.addEventListener(\"pointerdown\", this.#pointerDown.bind(this), {\n        signal: this.#uiManager.combinedSignal(this.#openDropdownAC)\n      });\n    }\n    this.#button.ariaExpanded = \"true\";\n    if (this.#dropdown) {\n      this.#dropdown.classList.remove(\"hidden\");\n      return;\n    }\n    const root = this.#dropdown = this.#getDropdownRoot();\n    this.#button.append(root);\n  }\n  #pointerDown(event) {\n    if (this.#dropdown?.contains(event.target)) {\n      return;\n    }\n    this.hideDropdown();\n  }\n  hideDropdown() {\n    this.#dropdown?.classList.add(\"hidden\");\n    this.#button.ariaExpanded = \"false\";\n    this.#openDropdownAC?.abort();\n    this.#openDropdownAC = null;\n  }\n  get #isDropdownVisible() {\n    return this.#dropdown && !this.#dropdown.classList.contains(\"hidden\");\n  }\n  _hideDropdownFromKeyboard() {\n    if (this.#isMainColorPicker) {\n      return;\n    }\n    if (!this.#isDropdownVisible) {\n      this.#editor?.unselect();\n      return;\n    }\n    this.hideDropdown();\n    this.#button.focus({\n      preventScroll: true,\n      focusVisible: this.#dropdownWasFromKeyboard\n    });\n  }\n  updateColor(color) {\n    if (this.#buttonSwatch) {\n      this.#buttonSwatch.style.backgroundColor = color;\n    }\n    if (!this.#dropdown) {\n      return;\n    }\n    const i = this.#uiManager.highlightColors.values();\n    for (const child of this.#dropdown.children) {\n      child.ariaSelected = i.next().value === color.toUpperCase();\n    }\n  }\n  destroy() {\n    this.#button?.remove();\n    this.#button = null;\n    this.#buttonSwatch = null;\n    this.#dropdown?.remove();\n    this.#dropdown = null;\n  }\n}\nclass BasicColorPicker {\n  #input = null;\n  #editor = null;\n  #uiManager = null;\n  static #l10nColor = null;\n  constructor(editor) {\n    this.#editor = editor;\n    this.#uiManager = editor._uiManager;\n    BasicColorPicker.#l10nColor ||= Object.freeze({\n      freetext: \"pdfjs-editor-color-picker-free-text-input\",\n      ink: \"pdfjs-editor-color-picker-ink-input\"\n    });\n  }\n  renderButton() {\n    if (this.#input) {\n      return this.#input;\n    }\n    const {\n      editorType,\n      colorType,\n      colorValue\n    } = this.#editor;\n    const input = this.#input = document.createElement(\"input\");\n    input.type = \"color\";\n    input.value = colorValue || \"#000000\";\n    input.className = \"basicColorPicker\";\n    input.tabIndex = 0;\n    input.setAttribute(\"data-l10n-id\", BasicColorPicker.#l10nColor[editorType]);\n    input.addEventListener(\"input\", () => {\n      this.#uiManager.updateParams(colorType, input.value);\n    }, {\n      signal: this.#uiManager._signal\n    });\n    return input;\n  }\n  update(value) {\n    if (!this.#input) {\n      return;\n    }\n    this.#input.value = value;\n  }\n  destroy() {\n    this.#input?.remove();\n    this.#input = null;\n  }\n  hideDropdown() {}\n}\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.iterator.find.js\nvar es_iterator_find = __webpack_require__(116);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.iterator.flat-map.js\nvar es_iterator_flat_map = __webpack_require__(531);\n;// ./src/shared/scripting_utils.js\n\n\nfunction makeColorComp(n) {\n  return Math.floor(Math.max(0, Math.min(1, n)) * 255).toString(16).padStart(2, \"0\");\n}\nfunction scaleAndClamp(x) {\n  return Math.max(0, Math.min(255, 255 * x));\n}\nclass ColorConverters {\n  static CMYK_G([c, y, m, k]) {\n    return [\"G\", 1 - Math.min(1, 0.3 * c + 0.59 * m + 0.11 * y + k)];\n  }\n  static G_CMYK([g]) {\n    return [\"CMYK\", 0, 0, 0, 1 - g];\n  }\n  static G_RGB([g]) {\n    return [\"RGB\", g, g, g];\n  }\n  static G_rgb([g]) {\n    g = scaleAndClamp(g);\n    return [g, g, g];\n  }\n  static G_HTML([g]) {\n    const G = makeColorComp(g);\n    return `#${G}${G}${G}`;\n  }\n  static RGB_G([r, g, b]) {\n    return [\"G\", 0.3 * r + 0.59 * g + 0.11 * b];\n  }\n  static RGB_rgb(color) {\n    return color.map(scaleAndClamp);\n  }\n  static RGB_HTML(color) {\n    return `#${color.map(makeColorComp).join(\"\")}`;\n  }\n  static T_HTML() {\n    return \"#00000000\";\n  }\n  static T_rgb() {\n    return [null];\n  }\n  static CMYK_RGB([c, y, m, k]) {\n    return [\"RGB\", 1 - Math.min(1, c + k), 1 - Math.min(1, m + k), 1 - Math.min(1, y + k)];\n  }\n  static CMYK_rgb([c, y, m, k]) {\n    return [scaleAndClamp(1 - Math.min(1, c + k)), scaleAndClamp(1 - Math.min(1, m + k)), scaleAndClamp(1 - Math.min(1, y + k))];\n  }\n  static CMYK_HTML(components) {\n    const rgb = this.CMYK_RGB(components).slice(1);\n    return this.RGB_HTML(rgb);\n  }\n  static RGB_CMYK([r, g, b]) {\n    const c = 1 - r;\n    const m = 1 - g;\n    const y = 1 - b;\n    const k = Math.min(c, m, y);\n    return [\"CMYK\", c, m, y, k];\n  }\n}\nconst DateFormats = (/* unused pure expression or super */ null && ([\"m/d\", \"m/d/yy\", \"mm/dd/yy\", \"mm/yy\", \"d-mmm\", \"d-mmm-yy\", \"dd-mmm-yy\", \"yy-mm-dd\", \"mmm-yy\", \"mmmm-yy\", \"mmm d, yyyy\", \"mmmm d, yyyy\", \"m/d/yy h:MM tt\", \"m/d/yy HH:MM\"]));\nconst TimeFormats = (/* unused pure expression or super */ null && ([\"HH:MM\", \"h:MM tt\", \"HH:MM:ss\", \"h:MM:ss tt\"]));\n\n;// ./src/display/svg_factory.js\n\n\nclass BaseSVGFactory {\n  create(width, height, skipDimensions = false) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid SVG dimensions\");\n    }\n    const svg = this._createSVG(\"svg:svg\");\n    svg.setAttribute(\"version\", \"1.1\");\n    if (!skipDimensions) {\n      svg.setAttribute(\"width\", `${width}px`);\n      svg.setAttribute(\"height\", `${height}px`);\n    }\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n    svg.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n    return svg;\n  }\n  createElement(type) {\n    if (typeof type !== \"string\") {\n      throw new Error(\"Invalid SVG element type\");\n    }\n    return this._createSVG(type);\n  }\n  _createSVG(type) {\n    unreachable(\"Abstract method `_createSVG` called.\");\n  }\n}\nclass DOMSVGFactory extends BaseSVGFactory {\n  _createSVG(type) {\n    return document.createElementNS(SVG_NS, type);\n  }\n}\n\n;// ./src/display/annotation_layer.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst annotation_layer_DEFAULT_FONT_SIZE = 9;\nconst GetElementsByNameSet = new WeakSet();\nconst TIMEZONE_OFFSET = new Date().getTimezoneOffset() * 60 * 1000;\nclass AnnotationElementFactory {\n  static create(parameters) {\n    const subtype = parameters.data.annotationType;\n    switch (subtype) {\n      case AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n      case AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n      case AnnotationType.WIDGET:\n        const fieldType = parameters.data.fieldType;\n        switch (fieldType) {\n          case \"Tx\":\n            return new TextWidgetAnnotationElement(parameters);\n          case \"Btn\":\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n            return new PushButtonWidgetAnnotationElement(parameters);\n          case \"Ch\":\n            return new ChoiceWidgetAnnotationElement(parameters);\n          case \"Sig\":\n            return new SignatureWidgetAnnotationElement(parameters);\n        }\n        return new WidgetAnnotationElement(parameters);\n      case AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n      case AnnotationType.FREETEXT:\n        return new FreeTextAnnotationElement(parameters);\n      case AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n      case AnnotationType.SQUARE:\n        return new SquareAnnotationElement(parameters);\n      case AnnotationType.CIRCLE:\n        return new CircleAnnotationElement(parameters);\n      case AnnotationType.POLYLINE:\n        return new PolylineAnnotationElement(parameters);\n      case AnnotationType.CARET:\n        return new CaretAnnotationElement(parameters);\n      case AnnotationType.INK:\n        return new InkAnnotationElement(parameters);\n      case AnnotationType.POLYGON:\n        return new PolygonAnnotationElement(parameters);\n      case AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n      case AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n      case AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n      case AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n      case AnnotationType.STAMP:\n        return new StampAnnotationElement(parameters);\n      case AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n      default:\n        return new AnnotationElement(parameters);\n    }\n  }\n}\nclass AnnotationElement {\n  #updates = null;\n  #hasBorder = false;\n  #popupElement = null;\n  constructor(parameters, {\n    isRenderable = false,\n    ignoreBorder = false,\n    createQuadrilaterals = false\n  } = {}) {\n    this.isRenderable = isRenderable;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderForms = parameters.renderForms;\n    this.svgFactory = parameters.svgFactory;\n    this.annotationStorage = parameters.annotationStorage;\n    this.enableComment = parameters.enableComment;\n    this.enableScripting = parameters.enableScripting;\n    this.hasJSActions = parameters.hasJSActions;\n    this._fieldObjects = parameters.fieldObjects;\n    this.parent = parameters.parent;\n    if (isRenderable) {\n      this.container = this._createContainer(ignoreBorder);\n    }\n    if (createQuadrilaterals) {\n      this._createQuadrilaterals();\n    }\n  }\n  static _hasPopupData({\n    contentsObj,\n    richText\n  }) {\n    return !!(contentsObj?.str || richText?.str);\n  }\n  get _isEditable() {\n    return this.data.isEditable;\n  }\n  get hasPopupData() {\n    return AnnotationElement._hasPopupData(this.data) || this.enableComment && !!this.commentText;\n  }\n  get commentData() {\n    const {\n      data\n    } = this;\n    const editor = this.annotationStorage?.getEditor(data.id);\n    if (editor) {\n      return editor.getData();\n    }\n    return data;\n  }\n  get hasCommentButton() {\n    return this.enableComment && this.hasPopupElement;\n  }\n  get commentButtonPosition() {\n    const editor = this.annotationStorage?.getEditor(this.data.id);\n    if (editor) {\n      return editor.commentButtonPositionInPage;\n    }\n    const {\n      quadPoints,\n      inkLists,\n      rect\n    } = this.data;\n    let maxX = -Infinity;\n    let maxY = -Infinity;\n    if (quadPoints?.length >= 8) {\n      for (let i = 0; i < quadPoints.length; i += 8) {\n        if (quadPoints[i + 1] > maxY) {\n          maxY = quadPoints[i + 1];\n          maxX = quadPoints[i + 2];\n        } else if (quadPoints[i + 1] === maxY) {\n          maxX = Math.max(maxX, quadPoints[i + 2]);\n        }\n      }\n      return [maxX, maxY];\n    }\n    if (inkLists?.length >= 1) {\n      for (const inkList of inkLists) {\n        for (let i = 0, ii = inkList.length; i < ii; i += 2) {\n          if (inkList[i + 1] > maxY) {\n            maxY = inkList[i + 1];\n            maxX = inkList[i];\n          } else if (inkList[i + 1] === maxY) {\n            maxX = Math.max(maxX, inkList[i]);\n          }\n        }\n      }\n      if (maxX !== Infinity) {\n        return [maxX, maxY];\n      }\n    }\n    if (rect) {\n      return [rect[2], rect[3]];\n    }\n    return null;\n  }\n  _normalizePoint(point) {\n    const {\n      page: {\n        view\n      },\n      viewport: {\n        rawDims: {\n          pageWidth,\n          pageHeight,\n          pageX,\n          pageY\n        }\n      }\n    } = this.parent;\n    point[1] = view[3] - point[1] + view[1];\n    point[0] = 100 * (point[0] - pageX) / pageWidth;\n    point[1] = 100 * (point[1] - pageY) / pageHeight;\n    return point;\n  }\n  get commentText() {\n    const {\n      data\n    } = this;\n    return this.annotationStorage.getRawValue(`${AnnotationEditorPrefix}${data.id}`)?.popup?.contents || data.contentsObj?.str || \"\";\n  }\n  set commentText(text) {\n    const {\n      data\n    } = this;\n    const popup = {\n      deleted: !text,\n      contents: text || \"\"\n    };\n    if (!this.annotationStorage.updateEditor(data.id, {\n      popup\n    })) {\n      this.annotationStorage.setValue(`${AnnotationEditorPrefix}${data.id}`, {\n        id: data.id,\n        annotationType: data.annotationType,\n        pageIndex: this.parent.page._pageIndex,\n        popup,\n        popupRef: data.popupRef,\n        modificationDate: new Date()\n      });\n    }\n    if (!text) {\n      this.removePopup();\n    }\n  }\n  removePopup() {\n    (this.#popupElement?.popup || this.popup)?.remove();\n    this.#popupElement = this.popup = null;\n  }\n  updateEdited(params) {\n    if (!this.container) {\n      return;\n    }\n    if (params.rect) {\n      this.#updates ||= {\n        rect: this.data.rect.slice(0)\n      };\n    }\n    const {\n      rect,\n      popup: newPopup\n    } = params;\n    if (rect) {\n      this.#setRectEdited(rect);\n    }\n    let popup = this.#popupElement?.popup || this.popup;\n    if (!popup && newPopup?.text) {\n      this._createPopup(newPopup);\n      popup = this.#popupElement.popup;\n    }\n    if (!popup) {\n      return;\n    }\n    popup.updateEdited(params);\n    if (newPopup?.deleted) {\n      popup.remove();\n      this.#popupElement = null;\n      this.popup = null;\n    }\n  }\n  resetEdited() {\n    if (!this.#updates) {\n      return;\n    }\n    this.#setRectEdited(this.#updates.rect);\n    this.#popupElement?.popup.resetEdited();\n    this.#updates = null;\n  }\n  #setRectEdited(rect) {\n    const {\n      container: {\n        style\n      },\n      data: {\n        rect: currentRect,\n        rotation\n      },\n      parent: {\n        viewport: {\n          rawDims: {\n            pageWidth,\n            pageHeight,\n            pageX,\n            pageY\n          }\n        }\n      }\n    } = this;\n    currentRect?.splice(0, 4, ...rect);\n    style.left = `${100 * (rect[0] - pageX) / pageWidth}%`;\n    style.top = `${100 * (pageHeight - rect[3] + pageY) / pageHeight}%`;\n    if (rotation === 0) {\n      style.width = `${100 * (rect[2] - rect[0]) / pageWidth}%`;\n      style.height = `${100 * (rect[3] - rect[1]) / pageHeight}%`;\n    } else {\n      this.setRotation(rotation);\n    }\n  }\n  _createContainer(ignoreBorder) {\n    const {\n      data,\n      parent: {\n        page,\n        viewport\n      }\n    } = this;\n    const container = document.createElement(\"section\");\n    container.setAttribute(\"data-annotation-id\", data.id);\n    if (!(this instanceof WidgetAnnotationElement) && !(this instanceof LinkAnnotationElement)) {\n      container.tabIndex = 0;\n    }\n    const {\n      style\n    } = container;\n    style.zIndex = this.parent.zIndex;\n    this.parent.zIndex += 2;\n    if (data.alternativeText) {\n      container.title = data.alternativeText;\n    }\n    if (data.noRotate) {\n      container.classList.add(\"norotate\");\n    }\n    if (!data.rect || this instanceof PopupAnnotationElement) {\n      const {\n        rotation\n      } = data;\n      if (!data.hasOwnCanvas && rotation !== 0) {\n        this.setRotation(rotation, container);\n      }\n      return container;\n    }\n    const {\n      width,\n      height\n    } = this;\n    if (!ignoreBorder && data.borderStyle.width > 0) {\n      style.borderWidth = `${data.borderStyle.width}px`;\n      const horizontalRadius = data.borderStyle.horizontalCornerRadius;\n      const verticalRadius = data.borderStyle.verticalCornerRadius;\n      if (horizontalRadius > 0 || verticalRadius > 0) {\n        const radius = `calc(${horizontalRadius}px * var(--total-scale-factor)) / calc(${verticalRadius}px * var(--total-scale-factor))`;\n        style.borderRadius = radius;\n      } else if (this instanceof RadioButtonWidgetAnnotationElement) {\n        const radius = `calc(${width}px * var(--total-scale-factor)) / calc(${height}px * var(--total-scale-factor))`;\n        style.borderRadius = radius;\n      }\n      switch (data.borderStyle.style) {\n        case AnnotationBorderStyleType.SOLID:\n          style.borderStyle = \"solid\";\n          break;\n        case AnnotationBorderStyleType.DASHED:\n          style.borderStyle = \"dashed\";\n          break;\n        case AnnotationBorderStyleType.BEVELED:\n          warn(\"Unimplemented border style: beveled\");\n          break;\n        case AnnotationBorderStyleType.INSET:\n          warn(\"Unimplemented border style: inset\");\n          break;\n        case AnnotationBorderStyleType.UNDERLINE:\n          style.borderBottomStyle = \"solid\";\n          break;\n        default:\n          break;\n      }\n      const borderColor = data.borderColor || null;\n      if (borderColor) {\n        this.#hasBorder = true;\n        style.borderColor = Util.makeHexColor(borderColor[0] | 0, borderColor[1] | 0, borderColor[2] | 0);\n      } else {\n        style.borderWidth = 0;\n      }\n    }\n    const rect = Util.normalizeRect([data.rect[0], page.view[3] - data.rect[1] + page.view[1], data.rect[2], page.view[3] - data.rect[3] + page.view[1]]);\n    const {\n      pageWidth,\n      pageHeight,\n      pageX,\n      pageY\n    } = viewport.rawDims;\n    style.left = `${100 * (rect[0] - pageX) / pageWidth}%`;\n    style.top = `${100 * (rect[1] - pageY) / pageHeight}%`;\n    const {\n      rotation\n    } = data;\n    if (data.hasOwnCanvas || rotation === 0) {\n      style.width = `${100 * width / pageWidth}%`;\n      style.height = `${100 * height / pageHeight}%`;\n    } else {\n      this.setRotation(rotation, container);\n    }\n    return container;\n  }\n  setRotation(angle, container = this.container) {\n    if (!this.data.rect) {\n      return;\n    }\n    const {\n      pageWidth,\n      pageHeight\n    } = this.parent.viewport.rawDims;\n    let {\n      width,\n      height\n    } = this;\n    if (angle % 180 !== 0) {\n      [width, height] = [height, width];\n    }\n    container.style.width = `${100 * width / pageWidth}%`;\n    container.style.height = `${100 * height / pageHeight}%`;\n    container.setAttribute(\"data-main-rotation\", (360 - angle) % 360);\n  }\n  get _commonActions() {\n    const setColor = (jsName, styleName, event) => {\n      const color = event.detail[jsName];\n      const colorType = color[0];\n      const colorArray = color.slice(1);\n      event.target.style[styleName] = ColorConverters[`${colorType}_HTML`](colorArray);\n      this.annotationStorage.setValue(this.data.id, {\n        [styleName]: ColorConverters[`${colorType}_rgb`](colorArray)\n      });\n    };\n    return shadow(this, \"_commonActions\", {\n      display: event => {\n        const {\n          display\n        } = event.detail;\n        const hidden = display % 2 === 1;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noView: hidden,\n          noPrint: display === 1 || display === 2\n        });\n      },\n      print: event => {\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: !event.detail.print\n        });\n      },\n      hidden: event => {\n        const {\n          hidden\n        } = event.detail;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: hidden,\n          noView: hidden\n        });\n      },\n      focus: event => {\n        setTimeout(() => event.target.focus({\n          preventScroll: false\n        }), 0);\n      },\n      userName: event => {\n        event.target.title = event.detail.userName;\n      },\n      readonly: event => {\n        event.target.disabled = event.detail.readonly;\n      },\n      required: event => {\n        this._setRequired(event.target, event.detail.required);\n      },\n      bgColor: event => {\n        setColor(\"bgColor\", \"backgroundColor\", event);\n      },\n      fillColor: event => {\n        setColor(\"fillColor\", \"backgroundColor\", event);\n      },\n      fgColor: event => {\n        setColor(\"fgColor\", \"color\", event);\n      },\n      textColor: event => {\n        setColor(\"textColor\", \"color\", event);\n      },\n      borderColor: event => {\n        setColor(\"borderColor\", \"borderColor\", event);\n      },\n      strokeColor: event => {\n        setColor(\"strokeColor\", \"borderColor\", event);\n      },\n      rotation: event => {\n        const angle = event.detail.rotation;\n        this.setRotation(angle);\n        this.annotationStorage.setValue(this.data.id, {\n          rotation: angle\n        });\n      }\n    });\n  }\n  _dispatchEventFromSandbox(actions, jsEvent) {\n    const commonActions = this._commonActions;\n    for (const name of Object.keys(jsEvent.detail)) {\n      const action = actions[name] || commonActions[name];\n      action?.(jsEvent);\n    }\n  }\n  _setDefaultPropertiesFromJS(element) {\n    if (!this.enableScripting) {\n      return;\n    }\n    const storedData = this.annotationStorage.getRawValue(this.data.id);\n    if (!storedData) {\n      return;\n    }\n    const commonActions = this._commonActions;\n    for (const [actionName, detail] of Object.entries(storedData)) {\n      const action = commonActions[actionName];\n      if (action) {\n        const eventProxy = {\n          detail: {\n            [actionName]: detail\n          },\n          target: element\n        };\n        action(eventProxy);\n        delete storedData[actionName];\n      }\n    }\n  }\n  _createQuadrilaterals() {\n    if (!this.container) {\n      return;\n    }\n    const {\n      quadPoints\n    } = this.data;\n    if (!quadPoints) {\n      return;\n    }\n    const [rectBlX, rectBlY, rectTrX, rectTrY] = this.data.rect.map(x => Math.fround(x));\n    if (quadPoints.length === 8) {\n      const [trX, trY, blX, blY] = quadPoints.subarray(2, 6);\n      if (rectTrX === trX && rectTrY === trY && rectBlX === blX && rectBlY === blY) {\n        return;\n      }\n    }\n    const {\n      style\n    } = this.container;\n    let svgBuffer;\n    if (this.#hasBorder) {\n      const {\n        borderColor,\n        borderWidth\n      } = style;\n      style.borderWidth = 0;\n      svgBuffer = [\"url('data:image/svg+xml;utf8,\", `<svg xmlns=\"http://www.w3.org/2000/svg\"`, ` preserveAspectRatio=\"none\" viewBox=\"0 0 1 1\">`, `<g fill=\"transparent\" stroke=\"${borderColor}\" stroke-width=\"${borderWidth}\">`];\n      this.container.classList.add(\"hasBorder\");\n    }\n    const width = rectTrX - rectBlX;\n    const height = rectTrY - rectBlY;\n    const {\n      svgFactory\n    } = this;\n    const svg = svgFactory.createElement(\"svg\");\n    svg.classList.add(\"quadrilateralsContainer\");\n    svg.setAttribute(\"width\", 0);\n    svg.setAttribute(\"height\", 0);\n    svg.role = \"none\";\n    const defs = svgFactory.createElement(\"defs\");\n    svg.append(defs);\n    const clipPath = svgFactory.createElement(\"clipPath\");\n    const id = `clippath_${this.data.id}`;\n    clipPath.setAttribute(\"id\", id);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    defs.append(clipPath);\n    for (let i = 2, ii = quadPoints.length; i < ii; i += 8) {\n      const trX = quadPoints[i];\n      const trY = quadPoints[i + 1];\n      const blX = quadPoints[i + 2];\n      const blY = quadPoints[i + 3];\n      const rect = svgFactory.createElement(\"rect\");\n      const x = (blX - rectBlX) / width;\n      const y = (rectTrY - trY) / height;\n      const rectWidth = (trX - blX) / width;\n      const rectHeight = (trY - blY) / height;\n      rect.setAttribute(\"x\", x);\n      rect.setAttribute(\"y\", y);\n      rect.setAttribute(\"width\", rectWidth);\n      rect.setAttribute(\"height\", rectHeight);\n      clipPath.append(rect);\n      svgBuffer?.push(`<rect vector-effect=\"non-scaling-stroke\" x=\"${x}\" y=\"${y}\" width=\"${rectWidth}\" height=\"${rectHeight}\"/>`);\n    }\n    if (this.#hasBorder) {\n      svgBuffer.push(`</g></svg>')`);\n      style.backgroundImage = svgBuffer.join(\"\");\n    }\n    this.container.append(svg);\n    this.container.style.clipPath = `url(#${id})`;\n  }\n  _createPopup(popupData = null) {\n    const {\n      data\n    } = this;\n    let contentsObj, modificationDate;\n    if (popupData) {\n      contentsObj = {\n        str: popupData.text\n      };\n      modificationDate = popupData.date;\n    } else {\n      contentsObj = data.contentsObj;\n      modificationDate = data.modificationDate;\n    }\n    const popup = this.#popupElement = new PopupAnnotationElement({\n      data: {\n        color: data.color,\n        titleObj: data.titleObj,\n        modificationDate,\n        contentsObj,\n        richText: data.richText,\n        parentRect: data.rect,\n        borderStyle: 0,\n        id: `popup_${data.id}`,\n        rotation: data.rotation,\n        noRotate: true\n      },\n      linkService: this.linkService,\n      parent: this.parent,\n      elements: [this]\n    });\n    if (!this.parent._commentManager) {\n      this.parent.div.append(popup.render());\n    }\n  }\n  get hasPopupElement() {\n    return !!(this.#popupElement || this.popup || this.data.popupRef);\n  }\n  get extraPopupElement() {\n    return this.#popupElement;\n  }\n  render() {\n    unreachable(\"Abstract method `AnnotationElement.render` called\");\n  }\n  _getElementsByName(name, skipId = null) {\n    const fields = [];\n    if (this._fieldObjects) {\n      const fieldObj = this._fieldObjects[name];\n      if (fieldObj) {\n        for (const {\n          page,\n          id,\n          exportValues\n        } of fieldObj) {\n          if (page === -1) {\n            continue;\n          }\n          if (id === skipId) {\n            continue;\n          }\n          const exportValue = typeof exportValues === \"string\" ? exportValues : null;\n          const domElement = document.querySelector(`[data-element-id=\"${id}\"]`);\n          if (domElement && !GetElementsByNameSet.has(domElement)) {\n            warn(`_getElementsByName - element not allowed: ${id}`);\n            continue;\n          }\n          fields.push({\n            id,\n            exportValue,\n            domElement\n          });\n        }\n      }\n      return fields;\n    }\n    for (const domElement of document.getElementsByName(name)) {\n      const {\n        exportValue\n      } = domElement;\n      const id = domElement.getAttribute(\"data-element-id\");\n      if (id === skipId) {\n        continue;\n      }\n      if (!GetElementsByNameSet.has(domElement)) {\n        continue;\n      }\n      fields.push({\n        id,\n        exportValue,\n        domElement\n      });\n    }\n    return fields;\n  }\n  show() {\n    if (this.container) {\n      this.container.hidden = false;\n    }\n    this.popup?.maybeShow();\n  }\n  hide() {\n    if (this.container) {\n      this.container.hidden = true;\n    }\n    this.popup?.forceHide();\n  }\n  getElementsToTriggerPopup() {\n    return this.container;\n  }\n  addHighlightArea() {\n    const triggers = this.getElementsToTriggerPopup();\n    if (Array.isArray(triggers)) {\n      for (const element of triggers) {\n        element.classList.add(\"highlightArea\");\n      }\n    } else {\n      triggers.classList.add(\"highlightArea\");\n    }\n  }\n  _editOnDoubleClick() {\n    if (!this._isEditable) {\n      return;\n    }\n    const {\n      annotationEditorType: mode,\n      data: {\n        id: editId\n      }\n    } = this;\n    this.container.addEventListener(\"dblclick\", () => {\n      this.linkService.eventBus?.dispatch(\"switchannotationeditormode\", {\n        source: this,\n        mode,\n        editId,\n        mustEnterInEditMode: true\n      });\n    });\n  }\n  get width() {\n    return this.data.rect[2] - this.data.rect[0];\n  }\n  get height() {\n    return this.data.rect[3] - this.data.rect[1];\n  }\n}\nclass EditorAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.editor = parameters.editor;\n  }\n  render() {\n    this.container.className = \"editorAnnotation\";\n    return this.container;\n  }\n  createOrUpdatePopup() {\n    const {\n      editor\n    } = this;\n    if (!editor.hasComment) {\n      return;\n    }\n    this._createPopup(editor.comment);\n    this.extraPopupElement.popup.renderCommentButton();\n  }\n  get hasCommentButton() {\n    return this.enableComment && this.editor.hasComment;\n  }\n  get commentButtonPosition() {\n    return this.editor.commentButtonPositionInPage;\n  }\n  get commentText() {\n    return this.editor.comment.text;\n  }\n  set commentText(text) {\n    this.editor.comment = text;\n    if (!text) {\n      this.removePopup();\n    }\n  }\n  get commentData() {\n    return this.editor.getData();\n  }\n  remove() {\n    this.container.remove();\n    this.container = null;\n    this.removePopup();\n  }\n}\nclass LinkAnnotationElement extends AnnotationElement {\n  constructor(parameters, options = null) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: !!options?.ignoreBorder,\n      createQuadrilaterals: true\n    });\n    this.isTooltipOnly = parameters.data.isTooltipOnly;\n  }\n  render() {\n    const {\n      data,\n      linkService\n    } = this;\n    const link = document.createElement(\"a\");\n    link.setAttribute(\"data-element-id\", data.id);\n    let isBound = false;\n    if (data.url) {\n      linkService.addLinkAttributes(link, data.url, data.newWindow);\n      isBound = true;\n    } else if (data.action) {\n      this._bindNamedAction(link, data.action, data.overlaidText);\n      isBound = true;\n    } else if (data.attachment) {\n      this.#bindAttachment(link, data.attachment, data.overlaidText, data.attachmentDest);\n      isBound = true;\n    } else if (data.setOCGState) {\n      this.#bindSetOCGState(link, data.setOCGState, data.overlaidText);\n      isBound = true;\n    } else if (data.dest) {\n      this._bindLink(link, data.dest, data.overlaidText);\n      isBound = true;\n    } else {\n      if (data.actions && (data.actions.Action || data.actions[\"Mouse Up\"] || data.actions[\"Mouse Down\"]) && this.enableScripting && this.hasJSActions) {\n        this._bindJSAction(link, data);\n        isBound = true;\n      }\n      if (data.resetForm) {\n        this._bindResetFormAction(link, data.resetForm);\n        isBound = true;\n      } else if (this.isTooltipOnly && !isBound) {\n        this._bindLink(link, \"\");\n        isBound = true;\n      }\n    }\n    this.container.classList.add(\"linkAnnotation\");\n    if (isBound) {\n      this.container.append(link);\n    }\n    return this.container;\n  }\n  #setInternalLink() {\n    this.container.setAttribute(\"data-internal-link\", \"\");\n  }\n  _bindLink(link, destination, overlaidText = \"\") {\n    link.href = this.linkService.getDestinationHash(destination);\n    link.onclick = () => {\n      if (destination) {\n        this.linkService.goToDestination(destination);\n      }\n      return false;\n    };\n    if (destination || destination === \"\") {\n      this.#setInternalLink();\n    }\n    if (overlaidText) {\n      link.title = overlaidText;\n    }\n  }\n  _bindNamedAction(link, action, overlaidText = \"\") {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeNamedAction(action);\n      return false;\n    };\n    if (overlaidText) {\n      link.title = overlaidText;\n    }\n    this.#setInternalLink();\n  }\n  #bindAttachment(link, attachment, overlaidText = \"\", dest = null) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    if (attachment.description) {\n      link.title = attachment.description;\n    } else if (overlaidText) {\n      link.title = overlaidText;\n    }\n    link.onclick = () => {\n      this.downloadManager?.openOrDownloadData(attachment.content, attachment.filename, dest);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n  #bindSetOCGState(link, action, overlaidText = \"\") {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeSetOCGState(action);\n      return false;\n    };\n    if (overlaidText) {\n      link.title = overlaidText;\n    }\n    this.#setInternalLink();\n  }\n  _bindJSAction(link, data) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    const map = new Map([[\"Action\", \"onclick\"], [\"Mouse Up\", \"onmouseup\"], [\"Mouse Down\", \"onmousedown\"]]);\n    for (const name of Object.keys(data.actions)) {\n      const jsName = map.get(name);\n      if (!jsName) {\n        continue;\n      }\n      link[jsName] = () => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: data.id,\n            name\n          }\n        });\n        return false;\n      };\n    }\n    if (data.overlaidText) {\n      link.title = data.overlaidText;\n    }\n    if (!link.onclick) {\n      link.onclick = () => false;\n    }\n    this.#setInternalLink();\n  }\n  _bindResetFormAction(link, resetForm) {\n    const otherClickAction = link.onclick;\n    if (!otherClickAction) {\n      link.href = this.linkService.getAnchorUrl(\"\");\n    }\n    this.#setInternalLink();\n    if (!this._fieldObjects) {\n      warn(`_bindResetFormAction - \"resetForm\" action not supported, ` + \"ensure that the `fieldObjects` parameter is provided.\");\n      if (!otherClickAction) {\n        link.onclick = () => false;\n      }\n      return;\n    }\n    link.onclick = () => {\n      otherClickAction?.();\n      const {\n        fields: resetFormFields,\n        refs: resetFormRefs,\n        include\n      } = resetForm;\n      const allFields = [];\n      if (resetFormFields.length !== 0 || resetFormRefs.length !== 0) {\n        const fieldIds = new Set(resetFormRefs);\n        for (const fieldName of resetFormFields) {\n          const fields = this._fieldObjects[fieldName] || [];\n          for (const {\n            id\n          } of fields) {\n            fieldIds.add(id);\n          }\n        }\n        for (const fields of Object.values(this._fieldObjects)) {\n          for (const field of fields) {\n            if (fieldIds.has(field.id) === include) {\n              allFields.push(field);\n            }\n          }\n        }\n      } else {\n        for (const fields of Object.values(this._fieldObjects)) {\n          allFields.push(...fields);\n        }\n      }\n      const storage = this.annotationStorage;\n      const allIds = [];\n      for (const field of allFields) {\n        const {\n          id\n        } = field;\n        allIds.push(id);\n        switch (field.type) {\n          case \"text\":\n            {\n              const value = field.defaultValue || \"\";\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          case \"checkbox\":\n          case \"radiobutton\":\n            {\n              const value = field.defaultValue === field.exportValues;\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          case \"combobox\":\n          case \"listbox\":\n            {\n              const value = field.defaultValue || \"\";\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          default:\n            continue;\n        }\n        const domElement = document.querySelector(`[data-element-id=\"${id}\"]`);\n        if (!domElement) {\n          continue;\n        } else if (!GetElementsByNameSet.has(domElement)) {\n          warn(`_bindResetFormAction - element not allowed: ${id}`);\n          continue;\n        }\n        domElement.dispatchEvent(new Event(\"resetform\"));\n      }\n      if (this.enableScripting) {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: \"app\",\n            ids: allIds,\n            name: \"ResetForm\"\n          }\n        });\n      }\n      return false;\n    };\n  }\n}\nclass TextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"textAnnotation\");\n    const image = document.createElement(\"img\");\n    image.src = this.imageResourcesPath + \"annotation-\" + this.data.name.toLowerCase() + \".svg\";\n    image.setAttribute(\"data-l10n-id\", \"pdfjs-text-annotation-type\");\n    image.setAttribute(\"data-l10n-args\", JSON.stringify({\n      type: this.data.name\n    }));\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.append(image);\n    return this.container;\n  }\n}\nclass WidgetAnnotationElement extends AnnotationElement {\n  render() {\n    return this.container;\n  }\n  showElementAndHideCanvas(element) {\n    if (this.data.hasOwnCanvas) {\n      if (element.previousSibling?.nodeName === \"CANVAS\") {\n        element.previousSibling.hidden = true;\n      }\n      element.hidden = false;\n    }\n  }\n  _getKeyModifier(event) {\n    return util_FeatureTest.platform.isMac ? event.metaKey : event.ctrlKey;\n  }\n  _setEventListener(element, elementData, baseName, eventName, valueGetter) {\n    if (baseName.includes(\"mouse\")) {\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event),\n            shift: event.shiftKey,\n            modifier: this._getKeyModifier(event)\n          }\n        });\n      });\n    } else {\n      element.addEventListener(baseName, event => {\n        if (baseName === \"blur\") {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          elementData.focused = false;\n        } else if (baseName === \"focus\") {\n          if (elementData.focused) {\n            return;\n          }\n          elementData.focused = true;\n        }\n        if (!valueGetter) {\n          return;\n        }\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event)\n          }\n        });\n      });\n    }\n  }\n  _setEventListeners(element, elementData, names, getter) {\n    for (const [baseName, eventName] of names) {\n      if (eventName === \"Action\" || this.data.actions?.[eventName]) {\n        if (eventName === \"Focus\" || eventName === \"Blur\") {\n          elementData ||= {\n            focused: false\n          };\n        }\n        this._setEventListener(element, elementData, baseName, eventName, getter);\n        if (eventName === \"Focus\" && !this.data.actions?.Blur) {\n          this._setEventListener(element, elementData, \"blur\", \"Blur\", null);\n        } else if (eventName === \"Blur\" && !this.data.actions?.Focus) {\n          this._setEventListener(element, elementData, \"focus\", \"Focus\", null);\n        }\n      }\n    }\n  }\n  _setBackgroundColor(element) {\n    const color = this.data.backgroundColor || null;\n    element.style.backgroundColor = color === null ? \"transparent\" : Util.makeHexColor(color[0], color[1], color[2]);\n  }\n  _setTextStyle(element) {\n    const TEXT_ALIGNMENT = [\"left\", \"center\", \"right\"];\n    const {\n      fontColor\n    } = this.data.defaultAppearanceData;\n    const fontSize = this.data.defaultAppearanceData.fontSize || annotation_layer_DEFAULT_FONT_SIZE;\n    const style = element.style;\n    let computedFontSize;\n    const BORDER_SIZE = 2;\n    const roundToOneDecimal = x => Math.round(10 * x) / 10;\n    if (this.data.multiLine) {\n      const height = Math.abs(this.data.rect[3] - this.data.rect[1] - BORDER_SIZE);\n      const numberOfLines = Math.round(height / (LINE_FACTOR * fontSize)) || 1;\n      const lineHeight = height / numberOfLines;\n      computedFontSize = Math.min(fontSize, roundToOneDecimal(lineHeight / LINE_FACTOR));\n    } else {\n      const height = Math.abs(this.data.rect[3] - this.data.rect[1] - BORDER_SIZE);\n      computedFontSize = Math.min(fontSize, roundToOneDecimal(height / LINE_FACTOR));\n    }\n    style.fontSize = `calc(${computedFontSize}px * var(--total-scale-factor))`;\n    style.color = Util.makeHexColor(fontColor[0], fontColor[1], fontColor[2]);\n    if (this.data.textAlignment !== null) {\n      style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n    }\n  }\n  _setRequired(element, isRequired) {\n    if (isRequired) {\n      element.setAttribute(\"required\", true);\n    } else {\n      element.removeAttribute(\"required\");\n    }\n    element.setAttribute(\"aria-required\", isRequired);\n  }\n}\nclass TextWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    const isRenderable = parameters.renderForms || parameters.data.hasOwnCanvas || !parameters.data.hasAppearance && !!parameters.data.fieldValue;\n    super(parameters, {\n      isRenderable\n    });\n  }\n  setPropertyOnSiblings(base, key, value, keyInStorage) {\n    const storage = this.annotationStorage;\n    for (const element of this._getElementsByName(base.name, base.id)) {\n      if (element.domElement) {\n        element.domElement[key] = value;\n      }\n      storage.setValue(element.id, {\n        [keyInStorage]: value\n      });\n    }\n  }\n  render() {\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    this.container.classList.add(\"textWidgetAnnotation\");\n    let element = null;\n    if (this.renderForms) {\n      const storedData = storage.getValue(id, {\n        value: this.data.fieldValue\n      });\n      let textContent = storedData.value || \"\";\n      const maxLen = storage.getValue(id, {\n        charLimit: this.data.maxLen\n      }).charLimit;\n      if (maxLen && textContent.length > maxLen) {\n        textContent = textContent.slice(0, maxLen);\n      }\n      let fieldFormattedValues = storedData.formattedValue || this.data.textContent?.join(\"\\n\") || null;\n      if (fieldFormattedValues && this.data.comb) {\n        fieldFormattedValues = fieldFormattedValues.replaceAll(/\\s+/g, \"\");\n      }\n      const elementData = {\n        userValue: textContent,\n        formattedValue: fieldFormattedValues,\n        lastCommittedValue: null,\n        commitKey: 1,\n        focused: false\n      };\n      if (this.data.multiLine) {\n        element = document.createElement(\"textarea\");\n        element.textContent = fieldFormattedValues ?? textContent;\n        if (this.data.doNotScroll) {\n          element.style.overflowY = \"hidden\";\n        }\n      } else {\n        element = document.createElement(\"input\");\n        element.type = this.data.password ? \"password\" : \"text\";\n        element.setAttribute(\"value\", fieldFormattedValues ?? textContent);\n        if (this.data.doNotScroll) {\n          element.style.overflowX = \"hidden\";\n        }\n      }\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n      GetElementsByNameSet.add(element);\n      element.setAttribute(\"data-element-id\", id);\n      element.disabled = this.data.readOnly;\n      element.name = this.data.fieldName;\n      element.tabIndex = 0;\n      const {\n        datetimeFormat,\n        datetimeType,\n        timeStep\n      } = this.data;\n      const hasDateOrTime = !!datetimeType && this.enableScripting;\n      if (datetimeFormat) {\n        element.title = datetimeFormat;\n      }\n      this._setRequired(element, this.data.required);\n      if (maxLen) {\n        element.maxLength = maxLen;\n      }\n      element.addEventListener(\"input\", event => {\n        storage.setValue(id, {\n          value: event.target.value\n        });\n        this.setPropertyOnSiblings(element, \"value\", event.target.value, \"value\");\n        elementData.formattedValue = null;\n      });\n      element.addEventListener(\"resetform\", event => {\n        const defaultValue = this.data.defaultFieldValue ?? \"\";\n        element.value = elementData.userValue = defaultValue;\n        elementData.formattedValue = null;\n      });\n      let blurListener = event => {\n        const {\n          formattedValue\n        } = elementData;\n        if (formattedValue !== null && formattedValue !== undefined) {\n          event.target.value = formattedValue;\n        }\n        event.target.scrollLeft = 0;\n      };\n      if (this.enableScripting && this.hasJSActions) {\n        element.addEventListener(\"focus\", event => {\n          if (elementData.focused) {\n            return;\n          }\n          const {\n            target\n          } = event;\n          if (hasDateOrTime) {\n            target.type = datetimeType;\n            if (timeStep) {\n              target.step = timeStep;\n            }\n          }\n          if (elementData.userValue) {\n            const value = elementData.userValue;\n            if (hasDateOrTime) {\n              if (datetimeType === \"time\") {\n                const date = new Date(value);\n                const parts = [date.getHours(), date.getMinutes(), date.getSeconds()];\n                target.value = parts.map(v => v.toString().padStart(2, \"0\")).join(\":\");\n              } else {\n                target.value = new Date(value - TIMEZONE_OFFSET).toISOString().split(datetimeType === \"date\" ? \"T\" : \".\", 1)[0];\n              }\n            } else {\n              target.value = value;\n            }\n          }\n          elementData.lastCommittedValue = target.value;\n          elementData.commitKey = 1;\n          if (!this.data.actions?.Focus) {\n            elementData.focused = true;\n          }\n        });\n        element.addEventListener(\"updatefromsandbox\", jsEvent => {\n          this.showElementAndHideCanvas(jsEvent.target);\n          const actions = {\n            value(event) {\n              elementData.userValue = event.detail.value ?? \"\";\n              if (!hasDateOrTime) {\n                storage.setValue(id, {\n                  value: elementData.userValue.toString()\n                });\n              }\n              event.target.value = elementData.userValue;\n            },\n            formattedValue(event) {\n              const {\n                formattedValue\n              } = event.detail;\n              elementData.formattedValue = formattedValue;\n              if (formattedValue !== null && formattedValue !== undefined && event.target !== document.activeElement) {\n                event.target.value = formattedValue;\n              }\n              const data = {\n                formattedValue\n              };\n              if (hasDateOrTime) {\n                data.value = formattedValue;\n              }\n              storage.setValue(id, data);\n            },\n            selRange(event) {\n              event.target.setSelectionRange(...event.detail.selRange);\n            },\n            charLimit: event => {\n              const {\n                charLimit\n              } = event.detail;\n              const {\n                target\n              } = event;\n              if (charLimit === 0) {\n                target.removeAttribute(\"maxLength\");\n                return;\n              }\n              target.setAttribute(\"maxLength\", charLimit);\n              let value = elementData.userValue;\n              if (!value || value.length <= charLimit) {\n                return;\n              }\n              value = value.slice(0, charLimit);\n              target.value = elementData.userValue = value;\n              storage.setValue(id, {\n                value\n              });\n              this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                source: this,\n                detail: {\n                  id,\n                  name: \"Keystroke\",\n                  value,\n                  willCommit: true,\n                  commitKey: 1,\n                  selStart: target.selectionStart,\n                  selEnd: target.selectionEnd\n                }\n              });\n            }\n          };\n          this._dispatchEventFromSandbox(actions, jsEvent);\n        });\n        element.addEventListener(\"keydown\", event => {\n          elementData.commitKey = 1;\n          let commitKey = -1;\n          if (event.key === \"Escape\") {\n            commitKey = 0;\n          } else if (event.key === \"Enter\" && !this.data.multiLine) {\n            commitKey = 2;\n          } else if (event.key === \"Tab\") {\n            elementData.commitKey = 3;\n          }\n          if (commitKey === -1) {\n            return;\n          }\n          const {\n            value\n          } = event.target;\n          if (elementData.lastCommittedValue === value) {\n            return;\n          }\n          elementData.lastCommittedValue = value;\n          elementData.userValue = value;\n          this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n            source: this,\n            detail: {\n              id,\n              name: \"Keystroke\",\n              value,\n              willCommit: true,\n              commitKey,\n              selStart: event.target.selectionStart,\n              selEnd: event.target.selectionEnd\n            }\n          });\n        });\n        const _blurListener = blurListener;\n        blurListener = null;\n        element.addEventListener(\"blur\", event => {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          if (!this.data.actions?.Blur) {\n            elementData.focused = false;\n          }\n          const {\n            target\n          } = event;\n          let {\n            value\n          } = target;\n          if (hasDateOrTime) {\n            if (value && datetimeType === \"time\") {\n              const parts = value.split(\":\").map(v => parseInt(v, 10));\n              value = new Date(2000, 0, 1, parts[0], parts[1], parts[2] || 0).valueOf();\n              target.step = \"\";\n            } else {\n              if (!value.includes(\"T\")) {\n                value = `${value}T00:00`;\n              }\n              value = new Date(value).valueOf();\n            }\n            target.type = \"text\";\n          }\n          elementData.userValue = value;\n          if (elementData.lastCommittedValue !== value) {\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                willCommit: true,\n                commitKey: elementData.commitKey,\n                selStart: event.target.selectionStart,\n                selEnd: event.target.selectionEnd\n              }\n            });\n          }\n          _blurListener(event);\n        });\n        if (this.data.actions?.Keystroke) {\n          element.addEventListener(\"beforeinput\", event => {\n            elementData.lastCommittedValue = null;\n            const {\n              data,\n              target\n            } = event;\n            const {\n              value,\n              selectionStart,\n              selectionEnd\n            } = target;\n            let selStart = selectionStart,\n              selEnd = selectionEnd;\n            switch (event.inputType) {\n              case \"deleteWordBackward\":\n                {\n                  const match = value.substring(0, selectionStart).match(/\\w*[^\\w]*$/);\n                  if (match) {\n                    selStart -= match[0].length;\n                  }\n                  break;\n                }\n              case \"deleteWordForward\":\n                {\n                  const match = value.substring(selectionStart).match(/^[^\\w]*\\w*/);\n                  if (match) {\n                    selEnd += match[0].length;\n                  }\n                  break;\n                }\n              case \"deleteContentBackward\":\n                if (selectionStart === selectionEnd) {\n                  selStart -= 1;\n                }\n                break;\n              case \"deleteContentForward\":\n                if (selectionStart === selectionEnd) {\n                  selEnd += 1;\n                }\n                break;\n            }\n            event.preventDefault();\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                change: data || \"\",\n                willCommit: false,\n                selStart,\n                selEnd\n              }\n            });\n          });\n        }\n        this._setEventListeners(element, elementData, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.value);\n      }\n      if (blurListener) {\n        element.addEventListener(\"blur\", blurListener);\n      }\n      if (this.data.comb) {\n        const fieldWidth = this.data.rect[2] - this.data.rect[0];\n        const combWidth = fieldWidth / maxLen;\n        element.classList.add(\"comb\");\n        element.style.letterSpacing = `calc(${combWidth}px * var(--total-scale-factor) - 1ch)`;\n      }\n    } else {\n      element = document.createElement(\"div\");\n      element.textContent = this.data.fieldValue;\n      element.style.verticalAlign = \"middle\";\n      element.style.display = \"table-cell\";\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n    }\n    this._setTextStyle(element);\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass SignatureWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: !!parameters.data.hasOwnCanvas\n    });\n  }\n}\nclass CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.exportValue === data.fieldValue\n    }).value;\n    if (typeof value === \"string\") {\n      value = value !== \"Off\";\n      storage.setValue(id, {\n        value\n      });\n    }\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"checkBox\");\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"checkbox\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.setAttribute(\"exportValue\", data.exportValue);\n    element.tabIndex = 0;\n    element.addEventListener(\"change\", event => {\n      const {\n        name,\n        checked\n      } = event.target;\n      for (const checkbox of this._getElementsByName(name, id)) {\n        const curChecked = checked && checkbox.exportValue === data.exportValue;\n        if (checkbox.domElement) {\n          checkbox.domElement.checked = curChecked;\n        }\n        storage.setValue(checkbox.id, {\n          value: curChecked\n        });\n      }\n      storage.setValue(id, {\n        value: checked\n      });\n    });\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue || \"Off\";\n      event.target.checked = defaultValue === data.exportValue;\n    });\n    if (this.enableScripting && this.hasJSActions) {\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            event.target.checked = event.detail.value !== \"Off\";\n            storage.setValue(id, {\n              value: event.target.checked\n            });\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      this._setEventListeners(element, null, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"radioButton\");\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.fieldValue === data.buttonValue\n    }).value;\n    if (typeof value === \"string\") {\n      value = value !== data.buttonValue;\n      storage.setValue(id, {\n        value\n      });\n    }\n    if (value) {\n      for (const radio of this._getElementsByName(data.fieldName, id)) {\n        storage.setValue(radio.id, {\n          value: false\n        });\n      }\n    }\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"radio\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.tabIndex = 0;\n    element.addEventListener(\"change\", event => {\n      const {\n        name,\n        checked\n      } = event.target;\n      for (const radio of this._getElementsByName(name, id)) {\n        storage.setValue(radio.id, {\n          value: false\n        });\n      }\n      storage.setValue(id, {\n        value: checked\n      });\n    });\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue;\n      event.target.checked = defaultValue !== null && defaultValue !== undefined && defaultValue === data.buttonValue;\n    });\n    if (this.enableScripting && this.hasJSActions) {\n      const pdfButtonValue = data.buttonValue;\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value: event => {\n            const checked = pdfButtonValue === event.detail.value;\n            for (const radio of this._getElementsByName(event.target.name)) {\n              const curChecked = checked && radio.id === id;\n              if (radio.domElement) {\n                radio.domElement.checked = curChecked;\n              }\n              storage.setValue(radio.id, {\n                value: curChecked\n              });\n            }\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      this._setEventListeners(element, null, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass PushButtonWidgetAnnotationElement extends LinkAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      ignoreBorder: parameters.data.hasAppearance\n    });\n  }\n  render() {\n    const container = super.render();\n    container.classList.add(\"buttonWidgetAnnotation\", \"pushButton\");\n    const linkElement = container.lastChild;\n    if (this.enableScripting && this.hasJSActions && linkElement) {\n      this._setDefaultPropertiesFromJS(linkElement);\n      linkElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        this._dispatchEventFromSandbox({}, jsEvent);\n      });\n    }\n    return container;\n  }\n}\nclass ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    this.container.classList.add(\"choiceWidgetAnnotation\");\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    const storedData = storage.getValue(id, {\n      value: this.data.fieldValue\n    });\n    const selectElement = document.createElement(\"select\");\n    GetElementsByNameSet.add(selectElement);\n    selectElement.setAttribute(\"data-element-id\", id);\n    selectElement.disabled = this.data.readOnly;\n    this._setRequired(selectElement, this.data.required);\n    selectElement.name = this.data.fieldName;\n    selectElement.tabIndex = 0;\n    let addAnEmptyEntry = this.data.combo && this.data.options.length > 0;\n    if (!this.data.combo) {\n      selectElement.size = this.data.options.length;\n      if (this.data.multiSelect) {\n        selectElement.multiple = true;\n      }\n    }\n    selectElement.addEventListener(\"resetform\", event => {\n      const defaultValue = this.data.defaultFieldValue;\n      for (const option of selectElement.options) {\n        option.selected = option.value === defaultValue;\n      }\n    });\n    for (const option of this.data.options) {\n      const optionElement = document.createElement(\"option\");\n      optionElement.textContent = option.displayValue;\n      optionElement.value = option.exportValue;\n      if (storedData.value.includes(option.exportValue)) {\n        optionElement.setAttribute(\"selected\", true);\n        addAnEmptyEntry = false;\n      }\n      selectElement.append(optionElement);\n    }\n    let removeEmptyEntry = null;\n    if (addAnEmptyEntry) {\n      const noneOptionElement = document.createElement(\"option\");\n      noneOptionElement.value = \" \";\n      noneOptionElement.setAttribute(\"hidden\", true);\n      noneOptionElement.setAttribute(\"selected\", true);\n      selectElement.prepend(noneOptionElement);\n      removeEmptyEntry = () => {\n        noneOptionElement.remove();\n        selectElement.removeEventListener(\"input\", removeEmptyEntry);\n        removeEmptyEntry = null;\n      };\n      selectElement.addEventListener(\"input\", removeEmptyEntry);\n    }\n    const getValue = isExport => {\n      const name = isExport ? \"value\" : \"textContent\";\n      const {\n        options,\n        multiple\n      } = selectElement;\n      if (!multiple) {\n        return options.selectedIndex === -1 ? null : options[options.selectedIndex][name];\n      }\n      return Array.prototype.filter.call(options, option => option.selected).map(option => option[name]);\n    };\n    let selectedValues = getValue(false);\n    const getItems = event => {\n      const options = event.target.options;\n      return Array.prototype.map.call(options, option => ({\n        displayValue: option.textContent,\n        exportValue: option.value\n      }));\n    };\n    if (this.enableScripting && this.hasJSActions) {\n      selectElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            removeEmptyEntry?.();\n            const value = event.detail.value;\n            const values = new Set(Array.isArray(value) ? value : [value]);\n            for (const option of selectElement.options) {\n              option.selected = values.has(option.value);\n            }\n            storage.setValue(id, {\n              value: getValue(true)\n            });\n            selectedValues = getValue(false);\n          },\n          multipleSelection(event) {\n            selectElement.multiple = true;\n          },\n          remove(event) {\n            const options = selectElement.options;\n            const index = event.detail.remove;\n            options[index].selected = false;\n            selectElement.remove(index);\n            if (options.length > 0) {\n              const i = Array.prototype.findIndex.call(options, option => option.selected);\n              if (i === -1) {\n                options[0].selected = true;\n              }\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          clear(event) {\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            storage.setValue(id, {\n              value: null,\n              items: []\n            });\n            selectedValues = getValue(false);\n          },\n          insert(event) {\n            const {\n              index,\n              displayValue,\n              exportValue\n            } = event.detail.insert;\n            const selectChild = selectElement.children[index];\n            const optionElement = document.createElement(\"option\");\n            optionElement.textContent = displayValue;\n            optionElement.value = exportValue;\n            if (selectChild) {\n              selectChild.before(optionElement);\n            } else {\n              selectElement.append(optionElement);\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          items(event) {\n            const {\n              items\n            } = event.detail;\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            for (const item of items) {\n              const {\n                displayValue,\n                exportValue\n              } = item;\n              const optionElement = document.createElement(\"option\");\n              optionElement.textContent = displayValue;\n              optionElement.value = exportValue;\n              selectElement.append(optionElement);\n            }\n            if (selectElement.options.length > 0) {\n              selectElement.options[0].selected = true;\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          indices(event) {\n            const indices = new Set(event.detail.indices);\n            for (const option of event.target.options) {\n              option.selected = indices.has(option.index);\n            }\n            storage.setValue(id, {\n              value: getValue(true)\n            });\n            selectedValues = getValue(false);\n          },\n          editable(event) {\n            event.target.disabled = !event.detail.editable;\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      selectElement.addEventListener(\"input\", event => {\n        const exportValue = getValue(true);\n        const change = getValue(false);\n        storage.setValue(id, {\n          value: exportValue\n        });\n        event.preventDefault();\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id,\n            name: \"Keystroke\",\n            value: selectedValues,\n            change,\n            changeEx: exportValue,\n            willCommit: false,\n            commitKey: 1,\n            keyDown: false\n          }\n        });\n      });\n      this._setEventListeners(selectElement, null, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"], [\"input\", \"Action\"], [\"input\", \"Validate\"]], event => event.target.value);\n    } else {\n      selectElement.addEventListener(\"input\", function (event) {\n        storage.setValue(id, {\n          value: getValue(true)\n        });\n      });\n    }\n    if (this.data.combo) {\n      this._setTextStyle(selectElement);\n    } else {}\n    this._setBackgroundColor(selectElement);\n    this._setDefaultPropertiesFromJS(selectElement);\n    this.container.append(selectElement);\n    return this.container;\n  }\n}\nclass PopupAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const {\n      data,\n      elements,\n      parent\n    } = parameters;\n    const hasCommentManager = !!parent._commentManager;\n    super(parameters, {\n      isRenderable: !hasCommentManager && AnnotationElement._hasPopupData(data)\n    });\n    this.elements = elements;\n    if (hasCommentManager && AnnotationElement._hasPopupData(data)) {\n      const popup = this.popup = this.#createPopup();\n      for (const element of elements) {\n        element.popup = popup;\n      }\n    } else {\n      this.popup = null;\n    }\n  }\n  #createPopup() {\n    return new PopupElement({\n      container: this.container,\n      color: this.data.color,\n      titleObj: this.data.titleObj,\n      modificationDate: this.data.modificationDate || this.data.creationDate,\n      contentsObj: this.data.contentsObj,\n      richText: this.data.richText,\n      rect: this.data.rect,\n      parentRect: this.data.parentRect || null,\n      parent: this.parent,\n      elements: this.elements,\n      open: this.data.open,\n      commentManager: this.parent._commentManager\n    });\n  }\n  render() {\n    const {\n      container\n    } = this;\n    container.classList.add(\"popupAnnotation\");\n    container.role = \"comment\";\n    const popup = this.popup = this.#createPopup();\n    const elementIds = [];\n    for (const element of this.elements) {\n      element.popup = popup;\n      element.container.ariaHasPopup = \"dialog\";\n      elementIds.push(element.data.id);\n      element.addHighlightArea();\n    }\n    this.container.setAttribute(\"aria-controls\", elementIds.map(id => `${AnnotationPrefix}${id}`).join(\",\"));\n    return this.container;\n  }\n}\nclass PopupElement {\n  #commentManager = null;\n  #boundKeyDown = this.#keyDown.bind(this);\n  #boundHide = this.#hide.bind(this);\n  #boundShow = this.#show.bind(this);\n  #boundToggle = this.#toggle.bind(this);\n  #color = null;\n  #container = null;\n  #contentsObj = null;\n  #dateObj = null;\n  #elements = null;\n  #parent = null;\n  #parentRect = null;\n  #pinned = false;\n  #popup = null;\n  #popupAbortController = null;\n  #position = null;\n  #commentButton = null;\n  #commentButtonPosition = null;\n  #popupPosition = null;\n  #rect = null;\n  #richText = null;\n  #titleObj = null;\n  #updates = null;\n  #wasVisible = false;\n  #firstElement = null;\n  #commentText = null;\n  constructor({\n    container,\n    color,\n    elements,\n    titleObj,\n    modificationDate,\n    contentsObj,\n    richText,\n    parent,\n    rect,\n    parentRect,\n    open,\n    commentManager = null\n  }) {\n    this.#container = container;\n    this.#titleObj = titleObj;\n    this.#contentsObj = contentsObj;\n    this.#richText = richText;\n    this.#parent = parent;\n    this.#color = color;\n    this.#rect = rect;\n    this.#parentRect = parentRect;\n    this.#elements = elements;\n    this.#commentManager = commentManager;\n    this.#firstElement = elements[0];\n    this.#dateObj = PDFDateString.toDateObject(modificationDate);\n    this.trigger = elements.flatMap(e => e.getElementsToTriggerPopup());\n    if (commentManager) {\n      this.renderCommentButton();\n    } else {\n      this.#addEventListeners();\n      this.#container.hidden = true;\n      if (open) {\n        this.#toggle();\n      }\n    }\n  }\n  #addEventListeners() {\n    if (this.#popupAbortController) {\n      return;\n    }\n    this.#popupAbortController = new AbortController();\n    const {\n      signal\n    } = this.#popupAbortController;\n    for (const element of this.trigger) {\n      element.addEventListener(\"click\", this.#boundToggle, {\n        signal\n      });\n      element.addEventListener(\"pointerenter\", this.#boundShow, {\n        signal\n      });\n      element.addEventListener(\"pointerleave\", this.#boundHide, {\n        signal\n      });\n      element.classList.add(\"popupTriggerArea\");\n    }\n    for (const element of this.#elements) {\n      element.container?.addEventListener(\"keydown\", this.#boundKeyDown, {\n        signal\n      });\n    }\n  }\n  #setCommentButtonPosition() {\n    const element = this.#elements.find(e => e.hasCommentButton);\n    if (!element) {\n      return;\n    }\n    this.#commentButtonPosition = element._normalizePoint(element.commentButtonPosition);\n  }\n  renderCommentButton() {\n    if (this.#commentButton) {\n      return;\n    }\n    if (!this.#commentButtonPosition) {\n      this.#setCommentButtonPosition();\n    }\n    if (!this.#commentButtonPosition) {\n      return;\n    }\n    const {\n      signal\n    } = this.#popupAbortController = new AbortController();\n    const hasOwnButton = !!this.#firstElement.extraPopupElement;\n    const togglePopup = () => {\n      this.#commentManager.toggleCommentPopup(this, true, undefined, !hasOwnButton);\n    };\n    const showPopup = () => {\n      this.#commentManager.toggleCommentPopup(this, false, true, !hasOwnButton);\n    };\n    const hidePopup = () => {\n      this.#commentManager.toggleCommentPopup(this, false, false);\n    };\n    if (!hasOwnButton) {\n      const button = this.#commentButton = document.createElement(\"button\");\n      button.className = \"annotationCommentButton\";\n      const parentContainer = this.#firstElement.container;\n      button.style.zIndex = parentContainer.style.zIndex + 1;\n      button.tabIndex = 0;\n      button.ariaHasPopup = \"dialog\";\n      button.ariaControls = \"commentPopup\";\n      button.setAttribute(\"data-l10n-id\", \"pdfjs-show-comment-button\");\n      this.#updateColor();\n      this.#updateCommentButtonPosition();\n      button.addEventListener(\"keydown\", this.#boundKeyDown, {\n        signal\n      });\n      button.addEventListener(\"click\", togglePopup, {\n        signal\n      });\n      button.addEventListener(\"pointerenter\", showPopup, {\n        signal\n      });\n      button.addEventListener(\"pointerleave\", hidePopup, {\n        signal\n      });\n      parentContainer.after(button);\n    } else {\n      this.#commentButton = this.#firstElement.container;\n      for (const element of this.trigger) {\n        element.ariaHasPopup = \"dialog\";\n        element.ariaControls = \"commentPopup\";\n        element.addEventListener(\"keydown\", this.#boundKeyDown, {\n          signal\n        });\n        element.addEventListener(\"click\", togglePopup, {\n          signal\n        });\n        element.addEventListener(\"pointerenter\", showPopup, {\n          signal\n        });\n        element.addEventListener(\"pointerleave\", hidePopup, {\n          signal\n        });\n        element.classList.add(\"popupTriggerArea\");\n      }\n    }\n  }\n  #updateCommentButtonPosition() {\n    if (this.#firstElement.extraPopupElement && !this.#firstElement.editor) {\n      return;\n    }\n    this.renderCommentButton();\n    const [x, y] = this.#commentButtonPosition;\n    const {\n      style\n    } = this.#commentButton;\n    style.left = `calc(${x}%)`;\n    style.top = `calc(${y}% - var(--comment-button-dim))`;\n  }\n  #updateColor() {\n    if (this.#firstElement.extraPopupElement) {\n      return;\n    }\n    this.renderCommentButton();\n    this.#commentButton.style.backgroundColor = this.commentButtonColor || \"\";\n  }\n  get commentButtonColor() {\n    const {\n      color,\n      opacity\n    } = this.#firstElement.commentData;\n    if (!color) {\n      return null;\n    }\n    return this.#parent._commentManager.makeCommentColor(color, opacity);\n  }\n  focusCommentButton() {\n    setTimeout(() => {\n      this.#commentButton?.focus();\n    }, 0);\n  }\n  getData() {\n    const {\n      richText,\n      color,\n      opacity,\n      creationDate,\n      modificationDate\n    } = this.#firstElement.commentData;\n    return {\n      contentsObj: {\n        str: this.comment\n      },\n      richText,\n      color,\n      opacity,\n      creationDate,\n      modificationDate\n    };\n  }\n  get elementBeforePopup() {\n    return this.#commentButton;\n  }\n  get comment() {\n    this.#commentText ||= this.#firstElement.commentText;\n    return this.#commentText;\n  }\n  set comment(text) {\n    if (text === this.comment) {\n      return;\n    }\n    this.#firstElement.commentText = this.#commentText = text;\n  }\n  get parentBoundingClientRect() {\n    return this.#firstElement.layer.getBoundingClientRect();\n  }\n  setCommentButtonStates({\n    selected,\n    hasPopup\n  }) {\n    if (!this.#commentButton) {\n      return;\n    }\n    this.#commentButton.classList.toggle(\"selected\", selected);\n    this.#commentButton.ariaExpanded = hasPopup;\n  }\n  setSelectedCommentButton(selected) {\n    this.#commentButton.classList.toggle(\"selected\", selected);\n  }\n  get commentPopupPosition() {\n    if (this.#popupPosition) {\n      return this.#popupPosition;\n    }\n    const {\n      x,\n      y,\n      height\n    } = this.#commentButton.getBoundingClientRect();\n    const {\n      x: parentX,\n      y: parentY,\n      width: parentWidth,\n      height: parentHeight\n    } = this.#firstElement.layer.getBoundingClientRect();\n    return [(x - parentX) / parentWidth, (y + height - parentY) / parentHeight];\n  }\n  set commentPopupPosition(pos) {\n    this.#popupPosition = pos;\n  }\n  hasDefaultPopupPosition() {\n    return this.#popupPosition === null;\n  }\n  get commentButtonPosition() {\n    return this.#commentButtonPosition;\n  }\n  get commentButtonWidth() {\n    return this.#commentButton.getBoundingClientRect().width / this.parentBoundingClientRect.width;\n  }\n  editComment(options) {\n    const [posX, posY] = this.#popupPosition || this.commentButtonPosition.map(x => x / 100);\n    const parentDimensions = this.parentBoundingClientRect;\n    const {\n      x: parentX,\n      y: parentY,\n      width: parentWidth,\n      height: parentHeight\n    } = parentDimensions;\n    this.#commentManager.showDialog(null, this, parentX + posX * parentWidth, parentY + posY * parentHeight, {\n      ...options,\n      parentDimensions\n    });\n  }\n  render() {\n    if (this.#popup) {\n      return;\n    }\n    const popup = this.#popup = document.createElement(\"div\");\n    popup.className = \"popup\";\n    if (this.#color) {\n      const baseColor = popup.style.outlineColor = Util.makeHexColor(...this.#color);\n      popup.style.backgroundColor = `color-mix(in srgb, ${baseColor} 30%, white)`;\n    }\n    const header = document.createElement(\"span\");\n    header.className = \"header\";\n    if (this.#titleObj?.str) {\n      const title = document.createElement(\"span\");\n      title.className = \"title\";\n      header.append(title);\n      ({\n        dir: title.dir,\n        str: title.textContent\n      } = this.#titleObj);\n    }\n    popup.append(header);\n    if (this.#dateObj) {\n      const modificationDate = document.createElement(\"time\");\n      modificationDate.className = \"popupDate\";\n      modificationDate.setAttribute(\"data-l10n-id\", \"pdfjs-annotation-date-time-string\");\n      modificationDate.setAttribute(\"data-l10n-args\", JSON.stringify({\n        dateObj: this.#dateObj.valueOf()\n      }));\n      modificationDate.dateTime = this.#dateObj.toISOString();\n      header.append(modificationDate);\n    }\n    renderRichText({\n      html: this.#html || this.#contentsObj.str,\n      dir: this.#contentsObj?.dir,\n      className: \"popupContent\"\n    }, popup);\n    this.#container.append(popup);\n  }\n  get #html() {\n    const richText = this.#richText;\n    const contentsObj = this.#contentsObj;\n    if (richText?.str && (!contentsObj?.str || contentsObj.str === richText.str)) {\n      return this.#richText.html || null;\n    }\n    return null;\n  }\n  get #fontSize() {\n    return this.#html?.attributes?.style?.fontSize || 0;\n  }\n  get #fontColor() {\n    return this.#html?.attributes?.style?.color || null;\n  }\n  #makePopupContent(text) {\n    const popupLines = [];\n    const popupContent = {\n      str: text,\n      html: {\n        name: \"div\",\n        attributes: {\n          dir: \"auto\"\n        },\n        children: [{\n          name: \"p\",\n          children: popupLines\n        }]\n      }\n    };\n    const lineAttributes = {\n      style: {\n        color: this.#fontColor,\n        fontSize: this.#fontSize ? `calc(${this.#fontSize}px * var(--total-scale-factor))` : \"\"\n      }\n    };\n    for (const line of text.split(\"\\n\")) {\n      popupLines.push({\n        name: \"span\",\n        value: line,\n        attributes: lineAttributes\n      });\n    }\n    return popupContent;\n  }\n  #keyDown(event) {\n    if (event.altKey || event.shiftKey || event.ctrlKey || event.metaKey) {\n      return;\n    }\n    if (event.key === \"Enter\" || event.key === \"Escape\" && this.#pinned) {\n      this.#toggle();\n    }\n  }\n  updateEdited({\n    rect,\n    popup,\n    deleted\n  }) {\n    if (this.#commentManager) {\n      if (deleted) {\n        this.remove();\n        this.#commentText = null;\n      } else if (popup) {\n        if (popup.deleted) {\n          this.remove();\n        } else {\n          this.#updateColor();\n          this.#commentText = popup.text;\n        }\n      }\n      if (rect) {\n        this.#commentButtonPosition = null;\n        this.#setCommentButtonPosition();\n        this.#updateCommentButtonPosition();\n      }\n      return;\n    }\n    if (deleted || popup?.deleted) {\n      this.remove();\n      return;\n    }\n    this.#addEventListeners();\n    this.#updates ||= {\n      contentsObj: this.#contentsObj,\n      richText: this.#richText\n    };\n    if (rect) {\n      this.#position = null;\n    }\n    if (popup && popup.text) {\n      this.#richText = this.#makePopupContent(popup.text);\n      this.#dateObj = PDFDateString.toDateObject(popup.date);\n      this.#contentsObj = null;\n    }\n    this.#popup?.remove();\n    this.#popup = null;\n  }\n  resetEdited() {\n    if (!this.#updates) {\n      return;\n    }\n    ({\n      contentsObj: this.#contentsObj,\n      richText: this.#richText\n    } = this.#updates);\n    this.#updates = null;\n    this.#popup?.remove();\n    this.#popup = null;\n    this.#position = null;\n  }\n  remove() {\n    this.#popupAbortController?.abort();\n    this.#popupAbortController = null;\n    this.#popup?.remove();\n    this.#popup = null;\n    this.#wasVisible = false;\n    this.#pinned = false;\n    this.#commentButton?.remove();\n    this.#commentButton = null;\n    if (this.trigger) {\n      for (const element of this.trigger) {\n        element.classList.remove(\"popupTriggerArea\");\n      }\n    }\n  }\n  #setPosition() {\n    if (this.#position !== null) {\n      return;\n    }\n    const {\n      page: {\n        view\n      },\n      viewport: {\n        rawDims: {\n          pageWidth,\n          pageHeight,\n          pageX,\n          pageY\n        }\n      }\n    } = this.#parent;\n    let useParentRect = !!this.#parentRect;\n    let rect = useParentRect ? this.#parentRect : this.#rect;\n    for (const element of this.#elements) {\n      if (!rect || Util.intersect(element.data.rect, rect) !== null) {\n        rect = element.data.rect;\n        useParentRect = true;\n        break;\n      }\n    }\n    const normalizedRect = Util.normalizeRect([rect[0], view[3] - rect[1] + view[1], rect[2], view[3] - rect[3] + view[1]]);\n    const HORIZONTAL_SPACE_AFTER_ANNOTATION = 5;\n    const parentWidth = useParentRect ? rect[2] - rect[0] + HORIZONTAL_SPACE_AFTER_ANNOTATION : 0;\n    const popupLeft = normalizedRect[0] + parentWidth;\n    const popupTop = normalizedRect[1];\n    this.#position = [100 * (popupLeft - pageX) / pageWidth, 100 * (popupTop - pageY) / pageHeight];\n    const {\n      style\n    } = this.#container;\n    style.left = `${this.#position[0]}%`;\n    style.top = `${this.#position[1]}%`;\n  }\n  #toggle() {\n    if (this.#commentManager) {\n      this.#commentManager.toggleCommentPopup(this, false);\n      return;\n    }\n    this.#pinned = !this.#pinned;\n    if (this.#pinned) {\n      this.#show();\n      this.#container.addEventListener(\"click\", this.#boundToggle);\n      this.#container.addEventListener(\"keydown\", this.#boundKeyDown);\n    } else {\n      this.#hide();\n      this.#container.removeEventListener(\"click\", this.#boundToggle);\n      this.#container.removeEventListener(\"keydown\", this.#boundKeyDown);\n    }\n  }\n  #show() {\n    if (!this.#popup) {\n      this.render();\n    }\n    if (!this.isVisible) {\n      this.#setPosition();\n      this.#container.hidden = false;\n      this.#container.style.zIndex = parseInt(this.#container.style.zIndex) + 1000;\n    } else if (this.#pinned) {\n      this.#container.classList.add(\"focused\");\n    }\n  }\n  #hide() {\n    this.#container.classList.remove(\"focused\");\n    if (this.#pinned || !this.isVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n    this.#container.style.zIndex = parseInt(this.#container.style.zIndex) - 1000;\n  }\n  forceHide() {\n    this.#wasVisible = this.isVisible;\n    if (!this.#wasVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n  }\n  maybeShow() {\n    if (this.#commentManager) {\n      return;\n    }\n    this.#addEventListeners();\n    if (!this.#wasVisible) {\n      return;\n    }\n    if (!this.#popup) {\n      this.#show();\n    }\n    this.#wasVisible = false;\n    this.#container.hidden = false;\n  }\n  get isVisible() {\n    if (this.#commentManager) {\n      return false;\n    }\n    return this.#container.hidden === false;\n  }\n}\nclass FreeTextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.textContent = parameters.data.textContent;\n    this.textPosition = parameters.data.textPosition;\n    this.annotationEditorType = AnnotationEditorType.FREETEXT;\n  }\n  render() {\n    this.container.classList.add(\"freeTextAnnotation\");\n    if (this.textContent) {\n      const content = document.createElement(\"div\");\n      content.classList.add(\"annotationTextContent\");\n      content.setAttribute(\"role\", \"comment\");\n      for (const line of this.textContent) {\n        const lineSpan = document.createElement(\"span\");\n        lineSpan.textContent = line;\n        content.append(lineSpan);\n      }\n      this.container.append(content);\n    }\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this._editOnDoubleClick();\n    return this.container;\n  }\n}\nclass LineAnnotationElement extends AnnotationElement {\n  #line = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"lineAnnotation\");\n    const {\n      data,\n      width,\n      height\n    } = this;\n    const svg = this.svgFactory.create(width, height, true);\n    const line = this.#line = this.svgFactory.createElement(\"svg:line\");\n    line.setAttribute(\"x1\", data.rect[2] - data.lineCoordinates[0]);\n    line.setAttribute(\"y1\", data.rect[3] - data.lineCoordinates[1]);\n    line.setAttribute(\"x2\", data.rect[2] - data.lineCoordinates[2]);\n    line.setAttribute(\"y2\", data.rect[3] - data.lineCoordinates[3]);\n    line.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    line.setAttribute(\"stroke\", \"transparent\");\n    line.setAttribute(\"fill\", \"transparent\");\n    svg.append(line);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#line;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass SquareAnnotationElement extends AnnotationElement {\n  #square = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"squareAnnotation\");\n    const {\n      data,\n      width,\n      height\n    } = this;\n    const svg = this.svgFactory.create(width, height, true);\n    const borderWidth = data.borderStyle.width;\n    const square = this.#square = this.svgFactory.createElement(\"svg:rect\");\n    square.setAttribute(\"x\", borderWidth / 2);\n    square.setAttribute(\"y\", borderWidth / 2);\n    square.setAttribute(\"width\", width - borderWidth);\n    square.setAttribute(\"height\", height - borderWidth);\n    square.setAttribute(\"stroke-width\", borderWidth || 1);\n    square.setAttribute(\"stroke\", \"transparent\");\n    square.setAttribute(\"fill\", \"transparent\");\n    svg.append(square);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#square;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass CircleAnnotationElement extends AnnotationElement {\n  #circle = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"circleAnnotation\");\n    const {\n      data,\n      width,\n      height\n    } = this;\n    const svg = this.svgFactory.create(width, height, true);\n    const borderWidth = data.borderStyle.width;\n    const circle = this.#circle = this.svgFactory.createElement(\"svg:ellipse\");\n    circle.setAttribute(\"cx\", width / 2);\n    circle.setAttribute(\"cy\", height / 2);\n    circle.setAttribute(\"rx\", width / 2 - borderWidth / 2);\n    circle.setAttribute(\"ry\", height / 2 - borderWidth / 2);\n    circle.setAttribute(\"stroke-width\", borderWidth || 1);\n    circle.setAttribute(\"stroke\", \"transparent\");\n    circle.setAttribute(\"fill\", \"transparent\");\n    svg.append(circle);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#circle;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass PolylineAnnotationElement extends AnnotationElement {\n  #polyline = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"polylineAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n  render() {\n    this.container.classList.add(this.containerClassName);\n    const {\n      data: {\n        rect,\n        vertices,\n        borderStyle,\n        popupRef\n      },\n      width,\n      height\n    } = this;\n    if (!vertices) {\n      return this.container;\n    }\n    const svg = this.svgFactory.create(width, height, true);\n    let points = [];\n    for (let i = 0, ii = vertices.length; i < ii; i += 2) {\n      const x = vertices[i] - rect[0];\n      const y = rect[3] - vertices[i + 1];\n      points.push(`${x},${y}`);\n    }\n    points = points.join(\" \");\n    const polyline = this.#polyline = this.svgFactory.createElement(this.svgElementName);\n    polyline.setAttribute(\"points\", points);\n    polyline.setAttribute(\"stroke-width\", borderStyle.width || 1);\n    polyline.setAttribute(\"stroke\", \"transparent\");\n    polyline.setAttribute(\"fill\", \"transparent\");\n    svg.append(polyline);\n    this.container.append(svg);\n    if (!popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#polyline;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass PolygonAnnotationElement extends PolylineAnnotationElement {\n  constructor(parameters) {\n    super(parameters);\n    this.containerClassName = \"polygonAnnotation\";\n    this.svgElementName = \"svg:polygon\";\n  }\n}\nclass CaretAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"caretAnnotation\");\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n}\nclass InkAnnotationElement extends AnnotationElement {\n  #polylinesGroupElement = null;\n  #polylines = [];\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"inkAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n    this.annotationEditorType = this.data.it === \"InkHighlight\" ? AnnotationEditorType.HIGHLIGHT : AnnotationEditorType.INK;\n  }\n  #getTransform(rotation, rect) {\n    switch (rotation) {\n      case 90:\n        return {\n          transform: `rotate(90) translate(${-rect[0]},${rect[1]}) scale(1,-1)`,\n          width: rect[3] - rect[1],\n          height: rect[2] - rect[0]\n        };\n      case 180:\n        return {\n          transform: `rotate(180) translate(${-rect[2]},${rect[1]}) scale(1,-1)`,\n          width: rect[2] - rect[0],\n          height: rect[3] - rect[1]\n        };\n      case 270:\n        return {\n          transform: `rotate(270) translate(${-rect[2]},${rect[3]}) scale(1,-1)`,\n          width: rect[3] - rect[1],\n          height: rect[2] - rect[0]\n        };\n      default:\n        return {\n          transform: `translate(${-rect[0]},${rect[3]}) scale(1,-1)`,\n          width: rect[2] - rect[0],\n          height: rect[3] - rect[1]\n        };\n    }\n  }\n  render() {\n    this.container.classList.add(this.containerClassName);\n    const {\n      data: {\n        rect,\n        rotation,\n        inkLists,\n        borderStyle,\n        popupRef\n      }\n    } = this;\n    const {\n      transform,\n      width,\n      height\n    } = this.#getTransform(rotation, rect);\n    const svg = this.svgFactory.create(width, height, true);\n    const g = this.#polylinesGroupElement = this.svgFactory.createElement(\"svg:g\");\n    svg.append(g);\n    g.setAttribute(\"stroke-width\", borderStyle.width || 1);\n    g.setAttribute(\"stroke-linecap\", \"round\");\n    g.setAttribute(\"stroke-linejoin\", \"round\");\n    g.setAttribute(\"stroke-miterlimit\", 10);\n    g.setAttribute(\"stroke\", \"transparent\");\n    g.setAttribute(\"fill\", \"transparent\");\n    g.setAttribute(\"transform\", transform);\n    for (let i = 0, ii = inkLists.length; i < ii; i++) {\n      const polyline = this.svgFactory.createElement(this.svgElementName);\n      this.#polylines.push(polyline);\n      polyline.setAttribute(\"points\", inkLists[i].join(\",\"));\n      g.append(polyline);\n    }\n    if (!popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.append(svg);\n    this._editOnDoubleClick();\n    return this.container;\n  }\n  updateEdited(params) {\n    super.updateEdited(params);\n    const {\n      thickness,\n      points,\n      rect\n    } = params;\n    const g = this.#polylinesGroupElement;\n    if (thickness >= 0) {\n      g.setAttribute(\"stroke-width\", thickness || 1);\n    }\n    if (points) {\n      for (let i = 0, ii = this.#polylines.length; i < ii; i++) {\n        this.#polylines[i].setAttribute(\"points\", points[i].join(\",\"));\n      }\n    }\n    if (rect) {\n      const {\n        transform,\n        width,\n        height\n      } = this.#getTransform(this.data.rotation, rect);\n      const root = g.parentElement;\n      root.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n      g.setAttribute(\"transform\", transform);\n    }\n  }\n  getElementsToTriggerPopup() {\n    return this.#polylines;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass HighlightAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n    this.annotationEditorType = AnnotationEditorType.HIGHLIGHT;\n  }\n  render() {\n    const {\n      data: {\n        overlaidText,\n        popupRef\n      }\n    } = this;\n    if (!popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"highlightAnnotation\");\n    this._editOnDoubleClick();\n    if (overlaidText) {\n      const mark = document.createElement(\"mark\");\n      mark.classList.add(\"overlaidText\");\n      mark.textContent = overlaidText;\n      this.container.append(mark);\n    }\n    return this.container;\n  }\n}\nclass UnderlineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    const {\n      data: {\n        overlaidText,\n        popupRef\n      }\n    } = this;\n    if (!popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"underlineAnnotation\");\n    if (overlaidText) {\n      const underline = document.createElement(\"u\");\n      underline.classList.add(\"overlaidText\");\n      underline.textContent = overlaidText;\n      this.container.append(underline);\n    }\n    return this.container;\n  }\n}\nclass SquigglyAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    const {\n      data: {\n        overlaidText,\n        popupRef\n      }\n    } = this;\n    if (!popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"squigglyAnnotation\");\n    if (overlaidText) {\n      const underline = document.createElement(\"u\");\n      underline.classList.add(\"overlaidText\");\n      underline.textContent = overlaidText;\n      this.container.append(underline);\n    }\n    return this.container;\n  }\n}\nclass StrikeOutAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    const {\n      data: {\n        overlaidText,\n        popupRef\n      }\n    } = this;\n    if (!popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"strikeoutAnnotation\");\n    if (overlaidText) {\n      const strikeout = document.createElement(\"s\");\n      strikeout.classList.add(\"overlaidText\");\n      strikeout.textContent = overlaidText;\n      this.container.append(strikeout);\n    }\n    return this.container;\n  }\n}\nclass StampAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.annotationEditorType = AnnotationEditorType.STAMP;\n  }\n  render() {\n    this.container.classList.add(\"stampAnnotation\");\n    this.container.setAttribute(\"role\", \"img\");\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this._editOnDoubleClick();\n    return this.container;\n  }\n}\nclass FileAttachmentAnnotationElement extends AnnotationElement {\n  #trigger = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true\n    });\n    const {\n      file\n    } = this.data;\n    this.filename = file.filename;\n    this.content = file.content;\n    this.linkService.eventBus?.dispatch(\"fileattachmentannotation\", {\n      source: this,\n      ...file\n    });\n  }\n  render() {\n    this.container.classList.add(\"fileAttachmentAnnotation\");\n    const {\n      container,\n      data\n    } = this;\n    let trigger;\n    if (data.hasAppearance || data.fillAlpha === 0) {\n      trigger = document.createElement(\"div\");\n    } else {\n      trigger = document.createElement(\"img\");\n      trigger.src = `${this.imageResourcesPath}annotation-${/paperclip/i.test(data.name) ? \"paperclip\" : \"pushpin\"}.svg`;\n      if (data.fillAlpha && data.fillAlpha < 1) {\n        trigger.style = `filter: opacity(${Math.round(data.fillAlpha * 100)}%);`;\n      }\n    }\n    trigger.addEventListener(\"dblclick\", this.#download.bind(this));\n    this.#trigger = trigger;\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    container.addEventListener(\"keydown\", evt => {\n      if (evt.key === \"Enter\" && (isMac ? evt.metaKey : evt.ctrlKey)) {\n        this.#download();\n      }\n    });\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    } else {\n      trigger.classList.add(\"popupTriggerArea\");\n    }\n    container.append(trigger);\n    return container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#trigger;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n  #download() {\n    this.downloadManager?.openOrDownloadData(this.content, this.filename);\n  }\n}\nclass AnnotationLayer {\n  #accessibilityManager = null;\n  #annotationCanvasMap = null;\n  #annotationStorage = null;\n  #editableAnnotations = new Map();\n  #structTreeLayer = null;\n  #linkService = null;\n  constructor({\n    div,\n    accessibilityManager,\n    annotationCanvasMap,\n    annotationEditorUIManager,\n    page,\n    viewport,\n    structTreeLayer,\n    commentManager,\n    linkService,\n    annotationStorage\n  }) {\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationCanvasMap = annotationCanvasMap;\n    this.#structTreeLayer = structTreeLayer || null;\n    this.#linkService = linkService || null;\n    this.#annotationStorage = annotationStorage || new AnnotationStorage();\n    this.page = page;\n    this.viewport = viewport;\n    this.zIndex = 0;\n    this._annotationEditorUIManager = annotationEditorUIManager;\n    this._commentManager = commentManager || null;\n  }\n  hasEditableAnnotations() {\n    return this.#editableAnnotations.size > 0;\n  }\n  async #appendElement(element, id, popupElements) {\n    const contentElement = element.firstChild || element;\n    const annotationId = contentElement.id = `${AnnotationPrefix}${id}`;\n    const ariaAttributes = await this.#structTreeLayer?.getAriaAttributes(annotationId);\n    if (ariaAttributes) {\n      for (const [key, value] of ariaAttributes) {\n        contentElement.setAttribute(key, value);\n      }\n    }\n    if (popupElements) {\n      popupElements.at(-1).container.after(element);\n    } else {\n      this.div.append(element);\n      this.#accessibilityManager?.moveElementInDOM(this.div, element, contentElement, false);\n    }\n  }\n  async render(params) {\n    const {\n      annotations\n    } = params;\n    const layer = this.div;\n    setLayerDimensions(layer, this.viewport);\n    const popupToElements = new Map();\n    const elementParams = {\n      data: null,\n      layer,\n      linkService: this.#linkService,\n      downloadManager: params.downloadManager,\n      imageResourcesPath: params.imageResourcesPath || \"\",\n      renderForms: params.renderForms !== false,\n      svgFactory: new DOMSVGFactory(),\n      annotationStorage: this.#annotationStorage,\n      enableComment: params.enableComment === true,\n      enableScripting: params.enableScripting === true,\n      hasJSActions: params.hasJSActions,\n      fieldObjects: params.fieldObjects,\n      parent: this,\n      elements: null\n    };\n    for (const data of annotations) {\n      if (data.noHTML) {\n        continue;\n      }\n      const isPopupAnnotation = data.annotationType === AnnotationType.POPUP;\n      if (!isPopupAnnotation) {\n        if (data.rect[2] === data.rect[0] || data.rect[3] === data.rect[1]) {\n          continue;\n        }\n      } else {\n        const elements = popupToElements.get(data.id);\n        if (!elements) {\n          continue;\n        }\n        elementParams.elements = elements;\n      }\n      elementParams.data = data;\n      const element = AnnotationElementFactory.create(elementParams);\n      if (!element.isRenderable) {\n        continue;\n      }\n      if (!isPopupAnnotation && data.popupRef) {\n        const elements = popupToElements.get(data.popupRef);\n        if (!elements) {\n          popupToElements.set(data.popupRef, [element]);\n        } else {\n          elements.push(element);\n        }\n      }\n      const rendered = element.render();\n      if (data.hidden) {\n        rendered.style.visibility = \"hidden\";\n      }\n      await this.#appendElement(rendered, data.id, elementParams.elements);\n      element.extraPopupElement?.popup?.renderCommentButton();\n      if (element._isEditable) {\n        this.#editableAnnotations.set(element.data.id, element);\n        this._annotationEditorUIManager?.renderAnnotationElement(element);\n      }\n    }\n    this.#setAnnotationCanvasMap();\n  }\n  async addLinkAnnotations(annotations) {\n    const elementParams = {\n      data: null,\n      layer: this.div,\n      linkService: this.#linkService,\n      svgFactory: new DOMSVGFactory(),\n      parent: this\n    };\n    for (const data of annotations) {\n      data.borderStyle ||= AnnotationLayer._defaultBorderStyle;\n      elementParams.data = data;\n      const element = AnnotationElementFactory.create(elementParams);\n      if (!element.isRenderable) {\n        continue;\n      }\n      const rendered = element.render();\n      await this.#appendElement(rendered, data.id, null);\n    }\n  }\n  update({\n    viewport\n  }) {\n    const layer = this.div;\n    this.viewport = viewport;\n    setLayerDimensions(layer, {\n      rotation: viewport.rotation\n    });\n    this.#setAnnotationCanvasMap();\n    layer.hidden = false;\n  }\n  #setAnnotationCanvasMap() {\n    if (!this.#annotationCanvasMap) {\n      return;\n    }\n    const layer = this.div;\n    for (const [id, canvas] of this.#annotationCanvasMap) {\n      const element = layer.querySelector(`[data-annotation-id=\"${id}\"]`);\n      if (!element) {\n        continue;\n      }\n      canvas.className = \"annotationContent\";\n      const {\n        firstChild\n      } = element;\n      if (!firstChild) {\n        element.append(canvas);\n      } else if (firstChild.nodeName === \"CANVAS\") {\n        firstChild.replaceWith(canvas);\n      } else if (!firstChild.classList.contains(\"annotationContent\")) {\n        firstChild.before(canvas);\n      } else {\n        firstChild.after(canvas);\n      }\n      const editableAnnotation = this.#editableAnnotations.get(id);\n      if (!editableAnnotation) {\n        continue;\n      }\n      if (editableAnnotation._hasNoCanvas) {\n        this._annotationEditorUIManager?.setMissingCanvas(id, element.id, canvas);\n        editableAnnotation._hasNoCanvas = false;\n      } else {\n        editableAnnotation.canvas = canvas;\n      }\n    }\n    this.#annotationCanvasMap.clear();\n  }\n  getEditableAnnotations() {\n    return Array.from(this.#editableAnnotations.values());\n  }\n  getEditableAnnotation(id) {\n    return this.#editableAnnotations.get(id);\n  }\n  addFakeAnnotation(editor) {\n    const {\n      div\n    } = this;\n    const {\n      id,\n      rotation\n    } = editor;\n    const element = new EditorAnnotationElement({\n      data: {\n        id,\n        rect: editor.getPDFRect(),\n        rotation\n      },\n      editor,\n      layer: div,\n      parent: this,\n      enableComment: !!this._commentManager,\n      linkService: this.#linkService,\n      annotationStorage: this.#annotationStorage\n    });\n    const htmlElement = element.render();\n    div.append(htmlElement);\n    this.#accessibilityManager?.moveElementInDOM(div, htmlElement, htmlElement, false);\n    element.createOrUpdatePopup();\n    return element;\n  }\n  static get _defaultBorderStyle() {\n    return shadow(this, \"_defaultBorderStyle\", Object.freeze({\n      width: 1,\n      rawWidth: 1,\n      style: AnnotationBorderStyleType.SOLID,\n      dashArray: [3],\n      horizontalCornerRadius: 0,\n      verticalCornerRadius: 0\n    }));\n  }\n}\n\n;// ./src/display/editor/freetext.js\n\n\n\n\n\n\n\n\n\nconst EOL_PATTERN = /\\r\\n?|\\n/g;\nclass FreeTextEditor extends AnnotationEditor {\n  #content = \"\";\n  #editorDivId = `${this.id}-editor`;\n  #editModeAC = null;\n  #fontSize;\n  _colorPicker = null;\n  static _freeTextDefaultContent = \"\";\n  static _internalPadding = 0;\n  static _defaultColor = null;\n  static _defaultFontSize = 10;\n  static get _keyboardManager() {\n    const proto = FreeTextEditor.prototype;\n    const arrowChecker = self => self.isEmpty();\n    const small = AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = AnnotationEditorUIManager.TRANSLATE_BIG;\n    return shadow(this, \"_keyboardManager\", new KeyboardManager([[[\"ctrl+s\", \"mac+meta+s\", \"ctrl+p\", \"mac+meta+p\"], proto.commitOrRemove, {\n      bubbles: true\n    }], [[\"ctrl+Enter\", \"mac+meta+Enter\", \"Escape\", \"mac+Escape\"], proto.commitOrRemove], [[\"ArrowLeft\", \"mac+ArrowLeft\"], proto._translateEmpty, {\n      args: [-small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], proto._translateEmpty, {\n      args: [-big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto._translateEmpty, {\n      args: [small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], proto._translateEmpty, {\n      args: [big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto._translateEmpty, {\n      args: [0, -small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], proto._translateEmpty, {\n      args: [0, -big],\n      checker: arrowChecker\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto._translateEmpty, {\n      args: [0, small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], proto._translateEmpty, {\n      args: [0, big],\n      checker: arrowChecker\n    }]]));\n  }\n  static _type = \"freetext\";\n  static _editorType = AnnotationEditorType.FREETEXT;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"freeTextEditor\"\n    });\n    this.color = params.color || FreeTextEditor._defaultColor || AnnotationEditor._defaultLineColor;\n    this.#fontSize = params.fontSize || FreeTextEditor._defaultFontSize;\n    if (!this.annotationElementId) {\n      this._uiManager.a11yAlert(\"pdfjs-editor-freetext-added-alert\");\n    }\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n    const style = getComputedStyle(document.documentElement);\n    this._internalPadding = parseFloat(style.getPropertyValue(\"--freetext-padding\"));\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.FREETEXT_SIZE:\n        FreeTextEditor._defaultFontSize = value;\n        break;\n      case AnnotationEditorParamsType.FREETEXT_COLOR:\n        FreeTextEditor._defaultColor = value;\n        break;\n    }\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.FREETEXT_SIZE:\n        this.#updateFontSize(value);\n        break;\n      case AnnotationEditorParamsType.FREETEXT_COLOR:\n        this.#updateColor(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[AnnotationEditorParamsType.FREETEXT_SIZE, FreeTextEditor._defaultFontSize], [AnnotationEditorParamsType.FREETEXT_COLOR, FreeTextEditor._defaultColor || AnnotationEditor._defaultLineColor]];\n  }\n  get propertiesToUpdate() {\n    return [[AnnotationEditorParamsType.FREETEXT_SIZE, this.#fontSize], [AnnotationEditorParamsType.FREETEXT_COLOR, this.color]];\n  }\n  get toolbarButtons() {\n    this._colorPicker ||= new BasicColorPicker(this);\n    return [[\"colorPicker\", this._colorPicker]];\n  }\n  get colorType() {\n    return AnnotationEditorParamsType.FREETEXT_COLOR;\n  }\n  #updateFontSize(fontSize) {\n    const setFontsize = size => {\n      this.editorDiv.style.fontSize = `calc(${size}px * var(--total-scale-factor))`;\n      this.translate(0, -(size - this.#fontSize) * this.parentScale);\n      this.#fontSize = size;\n      this.#setEditorDimensions();\n    };\n    const savedFontsize = this.#fontSize;\n    this.addCommands({\n      cmd: setFontsize.bind(this, fontSize),\n      undo: setFontsize.bind(this, savedFontsize),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.FREETEXT_SIZE,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  onUpdatedColor() {\n    this.editorDiv.style.color = this.color;\n    this._colorPicker?.update(this.color);\n    super.onUpdatedColor();\n  }\n  #updateColor(color) {\n    const setColor = col => {\n      this.color = col;\n      this.onUpdatedColor();\n    };\n    const savedColor = this.color;\n    this.addCommands({\n      cmd: setColor.bind(this, color),\n      undo: setColor.bind(this, savedColor),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.FREETEXT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  _translateEmpty(x, y) {\n    this._uiManager.translateSelectedEditors(x, y, true);\n  }\n  getInitialTranslation() {\n    const scale = this.parentScale;\n    return [-FreeTextEditor._internalPadding * scale, -(FreeTextEditor._internalPadding + this.#fontSize) * scale];\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  enableEditMode() {\n    if (!super.enableEditMode()) {\n      return false;\n    }\n    this.overlayDiv.classList.remove(\"enabled\");\n    this.editorDiv.contentEditable = true;\n    this._isDraggable = false;\n    this.div.removeAttribute(\"aria-activedescendant\");\n    this.#editModeAC = new AbortController();\n    const signal = this._uiManager.combinedSignal(this.#editModeAC);\n    this.editorDiv.addEventListener(\"keydown\", this.editorDivKeydown.bind(this), {\n      signal\n    });\n    this.editorDiv.addEventListener(\"focus\", this.editorDivFocus.bind(this), {\n      signal\n    });\n    this.editorDiv.addEventListener(\"blur\", this.editorDivBlur.bind(this), {\n      signal\n    });\n    this.editorDiv.addEventListener(\"input\", this.editorDivInput.bind(this), {\n      signal\n    });\n    this.editorDiv.addEventListener(\"paste\", this.editorDivPaste.bind(this), {\n      signal\n    });\n    return true;\n  }\n  disableEditMode() {\n    if (!super.disableEditMode()) {\n      return false;\n    }\n    this.overlayDiv.classList.add(\"enabled\");\n    this.editorDiv.contentEditable = false;\n    this.div.setAttribute(\"aria-activedescendant\", this.#editorDivId);\n    this._isDraggable = true;\n    this.#editModeAC?.abort();\n    this.#editModeAC = null;\n    this.div.focus({\n      preventScroll: true\n    });\n    this.isEditing = false;\n    this.parent.div.classList.add(\"freetextEditing\");\n    return true;\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    super.focusin(event);\n    if (event.target !== this.editorDiv) {\n      this.editorDiv.focus();\n    }\n  }\n  onceAdded(focus) {\n    if (this.width) {\n      return;\n    }\n    this.enableEditMode();\n    if (focus) {\n      this.editorDiv.focus();\n    }\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    }\n    this._initialOptions = null;\n  }\n  isEmpty() {\n    return !this.editorDiv || this.editorDiv.innerText.trim() === \"\";\n  }\n  remove() {\n    this.isEditing = false;\n    if (this.parent) {\n      this.parent.setEditingState(true);\n      this.parent.div.classList.add(\"freetextEditing\");\n    }\n    super.remove();\n  }\n  #extractText() {\n    const buffer = [];\n    this.editorDiv.normalize();\n    let prevChild = null;\n    for (const child of this.editorDiv.childNodes) {\n      if (prevChild?.nodeType === Node.TEXT_NODE && child.nodeName === \"BR\") {\n        continue;\n      }\n      buffer.push(FreeTextEditor.#getNodeContent(child));\n      prevChild = child;\n    }\n    return buffer.join(\"\\n\");\n  }\n  #setEditorDimensions() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    let rect;\n    if (this.isAttachedToDOM) {\n      rect = this.div.getBoundingClientRect();\n    } else {\n      const {\n        currentLayer,\n        div\n      } = this;\n      const savedDisplay = div.style.display;\n      const savedVisibility = div.classList.contains(\"hidden\");\n      div.classList.remove(\"hidden\");\n      div.style.display = \"hidden\";\n      currentLayer.div.append(this.div);\n      rect = div.getBoundingClientRect();\n      div.remove();\n      div.style.display = savedDisplay;\n      div.classList.toggle(\"hidden\", savedVisibility);\n    }\n    if (this.rotation % 180 === this.parentRotation % 180) {\n      this.width = rect.width / parentWidth;\n      this.height = rect.height / parentHeight;\n    } else {\n      this.width = rect.height / parentWidth;\n      this.height = rect.width / parentHeight;\n    }\n    this.fixAndSetPosition();\n  }\n  commit() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n    super.commit();\n    this.disableEditMode();\n    const savedText = this.#content;\n    const newText = this.#content = this.#extractText().trimEnd();\n    if (savedText === newText) {\n      return;\n    }\n    const setText = text => {\n      this.#content = text;\n      if (!text) {\n        this.remove();\n        return;\n      }\n      this.#setContent();\n      this._uiManager.rebuild(this);\n      this.#setEditorDimensions();\n    };\n    this.addCommands({\n      cmd: () => {\n        setText(newText);\n      },\n      undo: () => {\n        setText(savedText);\n      },\n      mustExec: false\n    });\n    this.#setEditorDimensions();\n  }\n  shouldGetKeyboardEvents() {\n    return this.isInEditMode();\n  }\n  enterInEditMode() {\n    this.enableEditMode();\n    this.editorDiv.focus();\n  }\n  keydown(event) {\n    if (event.target === this.div && event.key === \"Enter\") {\n      this.enterInEditMode();\n      event.preventDefault();\n    }\n  }\n  editorDivKeydown(event) {\n    FreeTextEditor._keyboardManager.exec(this, event);\n  }\n  editorDivFocus(event) {\n    this.isEditing = true;\n  }\n  editorDivBlur(event) {\n    this.isEditing = false;\n  }\n  editorDivInput(event) {\n    this.parent.div.classList.toggle(\"freetextEditing\", this.isEmpty());\n  }\n  disableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"comment\");\n    this.editorDiv.removeAttribute(\"aria-multiline\");\n  }\n  enableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"textbox\");\n    this.editorDiv.setAttribute(\"aria-multiline\", true);\n  }\n  get canChangeContent() {\n    return true;\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this._isCopy || this.annotationElementId) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.editorDiv = document.createElement(\"div\");\n    this.editorDiv.className = \"internal\";\n    this.editorDiv.setAttribute(\"id\", this.#editorDivId);\n    this.editorDiv.setAttribute(\"data-l10n-id\", \"pdfjs-free-text2\");\n    this.editorDiv.setAttribute(\"data-l10n-attrs\", \"default-content\");\n    this.enableEditing();\n    this.editorDiv.contentEditable = true;\n    const {\n      style\n    } = this.editorDiv;\n    style.fontSize = `calc(${this.#fontSize}px * var(--total-scale-factor))`;\n    style.color = this.color;\n    this.div.append(this.editorDiv);\n    this.overlayDiv = document.createElement(\"div\");\n    this.overlayDiv.classList.add(\"overlay\", \"enabled\");\n    this.div.append(this.overlayDiv);\n    if (this._isCopy || this.annotationElementId) {\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      if (this.annotationElementId) {\n        const {\n          position\n        } = this._initialData;\n        let [tx, ty] = this.getInitialTranslation();\n        [tx, ty] = this.pageTranslationToScreen(tx, ty);\n        const [pageWidth, pageHeight] = this.pageDimensions;\n        const [pageX, pageY] = this.pageTranslation;\n        let posX, posY;\n        switch (this.rotation) {\n          case 0:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY + this.height - (position[1] - pageY) / pageHeight;\n            break;\n          case 90:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [ty, -tx];\n            break;\n          case 180:\n            posX = baseX - this.width + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [-tx, -ty];\n            break;\n          case 270:\n            posX = baseX + (position[0] - pageX - this.height * pageHeight) / pageWidth;\n            posY = baseY + (position[1] - pageY - this.width * pageWidth) / pageHeight;\n            [tx, ty] = [-ty, tx];\n            break;\n        }\n        this.setAt(posX * parentWidth, posY * parentHeight, tx, ty);\n      } else {\n        this._moveAfterPaste(baseX, baseY);\n      }\n      this.#setContent();\n      this._isDraggable = true;\n      this.editorDiv.contentEditable = false;\n    } else {\n      this._isDraggable = false;\n      this.editorDiv.contentEditable = true;\n    }\n    return this.div;\n  }\n  static #getNodeContent(node) {\n    return (node.nodeType === Node.TEXT_NODE ? node.nodeValue : node.innerText).replaceAll(EOL_PATTERN, \"\");\n  }\n  editorDivPaste(event) {\n    const clipboardData = event.clipboardData || window.clipboardData;\n    const {\n      types\n    } = clipboardData;\n    if (types.length === 1 && types[0] === \"text/plain\") {\n      return;\n    }\n    event.preventDefault();\n    const paste = FreeTextEditor.#deserializeContent(clipboardData.getData(\"text\") || \"\").replaceAll(EOL_PATTERN, \"\\n\");\n    if (!paste) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (!selection.rangeCount) {\n      return;\n    }\n    this.editorDiv.normalize();\n    selection.deleteFromDocument();\n    const range = selection.getRangeAt(0);\n    if (!paste.includes(\"\\n\")) {\n      range.insertNode(document.createTextNode(paste));\n      this.editorDiv.normalize();\n      selection.collapseToStart();\n      return;\n    }\n    const {\n      startContainer,\n      startOffset\n    } = range;\n    const bufferBefore = [];\n    const bufferAfter = [];\n    if (startContainer.nodeType === Node.TEXT_NODE) {\n      const parent = startContainer.parentElement;\n      bufferAfter.push(startContainer.nodeValue.slice(startOffset).replaceAll(EOL_PATTERN, \"\"));\n      if (parent !== this.editorDiv) {\n        let buffer = bufferBefore;\n        for (const child of this.editorDiv.childNodes) {\n          if (child === parent) {\n            buffer = bufferAfter;\n            continue;\n          }\n          buffer.push(FreeTextEditor.#getNodeContent(child));\n        }\n      }\n      bufferBefore.push(startContainer.nodeValue.slice(0, startOffset).replaceAll(EOL_PATTERN, \"\"));\n    } else if (startContainer === this.editorDiv) {\n      let buffer = bufferBefore;\n      let i = 0;\n      for (const child of this.editorDiv.childNodes) {\n        if (i++ === startOffset) {\n          buffer = bufferAfter;\n        }\n        buffer.push(FreeTextEditor.#getNodeContent(child));\n      }\n    }\n    this.#content = `${bufferBefore.join(\"\\n\")}${paste}${bufferAfter.join(\"\\n\")}`;\n    this.#setContent();\n    const newRange = new Range();\n    let beforeLength = Math.sumPrecise(bufferBefore.map(line => line.length));\n    for (const {\n      firstChild\n    } of this.editorDiv.childNodes) {\n      if (firstChild.nodeType === Node.TEXT_NODE) {\n        const length = firstChild.nodeValue.length;\n        if (beforeLength <= length) {\n          newRange.setStart(firstChild, beforeLength);\n          newRange.setEnd(firstChild, beforeLength);\n          break;\n        }\n        beforeLength -= length;\n      }\n    }\n    selection.removeAllRanges();\n    selection.addRange(newRange);\n  }\n  #setContent() {\n    this.editorDiv.replaceChildren();\n    if (!this.#content) {\n      return;\n    }\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(line ? document.createTextNode(line) : document.createElement(\"br\"));\n      this.editorDiv.append(div);\n    }\n  }\n  #serializeContent() {\n    return this.#content.replaceAll(\"\\xa0\", \" \");\n  }\n  static #deserializeContent(content) {\n    return content.replaceAll(\" \", \"\\xa0\");\n  }\n  get contentDiv() {\n    return this.editorDiv;\n  }\n  getPDFRect() {\n    const padding = FreeTextEditor._internalPadding * this.parentScale;\n    return this.getRect(padding, padding);\n  }\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof FreeTextAnnotationElement) {\n      const {\n        data: {\n          defaultAppearanceData: {\n            fontSize,\n            fontColor\n          },\n          rect,\n          rotation,\n          id,\n          popupRef,\n          richText,\n          contentsObj,\n          creationDate,\n          modificationDate\n        },\n        textContent,\n        textPosition,\n        parent: {\n          page: {\n            pageNumber\n          }\n        }\n      } = data;\n      if (!textContent || textContent.length === 0) {\n        return null;\n      }\n      initialData = data = {\n        annotationType: AnnotationEditorType.FREETEXT,\n        color: Array.from(fontColor),\n        fontSize,\n        value: textContent.join(\"\\n\"),\n        position: textPosition,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        annotationElementId: id,\n        id,\n        deleted: false,\n        popupRef,\n        comment: contentsObj?.str || null,\n        richText,\n        creationDate,\n        modificationDate\n      };\n    }\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor.#fontSize = data.fontSize;\n    editor.color = Util.makeHexColor(...data.color);\n    editor.#content = FreeTextEditor.#deserializeContent(data.value);\n    editor._initialData = initialData;\n    if (data.comment) {\n      editor.setCommentData(data);\n    }\n    return editor;\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n    const color = AnnotationEditor._colorManager.convert(this.isAttachedToDOM ? getComputedStyle(this.editorDiv).color : this.color);\n    const serialized = Object.assign(super.serialize(isForCopying), {\n      color,\n      fontSize: this.#fontSize,\n      value: this.#serializeContent()\n    });\n    this.addComment(serialized);\n    if (isForCopying) {\n      serialized.isCopy = true;\n      return serialized;\n    }\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n    serialized.id = this.annotationElementId;\n    return serialized;\n  }\n  #hasElementChanged(serialized) {\n    const {\n      value,\n      fontSize,\n      color,\n      pageIndex\n    } = this._initialData;\n    return this.hasEditedComment || this._hasBeenMoved || serialized.value !== value || serialized.fontSize !== fontSize || serialized.color.some((c, i) => c !== color[i]) || serialized.pageIndex !== pageIndex;\n  }\n  renderAnnotationElement(annotation) {\n    const content = super.renderAnnotationElement(annotation);\n    if (!content) {\n      return null;\n    }\n    const {\n      style\n    } = content;\n    style.fontSize = `calc(${this.#fontSize}px * var(--total-scale-factor))`;\n    style.color = this.color;\n    content.replaceChildren();\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(line ? document.createTextNode(line) : document.createElement(\"br\"));\n      content.append(div);\n    }\n    annotation.updateEdited({\n      rect: this.getPDFRect(),\n      popup: this._uiManager.hasCommentManager() || this.hasEditedComment ? this.comment : {\n        text: this.#content\n      }\n    });\n    return content;\n  }\n  resetAnnotationElement(annotation) {\n    super.resetAnnotationElement(annotation);\n    annotation.resetEdited();\n  }\n}\n\n;// ./src/display/editor/drawers/outline.js\n\n\n\n\n\nclass Outline {\n  static PRECISION = 1e-4;\n  toSVGPath() {\n    unreachable(\"Abstract method `toSVGPath` must be implemented.\");\n  }\n  get box() {\n    unreachable(\"Abstract getter `box` must be implemented.\");\n  }\n  serialize(_bbox, _rotation) {\n    unreachable(\"Abstract method `serialize` must be implemented.\");\n  }\n  static _rescale(src, tx, ty, sx, sy, dest) {\n    dest ||= new Float32Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i] * sx;\n      dest[i + 1] = ty + src[i + 1] * sy;\n    }\n    return dest;\n  }\n  static _rescaleAndSwap(src, tx, ty, sx, sy, dest) {\n    dest ||= new Float32Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i + 1] * sx;\n      dest[i + 1] = ty + src[i] * sy;\n    }\n    return dest;\n  }\n  static _translate(src, tx, ty, dest) {\n    dest ||= new Float32Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i];\n      dest[i + 1] = ty + src[i + 1];\n    }\n    return dest;\n  }\n  static svgRound(x) {\n    return Math.round(x * 10000);\n  }\n  static _normalizePoint(x, y, parentWidth, parentHeight, rotation) {\n    switch (rotation) {\n      case 90:\n        return [1 - y / parentWidth, x / parentHeight];\n      case 180:\n        return [1 - x / parentWidth, 1 - y / parentHeight];\n      case 270:\n        return [y / parentWidth, 1 - x / parentHeight];\n      default:\n        return [x / parentWidth, y / parentHeight];\n    }\n  }\n  static _normalizePagePoint(x, y, rotation) {\n    switch (rotation) {\n      case 90:\n        return [1 - y, x];\n      case 180:\n        return [1 - x, 1 - y];\n      case 270:\n        return [y, 1 - x];\n      default:\n        return [x, y];\n    }\n  }\n  static createBezierPoints(x1, y1, x2, y2, x3, y3) {\n    return [(x1 + 5 * x2) / 6, (y1 + 5 * y2) / 6, (5 * x2 + x3) / 6, (5 * y2 + y3) / 6, (x2 + x3) / 2, (y2 + y3) / 2];\n  }\n}\n\n;// ./src/display/editor/drawers/freedraw.js\n\n\n\n\n\n\n\nclass FreeDrawOutliner {\n  #box;\n  #bottom = [];\n  #innerMargin;\n  #isLTR;\n  #top = [];\n  #last = new Float32Array(18);\n  #lastX;\n  #lastY;\n  #min;\n  #min_dist;\n  #scaleFactor;\n  #thickness;\n  #points = [];\n  static #MIN_DIST = 8;\n  static #MIN_DIFF = 2;\n  static #MIN = FreeDrawOutliner.#MIN_DIST + FreeDrawOutliner.#MIN_DIFF;\n  constructor({\n    x,\n    y\n  }, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    this.#box = box;\n    this.#thickness = thickness * scaleFactor;\n    this.#isLTR = isLTR;\n    this.#last.set([NaN, NaN, NaN, NaN, x, y], 6);\n    this.#innerMargin = innerMargin;\n    this.#min_dist = FreeDrawOutliner.#MIN_DIST * scaleFactor;\n    this.#min = FreeDrawOutliner.#MIN * scaleFactor;\n    this.#scaleFactor = scaleFactor;\n    this.#points.push(x, y);\n  }\n  isEmpty() {\n    return isNaN(this.#last[8]);\n  }\n  #getLastCoords() {\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [x, y, width, height] = this.#box;\n    return [(this.#lastX + (lastTop[0] - lastBottom[0]) / 2 - x) / width, (this.#lastY + (lastTop[1] - lastBottom[1]) / 2 - y) / height, (this.#lastX + (lastBottom[0] - lastTop[0]) / 2 - x) / width, (this.#lastY + (lastBottom[1] - lastTop[1]) / 2 - y) / height];\n  }\n  add({\n    x,\n    y\n  }) {\n    this.#lastX = x;\n    this.#lastY = y;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    let [x1, y1, x2, y2] = this.#last.subarray(8, 12);\n    const diffX = x - x2;\n    const diffY = y - y2;\n    const d = Math.hypot(diffX, diffY);\n    if (d < this.#min) {\n      return false;\n    }\n    const diffD = d - this.#min_dist;\n    const K = diffD / d;\n    const shiftX = K * diffX;\n    const shiftY = K * diffY;\n    let x0 = x1;\n    let y0 = y1;\n    x1 = x2;\n    y1 = y2;\n    x2 += shiftX;\n    y2 += shiftY;\n    this.#points?.push(x, y);\n    const nX = -shiftY / diffD;\n    const nY = shiftX / diffD;\n    const thX = nX * this.#thickness;\n    const thY = nY * this.#thickness;\n    this.#last.set(this.#last.subarray(2, 8), 0);\n    this.#last.set([x2 + thX, y2 + thY], 4);\n    this.#last.set(this.#last.subarray(14, 18), 12);\n    this.#last.set([x2 - thX, y2 - thY], 16);\n    if (isNaN(this.#last[6])) {\n      if (this.#top.length === 0) {\n        this.#last.set([x1 + thX, y1 + thY], 2);\n        this.#top.push(NaN, NaN, NaN, NaN, (x1 + thX - layerX) / layerWidth, (y1 + thY - layerY) / layerHeight);\n        this.#last.set([x1 - thX, y1 - thY], 14);\n        this.#bottom.push(NaN, NaN, NaN, NaN, (x1 - thX - layerX) / layerWidth, (y1 - thY - layerY) / layerHeight);\n      }\n      this.#last.set([x0, y0, x1, y1, x2, y2], 6);\n      return !this.isEmpty();\n    }\n    this.#last.set([x0, y0, x1, y1, x2, y2], 6);\n    const angle = Math.abs(Math.atan2(y0 - y1, x0 - x1) - Math.atan2(shiftY, shiftX));\n    if (angle < Math.PI / 2) {\n      [x1, y1, x2, y2] = this.#last.subarray(2, 6);\n      this.#top.push(NaN, NaN, NaN, NaN, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n      [x1, y1, x0, y0] = this.#last.subarray(14, 18);\n      this.#bottom.push(NaN, NaN, NaN, NaN, ((x0 + x1) / 2 - layerX) / layerWidth, ((y0 + y1) / 2 - layerY) / layerHeight);\n      return true;\n    }\n    [x0, y0, x1, y1, x2, y2] = this.#last.subarray(0, 6);\n    this.#top.push(((x0 + 5 * x1) / 6 - layerX) / layerWidth, ((y0 + 5 * y1) / 6 - layerY) / layerHeight, ((5 * x1 + x2) / 6 - layerX) / layerWidth, ((5 * y1 + y2) / 6 - layerY) / layerHeight, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n    [x2, y2, x1, y1, x0, y0] = this.#last.subarray(12, 18);\n    this.#bottom.push(((x0 + 5 * x1) / 6 - layerX) / layerWidth, ((y0 + 5 * y1) / 6 - layerY) / layerHeight, ((5 * x1 + x2) / 6 - layerX) / layerWidth, ((5 * y1 + y2) / 6 - layerY) / layerHeight, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n    return true;\n  }\n  toSVGPath() {\n    if (this.isEmpty()) {\n      return \"\";\n    }\n    const top = this.#top;\n    const bottom = this.#bottom;\n    if (isNaN(this.#last[6]) && !this.isEmpty()) {\n      return this.#toSVGPathTwoPoints();\n    }\n    const buffer = [];\n    buffer.push(`M${top[4]} ${top[5]}`);\n    for (let i = 6; i < top.length; i += 6) {\n      if (isNaN(top[i])) {\n        buffer.push(`L${top[i + 4]} ${top[i + 5]}`);\n      } else {\n        buffer.push(`C${top[i]} ${top[i + 1]} ${top[i + 2]} ${top[i + 3]} ${top[i + 4]} ${top[i + 5]}`);\n      }\n    }\n    this.#toSVGPathEnd(buffer);\n    for (let i = bottom.length - 6; i >= 6; i -= 6) {\n      if (isNaN(bottom[i])) {\n        buffer.push(`L${bottom[i + 4]} ${bottom[i + 5]}`);\n      } else {\n        buffer.push(`C${bottom[i]} ${bottom[i + 1]} ${bottom[i + 2]} ${bottom[i + 3]} ${bottom[i + 4]} ${bottom[i + 5]}`);\n      }\n    }\n    this.#toSVGPathStart(buffer);\n    return buffer.join(\" \");\n  }\n  #toSVGPathTwoPoints() {\n    const [x, y, width, height] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    return `M${(this.#last[2] - x) / width} ${(this.#last[3] - y) / height} L${(this.#last[4] - x) / width} ${(this.#last[5] - y) / height} L${lastTopX} ${lastTopY} L${lastBottomX} ${lastBottomY} L${(this.#last[16] - x) / width} ${(this.#last[17] - y) / height} L${(this.#last[14] - x) / width} ${(this.#last[15] - y) / height} Z`;\n  }\n  #toSVGPathStart(buffer) {\n    const bottom = this.#bottom;\n    buffer.push(`L${bottom[4]} ${bottom[5]} Z`);\n  }\n  #toSVGPathEnd(buffer) {\n    const [x, y, width, height] = this.#box;\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    buffer.push(`L${(lastTop[0] - x) / width} ${(lastTop[1] - y) / height} L${lastTopX} ${lastTopY} L${lastBottomX} ${lastBottomY} L${(lastBottom[0] - x) / width} ${(lastBottom[1] - y) / height}`);\n  }\n  newFreeDrawOutline(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    return new FreeDrawOutline(outline, points, box, scaleFactor, innerMargin, isLTR);\n  }\n  getOutlines() {\n    const top = this.#top;\n    const bottom = this.#bottom;\n    const last = this.#last;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const points = new Float32Array((this.#points?.length ?? 0) + 2);\n    for (let i = 0, ii = points.length - 2; i < ii; i += 2) {\n      points[i] = (this.#points[i] - layerX) / layerWidth;\n      points[i + 1] = (this.#points[i + 1] - layerY) / layerHeight;\n    }\n    points[points.length - 2] = (this.#lastX - layerX) / layerWidth;\n    points[points.length - 1] = (this.#lastY - layerY) / layerHeight;\n    if (isNaN(last[6]) && !this.isEmpty()) {\n      return this.#getOutlineTwoPoints(points);\n    }\n    const outline = new Float32Array(this.#top.length + 24 + this.#bottom.length);\n    let N = top.length;\n    for (let i = 0; i < N; i += 2) {\n      if (isNaN(top[i])) {\n        outline[i] = outline[i + 1] = NaN;\n        continue;\n      }\n      outline[i] = top[i];\n      outline[i + 1] = top[i + 1];\n    }\n    N = this.#getOutlineEnd(outline, N);\n    for (let i = bottom.length - 6; i >= 6; i -= 6) {\n      for (let j = 0; j < 6; j += 2) {\n        if (isNaN(bottom[i + j])) {\n          outline[N] = outline[N + 1] = NaN;\n          N += 2;\n          continue;\n        }\n        outline[N] = bottom[i + j];\n        outline[N + 1] = bottom[i + j + 1];\n        N += 2;\n      }\n    }\n    this.#getOutlineStart(outline, N);\n    return this.newFreeDrawOutline(outline, points, this.#box, this.#scaleFactor, this.#innerMargin, this.#isLTR);\n  }\n  #getOutlineTwoPoints(points) {\n    const last = this.#last;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    const outline = new Float32Array(36);\n    outline.set([NaN, NaN, NaN, NaN, (last[2] - layerX) / layerWidth, (last[3] - layerY) / layerHeight, NaN, NaN, NaN, NaN, (last[4] - layerX) / layerWidth, (last[5] - layerY) / layerHeight, NaN, NaN, NaN, NaN, lastTopX, lastTopY, NaN, NaN, NaN, NaN, lastBottomX, lastBottomY, NaN, NaN, NaN, NaN, (last[16] - layerX) / layerWidth, (last[17] - layerY) / layerHeight, NaN, NaN, NaN, NaN, (last[14] - layerX) / layerWidth, (last[15] - layerY) / layerHeight], 0);\n    return this.newFreeDrawOutline(outline, points, this.#box, this.#scaleFactor, this.#innerMargin, this.#isLTR);\n  }\n  #getOutlineStart(outline, pos) {\n    const bottom = this.#bottom;\n    outline.set([NaN, NaN, NaN, NaN, bottom[4], bottom[5]], pos);\n    return pos += 6;\n  }\n  #getOutlineEnd(outline, pos) {\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    outline.set([NaN, NaN, NaN, NaN, (lastTop[0] - layerX) / layerWidth, (lastTop[1] - layerY) / layerHeight, NaN, NaN, NaN, NaN, lastTopX, lastTopY, NaN, NaN, NaN, NaN, lastBottomX, lastBottomY, NaN, NaN, NaN, NaN, (lastBottom[0] - layerX) / layerWidth, (lastBottom[1] - layerY) / layerHeight], pos);\n    return pos += 24;\n  }\n}\nclass FreeDrawOutline extends Outline {\n  #box;\n  #bbox = new Float32Array(4);\n  #innerMargin;\n  #isLTR;\n  #points;\n  #scaleFactor;\n  #outline;\n  constructor(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    super();\n    this.#outline = outline;\n    this.#points = points;\n    this.#box = box;\n    this.#scaleFactor = scaleFactor;\n    this.#innerMargin = innerMargin;\n    this.#isLTR = isLTR;\n    this.firstPoint = [NaN, NaN];\n    this.lastPoint = [NaN, NaN];\n    this.#computeMinMax(isLTR);\n    const [x, y, width, height] = this.#bbox;\n    for (let i = 0, ii = outline.length; i < ii; i += 2) {\n      outline[i] = (outline[i] - x) / width;\n      outline[i + 1] = (outline[i + 1] - y) / height;\n    }\n    for (let i = 0, ii = points.length; i < ii; i += 2) {\n      points[i] = (points[i] - x) / width;\n      points[i + 1] = (points[i + 1] - y) / height;\n    }\n  }\n  toSVGPath() {\n    const buffer = [`M${this.#outline[4]} ${this.#outline[5]}`];\n    for (let i = 6, ii = this.#outline.length; i < ii; i += 6) {\n      if (isNaN(this.#outline[i])) {\n        buffer.push(`L${this.#outline[i + 4]} ${this.#outline[i + 5]}`);\n        continue;\n      }\n      buffer.push(`C${this.#outline[i]} ${this.#outline[i + 1]} ${this.#outline[i + 2]} ${this.#outline[i + 3]} ${this.#outline[i + 4]} ${this.#outline[i + 5]}`);\n    }\n    buffer.push(\"Z\");\n    return buffer.join(\" \");\n  }\n  serialize([blX, blY, trX, trY], rotation) {\n    const width = trX - blX;\n    const height = trY - blY;\n    let outline;\n    let points;\n    switch (rotation) {\n      case 0:\n        outline = Outline._rescale(this.#outline, blX, trY, width, -height);\n        points = Outline._rescale(this.#points, blX, trY, width, -height);\n        break;\n      case 90:\n        outline = Outline._rescaleAndSwap(this.#outline, blX, blY, width, height);\n        points = Outline._rescaleAndSwap(this.#points, blX, blY, width, height);\n        break;\n      case 180:\n        outline = Outline._rescale(this.#outline, trX, blY, -width, height);\n        points = Outline._rescale(this.#points, trX, blY, -width, height);\n        break;\n      case 270:\n        outline = Outline._rescaleAndSwap(this.#outline, trX, trY, -width, -height);\n        points = Outline._rescaleAndSwap(this.#points, trX, trY, -width, -height);\n        break;\n    }\n    return {\n      outline: Array.from(outline),\n      points: [Array.from(points)]\n    };\n  }\n  #computeMinMax(isLTR) {\n    const outline = this.#outline;\n    let lastX = outline[4];\n    let lastY = outline[5];\n    const minMax = [lastX, lastY, lastX, lastY];\n    let firstPointX = lastX;\n    let firstPointY = lastY;\n    let lastPointX = lastX;\n    let lastPointY = lastY;\n    const ltrCallback = isLTR ? Math.max : Math.min;\n    const bezierBbox = new Float32Array(4);\n    for (let i = 6, ii = outline.length; i < ii; i += 6) {\n      const x = outline[i + 4],\n        y = outline[i + 5];\n      if (isNaN(outline[i])) {\n        Util.pointBoundingBox(x, y, minMax);\n        if (firstPointY > y) {\n          firstPointX = x;\n          firstPointY = y;\n        } else if (firstPointY === y) {\n          firstPointX = ltrCallback(firstPointX, x);\n        }\n        if (lastPointY < y) {\n          lastPointX = x;\n          lastPointY = y;\n        } else if (lastPointY === y) {\n          lastPointX = ltrCallback(lastPointX, x);\n        }\n      } else {\n        bezierBbox[0] = bezierBbox[1] = Infinity;\n        bezierBbox[2] = bezierBbox[3] = -Infinity;\n        Util.bezierBoundingBox(lastX, lastY, ...outline.slice(i, i + 6), bezierBbox);\n        Util.rectBoundingBox(bezierBbox[0], bezierBbox[1], bezierBbox[2], bezierBbox[3], minMax);\n        if (firstPointY > bezierBbox[1]) {\n          firstPointX = bezierBbox[0];\n          firstPointY = bezierBbox[1];\n        } else if (firstPointY === bezierBbox[1]) {\n          firstPointX = ltrCallback(firstPointX, bezierBbox[0]);\n        }\n        if (lastPointY < bezierBbox[3]) {\n          lastPointX = bezierBbox[2];\n          lastPointY = bezierBbox[3];\n        } else if (lastPointY === bezierBbox[3]) {\n          lastPointX = ltrCallback(lastPointX, bezierBbox[2]);\n        }\n      }\n      lastX = x;\n      lastY = y;\n    }\n    const bbox = this.#bbox;\n    bbox[0] = minMax[0] - this.#innerMargin;\n    bbox[1] = minMax[1] - this.#innerMargin;\n    bbox[2] = minMax[2] - minMax[0] + 2 * this.#innerMargin;\n    bbox[3] = minMax[3] - minMax[1] + 2 * this.#innerMargin;\n    this.firstPoint = [firstPointX, firstPointY];\n    this.lastPoint = [lastPointX, lastPointY];\n  }\n  get box() {\n    return this.#bbox;\n  }\n  newOutliner(point, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    return new FreeDrawOutliner(point, box, scaleFactor, thickness, isLTR, innerMargin);\n  }\n  getNewOutline(thickness, innerMargin) {\n    const [x, y, width, height] = this.#bbox;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const sx = width * layerWidth;\n    const sy = height * layerHeight;\n    const tx = x * layerWidth + layerX;\n    const ty = y * layerHeight + layerY;\n    const outliner = this.newOutliner({\n      x: this.#points[0] * sx + tx,\n      y: this.#points[1] * sy + ty\n    }, this.#box, this.#scaleFactor, thickness, this.#isLTR, innerMargin ?? this.#innerMargin);\n    for (let i = 2; i < this.#points.length; i += 2) {\n      outliner.add({\n        x: this.#points[i] * sx + tx,\n        y: this.#points[i + 1] * sy + ty\n      });\n    }\n    return outliner.getOutlines();\n  }\n}\n\n;// ./src/display/editor/drawers/highlight.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass HighlightOutliner {\n  #box;\n  #firstPoint;\n  #lastPoint;\n  #verticalEdges = [];\n  #intervals = [];\n  constructor(boxes, borderWidth = 0, innerMargin = 0, isLTR = true) {\n    const minMax = [Infinity, Infinity, -Infinity, -Infinity];\n    const NUMBER_OF_DIGITS = 4;\n    const EPSILON = 10 ** -NUMBER_OF_DIGITS;\n    for (const {\n      x,\n      y,\n      width,\n      height\n    } of boxes) {\n      const x1 = Math.floor((x - borderWidth) / EPSILON) * EPSILON;\n      const x2 = Math.ceil((x + width + borderWidth) / EPSILON) * EPSILON;\n      const y1 = Math.floor((y - borderWidth) / EPSILON) * EPSILON;\n      const y2 = Math.ceil((y + height + borderWidth) / EPSILON) * EPSILON;\n      const left = [x1, y1, y2, true];\n      const right = [x2, y1, y2, false];\n      this.#verticalEdges.push(left, right);\n      Util.rectBoundingBox(x1, y1, x2, y2, minMax);\n    }\n    const bboxWidth = minMax[2] - minMax[0] + 2 * innerMargin;\n    const bboxHeight = minMax[3] - minMax[1] + 2 * innerMargin;\n    const shiftedMinX = minMax[0] - innerMargin;\n    const shiftedMinY = minMax[1] - innerMargin;\n    let firstPointX = isLTR ? -Infinity : Infinity;\n    let firstPointY = Infinity;\n    const lastEdge = this.#verticalEdges.at(isLTR ? -1 : -2);\n    const lastPoint = [lastEdge[0], lastEdge[2]];\n    for (const edge of this.#verticalEdges) {\n      const [x, y1, y2, left] = edge;\n      if (!left && isLTR) {\n        if (y1 < firstPointY) {\n          firstPointY = y1;\n          firstPointX = x;\n        } else if (y1 === firstPointY) {\n          firstPointX = Math.max(firstPointX, x);\n        }\n      } else if (left && !isLTR) {\n        if (y1 < firstPointY) {\n          firstPointY = y1;\n          firstPointX = x;\n        } else if (y1 === firstPointY) {\n          firstPointX = Math.min(firstPointX, x);\n        }\n      }\n      edge[0] = (x - shiftedMinX) / bboxWidth;\n      edge[1] = (y1 - shiftedMinY) / bboxHeight;\n      edge[2] = (y2 - shiftedMinY) / bboxHeight;\n    }\n    this.#box = new Float32Array([shiftedMinX, shiftedMinY, bboxWidth, bboxHeight]);\n    this.#firstPoint = [firstPointX, firstPointY];\n    this.#lastPoint = lastPoint;\n  }\n  getOutlines() {\n    this.#verticalEdges.sort((a, b) => a[0] - b[0] || a[1] - b[1] || a[2] - b[2]);\n    const outlineVerticalEdges = [];\n    for (const edge of this.#verticalEdges) {\n      if (edge[3]) {\n        outlineVerticalEdges.push(...this.#breakEdge(edge));\n        this.#insert(edge);\n      } else {\n        this.#remove(edge);\n        outlineVerticalEdges.push(...this.#breakEdge(edge));\n      }\n    }\n    return this.#getOutlines(outlineVerticalEdges);\n  }\n  #getOutlines(outlineVerticalEdges) {\n    const edges = [];\n    const allEdges = new Set();\n    for (const edge of outlineVerticalEdges) {\n      const [x, y1, y2] = edge;\n      edges.push([x, y1, edge], [x, y2, edge]);\n    }\n    edges.sort((a, b) => a[1] - b[1] || a[0] - b[0]);\n    for (let i = 0, ii = edges.length; i < ii; i += 2) {\n      const edge1 = edges[i][2];\n      const edge2 = edges[i + 1][2];\n      edge1.push(edge2);\n      edge2.push(edge1);\n      allEdges.add(edge1);\n      allEdges.add(edge2);\n    }\n    const outlines = [];\n    let outline;\n    while (allEdges.size > 0) {\n      const edge = allEdges.values().next().value;\n      let [x, y1, y2, edge1, edge2] = edge;\n      allEdges.delete(edge);\n      let lastPointX = x;\n      let lastPointY = y1;\n      outline = [x, y2];\n      outlines.push(outline);\n      while (true) {\n        let e;\n        if (allEdges.has(edge1)) {\n          e = edge1;\n        } else if (allEdges.has(edge2)) {\n          e = edge2;\n        } else {\n          break;\n        }\n        allEdges.delete(e);\n        [x, y1, y2, edge1, edge2] = e;\n        if (lastPointX !== x) {\n          outline.push(lastPointX, lastPointY, x, lastPointY === y1 ? y1 : y2);\n          lastPointX = x;\n        }\n        lastPointY = lastPointY === y1 ? y2 : y1;\n      }\n      outline.push(lastPointX, lastPointY);\n    }\n    return new HighlightOutline(outlines, this.#box, this.#firstPoint, this.#lastPoint);\n  }\n  #binarySearch(y) {\n    const array = this.#intervals;\n    let start = 0;\n    let end = array.length - 1;\n    while (start <= end) {\n      const middle = start + end >> 1;\n      const y1 = array[middle][0];\n      if (y1 === y) {\n        return middle;\n      }\n      if (y1 < y) {\n        start = middle + 1;\n      } else {\n        end = middle - 1;\n      }\n    }\n    return end + 1;\n  }\n  #insert([, y1, y2]) {\n    const index = this.#binarySearch(y1);\n    this.#intervals.splice(index, 0, [y1, y2]);\n  }\n  #remove([, y1, y2]) {\n    const index = this.#binarySearch(y1);\n    for (let i = index; i < this.#intervals.length; i++) {\n      const [start, end] = this.#intervals[i];\n      if (start !== y1) {\n        break;\n      }\n      if (start === y1 && end === y2) {\n        this.#intervals.splice(i, 1);\n        return;\n      }\n    }\n    for (let i = index - 1; i >= 0; i--) {\n      const [start, end] = this.#intervals[i];\n      if (start !== y1) {\n        break;\n      }\n      if (start === y1 && end === y2) {\n        this.#intervals.splice(i, 1);\n        return;\n      }\n    }\n  }\n  #breakEdge(edge) {\n    const [x, y1, y2] = edge;\n    const results = [[x, y1, y2]];\n    const index = this.#binarySearch(y2);\n    for (let i = 0; i < index; i++) {\n      const [start, end] = this.#intervals[i];\n      for (let j = 0, jj = results.length; j < jj; j++) {\n        const [, y3, y4] = results[j];\n        if (end <= y3 || y4 <= start) {\n          continue;\n        }\n        if (y3 >= start) {\n          if (y4 > end) {\n            results[j][1] = end;\n          } else {\n            if (jj === 1) {\n              return [];\n            }\n            results.splice(j, 1);\n            j--;\n            jj--;\n          }\n          continue;\n        }\n        results[j][2] = start;\n        if (y4 > end) {\n          results.push([x, end, y4]);\n        }\n      }\n    }\n    return results;\n  }\n}\nclass HighlightOutline extends Outline {\n  #box;\n  #outlines;\n  constructor(outlines, box, firstPoint, lastPoint) {\n    super();\n    this.#outlines = outlines;\n    this.#box = box;\n    this.firstPoint = firstPoint;\n    this.lastPoint = lastPoint;\n  }\n  toSVGPath() {\n    const buffer = [];\n    for (const polygon of this.#outlines) {\n      let [prevX, prevY] = polygon;\n      buffer.push(`M${prevX} ${prevY}`);\n      for (let i = 2; i < polygon.length; i += 2) {\n        const x = polygon[i];\n        const y = polygon[i + 1];\n        if (x === prevX) {\n          buffer.push(`V${y}`);\n          prevY = y;\n        } else if (y === prevY) {\n          buffer.push(`H${x}`);\n          prevX = x;\n        }\n      }\n      buffer.push(\"Z\");\n    }\n    return buffer.join(\" \");\n  }\n  serialize([blX, blY, trX, trY], _rotation) {\n    const outlines = [];\n    const width = trX - blX;\n    const height = trY - blY;\n    for (const outline of this.#outlines) {\n      const points = new Array(outline.length);\n      for (let i = 0; i < outline.length; i += 2) {\n        points[i] = blX + outline[i] * width;\n        points[i + 1] = trY - outline[i + 1] * height;\n      }\n      outlines.push(points);\n    }\n    return outlines;\n  }\n  get box() {\n    return this.#box;\n  }\n  get classNamesForOutlining() {\n    return [\"highlightOutline\"];\n  }\n}\nclass FreeHighlightOutliner extends FreeDrawOutliner {\n  newFreeDrawOutline(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    return new FreeHighlightOutline(outline, points, box, scaleFactor, innerMargin, isLTR);\n  }\n}\nclass FreeHighlightOutline extends FreeDrawOutline {\n  newOutliner(point, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    return new FreeHighlightOutliner(point, box, scaleFactor, thickness, isLTR, innerMargin);\n  }\n}\n\n;// ./src/display/editor/highlight.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass HighlightEditor extends AnnotationEditor {\n  #anchorNode = null;\n  #anchorOffset = 0;\n  #boxes;\n  #clipPathId = null;\n  #colorPicker = null;\n  #focusOutlines = null;\n  #focusNode = null;\n  #focusOffset = 0;\n  #highlightDiv = null;\n  #highlightOutlines = null;\n  #id = null;\n  #isFreeHighlight = false;\n  #firstPoint = null;\n  #lastPoint = null;\n  #outlineId = null;\n  #text = \"\";\n  #thickness;\n  #methodOfCreation = \"\";\n  static _defaultColor = null;\n  static _defaultOpacity = 1;\n  static _defaultThickness = 12;\n  static _type = \"highlight\";\n  static _editorType = AnnotationEditorType.HIGHLIGHT;\n  static _freeHighlightId = -1;\n  static _freeHighlight = null;\n  static _freeHighlightClipId = \"\";\n  static get _keyboardManager() {\n    const proto = HighlightEditor.prototype;\n    return shadow(this, \"_keyboardManager\", new KeyboardManager([[[\"ArrowLeft\", \"mac+ArrowLeft\"], proto._moveCaret, {\n      args: [0]\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto._moveCaret, {\n      args: [1]\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto._moveCaret, {\n      args: [2]\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto._moveCaret, {\n      args: [3]\n    }]]));\n  }\n  constructor(params) {\n    super({\n      ...params,\n      name: \"highlightEditor\"\n    });\n    this.color = params.color || HighlightEditor._defaultColor;\n    this.#thickness = params.thickness || HighlightEditor._defaultThickness;\n    this.opacity = params.opacity || HighlightEditor._defaultOpacity;\n    this.#boxes = params.boxes || null;\n    this.#methodOfCreation = params.methodOfCreation || \"\";\n    this.#text = params.text || \"\";\n    this._isDraggable = false;\n    this.defaultL10nId = \"pdfjs-editor-highlight-editor\";\n    if (params.highlightId > -1) {\n      this.#isFreeHighlight = true;\n      this.#createFreeOutlines(params);\n      this.#addToDrawLayer();\n    } else if (this.#boxes) {\n      this.#anchorNode = params.anchorNode;\n      this.#anchorOffset = params.anchorOffset;\n      this.#focusNode = params.focusNode;\n      this.#focusOffset = params.focusOffset;\n      this.#createOutlines();\n      this.#addToDrawLayer();\n      this.rotate(this.rotation);\n    }\n    if (!this.annotationElementId) {\n      this._uiManager.a11yAlert(\"pdfjs-editor-highlight-added-alert\");\n    }\n  }\n  get telemetryInitialData() {\n    return {\n      action: \"added\",\n      type: this.#isFreeHighlight ? \"free_highlight\" : \"highlight\",\n      color: this._uiManager.getNonHCMColorName(this.color),\n      thickness: this.#thickness,\n      methodOfCreation: this.#methodOfCreation\n    };\n  }\n  get telemetryFinalData() {\n    return {\n      type: \"highlight\",\n      color: this._uiManager.getNonHCMColorName(this.color)\n    };\n  }\n  static computeTelemetryFinalData(data) {\n    return {\n      numberOfColors: data.get(\"color\").size\n    };\n  }\n  #createOutlines() {\n    const outliner = new HighlightOutliner(this.#boxes, 0.001);\n    this.#highlightOutlines = outliner.getOutlines();\n    [this.x, this.y, this.width, this.height] = this.#highlightOutlines.box;\n    const outlinerForOutline = new HighlightOutliner(this.#boxes, 0.0025, 0.001, this._uiManager.direction === \"ltr\");\n    this.#focusOutlines = outlinerForOutline.getOutlines();\n    const {\n      firstPoint\n    } = this.#highlightOutlines;\n    this.#firstPoint = [(firstPoint[0] - this.x) / this.width, (firstPoint[1] - this.y) / this.height];\n    const {\n      lastPoint\n    } = this.#focusOutlines;\n    this.#lastPoint = [(lastPoint[0] - this.x) / this.width, (lastPoint[1] - this.y) / this.height];\n  }\n  #createFreeOutlines({\n    highlightOutlines,\n    highlightId,\n    clipPathId\n  }) {\n    this.#highlightOutlines = highlightOutlines;\n    const extraThickness = 1.5;\n    this.#focusOutlines = highlightOutlines.getNewOutline(this.#thickness / 2 + extraThickness, 0.0025);\n    if (highlightId >= 0) {\n      this.#id = highlightId;\n      this.#clipPathId = clipPathId;\n      this.parent.drawLayer.finalizeDraw(highlightId, {\n        bbox: highlightOutlines.box,\n        path: {\n          d: highlightOutlines.toSVGPath()\n        }\n      });\n      this.#outlineId = this.parent.drawLayer.drawOutline({\n        rootClass: {\n          highlightOutline: true,\n          free: true\n        },\n        bbox: this.#focusOutlines.box,\n        path: {\n          d: this.#focusOutlines.toSVGPath()\n        }\n      }, true);\n    } else if (this.parent) {\n      const angle = this.parent.viewport.rotation;\n      this.parent.drawLayer.updateProperties(this.#id, {\n        bbox: HighlightEditor.#rotateBbox(this.#highlightOutlines.box, (angle - this.rotation + 360) % 360),\n        path: {\n          d: highlightOutlines.toSVGPath()\n        }\n      });\n      this.parent.drawLayer.updateProperties(this.#outlineId, {\n        bbox: HighlightEditor.#rotateBbox(this.#focusOutlines.box, angle),\n        path: {\n          d: this.#focusOutlines.toSVGPath()\n        }\n      });\n    }\n    const [x, y, width, height] = highlightOutlines.box;\n    switch (this.rotation) {\n      case 0:\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        break;\n      case 90:\n        {\n          const [pageWidth, pageHeight] = this.parentDimensions;\n          this.x = y;\n          this.y = 1 - x;\n          this.width = width * pageHeight / pageWidth;\n          this.height = height * pageWidth / pageHeight;\n          break;\n        }\n      case 180:\n        this.x = 1 - x;\n        this.y = 1 - y;\n        this.width = width;\n        this.height = height;\n        break;\n      case 270:\n        {\n          const [pageWidth, pageHeight] = this.parentDimensions;\n          this.x = 1 - y;\n          this.y = x;\n          this.width = width * pageHeight / pageWidth;\n          this.height = height * pageWidth / pageHeight;\n          break;\n        }\n    }\n    const {\n      firstPoint\n    } = highlightOutlines;\n    this.#firstPoint = [(firstPoint[0] - x) / width, (firstPoint[1] - y) / height];\n    const {\n      lastPoint\n    } = this.#focusOutlines;\n    this.#lastPoint = [(lastPoint[0] - x) / width, (lastPoint[1] - y) / height];\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n    HighlightEditor._defaultColor ||= uiManager.highlightColors?.values().next().value || \"#fff066\";\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.HIGHLIGHT_COLOR:\n        HighlightEditor._defaultColor = value;\n        break;\n      case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:\n        HighlightEditor._defaultThickness = value;\n        break;\n    }\n  }\n  translateInPage(x, y) {}\n  get toolbarPosition() {\n    return this.#lastPoint;\n  }\n  get commentButtonPosition() {\n    return this.#firstPoint;\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.HIGHLIGHT_COLOR:\n        this.#updateColor(value);\n        break;\n      case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:\n        this.#updateThickness(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[AnnotationEditorParamsType.HIGHLIGHT_COLOR, HighlightEditor._defaultColor], [AnnotationEditorParamsType.HIGHLIGHT_THICKNESS, HighlightEditor._defaultThickness]];\n  }\n  get propertiesToUpdate() {\n    return [[AnnotationEditorParamsType.HIGHLIGHT_COLOR, this.color || HighlightEditor._defaultColor], [AnnotationEditorParamsType.HIGHLIGHT_THICKNESS, this.#thickness || HighlightEditor._defaultThickness], [AnnotationEditorParamsType.HIGHLIGHT_FREE, this.#isFreeHighlight]];\n  }\n  onUpdatedColor() {\n    this.parent?.drawLayer.updateProperties(this.#id, {\n      root: {\n        fill: this.color,\n        \"fill-opacity\": this.opacity\n      }\n    });\n    this.#colorPicker?.updateColor(this.color);\n    super.onUpdatedColor();\n  }\n  #updateColor(color) {\n    const setColorAndOpacity = (col, opa) => {\n      this.color = col;\n      this.opacity = opa;\n      this.onUpdatedColor();\n    };\n    const savedColor = this.color;\n    const savedOpacity = this.opacity;\n    this.addCommands({\n      cmd: setColorAndOpacity.bind(this, color, HighlightEditor._defaultOpacity),\n      undo: setColorAndOpacity.bind(this, savedColor, savedOpacity),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.HIGHLIGHT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n    this._reportTelemetry({\n      action: \"color_changed\",\n      color: this._uiManager.getNonHCMColorName(color)\n    }, true);\n  }\n  #updateThickness(thickness) {\n    const savedThickness = this.#thickness;\n    const setThickness = th => {\n      this.#thickness = th;\n      this.#changeThickness(th);\n    };\n    this.addCommands({\n      cmd: setThickness.bind(this, thickness),\n      undo: setThickness.bind(this, savedThickness),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.INK_THICKNESS,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n    this._reportTelemetry({\n      action: \"thickness_changed\",\n      thickness\n    }, true);\n  }\n  get toolbarButtons() {\n    if (this._uiManager.highlightColors) {\n      const colorPicker = this.#colorPicker = new ColorPicker({\n        editor: this\n      });\n      return [[\"colorPicker\", colorPicker]];\n    }\n    return super.toolbarButtons;\n  }\n  disableEditing() {\n    super.disableEditing();\n    this.div.classList.toggle(\"disabled\", true);\n  }\n  enableEditing() {\n    super.enableEditing();\n    this.div.classList.toggle(\"disabled\", false);\n  }\n  fixAndSetPosition() {\n    return super.fixAndSetPosition(this.#getRotation());\n  }\n  getBaseTranslation() {\n    return [0, 0];\n  }\n  getRect(tx, ty) {\n    return super.getRect(tx, ty, this.#getRotation());\n  }\n  onceAdded(focus) {\n    if (!this.annotationElementId) {\n      this.parent.addUndoableEditor(this);\n    }\n    if (focus) {\n      this.div.focus();\n    }\n  }\n  remove() {\n    this.#cleanDrawLayer();\n    this._reportTelemetry({\n      action: \"deleted\"\n    });\n    super.remove();\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    this.#addToDrawLayer();\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  setParent(parent) {\n    let mustBeSelected = false;\n    if (this.parent && !parent) {\n      this.#cleanDrawLayer();\n    } else if (parent) {\n      this.#addToDrawLayer(parent);\n      mustBeSelected = !this.parent && this.div?.classList.contains(\"selectedEditor\");\n    }\n    super.setParent(parent);\n    this.show(this._isVisible);\n    if (mustBeSelected) {\n      this.select();\n    }\n  }\n  #changeThickness(thickness) {\n    if (!this.#isFreeHighlight) {\n      return;\n    }\n    this.#createFreeOutlines({\n      highlightOutlines: this.#highlightOutlines.getNewOutline(thickness / 2)\n    });\n    this.fixAndSetPosition();\n    this.setDims(this.width, this.height);\n  }\n  #cleanDrawLayer() {\n    if (this.#id === null || !this.parent) {\n      return;\n    }\n    this.parent.drawLayer.remove(this.#id);\n    this.#id = null;\n    this.parent.drawLayer.remove(this.#outlineId);\n    this.#outlineId = null;\n  }\n  #addToDrawLayer(parent = this.parent) {\n    if (this.#id !== null) {\n      return;\n    }\n    ({\n      id: this.#id,\n      clipPathId: this.#clipPathId\n    } = parent.drawLayer.draw({\n      bbox: this.#highlightOutlines.box,\n      root: {\n        viewBox: \"0 0 1 1\",\n        fill: this.color,\n        \"fill-opacity\": this.opacity\n      },\n      rootClass: {\n        highlight: true,\n        free: this.#isFreeHighlight\n      },\n      path: {\n        d: this.#highlightOutlines.toSVGPath()\n      }\n    }, false, true));\n    this.#outlineId = parent.drawLayer.drawOutline({\n      rootClass: {\n        highlightOutline: true,\n        free: this.#isFreeHighlight\n      },\n      bbox: this.#focusOutlines.box,\n      path: {\n        d: this.#focusOutlines.toSVGPath()\n      }\n    }, this.#isFreeHighlight);\n    if (this.#highlightDiv) {\n      this.#highlightDiv.style.clipPath = this.#clipPathId;\n    }\n  }\n  static #rotateBbox([x, y, width, height], angle) {\n    switch (angle) {\n      case 90:\n        return [1 - y - height, x, height, width];\n      case 180:\n        return [1 - x - width, 1 - y - height, width, height];\n      case 270:\n        return [y, 1 - x - width, height, width];\n    }\n    return [x, y, width, height];\n  }\n  rotate(angle) {\n    const {\n      drawLayer\n    } = this.parent;\n    let box;\n    if (this.#isFreeHighlight) {\n      angle = (angle - this.rotation + 360) % 360;\n      box = HighlightEditor.#rotateBbox(this.#highlightOutlines.box, angle);\n    } else {\n      box = HighlightEditor.#rotateBbox([this.x, this.y, this.width, this.height], angle);\n    }\n    drawLayer.updateProperties(this.#id, {\n      bbox: box,\n      root: {\n        \"data-main-rotation\": angle\n      }\n    });\n    drawLayer.updateProperties(this.#outlineId, {\n      bbox: HighlightEditor.#rotateBbox(this.#focusOutlines.box, angle),\n      root: {\n        \"data-main-rotation\": angle\n      }\n    });\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    const div = super.render();\n    if (this.#text) {\n      div.setAttribute(\"aria-label\", this.#text);\n      div.setAttribute(\"role\", \"mark\");\n    }\n    if (this.#isFreeHighlight) {\n      div.classList.add(\"free\");\n    } else {\n      this.div.addEventListener(\"keydown\", this.#keydown.bind(this), {\n        signal: this._uiManager._signal\n      });\n    }\n    const highlightDiv = this.#highlightDiv = document.createElement(\"div\");\n    div.append(highlightDiv);\n    highlightDiv.setAttribute(\"aria-hidden\", \"true\");\n    highlightDiv.className = \"internal\";\n    highlightDiv.style.clipPath = this.#clipPathId;\n    this.setDims(this.width, this.height);\n    bindEvents(this, this.#highlightDiv, [\"pointerover\", \"pointerleave\"]);\n    this.enableEditing();\n    return div;\n  }\n  pointerover() {\n    if (!this.isSelected) {\n      this.parent?.drawLayer.updateProperties(this.#outlineId, {\n        rootClass: {\n          hovered: true\n        }\n      });\n    }\n  }\n  pointerleave() {\n    if (!this.isSelected) {\n      this.parent?.drawLayer.updateProperties(this.#outlineId, {\n        rootClass: {\n          hovered: false\n        }\n      });\n    }\n  }\n  #keydown(event) {\n    HighlightEditor._keyboardManager.exec(this, event);\n  }\n  _moveCaret(direction) {\n    this.parent.unselect(this);\n    switch (direction) {\n      case 0:\n      case 2:\n        this.#setCaret(true);\n        break;\n      case 1:\n      case 3:\n        this.#setCaret(false);\n        break;\n    }\n  }\n  #setCaret(start) {\n    if (!this.#anchorNode) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (start) {\n      selection.setPosition(this.#anchorNode, this.#anchorOffset);\n    } else {\n      selection.setPosition(this.#focusNode, this.#focusOffset);\n    }\n  }\n  select() {\n    super.select();\n    if (!this.#outlineId) {\n      return;\n    }\n    this.parent?.drawLayer.updateProperties(this.#outlineId, {\n      rootClass: {\n        hovered: false,\n        selected: true\n      }\n    });\n  }\n  unselect() {\n    super.unselect();\n    if (!this.#outlineId) {\n      return;\n    }\n    this.parent?.drawLayer.updateProperties(this.#outlineId, {\n      rootClass: {\n        selected: false\n      }\n    });\n    if (!this.#isFreeHighlight) {\n      this.#setCaret(false);\n    }\n  }\n  get _mustFixPosition() {\n    return !this.#isFreeHighlight;\n  }\n  show(visible = this._isVisible) {\n    super.show(visible);\n    if (this.parent) {\n      this.parent.drawLayer.updateProperties(this.#id, {\n        rootClass: {\n          hidden: !visible\n        }\n      });\n      this.parent.drawLayer.updateProperties(this.#outlineId, {\n        rootClass: {\n          hidden: !visible\n        }\n      });\n    }\n  }\n  #getRotation() {\n    return this.#isFreeHighlight ? this.rotation : 0;\n  }\n  #serializeBoxes() {\n    if (this.#isFreeHighlight) {\n      return null;\n    }\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const [pageX, pageY] = this.pageTranslation;\n    const boxes = this.#boxes;\n    const quadPoints = new Float32Array(boxes.length * 8);\n    let i = 0;\n    for (const {\n      x,\n      y,\n      width,\n      height\n    } of boxes) {\n      const sx = x * pageWidth + pageX;\n      const sy = (1 - y) * pageHeight + pageY;\n      quadPoints[i] = quadPoints[i + 4] = sx;\n      quadPoints[i + 1] = quadPoints[i + 3] = sy;\n      quadPoints[i + 2] = quadPoints[i + 6] = sx + width * pageWidth;\n      quadPoints[i + 5] = quadPoints[i + 7] = sy - height * pageHeight;\n      i += 8;\n    }\n    return quadPoints;\n  }\n  #serializeOutlines(rect) {\n    return this.#highlightOutlines.serialize(rect, this.#getRotation());\n  }\n  static startHighlighting(parent, isLTR, {\n    target: textLayer,\n    x,\n    y\n  }) {\n    const {\n      x: layerX,\n      y: layerY,\n      width: parentWidth,\n      height: parentHeight\n    } = textLayer.getBoundingClientRect();\n    const ac = new AbortController();\n    const signal = parent.combinedSignal(ac);\n    const pointerUpCallback = e => {\n      ac.abort();\n      this.#endHighlight(parent, e);\n    };\n    window.addEventListener(\"blur\", pointerUpCallback, {\n      signal\n    });\n    window.addEventListener(\"pointerup\", pointerUpCallback, {\n      signal\n    });\n    window.addEventListener(\"pointerdown\", stopEvent, {\n      capture: true,\n      passive: false,\n      signal\n    });\n    window.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    textLayer.addEventListener(\"pointermove\", this.#highlightMove.bind(this, parent), {\n      signal\n    });\n    this._freeHighlight = new FreeHighlightOutliner({\n      x,\n      y\n    }, [layerX, layerY, parentWidth, parentHeight], parent.scale, this._defaultThickness / 2, isLTR, 0.001);\n    ({\n      id: this._freeHighlightId,\n      clipPathId: this._freeHighlightClipId\n    } = parent.drawLayer.draw({\n      bbox: [0, 0, 1, 1],\n      root: {\n        viewBox: \"0 0 1 1\",\n        fill: this._defaultColor,\n        \"fill-opacity\": this._defaultOpacity\n      },\n      rootClass: {\n        highlight: true,\n        free: true\n      },\n      path: {\n        d: this._freeHighlight.toSVGPath()\n      }\n    }, true, true));\n  }\n  static #highlightMove(parent, event) {\n    if (this._freeHighlight.add(event)) {\n      parent.drawLayer.updateProperties(this._freeHighlightId, {\n        path: {\n          d: this._freeHighlight.toSVGPath()\n        }\n      });\n    }\n  }\n  static #endHighlight(parent, event) {\n    if (!this._freeHighlight.isEmpty()) {\n      parent.createAndAddNewEditor(event, false, {\n        highlightId: this._freeHighlightId,\n        highlightOutlines: this._freeHighlight.getOutlines(),\n        clipPathId: this._freeHighlightClipId,\n        methodOfCreation: \"main_toolbar\"\n      });\n    } else {\n      parent.drawLayer.remove(this._freeHighlightId);\n    }\n    this._freeHighlightId = -1;\n    this._freeHighlight = null;\n    this._freeHighlightClipId = \"\";\n  }\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof HighlightAnnotationElement) {\n      const {\n        data: {\n          quadPoints,\n          rect,\n          rotation,\n          id,\n          color,\n          opacity,\n          popupRef,\n          richText,\n          contentsObj,\n          creationDate,\n          modificationDate\n        },\n        parent: {\n          page: {\n            pageNumber\n          }\n        }\n      } = data;\n      initialData = data = {\n        annotationType: AnnotationEditorType.HIGHLIGHT,\n        color: Array.from(color),\n        opacity,\n        quadPoints,\n        boxes: null,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        annotationElementId: id,\n        id,\n        deleted: false,\n        popupRef,\n        richText,\n        comment: contentsObj?.str || null,\n        creationDate,\n        modificationDate\n      };\n    } else if (data instanceof InkAnnotationElement) {\n      const {\n        data: {\n          inkLists,\n          rect,\n          rotation,\n          id,\n          color,\n          borderStyle: {\n            rawWidth: thickness\n          },\n          popupRef,\n          richText,\n          contentsObj,\n          creationDate,\n          modificationDate\n        },\n        parent: {\n          page: {\n            pageNumber\n          }\n        }\n      } = data;\n      initialData = data = {\n        annotationType: AnnotationEditorType.HIGHLIGHT,\n        color: Array.from(color),\n        thickness,\n        inkLists,\n        boxes: null,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        annotationElementId: id,\n        id,\n        deleted: false,\n        popupRef,\n        richText,\n        comment: contentsObj?.str || null,\n        creationDate,\n        modificationDate\n      };\n    }\n    const {\n      color,\n      quadPoints,\n      inkLists,\n      opacity\n    } = data;\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor.color = Util.makeHexColor(...color);\n    editor.opacity = opacity || 1;\n    if (inkLists) {\n      editor.#thickness = data.thickness;\n    }\n    editor._initialData = initialData;\n    if (data.comment) {\n      editor.setCommentData(data);\n    }\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const [pageX, pageY] = editor.pageTranslation;\n    if (quadPoints) {\n      const boxes = editor.#boxes = [];\n      for (let i = 0; i < quadPoints.length; i += 8) {\n        boxes.push({\n          x: (quadPoints[i] - pageX) / pageWidth,\n          y: 1 - (quadPoints[i + 1] - pageY) / pageHeight,\n          width: (quadPoints[i + 2] - quadPoints[i]) / pageWidth,\n          height: (quadPoints[i + 1] - quadPoints[i + 5]) / pageHeight\n        });\n      }\n      editor.#createOutlines();\n      editor.#addToDrawLayer();\n      editor.rotate(editor.rotation);\n    } else if (inkLists) {\n      editor.#isFreeHighlight = true;\n      const points = inkLists[0];\n      const point = {\n        x: points[0] - pageX,\n        y: pageHeight - (points[1] - pageY)\n      };\n      const outliner = new FreeHighlightOutliner(point, [0, 0, pageWidth, pageHeight], 1, editor.#thickness / 2, true, 0.001);\n      for (let i = 0, ii = points.length; i < ii; i += 2) {\n        point.x = points[i] - pageX;\n        point.y = pageHeight - (points[i + 1] - pageY);\n        outliner.add(point);\n      }\n      const {\n        id,\n        clipPathId\n      } = parent.drawLayer.draw({\n        bbox: [0, 0, 1, 1],\n        root: {\n          viewBox: \"0 0 1 1\",\n          fill: editor.color,\n          \"fill-opacity\": editor._defaultOpacity\n        },\n        rootClass: {\n          highlight: true,\n          free: true\n        },\n        path: {\n          d: outliner.toSVGPath()\n        }\n      }, true, true);\n      editor.#createFreeOutlines({\n        highlightOutlines: outliner.getOutlines(),\n        highlightId: id,\n        clipPathId\n      });\n      editor.#addToDrawLayer();\n      editor.rotate(editor.parentRotation);\n    }\n    return editor;\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty() || isForCopying) {\n      return null;\n    }\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n    const color = AnnotationEditor._colorManager.convert(this._uiManager.getNonHCMColor(this.color));\n    const serialized = super.serialize(isForCopying);\n    Object.assign(serialized, {\n      color,\n      opacity: this.opacity,\n      thickness: this.#thickness,\n      quadPoints: this.#serializeBoxes(),\n      outlines: this.#serializeOutlines(serialized.rect)\n    });\n    this.addComment(serialized);\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n    serialized.id = this.annotationElementId;\n    return serialized;\n  }\n  #hasElementChanged(serialized) {\n    const {\n      color\n    } = this._initialData;\n    return this.hasEditedComment || serialized.color.some((c, i) => c !== color[i]);\n  }\n  renderAnnotationElement(annotation) {\n    if (this.deleted) {\n      annotation.hide();\n      return null;\n    }\n    annotation.updateEdited({\n      rect: this.getPDFRect(),\n      popup: this.comment\n    });\n    return null;\n  }\n  static canCreateNewEmptyEditor() {\n    return false;\n  }\n}\n\n;// ./src/display/editor/draw.js\n\n\n\n\n\n\n\n\n\n\n\nclass DrawingOptions {\n  #svgProperties = Object.create(null);\n  updateProperty(name, value) {\n    this[name] = value;\n    this.updateSVGProperty(name, value);\n  }\n  updateProperties(properties) {\n    if (!properties) {\n      return;\n    }\n    for (const [name, value] of Object.entries(properties)) {\n      if (!name.startsWith(\"_\")) {\n        this.updateProperty(name, value);\n      }\n    }\n  }\n  updateSVGProperty(name, value) {\n    this.#svgProperties[name] = value;\n  }\n  toSVGProperties() {\n    const root = this.#svgProperties;\n    this.#svgProperties = Object.create(null);\n    return {\n      root\n    };\n  }\n  reset() {\n    this.#svgProperties = Object.create(null);\n  }\n  updateAll(options = this) {\n    this.updateProperties(options);\n  }\n  clone() {\n    unreachable(\"Not implemented\");\n  }\n}\nclass DrawingEditor extends AnnotationEditor {\n  #drawOutlines = null;\n  #mustBeCommitted;\n  _colorPicker = null;\n  _drawId = null;\n  static _currentDrawId = -1;\n  static _currentParent = null;\n  static #currentDraw = null;\n  static #currentDrawingAC = null;\n  static #currentDrawingOptions = null;\n  static #currentPointerId = NaN;\n  static #currentPointerType = null;\n  static #currentPointerIds = null;\n  static #currentMoveTimestamp = NaN;\n  static _INNER_MARGIN = 3;\n  constructor(params) {\n    super(params);\n    this.#mustBeCommitted = params.mustBeCommitted || false;\n    this._addOutlines(params);\n  }\n  onUpdatedColor() {\n    this._colorPicker?.update(this.color);\n    super.onUpdatedColor();\n  }\n  _addOutlines(params) {\n    if (params.drawOutlines) {\n      this.#createDrawOutlines(params);\n      this.#addToDrawLayer();\n    }\n  }\n  #createDrawOutlines({\n    drawOutlines,\n    drawId,\n    drawingOptions\n  }) {\n    this.#drawOutlines = drawOutlines;\n    this._drawingOptions ||= drawingOptions;\n    if (!this.annotationElementId) {\n      this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`);\n    }\n    if (drawId >= 0) {\n      this._drawId = drawId;\n      this.parent.drawLayer.finalizeDraw(drawId, drawOutlines.defaultProperties);\n    } else {\n      this._drawId = this.#createDrawing(drawOutlines, this.parent);\n    }\n    this.#updateBbox(drawOutlines.box);\n  }\n  #createDrawing(drawOutlines, parent) {\n    const {\n      id\n    } = parent.drawLayer.draw(DrawingEditor._mergeSVGProperties(this._drawingOptions.toSVGProperties(), drawOutlines.defaultSVGProperties), false, false);\n    return id;\n  }\n  static _mergeSVGProperties(p1, p2) {\n    const p1Keys = new Set(Object.keys(p1));\n    for (const [key, value] of Object.entries(p2)) {\n      if (p1Keys.has(key)) {\n        Object.assign(p1[key], value);\n      } else {\n        p1[key] = value;\n      }\n    }\n    return p1;\n  }\n  static getDefaultDrawingOptions(_options) {\n    unreachable(\"Not implemented\");\n  }\n  static get typesMap() {\n    unreachable(\"Not implemented\");\n  }\n  static get isDrawer() {\n    return true;\n  }\n  static get supportMultipleDrawings() {\n    return false;\n  }\n  static updateDefaultParams(type, value) {\n    const propertyName = this.typesMap.get(type);\n    if (propertyName) {\n      this._defaultDrawingOptions.updateProperty(propertyName, value);\n    }\n    if (this._currentParent) {\n      DrawingEditor.#currentDraw.updateProperty(propertyName, value);\n      this._currentParent.drawLayer.updateProperties(this._currentDrawId, this._defaultDrawingOptions.toSVGProperties());\n    }\n  }\n  updateParams(type, value) {\n    const propertyName = this.constructor.typesMap.get(type);\n    if (propertyName) {\n      this._updateProperty(type, propertyName, value);\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    const properties = [];\n    const options = this._defaultDrawingOptions;\n    for (const [type, name] of this.typesMap) {\n      properties.push([type, options[name]]);\n    }\n    return properties;\n  }\n  get propertiesToUpdate() {\n    const properties = [];\n    const {\n      _drawingOptions\n    } = this;\n    for (const [type, name] of this.constructor.typesMap) {\n      properties.push([type, _drawingOptions[name]]);\n    }\n    return properties;\n  }\n  _updateProperty(type, name, value) {\n    const options = this._drawingOptions;\n    const savedValue = options[name];\n    const setter = val => {\n      options.updateProperty(name, val);\n      const bbox = this.#drawOutlines.updateProperty(name, val);\n      if (bbox) {\n        this.#updateBbox(bbox);\n      }\n      this.parent?.drawLayer.updateProperties(this._drawId, options.toSVGProperties());\n      if (type === this.colorType) {\n        this.onUpdatedColor();\n      }\n    };\n    this.addCommands({\n      cmd: setter.bind(this, value),\n      undo: setter.bind(this, savedValue),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  _onResizing() {\n    this.parent?.drawLayer.updateProperties(this._drawId, DrawingEditor._mergeSVGProperties(this.#drawOutlines.getPathResizingSVGProperties(this.#convertToDrawSpace()), {\n      bbox: this.#rotateBox()\n    }));\n  }\n  _onResized() {\n    this.parent?.drawLayer.updateProperties(this._drawId, DrawingEditor._mergeSVGProperties(this.#drawOutlines.getPathResizedSVGProperties(this.#convertToDrawSpace()), {\n      bbox: this.#rotateBox()\n    }));\n  }\n  _onTranslating(_x, _y) {\n    this.parent?.drawLayer.updateProperties(this._drawId, {\n      bbox: this.#rotateBox()\n    });\n  }\n  _onTranslated() {\n    this.parent?.drawLayer.updateProperties(this._drawId, DrawingEditor._mergeSVGProperties(this.#drawOutlines.getPathTranslatedSVGProperties(this.#convertToDrawSpace(), this.parentDimensions), {\n      bbox: this.#rotateBox()\n    }));\n  }\n  _onStartDragging() {\n    this.parent?.drawLayer.updateProperties(this._drawId, {\n      rootClass: {\n        moving: true\n      }\n    });\n  }\n  _onStopDragging() {\n    this.parent?.drawLayer.updateProperties(this._drawId, {\n      rootClass: {\n        moving: false\n      }\n    });\n  }\n  commit() {\n    super.commit();\n    this.disableEditMode();\n    this.disableEditing();\n  }\n  disableEditing() {\n    super.disableEditing();\n    this.div.classList.toggle(\"disabled\", true);\n  }\n  enableEditing() {\n    super.enableEditing();\n    this.div.classList.toggle(\"disabled\", false);\n  }\n  getBaseTranslation() {\n    return [0, 0];\n  }\n  get isResizable() {\n    return true;\n  }\n  onceAdded(focus) {\n    if (!this.annotationElementId) {\n      this.parent.addUndoableEditor(this);\n    }\n    this._isDraggable = true;\n    if (this.#mustBeCommitted) {\n      this.#mustBeCommitted = false;\n      this.commit();\n      this.parent.setSelected(this);\n      if (focus && this.isOnScreen) {\n        this.div.focus();\n      }\n    }\n  }\n  remove() {\n    this.#cleanDrawLayer();\n    super.remove();\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    this.#addToDrawLayer();\n    this.#updateBbox(this.#drawOutlines.box);\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  setParent(parent) {\n    let mustBeSelected = false;\n    if (this.parent && !parent) {\n      this._uiManager.removeShouldRescale(this);\n      this.#cleanDrawLayer();\n    } else if (parent) {\n      this._uiManager.addShouldRescale(this);\n      this.#addToDrawLayer(parent);\n      mustBeSelected = !this.parent && this.div?.classList.contains(\"selectedEditor\");\n    }\n    super.setParent(parent);\n    if (mustBeSelected) {\n      this.select();\n    }\n  }\n  #cleanDrawLayer() {\n    if (this._drawId === null || !this.parent) {\n      return;\n    }\n    this.parent.drawLayer.remove(this._drawId);\n    this._drawId = null;\n    this._drawingOptions.reset();\n  }\n  #addToDrawLayer(parent = this.parent) {\n    if (this._drawId !== null && this.parent === parent) {\n      return;\n    }\n    if (this._drawId !== null) {\n      this.parent.drawLayer.updateParent(this._drawId, parent.drawLayer);\n      return;\n    }\n    this._drawingOptions.updateAll();\n    this._drawId = this.#createDrawing(this.#drawOutlines, parent);\n  }\n  #convertToParentSpace([x, y, width, height]) {\n    const {\n      parentDimensions: [pW, pH],\n      rotation\n    } = this;\n    switch (rotation) {\n      case 90:\n        return [y, 1 - x, width * (pH / pW), height * (pW / pH)];\n      case 180:\n        return [1 - x, 1 - y, width, height];\n      case 270:\n        return [1 - y, x, width * (pH / pW), height * (pW / pH)];\n      default:\n        return [x, y, width, height];\n    }\n  }\n  #convertToDrawSpace() {\n    const {\n      x,\n      y,\n      width,\n      height,\n      parentDimensions: [pW, pH],\n      rotation\n    } = this;\n    switch (rotation) {\n      case 90:\n        return [1 - y, x, width * (pW / pH), height * (pH / pW)];\n      case 180:\n        return [1 - x, 1 - y, width, height];\n      case 270:\n        return [y, 1 - x, width * (pW / pH), height * (pH / pW)];\n      default:\n        return [x, y, width, height];\n    }\n  }\n  #updateBbox(bbox) {\n    [this.x, this.y, this.width, this.height] = this.#convertToParentSpace(bbox);\n    if (this.div) {\n      this.fixAndSetPosition();\n      this.setDims();\n    }\n    this._onResized();\n  }\n  #rotateBox() {\n    const {\n      x,\n      y,\n      width,\n      height,\n      rotation,\n      parentRotation,\n      parentDimensions: [pW, pH]\n    } = this;\n    switch ((rotation * 4 + parentRotation) / 90) {\n      case 1:\n        return [1 - y - height, x, height, width];\n      case 2:\n        return [1 - x - width, 1 - y - height, width, height];\n      case 3:\n        return [y, 1 - x - width, height, width];\n      case 4:\n        return [x, y - width * (pW / pH), height * (pH / pW), width * (pW / pH)];\n      case 5:\n        return [1 - y, x, width * (pW / pH), height * (pH / pW)];\n      case 6:\n        return [1 - x - height * (pH / pW), 1 - y, height * (pH / pW), width * (pW / pH)];\n      case 7:\n        return [y - width * (pW / pH), 1 - x - height * (pH / pW), width * (pW / pH), height * (pH / pW)];\n      case 8:\n        return [x - width, y - height, width, height];\n      case 9:\n        return [1 - y, x - width, height, width];\n      case 10:\n        return [1 - x, 1 - y, width, height];\n      case 11:\n        return [y - height, 1 - x, height, width];\n      case 12:\n        return [x - height * (pH / pW), y, height * (pH / pW), width * (pW / pH)];\n      case 13:\n        return [1 - y - width * (pW / pH), x - height * (pH / pW), width * (pW / pH), height * (pH / pW)];\n      case 14:\n        return [1 - x, 1 - y - width * (pW / pH), height * (pH / pW), width * (pW / pH)];\n      case 15:\n        return [y, 1 - x, width * (pW / pH), height * (pH / pW)];\n      default:\n        return [x, y, width, height];\n    }\n  }\n  rotate() {\n    if (!this.parent) {\n      return;\n    }\n    this.parent.drawLayer.updateProperties(this._drawId, DrawingEditor._mergeSVGProperties({\n      bbox: this.#rotateBox()\n    }, this.#drawOutlines.updateRotation((this.parentRotation - this.rotation + 360) % 360)));\n  }\n  onScaleChanging() {\n    if (!this.parent) {\n      return;\n    }\n    this.#updateBbox(this.#drawOutlines.updateParentDimensions(this.parentDimensions, this.parent.scale));\n  }\n  static onScaleChangingWhenDrawing() {}\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this._isCopy) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    const div = super.render();\n    div.classList.add(\"draw\");\n    const drawDiv = document.createElement(\"div\");\n    div.append(drawDiv);\n    drawDiv.setAttribute(\"aria-hidden\", \"true\");\n    drawDiv.className = \"internal\";\n    this.setDims();\n    this._uiManager.addShouldRescale(this);\n    this.disableEditing();\n    if (this._isCopy) {\n      this._moveAfterPaste(baseX, baseY);\n    }\n    return div;\n  }\n  static createDrawerInstance(_x, _y, _parentWidth, _parentHeight, _rotation) {\n    unreachable(\"Not implemented\");\n  }\n  static startDrawing(parent, uiManager, _isLTR, event) {\n    const {\n      target,\n      offsetX: x,\n      offsetY: y,\n      pointerId,\n      pointerType\n    } = event;\n    if (DrawingEditor.#currentPointerType && DrawingEditor.#currentPointerType !== pointerType) {\n      return;\n    }\n    const {\n      viewport: {\n        rotation\n      }\n    } = parent;\n    const {\n      width: parentWidth,\n      height: parentHeight\n    } = target.getBoundingClientRect();\n    const ac = DrawingEditor.#currentDrawingAC = new AbortController();\n    const signal = parent.combinedSignal(ac);\n    DrawingEditor.#currentPointerId ||= pointerId;\n    DrawingEditor.#currentPointerType ??= pointerType;\n    window.addEventListener(\"pointerup\", e => {\n      if (DrawingEditor.#currentPointerId === e.pointerId) {\n        this._endDraw(e);\n      } else {\n        DrawingEditor.#currentPointerIds?.delete(e.pointerId);\n      }\n    }, {\n      signal\n    });\n    window.addEventListener(\"pointercancel\", e => {\n      if (DrawingEditor.#currentPointerId === e.pointerId) {\n        this._currentParent.endDrawingSession();\n      } else {\n        DrawingEditor.#currentPointerIds?.delete(e.pointerId);\n      }\n    }, {\n      signal\n    });\n    window.addEventListener(\"pointerdown\", e => {\n      if (DrawingEditor.#currentPointerType !== e.pointerType) {\n        return;\n      }\n      (DrawingEditor.#currentPointerIds ||= new Set()).add(e.pointerId);\n      if (DrawingEditor.#currentDraw.isCancellable()) {\n        DrawingEditor.#currentDraw.removeLastElement();\n        if (DrawingEditor.#currentDraw.isEmpty()) {\n          this._currentParent.endDrawingSession(true);\n        } else {\n          this._endDraw(null);\n        }\n      }\n    }, {\n      capture: true,\n      passive: false,\n      signal\n    });\n    window.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    target.addEventListener(\"pointermove\", this._drawMove.bind(this), {\n      signal\n    });\n    target.addEventListener(\"touchmove\", e => {\n      if (e.timeStamp === DrawingEditor.#currentMoveTimestamp) {\n        stopEvent(e);\n      }\n    }, {\n      signal\n    });\n    parent.toggleDrawing();\n    uiManager._editorUndoBar?.hide();\n    if (DrawingEditor.#currentDraw) {\n      parent.drawLayer.updateProperties(this._currentDrawId, DrawingEditor.#currentDraw.startNew(x, y, parentWidth, parentHeight, rotation));\n      return;\n    }\n    uiManager.updateUIForDefaultProperties(this);\n    DrawingEditor.#currentDraw = this.createDrawerInstance(x, y, parentWidth, parentHeight, rotation);\n    DrawingEditor.#currentDrawingOptions = this.getDefaultDrawingOptions();\n    this._currentParent = parent;\n    ({\n      id: this._currentDrawId\n    } = parent.drawLayer.draw(this._mergeSVGProperties(DrawingEditor.#currentDrawingOptions.toSVGProperties(), DrawingEditor.#currentDraw.defaultSVGProperties), true, false));\n  }\n  static _drawMove(event) {\n    DrawingEditor.#currentMoveTimestamp = -1;\n    if (!DrawingEditor.#currentDraw) {\n      return;\n    }\n    const {\n      offsetX,\n      offsetY,\n      pointerId\n    } = event;\n    if (DrawingEditor.#currentPointerId !== pointerId) {\n      return;\n    }\n    if (DrawingEditor.#currentPointerIds?.size >= 1) {\n      this._endDraw(event);\n      return;\n    }\n    this._currentParent.drawLayer.updateProperties(this._currentDrawId, DrawingEditor.#currentDraw.add(offsetX, offsetY));\n    DrawingEditor.#currentMoveTimestamp = event.timeStamp;\n    stopEvent(event);\n  }\n  static _cleanup(all) {\n    if (all) {\n      this._currentDrawId = -1;\n      this._currentParent = null;\n      DrawingEditor.#currentDraw = null;\n      DrawingEditor.#currentDrawingOptions = null;\n      DrawingEditor.#currentPointerType = null;\n      DrawingEditor.#currentMoveTimestamp = NaN;\n    }\n    if (DrawingEditor.#currentDrawingAC) {\n      DrawingEditor.#currentDrawingAC.abort();\n      DrawingEditor.#currentDrawingAC = null;\n      DrawingEditor.#currentPointerId = NaN;\n      DrawingEditor.#currentPointerIds = null;\n    }\n  }\n  static _endDraw(event) {\n    const parent = this._currentParent;\n    if (!parent) {\n      return;\n    }\n    parent.toggleDrawing(true);\n    this._cleanup(false);\n    if (event?.target === parent.div) {\n      parent.drawLayer.updateProperties(this._currentDrawId, DrawingEditor.#currentDraw.end(event.offsetX, event.offsetY));\n    }\n    if (this.supportMultipleDrawings) {\n      const draw = DrawingEditor.#currentDraw;\n      const drawId = this._currentDrawId;\n      const lastElement = draw.getLastElement();\n      parent.addCommands({\n        cmd: () => {\n          parent.drawLayer.updateProperties(drawId, draw.setLastElement(lastElement));\n        },\n        undo: () => {\n          parent.drawLayer.updateProperties(drawId, draw.removeLastElement());\n        },\n        mustExec: false,\n        type: AnnotationEditorParamsType.DRAW_STEP\n      });\n      return;\n    }\n    this.endDrawing(false);\n  }\n  static endDrawing(isAborted) {\n    const parent = this._currentParent;\n    if (!parent) {\n      return null;\n    }\n    parent.toggleDrawing(true);\n    parent.cleanUndoStack(AnnotationEditorParamsType.DRAW_STEP);\n    if (!DrawingEditor.#currentDraw.isEmpty()) {\n      const {\n        pageDimensions: [pageWidth, pageHeight],\n        scale\n      } = parent;\n      const editor = parent.createAndAddNewEditor({\n        offsetX: 0,\n        offsetY: 0\n      }, false, {\n        drawId: this._currentDrawId,\n        drawOutlines: DrawingEditor.#currentDraw.getOutlines(pageWidth * scale, pageHeight * scale, scale, this._INNER_MARGIN),\n        drawingOptions: DrawingEditor.#currentDrawingOptions,\n        mustBeCommitted: !isAborted\n      });\n      this._cleanup(true);\n      return editor;\n    }\n    parent.drawLayer.remove(this._currentDrawId);\n    this._cleanup(true);\n    return null;\n  }\n  createDrawingOptions(_data) {}\n  static deserializeDraw(_pageX, _pageY, _pageWidth, _pageHeight, _innerWidth, _data) {\n    unreachable(\"Not implemented\");\n  }\n  static async deserialize(data, parent, uiManager) {\n    const {\n      rawDims: {\n        pageWidth,\n        pageHeight,\n        pageX,\n        pageY\n      }\n    } = parent.viewport;\n    const drawOutlines = this.deserializeDraw(pageX, pageY, pageWidth, pageHeight, this._INNER_MARGIN, data);\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor.createDrawingOptions(data);\n    editor.#createDrawOutlines({\n      drawOutlines\n    });\n    editor.#addToDrawLayer();\n    editor.onScaleChanging();\n    editor.rotate();\n    return editor;\n  }\n  serializeDraw(isForCopying) {\n    const [pageX, pageY] = this.pageTranslation;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    return this.#drawOutlines.serialize([pageX, pageY, pageWidth, pageHeight], isForCopying);\n  }\n  renderAnnotationElement(annotation) {\n    annotation.updateEdited({\n      rect: this.getPDFRect()\n    });\n    return null;\n  }\n  static canCreateNewEmptyEditor() {\n    return false;\n  }\n}\n\n;// ./src/display/editor/drawers/inkdraw.js\n\n\n\n\n\n\n\n\n\nclass InkDrawOutliner {\n  #last = new Float64Array(6);\n  #line;\n  #lines;\n  #rotation;\n  #thickness;\n  #points;\n  #lastSVGPath = \"\";\n  #lastIndex = 0;\n  #outlines = new InkDrawOutline();\n  #parentWidth;\n  #parentHeight;\n  constructor(x, y, parentWidth, parentHeight, rotation, thickness) {\n    this.#parentWidth = parentWidth;\n    this.#parentHeight = parentHeight;\n    this.#rotation = rotation;\n    this.#thickness = thickness;\n    [x, y] = this.#normalizePoint(x, y);\n    const line = this.#line = [NaN, NaN, NaN, NaN, x, y];\n    this.#points = [x, y];\n    this.#lines = [{\n      line,\n      points: this.#points\n    }];\n    this.#last.set(line, 0);\n  }\n  updateProperty(name, value) {\n    if (name === \"stroke-width\") {\n      this.#thickness = value;\n    }\n  }\n  #normalizePoint(x, y) {\n    return Outline._normalizePoint(x, y, this.#parentWidth, this.#parentHeight, this.#rotation);\n  }\n  isEmpty() {\n    return !this.#lines || this.#lines.length === 0;\n  }\n  isCancellable() {\n    return this.#points.length <= 10;\n  }\n  add(x, y) {\n    [x, y] = this.#normalizePoint(x, y);\n    const [x1, y1, x2, y2] = this.#last.subarray(2, 6);\n    const diffX = x - x2;\n    const diffY = y - y2;\n    const d = Math.hypot(this.#parentWidth * diffX, this.#parentHeight * diffY);\n    if (d <= 2) {\n      return null;\n    }\n    this.#points.push(x, y);\n    if (isNaN(x1)) {\n      this.#last.set([x2, y2, x, y], 2);\n      this.#line.push(NaN, NaN, NaN, NaN, x, y);\n      return {\n        path: {\n          d: this.toSVGPath()\n        }\n      };\n    }\n    if (isNaN(this.#last[0])) {\n      this.#line.splice(6, 6);\n    }\n    this.#last.set([x1, y1, x2, y2, x, y], 0);\n    this.#line.push(...Outline.createBezierPoints(x1, y1, x2, y2, x, y));\n    return {\n      path: {\n        d: this.toSVGPath()\n      }\n    };\n  }\n  end(x, y) {\n    const change = this.add(x, y);\n    if (change) {\n      return change;\n    }\n    if (this.#points.length === 2) {\n      return {\n        path: {\n          d: this.toSVGPath()\n        }\n      };\n    }\n    return null;\n  }\n  startNew(x, y, parentWidth, parentHeight, rotation) {\n    this.#parentWidth = parentWidth;\n    this.#parentHeight = parentHeight;\n    this.#rotation = rotation;\n    [x, y] = this.#normalizePoint(x, y);\n    const line = this.#line = [NaN, NaN, NaN, NaN, x, y];\n    this.#points = [x, y];\n    const last = this.#lines.at(-1);\n    if (last) {\n      last.line = new Float32Array(last.line);\n      last.points = new Float32Array(last.points);\n    }\n    this.#lines.push({\n      line,\n      points: this.#points\n    });\n    this.#last.set(line, 0);\n    this.#lastIndex = 0;\n    this.toSVGPath();\n    return null;\n  }\n  getLastElement() {\n    return this.#lines.at(-1);\n  }\n  setLastElement(element) {\n    if (!this.#lines) {\n      return this.#outlines.setLastElement(element);\n    }\n    this.#lines.push(element);\n    this.#line = element.line;\n    this.#points = element.points;\n    this.#lastIndex = 0;\n    return {\n      path: {\n        d: this.toSVGPath()\n      }\n    };\n  }\n  removeLastElement() {\n    if (!this.#lines) {\n      return this.#outlines.removeLastElement();\n    }\n    this.#lines.pop();\n    this.#lastSVGPath = \"\";\n    for (let i = 0, ii = this.#lines.length; i < ii; i++) {\n      const {\n        line,\n        points\n      } = this.#lines[i];\n      this.#line = line;\n      this.#points = points;\n      this.#lastIndex = 0;\n      this.toSVGPath();\n    }\n    return {\n      path: {\n        d: this.#lastSVGPath\n      }\n    };\n  }\n  toSVGPath() {\n    const firstX = Outline.svgRound(this.#line[4]);\n    const firstY = Outline.svgRound(this.#line[5]);\n    if (this.#points.length === 2) {\n      this.#lastSVGPath = `${this.#lastSVGPath} M ${firstX} ${firstY} Z`;\n      return this.#lastSVGPath;\n    }\n    if (this.#points.length <= 6) {\n      const i = this.#lastSVGPath.lastIndexOf(\"M\");\n      this.#lastSVGPath = `${this.#lastSVGPath.slice(0, i)} M ${firstX} ${firstY}`;\n      this.#lastIndex = 6;\n    }\n    if (this.#points.length === 4) {\n      const secondX = Outline.svgRound(this.#line[10]);\n      const secondY = Outline.svgRound(this.#line[11]);\n      this.#lastSVGPath = `${this.#lastSVGPath} L ${secondX} ${secondY}`;\n      this.#lastIndex = 12;\n      return this.#lastSVGPath;\n    }\n    const buffer = [];\n    if (this.#lastIndex === 0) {\n      buffer.push(`M ${firstX} ${firstY}`);\n      this.#lastIndex = 6;\n    }\n    for (let i = this.#lastIndex, ii = this.#line.length; i < ii; i += 6) {\n      const [c1x, c1y, c2x, c2y, x, y] = this.#line.slice(i, i + 6).map(Outline.svgRound);\n      buffer.push(`C${c1x} ${c1y} ${c2x} ${c2y} ${x} ${y}`);\n    }\n    this.#lastSVGPath += buffer.join(\" \");\n    this.#lastIndex = this.#line.length;\n    return this.#lastSVGPath;\n  }\n  getOutlines(parentWidth, parentHeight, scale, innerMargin) {\n    const last = this.#lines.at(-1);\n    last.line = new Float32Array(last.line);\n    last.points = new Float32Array(last.points);\n    this.#outlines.build(this.#lines, parentWidth, parentHeight, scale, this.#rotation, this.#thickness, innerMargin);\n    this.#last = null;\n    this.#line = null;\n    this.#lines = null;\n    this.#lastSVGPath = null;\n    return this.#outlines;\n  }\n  get defaultSVGProperties() {\n    return {\n      root: {\n        viewBox: \"0 0 10000 10000\"\n      },\n      rootClass: {\n        draw: true\n      },\n      bbox: [0, 0, 1, 1]\n    };\n  }\n}\nclass InkDrawOutline extends Outline {\n  #bbox;\n  #currentRotation = 0;\n  #innerMargin;\n  #lines;\n  #parentWidth;\n  #parentHeight;\n  #parentScale;\n  #rotation;\n  #thickness;\n  build(lines, parentWidth, parentHeight, parentScale, rotation, thickness, innerMargin) {\n    this.#parentWidth = parentWidth;\n    this.#parentHeight = parentHeight;\n    this.#parentScale = parentScale;\n    this.#rotation = rotation;\n    this.#thickness = thickness;\n    this.#innerMargin = innerMargin ?? 0;\n    this.#lines = lines;\n    this.#computeBbox();\n  }\n  get thickness() {\n    return this.#thickness;\n  }\n  setLastElement(element) {\n    this.#lines.push(element);\n    return {\n      path: {\n        d: this.toSVGPath()\n      }\n    };\n  }\n  removeLastElement() {\n    this.#lines.pop();\n    return {\n      path: {\n        d: this.toSVGPath()\n      }\n    };\n  }\n  toSVGPath() {\n    const buffer = [];\n    for (const {\n      line\n    } of this.#lines) {\n      buffer.push(`M${Outline.svgRound(line[4])} ${Outline.svgRound(line[5])}`);\n      if (line.length === 6) {\n        buffer.push(\"Z\");\n        continue;\n      }\n      if (line.length === 12 && isNaN(line[6])) {\n        buffer.push(`L${Outline.svgRound(line[10])} ${Outline.svgRound(line[11])}`);\n        continue;\n      }\n      for (let i = 6, ii = line.length; i < ii; i += 6) {\n        const [c1x, c1y, c2x, c2y, x, y] = line.subarray(i, i + 6).map(Outline.svgRound);\n        buffer.push(`C${c1x} ${c1y} ${c2x} ${c2y} ${x} ${y}`);\n      }\n    }\n    return buffer.join(\"\");\n  }\n  serialize([pageX, pageY, pageWidth, pageHeight], isForCopying) {\n    const serializedLines = [];\n    const serializedPoints = [];\n    const [x, y, width, height] = this.#getBBoxWithNoMargin();\n    let tx, ty, sx, sy, x1, y1, x2, y2, rescaleFn;\n    switch (this.#rotation) {\n      case 0:\n        rescaleFn = Outline._rescale;\n        tx = pageX;\n        ty = pageY + pageHeight;\n        sx = pageWidth;\n        sy = -pageHeight;\n        x1 = pageX + x * pageWidth;\n        y1 = pageY + (1 - y - height) * pageHeight;\n        x2 = pageX + (x + width) * pageWidth;\n        y2 = pageY + (1 - y) * pageHeight;\n        break;\n      case 90:\n        rescaleFn = Outline._rescaleAndSwap;\n        tx = pageX;\n        ty = pageY;\n        sx = pageWidth;\n        sy = pageHeight;\n        x1 = pageX + y * pageWidth;\n        y1 = pageY + x * pageHeight;\n        x2 = pageX + (y + height) * pageWidth;\n        y2 = pageY + (x + width) * pageHeight;\n        break;\n      case 180:\n        rescaleFn = Outline._rescale;\n        tx = pageX + pageWidth;\n        ty = pageY;\n        sx = -pageWidth;\n        sy = pageHeight;\n        x1 = pageX + (1 - x - width) * pageWidth;\n        y1 = pageY + y * pageHeight;\n        x2 = pageX + (1 - x) * pageWidth;\n        y2 = pageY + (y + height) * pageHeight;\n        break;\n      case 270:\n        rescaleFn = Outline._rescaleAndSwap;\n        tx = pageX + pageWidth;\n        ty = pageY + pageHeight;\n        sx = -pageWidth;\n        sy = -pageHeight;\n        x1 = pageX + (1 - y - height) * pageWidth;\n        y1 = pageY + (1 - x - width) * pageHeight;\n        x2 = pageX + (1 - y) * pageWidth;\n        y2 = pageY + (1 - x) * pageHeight;\n        break;\n    }\n    for (const {\n      line,\n      points\n    } of this.#lines) {\n      serializedLines.push(rescaleFn(line, tx, ty, sx, sy, isForCopying ? new Array(line.length) : null));\n      serializedPoints.push(rescaleFn(points, tx, ty, sx, sy, isForCopying ? new Array(points.length) : null));\n    }\n    return {\n      lines: serializedLines,\n      points: serializedPoints,\n      rect: [x1, y1, x2, y2]\n    };\n  }\n  static deserialize(pageX, pageY, pageWidth, pageHeight, innerMargin, {\n    paths: {\n      lines,\n      points\n    },\n    rotation,\n    thickness\n  }) {\n    const newLines = [];\n    let tx, ty, sx, sy, rescaleFn;\n    switch (rotation) {\n      case 0:\n        rescaleFn = Outline._rescale;\n        tx = -pageX / pageWidth;\n        ty = pageY / pageHeight + 1;\n        sx = 1 / pageWidth;\n        sy = -1 / pageHeight;\n        break;\n      case 90:\n        rescaleFn = Outline._rescaleAndSwap;\n        tx = -pageY / pageHeight;\n        ty = -pageX / pageWidth;\n        sx = 1 / pageHeight;\n        sy = 1 / pageWidth;\n        break;\n      case 180:\n        rescaleFn = Outline._rescale;\n        tx = pageX / pageWidth + 1;\n        ty = -pageY / pageHeight;\n        sx = -1 / pageWidth;\n        sy = 1 / pageHeight;\n        break;\n      case 270:\n        rescaleFn = Outline._rescaleAndSwap;\n        tx = pageY / pageHeight + 1;\n        ty = pageX / pageWidth + 1;\n        sx = -1 / pageHeight;\n        sy = -1 / pageWidth;\n        break;\n    }\n    if (!lines) {\n      lines = [];\n      for (const point of points) {\n        const len = point.length;\n        if (len === 2) {\n          lines.push(new Float32Array([NaN, NaN, NaN, NaN, point[0], point[1]]));\n          continue;\n        }\n        if (len === 4) {\n          lines.push(new Float32Array([NaN, NaN, NaN, NaN, point[0], point[1], NaN, NaN, NaN, NaN, point[2], point[3]]));\n          continue;\n        }\n        const line = new Float32Array(3 * (len - 2));\n        lines.push(line);\n        let [x1, y1, x2, y2] = point.subarray(0, 4);\n        line.set([NaN, NaN, NaN, NaN, x1, y1], 0);\n        for (let i = 4; i < len; i += 2) {\n          const x = point[i];\n          const y = point[i + 1];\n          line.set(Outline.createBezierPoints(x1, y1, x2, y2, x, y), (i - 2) * 3);\n          [x1, y1, x2, y2] = [x2, y2, x, y];\n        }\n      }\n    }\n    for (let i = 0, ii = lines.length; i < ii; i++) {\n      newLines.push({\n        line: rescaleFn(lines[i].map(x => x ?? NaN), tx, ty, sx, sy),\n        points: rescaleFn(points[i].map(x => x ?? NaN), tx, ty, sx, sy)\n      });\n    }\n    const outlines = new this.prototype.constructor();\n    outlines.build(newLines, pageWidth, pageHeight, 1, rotation, thickness, innerMargin);\n    return outlines;\n  }\n  #getMarginComponents(thickness = this.#thickness) {\n    const margin = this.#innerMargin + thickness / 2 * this.#parentScale;\n    return this.#rotation % 180 === 0 ? [margin / this.#parentWidth, margin / this.#parentHeight] : [margin / this.#parentHeight, margin / this.#parentWidth];\n  }\n  #getBBoxWithNoMargin() {\n    const [x, y, width, height] = this.#bbox;\n    const [marginX, marginY] = this.#getMarginComponents(0);\n    return [x + marginX, y + marginY, width - 2 * marginX, height - 2 * marginY];\n  }\n  #computeBbox() {\n    const bbox = this.#bbox = new Float32Array([Infinity, Infinity, -Infinity, -Infinity]);\n    for (const {\n      line\n    } of this.#lines) {\n      if (line.length <= 12) {\n        for (let i = 4, ii = line.length; i < ii; i += 6) {\n          Util.pointBoundingBox(line[i], line[i + 1], bbox);\n        }\n        continue;\n      }\n      let lastX = line[4],\n        lastY = line[5];\n      for (let i = 6, ii = line.length; i < ii; i += 6) {\n        const [c1x, c1y, c2x, c2y, x, y] = line.subarray(i, i + 6);\n        Util.bezierBoundingBox(lastX, lastY, c1x, c1y, c2x, c2y, x, y, bbox);\n        lastX = x;\n        lastY = y;\n      }\n    }\n    const [marginX, marginY] = this.#getMarginComponents();\n    bbox[0] = MathClamp(bbox[0] - marginX, 0, 1);\n    bbox[1] = MathClamp(bbox[1] - marginY, 0, 1);\n    bbox[2] = MathClamp(bbox[2] + marginX, 0, 1);\n    bbox[3] = MathClamp(bbox[3] + marginY, 0, 1);\n    bbox[2] -= bbox[0];\n    bbox[3] -= bbox[1];\n  }\n  get box() {\n    return this.#bbox;\n  }\n  updateProperty(name, value) {\n    if (name === \"stroke-width\") {\n      return this.#updateThickness(value);\n    }\n    return null;\n  }\n  #updateThickness(thickness) {\n    const [oldMarginX, oldMarginY] = this.#getMarginComponents();\n    this.#thickness = thickness;\n    const [newMarginX, newMarginY] = this.#getMarginComponents();\n    const [diffMarginX, diffMarginY] = [newMarginX - oldMarginX, newMarginY - oldMarginY];\n    const bbox = this.#bbox;\n    bbox[0] -= diffMarginX;\n    bbox[1] -= diffMarginY;\n    bbox[2] += 2 * diffMarginX;\n    bbox[3] += 2 * diffMarginY;\n    return bbox;\n  }\n  updateParentDimensions([width, height], scale) {\n    const [oldMarginX, oldMarginY] = this.#getMarginComponents();\n    this.#parentWidth = width;\n    this.#parentHeight = height;\n    this.#parentScale = scale;\n    const [newMarginX, newMarginY] = this.#getMarginComponents();\n    const diffMarginX = newMarginX - oldMarginX;\n    const diffMarginY = newMarginY - oldMarginY;\n    const bbox = this.#bbox;\n    bbox[0] -= diffMarginX;\n    bbox[1] -= diffMarginY;\n    bbox[2] += 2 * diffMarginX;\n    bbox[3] += 2 * diffMarginY;\n    return bbox;\n  }\n  updateRotation(rotation) {\n    this.#currentRotation = rotation;\n    return {\n      path: {\n        transform: this.rotationTransform\n      }\n    };\n  }\n  get viewBox() {\n    return this.#bbox.map(Outline.svgRound).join(\" \");\n  }\n  get defaultProperties() {\n    const [x, y] = this.#bbox;\n    return {\n      root: {\n        viewBox: this.viewBox\n      },\n      path: {\n        \"transform-origin\": `${Outline.svgRound(x)} ${Outline.svgRound(y)}`\n      }\n    };\n  }\n  get rotationTransform() {\n    const [,, width, height] = this.#bbox;\n    let a = 0,\n      b = 0,\n      c = 0,\n      d = 0,\n      e = 0,\n      f = 0;\n    switch (this.#currentRotation) {\n      case 90:\n        b = height / width;\n        c = -width / height;\n        e = width;\n        break;\n      case 180:\n        a = -1;\n        d = -1;\n        e = width;\n        f = height;\n        break;\n      case 270:\n        b = -height / width;\n        c = width / height;\n        f = height;\n        break;\n      default:\n        return \"\";\n    }\n    return `matrix(${a} ${b} ${c} ${d} ${Outline.svgRound(e)} ${Outline.svgRound(f)})`;\n  }\n  getPathResizingSVGProperties([newX, newY, newWidth, newHeight]) {\n    const [marginX, marginY] = this.#getMarginComponents();\n    const [x, y, width, height] = this.#bbox;\n    if (Math.abs(width - marginX) <= Outline.PRECISION || Math.abs(height - marginY) <= Outline.PRECISION) {\n      const tx = newX + newWidth / 2 - (x + width / 2);\n      const ty = newY + newHeight / 2 - (y + height / 2);\n      return {\n        path: {\n          \"transform-origin\": `${Outline.svgRound(newX)} ${Outline.svgRound(newY)}`,\n          transform: `${this.rotationTransform} translate(${tx} ${ty})`\n        }\n      };\n    }\n    const s1x = (newWidth - 2 * marginX) / (width - 2 * marginX);\n    const s1y = (newHeight - 2 * marginY) / (height - 2 * marginY);\n    const s2x = width / newWidth;\n    const s2y = height / newHeight;\n    return {\n      path: {\n        \"transform-origin\": `${Outline.svgRound(x)} ${Outline.svgRound(y)}`,\n        transform: `${this.rotationTransform} scale(${s2x} ${s2y}) ` + `translate(${Outline.svgRound(marginX)} ${Outline.svgRound(marginY)}) scale(${s1x} ${s1y}) ` + `translate(${Outline.svgRound(-marginX)} ${Outline.svgRound(-marginY)})`\n      }\n    };\n  }\n  getPathResizedSVGProperties([newX, newY, newWidth, newHeight]) {\n    const [marginX, marginY] = this.#getMarginComponents();\n    const bbox = this.#bbox;\n    const [x, y, width, height] = bbox;\n    bbox[0] = newX;\n    bbox[1] = newY;\n    bbox[2] = newWidth;\n    bbox[3] = newHeight;\n    if (Math.abs(width - marginX) <= Outline.PRECISION || Math.abs(height - marginY) <= Outline.PRECISION) {\n      const tx = newX + newWidth / 2 - (x + width / 2);\n      const ty = newY + newHeight / 2 - (y + height / 2);\n      for (const {\n        line,\n        points\n      } of this.#lines) {\n        Outline._translate(line, tx, ty, line);\n        Outline._translate(points, tx, ty, points);\n      }\n      return {\n        root: {\n          viewBox: this.viewBox\n        },\n        path: {\n          \"transform-origin\": `${Outline.svgRound(newX)} ${Outline.svgRound(newY)}`,\n          transform: this.rotationTransform || null,\n          d: this.toSVGPath()\n        }\n      };\n    }\n    const s1x = (newWidth - 2 * marginX) / (width - 2 * marginX);\n    const s1y = (newHeight - 2 * marginY) / (height - 2 * marginY);\n    const tx = -s1x * (x + marginX) + newX + marginX;\n    const ty = -s1y * (y + marginY) + newY + marginY;\n    if (s1x !== 1 || s1y !== 1 || tx !== 0 || ty !== 0) {\n      for (const {\n        line,\n        points\n      } of this.#lines) {\n        Outline._rescale(line, tx, ty, s1x, s1y, line);\n        Outline._rescale(points, tx, ty, s1x, s1y, points);\n      }\n    }\n    return {\n      root: {\n        viewBox: this.viewBox\n      },\n      path: {\n        \"transform-origin\": `${Outline.svgRound(newX)} ${Outline.svgRound(newY)}`,\n        transform: this.rotationTransform || null,\n        d: this.toSVGPath()\n      }\n    };\n  }\n  getPathTranslatedSVGProperties([newX, newY], parentDimensions) {\n    const [newParentWidth, newParentHeight] = parentDimensions;\n    const bbox = this.#bbox;\n    const tx = newX - bbox[0];\n    const ty = newY - bbox[1];\n    if (this.#parentWidth === newParentWidth && this.#parentHeight === newParentHeight) {\n      for (const {\n        line,\n        points\n      } of this.#lines) {\n        Outline._translate(line, tx, ty, line);\n        Outline._translate(points, tx, ty, points);\n      }\n    } else {\n      const sx = this.#parentWidth / newParentWidth;\n      const sy = this.#parentHeight / newParentHeight;\n      this.#parentWidth = newParentWidth;\n      this.#parentHeight = newParentHeight;\n      for (const {\n        line,\n        points\n      } of this.#lines) {\n        Outline._rescale(line, tx, ty, sx, sy, line);\n        Outline._rescale(points, tx, ty, sx, sy, points);\n      }\n      bbox[2] *= sx;\n      bbox[3] *= sy;\n    }\n    bbox[0] = newX;\n    bbox[1] = newY;\n    return {\n      root: {\n        viewBox: this.viewBox\n      },\n      path: {\n        d: this.toSVGPath(),\n        \"transform-origin\": `${Outline.svgRound(newX)} ${Outline.svgRound(newY)}`\n      }\n    };\n  }\n  get defaultSVGProperties() {\n    const bbox = this.#bbox;\n    return {\n      root: {\n        viewBox: this.viewBox\n      },\n      rootClass: {\n        draw: true\n      },\n      path: {\n        d: this.toSVGPath(),\n        \"transform-origin\": `${Outline.svgRound(bbox[0])} ${Outline.svgRound(bbox[1])}`,\n        transform: this.rotationTransform || null\n      },\n      bbox\n    };\n  }\n}\n\n;// ./src/display/editor/ink.js\n\n\n\n\n\n\n\n\nclass InkDrawingOptions extends DrawingOptions {\n  constructor(viewerParameters) {\n    super();\n    this._viewParameters = viewerParameters;\n    super.updateProperties({\n      fill: \"none\",\n      stroke: AnnotationEditor._defaultLineColor,\n      \"stroke-opacity\": 1,\n      \"stroke-width\": 1,\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      \"stroke-miterlimit\": 10\n    });\n  }\n  updateSVGProperty(name, value) {\n    if (name === \"stroke-width\") {\n      value ??= this[\"stroke-width\"];\n      value *= this._viewParameters.realScale;\n    }\n    super.updateSVGProperty(name, value);\n  }\n  clone() {\n    const clone = new InkDrawingOptions(this._viewParameters);\n    clone.updateAll(this);\n    return clone;\n  }\n}\nclass InkEditor extends DrawingEditor {\n  static _type = \"ink\";\n  static _editorType = AnnotationEditorType.INK;\n  static _defaultDrawingOptions = null;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"inkEditor\"\n    });\n    this._willKeepAspectRatio = true;\n    this.defaultL10nId = \"pdfjs-editor-ink-editor\";\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n    this._defaultDrawingOptions = new InkDrawingOptions(uiManager.viewParameters);\n  }\n  static getDefaultDrawingOptions(options) {\n    const clone = this._defaultDrawingOptions.clone();\n    clone.updateProperties(options);\n    return clone;\n  }\n  static get supportMultipleDrawings() {\n    return true;\n  }\n  static get typesMap() {\n    return shadow(this, \"typesMap\", new Map([[AnnotationEditorParamsType.INK_THICKNESS, \"stroke-width\"], [AnnotationEditorParamsType.INK_COLOR, \"stroke\"], [AnnotationEditorParamsType.INK_OPACITY, \"stroke-opacity\"]]));\n  }\n  static createDrawerInstance(x, y, parentWidth, parentHeight, rotation) {\n    return new InkDrawOutliner(x, y, parentWidth, parentHeight, rotation, this._defaultDrawingOptions[\"stroke-width\"]);\n  }\n  static deserializeDraw(pageX, pageY, pageWidth, pageHeight, innerMargin, data) {\n    return InkDrawOutline.deserialize(pageX, pageY, pageWidth, pageHeight, innerMargin, data);\n  }\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof InkAnnotationElement) {\n      const {\n        data: {\n          inkLists,\n          rect,\n          rotation,\n          id,\n          color,\n          opacity,\n          borderStyle: {\n            rawWidth: thickness\n          },\n          popupRef,\n          richText,\n          contentsObj,\n          creationDate,\n          modificationDate\n        },\n        parent: {\n          page: {\n            pageNumber\n          }\n        }\n      } = data;\n      initialData = data = {\n        annotationType: AnnotationEditorType.INK,\n        color: Array.from(color),\n        thickness,\n        opacity,\n        paths: {\n          points: inkLists\n        },\n        boxes: null,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        annotationElementId: id,\n        id,\n        deleted: false,\n        popupRef,\n        richText,\n        comment: contentsObj?.str || null,\n        creationDate,\n        modificationDate\n      };\n    }\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor._initialData = initialData;\n    if (data.comment) {\n      editor.setCommentData(data);\n    }\n    return editor;\n  }\n  get toolbarButtons() {\n    this._colorPicker ||= new BasicColorPicker(this);\n    return [[\"colorPicker\", this._colorPicker]];\n  }\n  get colorType() {\n    return AnnotationEditorParamsType.INK_COLOR;\n  }\n  get color() {\n    return this._drawingOptions.stroke;\n  }\n  get opacity() {\n    return this._drawingOptions[\"stroke-opacity\"];\n  }\n  onScaleChanging() {\n    if (!this.parent) {\n      return;\n    }\n    super.onScaleChanging();\n    const {\n      _drawId,\n      _drawingOptions,\n      parent\n    } = this;\n    _drawingOptions.updateSVGProperty(\"stroke-width\");\n    parent.drawLayer.updateProperties(_drawId, _drawingOptions.toSVGProperties());\n  }\n  static onScaleChangingWhenDrawing() {\n    const parent = this._currentParent;\n    if (!parent) {\n      return;\n    }\n    super.onScaleChangingWhenDrawing();\n    this._defaultDrawingOptions.updateSVGProperty(\"stroke-width\");\n    parent.drawLayer.updateProperties(this._currentDrawId, this._defaultDrawingOptions.toSVGProperties());\n  }\n  createDrawingOptions({\n    color,\n    thickness,\n    opacity\n  }) {\n    this._drawingOptions = InkEditor.getDefaultDrawingOptions({\n      stroke: Util.makeHexColor(...color),\n      \"stroke-width\": thickness,\n      \"stroke-opacity\": opacity\n    });\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n    const {\n      lines,\n      points\n    } = this.serializeDraw(isForCopying);\n    const {\n      _drawingOptions: {\n        stroke,\n        \"stroke-opacity\": opacity,\n        \"stroke-width\": thickness\n      }\n    } = this;\n    const serialized = Object.assign(super.serialize(isForCopying), {\n      color: AnnotationEditor._colorManager.convert(stroke),\n      opacity,\n      thickness,\n      paths: {\n        lines,\n        points\n      }\n    });\n    this.addComment(serialized);\n    if (isForCopying) {\n      serialized.isCopy = true;\n      return serialized;\n    }\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n    serialized.id = this.annotationElementId;\n    return serialized;\n  }\n  #hasElementChanged(serialized) {\n    const {\n      color,\n      thickness,\n      opacity,\n      pageIndex\n    } = this._initialData;\n    return this.hasEditedComment || this._hasBeenMoved || this._hasBeenResized || serialized.color.some((c, i) => c !== color[i]) || serialized.thickness !== thickness || serialized.opacity !== opacity || serialized.pageIndex !== pageIndex;\n  }\n  renderAnnotationElement(annotation) {\n    if (this.deleted) {\n      annotation.hide();\n      return null;\n    }\n    const {\n      points,\n      rect\n    } = this.serializeDraw(false);\n    annotation.updateEdited({\n      rect,\n      thickness: this._drawingOptions[\"stroke-width\"],\n      points,\n      popup: this.comment\n    });\n    return null;\n  }\n}\n\n;// ./src/display/editor/drawers/contour.js\n\nclass ContourDrawOutline extends InkDrawOutline {\n  toSVGPath() {\n    let path = super.toSVGPath();\n    if (!path.endsWith(\"Z\")) {\n      path += \"Z\";\n    }\n    return path;\n  }\n}\n\n;// ./src/display/editor/drawers/signaturedraw.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst BASE_HEADER_LENGTH = 8;\nconst POINTS_PROPERTIES_NUMBER = 3;\nclass SignatureExtractor {\n  static #PARAMETERS = {\n    maxDim: 512,\n    sigmaSFactor: 0.02,\n    sigmaR: 25,\n    kernelSize: 16\n  };\n  static #neighborIndexToId(i0, j0, i, j) {\n    i -= i0;\n    j -= j0;\n    if (i === 0) {\n      return j > 0 ? 0 : 4;\n    }\n    if (i === 1) {\n      return j + 6;\n    }\n    return 2 - j;\n  }\n  static #neighborIdToIndex = new Int32Array([0, 1, -1, 1, -1, 0, -1, -1, 0, -1, 1, -1, 1, 0, 1, 1]);\n  static #clockwiseNonZero(buf, width, i0, j0, i, j, offset) {\n    const id = this.#neighborIndexToId(i0, j0, i, j);\n    for (let k = 0; k < 8; k++) {\n      const kk = (-k + id - offset + 16) % 8;\n      const shiftI = this.#neighborIdToIndex[2 * kk];\n      const shiftJ = this.#neighborIdToIndex[2 * kk + 1];\n      if (buf[(i0 + shiftI) * width + (j0 + shiftJ)] !== 0) {\n        return kk;\n      }\n    }\n    return -1;\n  }\n  static #counterClockwiseNonZero(buf, width, i0, j0, i, j, offset) {\n    const id = this.#neighborIndexToId(i0, j0, i, j);\n    for (let k = 0; k < 8; k++) {\n      const kk = (k + id + offset + 16) % 8;\n      const shiftI = this.#neighborIdToIndex[2 * kk];\n      const shiftJ = this.#neighborIdToIndex[2 * kk + 1];\n      if (buf[(i0 + shiftI) * width + (j0 + shiftJ)] !== 0) {\n        return kk;\n      }\n    }\n    return -1;\n  }\n  static #findContours(buf, width, height, threshold) {\n    const N = buf.length;\n    const types = new Int32Array(N);\n    for (let i = 0; i < N; i++) {\n      types[i] = buf[i] <= threshold ? 1 : 0;\n    }\n    for (let i = 1; i < height - 1; i++) {\n      types[i * width] = types[i * width + width - 1] = 0;\n    }\n    for (let i = 0; i < width; i++) {\n      types[i] = types[width * height - 1 - i] = 0;\n    }\n    let nbd = 1;\n    let lnbd;\n    const contours = [];\n    for (let i = 1; i < height - 1; i++) {\n      lnbd = 1;\n      for (let j = 1; j < width - 1; j++) {\n        const ij = i * width + j;\n        const pix = types[ij];\n        if (pix === 0) {\n          continue;\n        }\n        let i2 = i;\n        let j2 = j;\n        if (pix === 1 && types[ij - 1] === 0) {\n          nbd += 1;\n          j2 -= 1;\n        } else if (pix >= 1 && types[ij + 1] === 0) {\n          nbd += 1;\n          j2 += 1;\n          if (pix > 1) {\n            lnbd = pix;\n          }\n        } else {\n          if (pix !== 1) {\n            lnbd = Math.abs(pix);\n          }\n          continue;\n        }\n        const points = [j, i];\n        const isHole = j2 === j + 1;\n        const contour = {\n          isHole,\n          points,\n          id: nbd,\n          parent: 0\n        };\n        contours.push(contour);\n        let contour0;\n        for (const c of contours) {\n          if (c.id === lnbd) {\n            contour0 = c;\n            break;\n          }\n        }\n        if (!contour0) {\n          contour.parent = isHole ? lnbd : 0;\n        } else if (contour0.isHole) {\n          contour.parent = isHole ? contour0.parent : lnbd;\n        } else {\n          contour.parent = isHole ? lnbd : contour0.parent;\n        }\n        const k = this.#clockwiseNonZero(types, width, i, j, i2, j2, 0);\n        if (k === -1) {\n          types[ij] = -nbd;\n          if (types[ij] !== 1) {\n            lnbd = Math.abs(types[ij]);\n          }\n          continue;\n        }\n        let shiftI = this.#neighborIdToIndex[2 * k];\n        let shiftJ = this.#neighborIdToIndex[2 * k + 1];\n        const i1 = i + shiftI;\n        const j1 = j + shiftJ;\n        i2 = i1;\n        j2 = j1;\n        let i3 = i;\n        let j3 = j;\n        while (true) {\n          const kk = this.#counterClockwiseNonZero(types, width, i3, j3, i2, j2, 1);\n          shiftI = this.#neighborIdToIndex[2 * kk];\n          shiftJ = this.#neighborIdToIndex[2 * kk + 1];\n          const i4 = i3 + shiftI;\n          const j4 = j3 + shiftJ;\n          points.push(j4, i4);\n          const ij3 = i3 * width + j3;\n          if (types[ij3 + 1] === 0) {\n            types[ij3] = -nbd;\n          } else if (types[ij3] === 1) {\n            types[ij3] = nbd;\n          }\n          if (i4 === i && j4 === j && i3 === i1 && j3 === j1) {\n            if (types[ij] !== 1) {\n              lnbd = Math.abs(types[ij]);\n            }\n            break;\n          } else {\n            i2 = i3;\n            j2 = j3;\n            i3 = i4;\n            j3 = j4;\n          }\n        }\n      }\n    }\n    return contours;\n  }\n  static #douglasPeuckerHelper(points, start, end, output) {\n    if (end - start <= 4) {\n      for (let i = start; i < end - 2; i += 2) {\n        output.push(points[i], points[i + 1]);\n      }\n      return;\n    }\n    const ax = points[start];\n    const ay = points[start + 1];\n    const abx = points[end - 4] - ax;\n    const aby = points[end - 3] - ay;\n    const dist = Math.hypot(abx, aby);\n    const nabx = abx / dist;\n    const naby = aby / dist;\n    const aa = nabx * ay - naby * ax;\n    const m = aby / abx;\n    const invS = 1 / dist;\n    const phi = Math.atan(m);\n    const cosPhi = Math.cos(phi);\n    const sinPhi = Math.sin(phi);\n    const tmax = invS * (Math.abs(cosPhi) + Math.abs(sinPhi));\n    const poly = invS * (1 - tmax + tmax ** 2);\n    const partialPhi = Math.max(Math.atan(Math.abs(sinPhi + cosPhi) * poly), Math.atan(Math.abs(sinPhi - cosPhi) * poly));\n    let dmax = 0;\n    let index = start;\n    for (let i = start + 2; i < end - 2; i += 2) {\n      const d = Math.abs(aa - nabx * points[i + 1] + naby * points[i]);\n      if (d > dmax) {\n        index = i;\n        dmax = d;\n      }\n    }\n    if (dmax > (dist * partialPhi) ** 2) {\n      this.#douglasPeuckerHelper(points, start, index + 2, output);\n      this.#douglasPeuckerHelper(points, index, end, output);\n    } else {\n      output.push(ax, ay);\n    }\n  }\n  static #douglasPeucker(points) {\n    const output = [];\n    const len = points.length;\n    this.#douglasPeuckerHelper(points, 0, len, output);\n    output.push(points[len - 2], points[len - 1]);\n    return output.length <= 4 ? null : output;\n  }\n  static #bilateralFilter(buf, width, height, sigmaS, sigmaR, kernelSize) {\n    const kernel = new Float32Array(kernelSize ** 2);\n    const sigmaS2 = -2 * sigmaS ** 2;\n    const halfSize = kernelSize >> 1;\n    for (let i = 0; i < kernelSize; i++) {\n      const x = (i - halfSize) ** 2;\n      for (let j = 0; j < kernelSize; j++) {\n        kernel[i * kernelSize + j] = Math.exp((x + (j - halfSize) ** 2) / sigmaS2);\n      }\n    }\n    const rangeValues = new Float32Array(256);\n    const sigmaR2 = -2 * sigmaR ** 2;\n    for (let i = 0; i < 256; i++) {\n      rangeValues[i] = Math.exp(i ** 2 / sigmaR2);\n    }\n    const N = buf.length;\n    const out = new Uint8Array(N);\n    const histogram = new Uint32Array(256);\n    for (let i = 0; i < height; i++) {\n      for (let j = 0; j < width; j++) {\n        const ij = i * width + j;\n        const center = buf[ij];\n        let sum = 0;\n        let norm = 0;\n        for (let k = 0; k < kernelSize; k++) {\n          const y = i + k - halfSize;\n          if (y < 0 || y >= height) {\n            continue;\n          }\n          for (let l = 0; l < kernelSize; l++) {\n            const x = j + l - halfSize;\n            if (x < 0 || x >= width) {\n              continue;\n            }\n            const neighbour = buf[y * width + x];\n            const w = kernel[k * kernelSize + l] * rangeValues[Math.abs(neighbour - center)];\n            sum += neighbour * w;\n            norm += w;\n          }\n        }\n        const pix = out[ij] = Math.round(sum / norm);\n        histogram[pix]++;\n      }\n    }\n    return [out, histogram];\n  }\n  static #getHistogram(buf) {\n    const histogram = new Uint32Array(256);\n    for (const g of buf) {\n      histogram[g]++;\n    }\n    return histogram;\n  }\n  static #toUint8(buf) {\n    const N = buf.length;\n    const out = new Uint8ClampedArray(N >> 2);\n    let max = -Infinity;\n    let min = Infinity;\n    for (let i = 0, ii = out.length; i < ii; i++) {\n      const pix = out[i] = buf[i << 2];\n      max = Math.max(max, pix);\n      min = Math.min(min, pix);\n    }\n    const ratio = 255 / (max - min);\n    for (let i = 0, ii = out.length; i < ii; i++) {\n      out[i] = (out[i] - min) * ratio;\n    }\n    return out;\n  }\n  static #guessThreshold(histogram) {\n    let i;\n    let M = -Infinity;\n    let L = -Infinity;\n    const min = histogram.findIndex(v => v !== 0);\n    let pos = min;\n    let spos = min;\n    for (i = min; i < 256; i++) {\n      const v = histogram[i];\n      if (v > M) {\n        if (i - pos > L) {\n          L = i - pos;\n          spos = i - 1;\n        }\n        M = v;\n        pos = i;\n      }\n    }\n    for (i = spos - 1; i >= 0; i--) {\n      if (histogram[i] > histogram[i + 1]) {\n        break;\n      }\n    }\n    return i;\n  }\n  static #getGrayPixels(bitmap) {\n    const originalBitmap = bitmap;\n    const {\n      width,\n      height\n    } = bitmap;\n    const {\n      maxDim\n    } = this.#PARAMETERS;\n    let newWidth = width;\n    let newHeight = height;\n    if (width > maxDim || height > maxDim) {\n      let prevWidth = width;\n      let prevHeight = height;\n      let steps = Math.log2(Math.max(width, height) / maxDim);\n      const isteps = Math.floor(steps);\n      steps = steps === isteps ? isteps - 1 : isteps;\n      for (let i = 0; i < steps; i++) {\n        newWidth = Math.ceil(prevWidth / 2);\n        newHeight = Math.ceil(prevHeight / 2);\n        const offscreen = new OffscreenCanvas(newWidth, newHeight);\n        const ctx = offscreen.getContext(\"2d\");\n        ctx.drawImage(bitmap, 0, 0, prevWidth, prevHeight, 0, 0, newWidth, newHeight);\n        prevWidth = newWidth;\n        prevHeight = newHeight;\n        if (bitmap !== originalBitmap) {\n          bitmap.close();\n        }\n        bitmap = offscreen.transferToImageBitmap();\n      }\n      const ratio = Math.min(maxDim / newWidth, maxDim / newHeight);\n      newWidth = Math.round(newWidth * ratio);\n      newHeight = Math.round(newHeight * ratio);\n    }\n    const offscreen = new OffscreenCanvas(newWidth, newHeight);\n    const ctx = offscreen.getContext(\"2d\", {\n      willReadFrequently: true\n    });\n    ctx.fillStyle = \"white\";\n    ctx.fillRect(0, 0, newWidth, newHeight);\n    ctx.filter = \"grayscale(1)\";\n    ctx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, newWidth, newHeight);\n    const grayImage = ctx.getImageData(0, 0, newWidth, newHeight).data;\n    const uint8Buf = this.#toUint8(grayImage);\n    return [uint8Buf, newWidth, newHeight];\n  }\n  static extractContoursFromText(text, {\n    fontFamily,\n    fontStyle,\n    fontWeight\n  }, pageWidth, pageHeight, rotation, innerMargin) {\n    let canvas = new OffscreenCanvas(1, 1);\n    let ctx = canvas.getContext(\"2d\", {\n      alpha: false\n    });\n    const fontSize = 200;\n    const font = ctx.font = `${fontStyle} ${fontWeight} ${fontSize}px ${fontFamily}`;\n    const {\n      actualBoundingBoxLeft,\n      actualBoundingBoxRight,\n      actualBoundingBoxAscent,\n      actualBoundingBoxDescent,\n      fontBoundingBoxAscent,\n      fontBoundingBoxDescent,\n      width\n    } = ctx.measureText(text);\n    const SCALE = 1.5;\n    const canvasWidth = Math.ceil(Math.max(Math.abs(actualBoundingBoxLeft) + Math.abs(actualBoundingBoxRight) || 0, width) * SCALE);\n    const canvasHeight = Math.ceil(Math.max(Math.abs(actualBoundingBoxAscent) + Math.abs(actualBoundingBoxDescent) || fontSize, Math.abs(fontBoundingBoxAscent) + Math.abs(fontBoundingBoxDescent) || fontSize) * SCALE);\n    canvas = new OffscreenCanvas(canvasWidth, canvasHeight);\n    ctx = canvas.getContext(\"2d\", {\n      alpha: true,\n      willReadFrequently: true\n    });\n    ctx.font = font;\n    ctx.filter = \"grayscale(1)\";\n    ctx.fillStyle = \"white\";\n    ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n    ctx.fillStyle = \"black\";\n    ctx.fillText(text, canvasWidth * (SCALE - 1) / 2, canvasHeight * (3 - SCALE) / 2);\n    const uint8Buf = this.#toUint8(ctx.getImageData(0, 0, canvasWidth, canvasHeight).data);\n    const histogram = this.#getHistogram(uint8Buf);\n    const threshold = this.#guessThreshold(histogram);\n    const contourList = this.#findContours(uint8Buf, canvasWidth, canvasHeight, threshold);\n    return this.processDrawnLines({\n      lines: {\n        curves: contourList,\n        width: canvasWidth,\n        height: canvasHeight\n      },\n      pageWidth,\n      pageHeight,\n      rotation,\n      innerMargin,\n      mustSmooth: true,\n      areContours: true\n    });\n  }\n  static process(bitmap, pageWidth, pageHeight, rotation, innerMargin) {\n    const [uint8Buf, width, height] = this.#getGrayPixels(bitmap);\n    const [buffer, histogram] = this.#bilateralFilter(uint8Buf, width, height, Math.hypot(width, height) * this.#PARAMETERS.sigmaSFactor, this.#PARAMETERS.sigmaR, this.#PARAMETERS.kernelSize);\n    const threshold = this.#guessThreshold(histogram);\n    const contourList = this.#findContours(buffer, width, height, threshold);\n    return this.processDrawnLines({\n      lines: {\n        curves: contourList,\n        width,\n        height\n      },\n      pageWidth,\n      pageHeight,\n      rotation,\n      innerMargin,\n      mustSmooth: true,\n      areContours: true\n    });\n  }\n  static processDrawnLines({\n    lines,\n    pageWidth,\n    pageHeight,\n    rotation,\n    innerMargin,\n    mustSmooth,\n    areContours\n  }) {\n    if (rotation % 180 !== 0) {\n      [pageWidth, pageHeight] = [pageHeight, pageWidth];\n    }\n    const {\n      curves,\n      width,\n      height\n    } = lines;\n    const thickness = lines.thickness ?? 0;\n    const linesAndPoints = [];\n    const ratio = Math.min(pageWidth / width, pageHeight / height);\n    const xScale = ratio / pageWidth;\n    const yScale = ratio / pageHeight;\n    const newCurves = [];\n    for (const {\n      points\n    } of curves) {\n      const reducedPoints = mustSmooth ? this.#douglasPeucker(points) : points;\n      if (!reducedPoints) {\n        continue;\n      }\n      newCurves.push(reducedPoints);\n      const len = reducedPoints.length;\n      const newPoints = new Float32Array(len);\n      const line = new Float32Array(3 * (len === 2 ? 2 : len - 2));\n      linesAndPoints.push({\n        line,\n        points: newPoints\n      });\n      if (len === 2) {\n        newPoints[0] = reducedPoints[0] * xScale;\n        newPoints[1] = reducedPoints[1] * yScale;\n        line.set([NaN, NaN, NaN, NaN, newPoints[0], newPoints[1]], 0);\n        continue;\n      }\n      let [x1, y1, x2, y2] = reducedPoints;\n      x1 *= xScale;\n      y1 *= yScale;\n      x2 *= xScale;\n      y2 *= yScale;\n      newPoints.set([x1, y1, x2, y2], 0);\n      line.set([NaN, NaN, NaN, NaN, x1, y1], 0);\n      for (let i = 4; i < len; i += 2) {\n        const x = newPoints[i] = reducedPoints[i] * xScale;\n        const y = newPoints[i + 1] = reducedPoints[i + 1] * yScale;\n        line.set(Outline.createBezierPoints(x1, y1, x2, y2, x, y), (i - 2) * 3);\n        [x1, y1, x2, y2] = [x2, y2, x, y];\n      }\n    }\n    if (linesAndPoints.length === 0) {\n      return null;\n    }\n    const outline = areContours ? new ContourDrawOutline() : new InkDrawOutline();\n    outline.build(linesAndPoints, pageWidth, pageHeight, 1, rotation, areContours ? 0 : thickness, innerMargin);\n    return {\n      outline,\n      newCurves,\n      areContours,\n      thickness,\n      width,\n      height\n    };\n  }\n  static async compressSignature({\n    outlines,\n    areContours,\n    thickness,\n    width,\n    height\n  }) {\n    let minDiff = Infinity;\n    let maxDiff = -Infinity;\n    let outlinesLength = 0;\n    for (const points of outlines) {\n      outlinesLength += points.length;\n      for (let i = 2, ii = points.length; i < ii; i++) {\n        const dx = points[i] - points[i - 2];\n        minDiff = Math.min(minDiff, dx);\n        maxDiff = Math.max(maxDiff, dx);\n      }\n    }\n    let bufferType;\n    if (minDiff >= -128 && maxDiff <= 127) {\n      bufferType = Int8Array;\n    } else if (minDiff >= -32768 && maxDiff <= 32767) {\n      bufferType = Int16Array;\n    } else {\n      bufferType = Int32Array;\n    }\n    const len = outlines.length;\n    const headerLength = BASE_HEADER_LENGTH + POINTS_PROPERTIES_NUMBER * len;\n    const header = new Uint32Array(headerLength);\n    let offset = 0;\n    header[offset++] = headerLength * Uint32Array.BYTES_PER_ELEMENT + (outlinesLength - 2 * len) * bufferType.BYTES_PER_ELEMENT;\n    header[offset++] = 0;\n    header[offset++] = width;\n    header[offset++] = height;\n    header[offset++] = areContours ? 0 : 1;\n    header[offset++] = Math.max(0, Math.floor(thickness ?? 0));\n    header[offset++] = len;\n    header[offset++] = bufferType.BYTES_PER_ELEMENT;\n    for (const points of outlines) {\n      header[offset++] = points.length - 2;\n      header[offset++] = points[0];\n      header[offset++] = points[1];\n    }\n    const cs = new CompressionStream(\"deflate-raw\");\n    const writer = cs.writable.getWriter();\n    await writer.ready;\n    writer.write(header);\n    const BufferCtor = bufferType.prototype.constructor;\n    for (const points of outlines) {\n      const diffs = new BufferCtor(points.length - 2);\n      for (let i = 2, ii = points.length; i < ii; i++) {\n        diffs[i - 2] = points[i] - points[i - 2];\n      }\n      writer.write(diffs);\n    }\n    writer.close();\n    const buf = await new Response(cs.readable).arrayBuffer();\n    const bytes = new Uint8Array(buf);\n    return toBase64Util(bytes);\n  }\n  static async decompressSignature(signatureData) {\n    try {\n      const bytes = fromBase64Util(signatureData);\n      const {\n        readable,\n        writable\n      } = new DecompressionStream(\"deflate-raw\");\n      const writer = writable.getWriter();\n      await writer.ready;\n      writer.write(bytes).then(async () => {\n        await writer.ready;\n        await writer.close();\n      }).catch(() => {});\n      let data = null;\n      let offset = 0;\n      for await (const chunk of readable) {\n        data ||= new Uint8Array(new Uint32Array(chunk.buffer, 0, 4)[0]);\n        data.set(chunk, offset);\n        offset += chunk.length;\n      }\n      const header = new Uint32Array(data.buffer, 0, data.length >> 2);\n      const version = header[1];\n      if (version !== 0) {\n        throw new Error(`Invalid version: ${version}`);\n      }\n      const width = header[2];\n      const height = header[3];\n      const areContours = header[4] === 0;\n      const thickness = header[5];\n      const numberOfDrawings = header[6];\n      const bufferType = header[7];\n      const outlines = [];\n      const diffsOffset = (BASE_HEADER_LENGTH + POINTS_PROPERTIES_NUMBER * numberOfDrawings) * Uint32Array.BYTES_PER_ELEMENT;\n      let diffs;\n      switch (bufferType) {\n        case Int8Array.BYTES_PER_ELEMENT:\n          diffs = new Int8Array(data.buffer, diffsOffset);\n          break;\n        case Int16Array.BYTES_PER_ELEMENT:\n          diffs = new Int16Array(data.buffer, diffsOffset);\n          break;\n        case Int32Array.BYTES_PER_ELEMENT:\n          diffs = new Int32Array(data.buffer, diffsOffset);\n          break;\n      }\n      offset = 0;\n      for (let i = 0; i < numberOfDrawings; i++) {\n        const len = header[POINTS_PROPERTIES_NUMBER * i + BASE_HEADER_LENGTH];\n        const points = new Float32Array(len + 2);\n        outlines.push(points);\n        for (let j = 0; j < POINTS_PROPERTIES_NUMBER - 1; j++) {\n          points[j] = header[POINTS_PROPERTIES_NUMBER * i + BASE_HEADER_LENGTH + j + 1];\n        }\n        for (let j = 0; j < len; j++) {\n          points[j + 2] = points[j] + diffs[offset++];\n        }\n      }\n      return {\n        areContours,\n        thickness,\n        outlines,\n        width,\n        height\n      };\n    } catch (e) {\n      warn(`decompressSignature: ${e}`);\n      return null;\n    }\n  }\n}\n\n;// ./src/display/editor/signature.js\n\n\n\n\n\n\n\n\n\nclass SignatureOptions extends DrawingOptions {\n  constructor() {\n    super();\n    super.updateProperties({\n      fill: AnnotationEditor._defaultLineColor,\n      \"stroke-width\": 0\n    });\n  }\n  clone() {\n    const clone = new SignatureOptions();\n    clone.updateAll(this);\n    return clone;\n  }\n}\nclass DrawnSignatureOptions extends InkDrawingOptions {\n  constructor(viewerParameters) {\n    super(viewerParameters);\n    super.updateProperties({\n      stroke: AnnotationEditor._defaultLineColor,\n      \"stroke-width\": 1\n    });\n  }\n  clone() {\n    const clone = new DrawnSignatureOptions(this._viewParameters);\n    clone.updateAll(this);\n    return clone;\n  }\n}\nclass SignatureEditor extends DrawingEditor {\n  #isExtracted = false;\n  #description = null;\n  #signatureData = null;\n  #signatureUUID = null;\n  static _type = \"signature\";\n  static _editorType = AnnotationEditorType.SIGNATURE;\n  static _defaultDrawingOptions = null;\n  constructor(params) {\n    super({\n      ...params,\n      mustBeCommitted: true,\n      name: \"signatureEditor\"\n    });\n    this._willKeepAspectRatio = true;\n    this.#signatureData = params.signatureData || null;\n    this.#description = null;\n    this.defaultL10nId = \"pdfjs-editor-signature-editor1\";\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n    this._defaultDrawingOptions = new SignatureOptions();\n    this._defaultDrawnSignatureOptions = new DrawnSignatureOptions(uiManager.viewParameters);\n  }\n  static getDefaultDrawingOptions(options) {\n    const clone = this._defaultDrawingOptions.clone();\n    clone.updateProperties(options);\n    return clone;\n  }\n  static get supportMultipleDrawings() {\n    return false;\n  }\n  static get typesMap() {\n    return shadow(this, \"typesMap\", new Map());\n  }\n  static get isDrawer() {\n    return false;\n  }\n  get telemetryFinalData() {\n    return {\n      type: \"signature\",\n      hasDescription: !!this.#description\n    };\n  }\n  static computeTelemetryFinalData(data) {\n    const hasDescriptionStats = data.get(\"hasDescription\");\n    return {\n      hasAltText: hasDescriptionStats.get(true) ?? 0,\n      hasNoAltText: hasDescriptionStats.get(false) ?? 0\n    };\n  }\n  get isResizable() {\n    return true;\n  }\n  onScaleChanging() {\n    if (this._drawId === null) {\n      return;\n    }\n    super.onScaleChanging();\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    const {\n      _isCopy\n    } = this;\n    if (_isCopy) {\n      this._isCopy = false;\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    if (this._drawId === null) {\n      if (this.#signatureData) {\n        const {\n          lines,\n          mustSmooth,\n          areContours,\n          description,\n          uuid,\n          heightInPage\n        } = this.#signatureData;\n        const {\n          rawDims: {\n            pageWidth,\n            pageHeight\n          },\n          rotation\n        } = this.parent.viewport;\n        const outline = SignatureExtractor.processDrawnLines({\n          lines,\n          pageWidth,\n          pageHeight,\n          rotation,\n          innerMargin: SignatureEditor._INNER_MARGIN,\n          mustSmooth,\n          areContours\n        });\n        this.addSignature(outline, heightInPage, description, uuid);\n      } else {\n        this.div.setAttribute(\"data-l10n-args\", JSON.stringify({\n          description: \"\"\n        }));\n        this.div.hidden = true;\n        this._uiManager.getSignature(this);\n      }\n    } else {\n      this.div.setAttribute(\"data-l10n-args\", JSON.stringify({\n        description: this.#description || \"\"\n      }));\n    }\n    if (_isCopy) {\n      this._isCopy = true;\n      this._moveAfterPaste(baseX, baseY);\n    }\n    return this.div;\n  }\n  setUuid(uuid) {\n    this.#signatureUUID = uuid;\n    this.addEditToolbar();\n  }\n  getUuid() {\n    return this.#signatureUUID;\n  }\n  get description() {\n    return this.#description;\n  }\n  set description(description) {\n    this.#description = description;\n    if (!this.div) {\n      return;\n    }\n    this.div.setAttribute(\"data-l10n-args\", JSON.stringify({\n      description\n    }));\n    super.addEditToolbar().then(toolbar => {\n      toolbar?.updateEditSignatureButton(description);\n    });\n  }\n  getSignaturePreview() {\n    const {\n      newCurves,\n      areContours,\n      thickness,\n      width,\n      height\n    } = this.#signatureData;\n    const maxDim = Math.max(width, height);\n    const outlineData = SignatureExtractor.processDrawnLines({\n      lines: {\n        curves: newCurves.map(points => ({\n          points\n        })),\n        thickness,\n        width,\n        height\n      },\n      pageWidth: maxDim,\n      pageHeight: maxDim,\n      rotation: 0,\n      innerMargin: 0,\n      mustSmooth: false,\n      areContours\n    });\n    return {\n      areContours,\n      outline: outlineData.outline\n    };\n  }\n  get toolbarButtons() {\n    if (this._uiManager.signatureManager) {\n      return [[\"editSignature\", this._uiManager.signatureManager]];\n    }\n    return super.toolbarButtons;\n  }\n  addSignature(data, heightInPage, description, uuid) {\n    const {\n      x: savedX,\n      y: savedY\n    } = this;\n    const {\n      outline\n    } = this.#signatureData = data;\n    this.#isExtracted = outline instanceof ContourDrawOutline;\n    this.description = description;\n    let drawingOptions;\n    if (this.#isExtracted) {\n      drawingOptions = SignatureEditor.getDefaultDrawingOptions();\n    } else {\n      drawingOptions = SignatureEditor._defaultDrawnSignatureOptions.clone();\n      drawingOptions.updateProperties({\n        \"stroke-width\": outline.thickness\n      });\n    }\n    this._addOutlines({\n      drawOutlines: outline,\n      drawingOptions\n    });\n    const [, pageHeight] = this.pageDimensions;\n    let newHeight = heightInPage / pageHeight;\n    newHeight = newHeight >= 1 ? 0.5 : newHeight;\n    this.width *= newHeight / this.height;\n    if (this.width >= 1) {\n      newHeight *= 0.9 / this.width;\n      this.width = 0.9;\n    }\n    this.height = newHeight;\n    this.setDims();\n    this.x = savedX;\n    this.y = savedY;\n    this.center();\n    this._onResized();\n    this.onScaleChanging();\n    this.rotate();\n    this._uiManager.addToAnnotationStorage(this);\n    this.setUuid(uuid);\n    this._reportTelemetry({\n      action: \"pdfjs.signature.inserted\",\n      data: {\n        hasBeenSaved: !!uuid,\n        hasDescription: !!description\n      }\n    });\n    this.div.hidden = false;\n  }\n  getFromImage(bitmap) {\n    const {\n      rawDims: {\n        pageWidth,\n        pageHeight\n      },\n      rotation\n    } = this.parent.viewport;\n    return SignatureExtractor.process(bitmap, pageWidth, pageHeight, rotation, SignatureEditor._INNER_MARGIN);\n  }\n  getFromText(text, fontInfo) {\n    const {\n      rawDims: {\n        pageWidth,\n        pageHeight\n      },\n      rotation\n    } = this.parent.viewport;\n    return SignatureExtractor.extractContoursFromText(text, fontInfo, pageWidth, pageHeight, rotation, SignatureEditor._INNER_MARGIN);\n  }\n  getDrawnSignature(curves) {\n    const {\n      rawDims: {\n        pageWidth,\n        pageHeight\n      },\n      rotation\n    } = this.parent.viewport;\n    return SignatureExtractor.processDrawnLines({\n      lines: curves,\n      pageWidth,\n      pageHeight,\n      rotation,\n      innerMargin: SignatureEditor._INNER_MARGIN,\n      mustSmooth: false,\n      areContours: false\n    });\n  }\n  createDrawingOptions({\n    areContours,\n    thickness\n  }) {\n    if (areContours) {\n      this._drawingOptions = SignatureEditor.getDefaultDrawingOptions();\n    } else {\n      this._drawingOptions = SignatureEditor._defaultDrawnSignatureOptions.clone();\n      this._drawingOptions.updateProperties({\n        \"stroke-width\": thickness\n      });\n    }\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    const {\n      lines,\n      points\n    } = this.serializeDraw(isForCopying);\n    const {\n      _drawingOptions: {\n        \"stroke-width\": thickness\n      }\n    } = this;\n    const serialized = Object.assign(super.serialize(isForCopying), {\n      isSignature: true,\n      areContours: this.#isExtracted,\n      color: [0, 0, 0],\n      thickness: this.#isExtracted ? 0 : thickness\n    });\n    this.addComment(serialized);\n    if (isForCopying) {\n      serialized.paths = {\n        lines,\n        points\n      };\n      serialized.uuid = this.#signatureUUID;\n      serialized.isCopy = true;\n    } else {\n      serialized.lines = lines;\n    }\n    if (this.#description) {\n      serialized.accessibilityData = {\n        type: \"Figure\",\n        alt: this.#description\n      };\n    }\n    return serialized;\n  }\n  static deserializeDraw(pageX, pageY, pageWidth, pageHeight, innerMargin, data) {\n    if (data.areContours) {\n      return ContourDrawOutline.deserialize(pageX, pageY, pageWidth, pageHeight, innerMargin, data);\n    }\n    return InkDrawOutline.deserialize(pageX, pageY, pageWidth, pageHeight, innerMargin, data);\n  }\n  static async deserialize(data, parent, uiManager) {\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor.#isExtracted = data.areContours;\n    editor.description = data.accessibilityData?.alt || \"\";\n    editor.#signatureUUID = data.uuid;\n    return editor;\n  }\n}\n\n;// ./src/display/editor/stamp.js\n\n\n\n\n\n\n\nclass StampEditor extends AnnotationEditor {\n  #bitmap = null;\n  #bitmapId = null;\n  #bitmapPromise = null;\n  #bitmapUrl = null;\n  #bitmapFile = null;\n  #bitmapFileName = \"\";\n  #canvas = null;\n  #missingCanvas = false;\n  #resizeTimeoutId = null;\n  #isSvg = false;\n  #hasBeenAddedInUndoStack = false;\n  static _type = \"stamp\";\n  static _editorType = AnnotationEditorType.STAMP;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"stampEditor\"\n    });\n    this.#bitmapUrl = params.bitmapUrl;\n    this.#bitmapFile = params.bitmapFile;\n    this.defaultL10nId = \"pdfjs-editor-stamp-editor\";\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n  }\n  static isHandlingMimeForPasting(mime) {\n    return SupportedImageMimeTypes.includes(mime);\n  }\n  static paste(item, parent) {\n    parent.pasteEditor({\n      mode: AnnotationEditorType.STAMP\n    }, {\n      bitmapFile: item.getAsFile()\n    });\n  }\n  altTextFinish() {\n    if (this._uiManager.useNewAltTextFlow) {\n      this.div.hidden = false;\n    }\n    super.altTextFinish();\n  }\n  get telemetryFinalData() {\n    return {\n      type: \"stamp\",\n      hasAltText: !!this.altTextData?.altText\n    };\n  }\n  static computeTelemetryFinalData(data) {\n    const hasAltTextStats = data.get(\"hasAltText\");\n    return {\n      hasAltText: hasAltTextStats.get(true) ?? 0,\n      hasNoAltText: hasAltTextStats.get(false) ?? 0\n    };\n  }\n  #getBitmapFetched(data, fromId = false) {\n    if (!data) {\n      this.remove();\n      return;\n    }\n    this.#bitmap = data.bitmap;\n    if (!fromId) {\n      this.#bitmapId = data.id;\n      this.#isSvg = data.isSvg;\n    }\n    if (data.file) {\n      this.#bitmapFileName = data.file.name;\n    }\n    this.#createCanvas();\n  }\n  #getBitmapDone() {\n    this.#bitmapPromise = null;\n    this._uiManager.enableWaiting(false);\n    if (!this.#canvas) {\n      return;\n    }\n    if (this._uiManager.useNewAltTextWhenAddingImage && this._uiManager.useNewAltTextFlow && this.#bitmap) {\n      this.addEditToolbar().then(() => {\n        this._editToolbar.hide();\n        this._uiManager.editAltText(this, true);\n      });\n      return;\n    }\n    if (!this._uiManager.useNewAltTextWhenAddingImage && this._uiManager.useNewAltTextFlow && this.#bitmap) {\n      this._reportTelemetry({\n        action: \"pdfjs.image.image_added\",\n        data: {\n          alt_text_modal: false,\n          alt_text_type: \"empty\"\n        }\n      });\n      try {\n        this.mlGuessAltText();\n      } catch {}\n    }\n    this.div.focus();\n  }\n  async mlGuessAltText(imageData = null, updateAltTextData = true) {\n    if (this.hasAltTextData()) {\n      return null;\n    }\n    const {\n      mlManager\n    } = this._uiManager;\n    if (!mlManager) {\n      throw new Error(\"No ML.\");\n    }\n    if (!(await mlManager.isEnabledFor(\"altText\"))) {\n      throw new Error(\"ML isn't enabled for alt text.\");\n    }\n    const {\n      data,\n      width,\n      height\n    } = imageData || this.copyCanvas(null, null, true).imageData;\n    const response = await mlManager.guess({\n      name: \"altText\",\n      request: {\n        data,\n        width,\n        height,\n        channels: data.length / (width * height)\n      }\n    });\n    if (!response) {\n      throw new Error(\"No response from the AI service.\");\n    }\n    if (response.error) {\n      throw new Error(\"Error from the AI service.\");\n    }\n    if (response.cancel) {\n      return null;\n    }\n    if (!response.output) {\n      throw new Error(\"No valid response from the AI service.\");\n    }\n    const altText = response.output;\n    await this.setGuessedAltText(altText);\n    if (updateAltTextData && !this.hasAltTextData()) {\n      this.altTextData = {\n        alt: altText,\n        decorative: false\n      };\n    }\n    return altText;\n  }\n  #getBitmap() {\n    if (this.#bitmapId) {\n      this._uiManager.enableWaiting(true);\n      this._uiManager.imageManager.getFromId(this.#bitmapId).then(data => this.#getBitmapFetched(data, true)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    if (this.#bitmapUrl) {\n      const url = this.#bitmapUrl;\n      this.#bitmapUrl = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager.getFromUrl(url).then(data => this.#getBitmapFetched(data)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    if (this.#bitmapFile) {\n      const file = this.#bitmapFile;\n      this.#bitmapFile = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager.getFromFile(file).then(data => this.#getBitmapFetched(data)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = SupportedImageMimeTypes.join(\",\");\n    const signal = this._uiManager._signal;\n    this.#bitmapPromise = new Promise(resolve => {\n      input.addEventListener(\"change\", async () => {\n        if (!input.files || input.files.length === 0) {\n          this.remove();\n        } else {\n          this._uiManager.enableWaiting(true);\n          const data = await this._uiManager.imageManager.getFromFile(input.files[0]);\n          this._reportTelemetry({\n            action: \"pdfjs.image.image_selected\",\n            data: {\n              alt_text_modal: this._uiManager.useNewAltTextFlow\n            }\n          });\n          this.#getBitmapFetched(data);\n        }\n        resolve();\n      }, {\n        signal\n      });\n      input.addEventListener(\"cancel\", () => {\n        this.remove();\n        resolve();\n      }, {\n        signal\n      });\n    }).finally(() => this.#getBitmapDone());\n    input.click();\n  }\n  remove() {\n    if (this.#bitmapId) {\n      this.#bitmap = null;\n      this._uiManager.imageManager.deleteId(this.#bitmapId);\n      this.#canvas?.remove();\n      this.#canvas = null;\n      if (this.#resizeTimeoutId) {\n        clearTimeout(this.#resizeTimeoutId);\n        this.#resizeTimeoutId = null;\n      }\n    }\n    super.remove();\n  }\n  rebuild() {\n    if (!this.parent) {\n      if (this.#bitmapId) {\n        this.#getBitmap();\n      }\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (this.#bitmapId && this.#canvas === null) {\n      this.#getBitmap();\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  onceAdded(focus) {\n    this._isDraggable = true;\n    if (focus) {\n      this.div.focus();\n    }\n  }\n  isEmpty() {\n    return !(this.#bitmapPromise || this.#bitmap || this.#bitmapUrl || this.#bitmapFile || this.#bitmapId || this.#missingCanvas);\n  }\n  get toolbarButtons() {\n    return [[\"altText\", this.createAltText()]];\n  }\n  get isResizable() {\n    return true;\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this._isCopy) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.div.hidden = true;\n    this.createAltText();\n    if (!this.#missingCanvas) {\n      if (this.#bitmap) {\n        this.#createCanvas();\n      } else {\n        this.#getBitmap();\n      }\n    }\n    if (this._isCopy) {\n      this._moveAfterPaste(baseX, baseY);\n    }\n    this._uiManager.addShouldRescale(this);\n    return this.div;\n  }\n  setCanvas(annotationElementId, canvas) {\n    const {\n      id: bitmapId,\n      bitmap\n    } = this._uiManager.imageManager.getFromCanvas(annotationElementId, canvas);\n    canvas.remove();\n    if (bitmapId && this._uiManager.imageManager.isValidId(bitmapId)) {\n      this.#bitmapId = bitmapId;\n      if (bitmap) {\n        this.#bitmap = bitmap;\n      }\n      this.#missingCanvas = false;\n      this.#createCanvas();\n    }\n  }\n  _onResized() {\n    this.onScaleChanging();\n  }\n  onScaleChanging() {\n    if (!this.parent) {\n      return;\n    }\n    if (this.#resizeTimeoutId !== null) {\n      clearTimeout(this.#resizeTimeoutId);\n    }\n    const TIME_TO_WAIT = 200;\n    this.#resizeTimeoutId = setTimeout(() => {\n      this.#resizeTimeoutId = null;\n      this.#drawBitmap();\n    }, TIME_TO_WAIT);\n  }\n  #createCanvas() {\n    const {\n      div\n    } = this;\n    let {\n      width,\n      height\n    } = this.#bitmap;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const MAX_RATIO = 0.75;\n    if (this.width) {\n      width = this.width * pageWidth;\n      height = this.height * pageHeight;\n    } else if (width > MAX_RATIO * pageWidth || height > MAX_RATIO * pageHeight) {\n      const factor = Math.min(MAX_RATIO * pageWidth / width, MAX_RATIO * pageHeight / height);\n      width *= factor;\n      height *= factor;\n    }\n    this._uiManager.enableWaiting(false);\n    const canvas = this.#canvas = document.createElement(\"canvas\");\n    canvas.setAttribute(\"role\", \"img\");\n    this.addContainer(canvas);\n    this.width = width / pageWidth;\n    this.height = height / pageHeight;\n    this.setDims();\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    } else {\n      this.fixAndSetPosition();\n    }\n    this._initialOptions = null;\n    if (!this._uiManager.useNewAltTextWhenAddingImage || !this._uiManager.useNewAltTextFlow || this.annotationElementId) {\n      div.hidden = false;\n    }\n    this.#drawBitmap();\n    if (!this.#hasBeenAddedInUndoStack) {\n      this.parent.addUndoableEditor(this);\n      this.#hasBeenAddedInUndoStack = true;\n    }\n    this._reportTelemetry({\n      action: \"inserted_image\"\n    });\n    if (this.#bitmapFileName) {\n      this.div.setAttribute(\"aria-description\", this.#bitmapFileName);\n    }\n    if (!this.annotationElementId) {\n      this._uiManager.a11yAlert(\"pdfjs-editor-stamp-added-alert\");\n    }\n  }\n  copyCanvas(maxDataDimension, maxPreviewDimension, createImageData = false) {\n    if (!maxDataDimension) {\n      maxDataDimension = 224;\n    }\n    const {\n      width: bitmapWidth,\n      height: bitmapHeight\n    } = this.#bitmap;\n    const outputScale = new OutputScale();\n    let bitmap = this.#bitmap;\n    let width = bitmapWidth,\n      height = bitmapHeight;\n    let canvas = null;\n    if (maxPreviewDimension) {\n      if (bitmapWidth > maxPreviewDimension || bitmapHeight > maxPreviewDimension) {\n        const ratio = Math.min(maxPreviewDimension / bitmapWidth, maxPreviewDimension / bitmapHeight);\n        width = Math.floor(bitmapWidth * ratio);\n        height = Math.floor(bitmapHeight * ratio);\n      }\n      canvas = document.createElement(\"canvas\");\n      const scaledWidth = canvas.width = Math.ceil(width * outputScale.sx);\n      const scaledHeight = canvas.height = Math.ceil(height * outputScale.sy);\n      if (!this.#isSvg) {\n        bitmap = this.#scaleBitmap(scaledWidth, scaledHeight);\n      }\n      const ctx = canvas.getContext(\"2d\");\n      ctx.filter = this._uiManager.hcmFilter;\n      let white = \"white\",\n        black = \"#cfcfd8\";\n      if (this._uiManager.hcmFilter !== \"none\") {\n        black = \"black\";\n      } else if (ColorScheme.isDarkMode) {\n        white = \"#8f8f9d\";\n        black = \"#42414d\";\n      }\n      const boxDim = 15;\n      const boxDimWidth = boxDim * outputScale.sx;\n      const boxDimHeight = boxDim * outputScale.sy;\n      const pattern = new OffscreenCanvas(boxDimWidth * 2, boxDimHeight * 2);\n      const patternCtx = pattern.getContext(\"2d\");\n      patternCtx.fillStyle = white;\n      patternCtx.fillRect(0, 0, boxDimWidth * 2, boxDimHeight * 2);\n      patternCtx.fillStyle = black;\n      patternCtx.fillRect(0, 0, boxDimWidth, boxDimHeight);\n      patternCtx.fillRect(boxDimWidth, boxDimHeight, boxDimWidth, boxDimHeight);\n      ctx.fillStyle = ctx.createPattern(pattern, \"repeat\");\n      ctx.fillRect(0, 0, scaledWidth, scaledHeight);\n      ctx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, scaledWidth, scaledHeight);\n    }\n    let imageData = null;\n    if (createImageData) {\n      let dataWidth, dataHeight;\n      if (outputScale.symmetric && bitmap.width < maxDataDimension && bitmap.height < maxDataDimension) {\n        dataWidth = bitmap.width;\n        dataHeight = bitmap.height;\n      } else {\n        bitmap = this.#bitmap;\n        if (bitmapWidth > maxDataDimension || bitmapHeight > maxDataDimension) {\n          const ratio = Math.min(maxDataDimension / bitmapWidth, maxDataDimension / bitmapHeight);\n          dataWidth = Math.floor(bitmapWidth * ratio);\n          dataHeight = Math.floor(bitmapHeight * ratio);\n          if (!this.#isSvg) {\n            bitmap = this.#scaleBitmap(dataWidth, dataHeight);\n          }\n        }\n      }\n      const offscreen = new OffscreenCanvas(dataWidth, dataHeight);\n      const offscreenCtx = offscreen.getContext(\"2d\", {\n        willReadFrequently: true\n      });\n      offscreenCtx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, dataWidth, dataHeight);\n      imageData = {\n        width: dataWidth,\n        height: dataHeight,\n        data: offscreenCtx.getImageData(0, 0, dataWidth, dataHeight).data\n      };\n    }\n    return {\n      canvas,\n      width,\n      height,\n      imageData\n    };\n  }\n  #scaleBitmap(width, height) {\n    const {\n      width: bitmapWidth,\n      height: bitmapHeight\n    } = this.#bitmap;\n    let newWidth = bitmapWidth;\n    let newHeight = bitmapHeight;\n    let bitmap = this.#bitmap;\n    while (newWidth > 2 * width || newHeight > 2 * height) {\n      const prevWidth = newWidth;\n      const prevHeight = newHeight;\n      if (newWidth > 2 * width) {\n        newWidth = newWidth >= 16384 ? Math.floor(newWidth / 2) - 1 : Math.ceil(newWidth / 2);\n      }\n      if (newHeight > 2 * height) {\n        newHeight = newHeight >= 16384 ? Math.floor(newHeight / 2) - 1 : Math.ceil(newHeight / 2);\n      }\n      const offscreen = new OffscreenCanvas(newWidth, newHeight);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(bitmap, 0, 0, prevWidth, prevHeight, 0, 0, newWidth, newHeight);\n      bitmap = offscreen.transferToImageBitmap();\n    }\n    return bitmap;\n  }\n  #drawBitmap() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const {\n      width,\n      height\n    } = this;\n    const outputScale = new OutputScale();\n    const scaledWidth = Math.ceil(width * parentWidth * outputScale.sx);\n    const scaledHeight = Math.ceil(height * parentHeight * outputScale.sy);\n    const canvas = this.#canvas;\n    if (!canvas || canvas.width === scaledWidth && canvas.height === scaledHeight) {\n      return;\n    }\n    canvas.width = scaledWidth;\n    canvas.height = scaledHeight;\n    const bitmap = this.#isSvg ? this.#bitmap : this.#scaleBitmap(scaledWidth, scaledHeight);\n    const ctx = canvas.getContext(\"2d\");\n    ctx.filter = this._uiManager.hcmFilter;\n    ctx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, scaledWidth, scaledHeight);\n  }\n  #serializeBitmap(toUrl) {\n    if (toUrl) {\n      if (this.#isSvg) {\n        const url = this._uiManager.imageManager.getSvgUrl(this.#bitmapId);\n        if (url) {\n          return url;\n        }\n      }\n      const canvas = document.createElement(\"canvas\");\n      ({\n        width: canvas.width,\n        height: canvas.height\n      } = this.#bitmap);\n      const ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(this.#bitmap, 0, 0);\n      return canvas.toDataURL();\n    }\n    if (this.#isSvg) {\n      const [pageWidth, pageHeight] = this.pageDimensions;\n      const width = Math.round(this.width * pageWidth * PixelsPerInch.PDF_TO_CSS_UNITS);\n      const height = Math.round(this.height * pageHeight * PixelsPerInch.PDF_TO_CSS_UNITS);\n      const offscreen = new OffscreenCanvas(width, height);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(this.#bitmap, 0, 0, this.#bitmap.width, this.#bitmap.height, 0, 0, width, height);\n      return offscreen.transferToImageBitmap();\n    }\n    return structuredClone(this.#bitmap);\n  }\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    let missingCanvas = false;\n    if (data instanceof StampAnnotationElement) {\n      const {\n        data: {\n          rect,\n          rotation,\n          id,\n          structParent,\n          popupRef,\n          richText,\n          contentsObj,\n          creationDate,\n          modificationDate\n        },\n        container,\n        parent: {\n          page: {\n            pageNumber\n          }\n        },\n        canvas\n      } = data;\n      let bitmapId, bitmap;\n      if (canvas) {\n        delete data.canvas;\n        ({\n          id: bitmapId,\n          bitmap\n        } = uiManager.imageManager.getFromCanvas(container.id, canvas));\n        canvas.remove();\n      } else {\n        missingCanvas = true;\n        data._hasNoCanvas = true;\n      }\n      const altText = (await parent._structTree.getAriaAttributes(`${AnnotationPrefix}${id}`))?.get(\"aria-label\") || \"\";\n      initialData = data = {\n        annotationType: AnnotationEditorType.STAMP,\n        bitmapId,\n        bitmap,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        annotationElementId: id,\n        id,\n        deleted: false,\n        accessibilityData: {\n          decorative: false,\n          altText\n        },\n        isSvg: false,\n        structParent,\n        popupRef,\n        richText,\n        comment: contentsObj?.str || null,\n        creationDate,\n        modificationDate\n      };\n    }\n    const editor = await super.deserialize(data, parent, uiManager);\n    const {\n      rect,\n      bitmap,\n      bitmapUrl,\n      bitmapId,\n      isSvg,\n      accessibilityData\n    } = data;\n    if (missingCanvas) {\n      uiManager.addMissingCanvas(data.id, editor);\n      editor.#missingCanvas = true;\n    } else if (bitmapId && uiManager.imageManager.isValidId(bitmapId)) {\n      editor.#bitmapId = bitmapId;\n      if (bitmap) {\n        editor.#bitmap = bitmap;\n      }\n    } else {\n      editor.#bitmapUrl = bitmapUrl;\n    }\n    editor.#isSvg = isSvg;\n    const [parentWidth, parentHeight] = editor.pageDimensions;\n    editor.width = (rect[2] - rect[0]) / parentWidth;\n    editor.height = (rect[3] - rect[1]) / parentHeight;\n    if (accessibilityData) {\n      editor.altTextData = accessibilityData;\n    }\n    editor._initialData = initialData;\n    if (data.comment) {\n      editor.setCommentData(data);\n    }\n    editor.#hasBeenAddedInUndoStack = !!initialData;\n    return editor;\n  }\n  serialize(isForCopying = false, context = null) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n    const serialized = Object.assign(super.serialize(isForCopying), {\n      bitmapId: this.#bitmapId,\n      isSvg: this.#isSvg\n    });\n    this.addComment(serialized);\n    if (isForCopying) {\n      serialized.bitmapUrl = this.#serializeBitmap(true);\n      serialized.accessibilityData = this.serializeAltText(true);\n      serialized.isCopy = true;\n      return serialized;\n    }\n    const {\n      decorative,\n      altText\n    } = this.serializeAltText(false);\n    if (!decorative && altText) {\n      serialized.accessibilityData = {\n        type: \"Figure\",\n        alt: altText\n      };\n    }\n    if (this.annotationElementId) {\n      const changes = this.#hasElementChanged(serialized);\n      if (changes.isSame) {\n        return null;\n      }\n      if (changes.isSameAltText) {\n        delete serialized.accessibilityData;\n      } else {\n        serialized.accessibilityData.structParent = this._initialData.structParent ?? -1;\n      }\n      serialized.id = this.annotationElementId;\n      delete serialized.bitmapId;\n      return serialized;\n    }\n    if (context === null) {\n      return serialized;\n    }\n    context.stamps ||= new Map();\n    const area = this.#isSvg ? (serialized.rect[2] - serialized.rect[0]) * (serialized.rect[3] - serialized.rect[1]) : null;\n    if (!context.stamps.has(this.#bitmapId)) {\n      context.stamps.set(this.#bitmapId, {\n        area,\n        serialized\n      });\n      serialized.bitmap = this.#serializeBitmap(false);\n    } else if (this.#isSvg) {\n      const prevData = context.stamps.get(this.#bitmapId);\n      if (area > prevData.area) {\n        prevData.area = area;\n        prevData.serialized.bitmap.close();\n        prevData.serialized.bitmap = this.#serializeBitmap(false);\n      }\n    }\n    return serialized;\n  }\n  #hasElementChanged(serialized) {\n    const {\n      pageIndex,\n      accessibilityData: {\n        altText\n      }\n    } = this._initialData;\n    const isSamePageIndex = serialized.pageIndex === pageIndex;\n    const isSameAltText = (serialized.accessibilityData?.alt || \"\") === altText;\n    return {\n      isSame: !this.hasEditedComment && !this._hasBeenMoved && !this._hasBeenResized && isSamePageIndex && isSameAltText,\n      isSameAltText\n    };\n  }\n  renderAnnotationElement(annotation) {\n    if (this.deleted) {\n      annotation.hide();\n      return null;\n    }\n    annotation.updateEdited({\n      rect: this.getPDFRect(),\n      popup: this.comment\n    });\n    return null;\n  }\n}\n\n;// ./src/display/editor/annotation_editor_layer.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass AnnotationEditorLayer {\n  #accessibilityManager;\n  #allowClick = false;\n  #annotationLayer = null;\n  #clickAC = null;\n  #editorFocusTimeoutId = null;\n  #editors = new Map();\n  #hadPointerDown = false;\n  #isDisabling = false;\n  #isEnabling = false;\n  #drawingAC = null;\n  #focusedElement = null;\n  #textLayer = null;\n  #textSelectionAC = null;\n  #textLayerDblClickAC = null;\n  #lastPointerDownTimestamp = -1;\n  #uiManager;\n  static _initialized = false;\n  static #editorTypes = new Map([FreeTextEditor, InkEditor, StampEditor, HighlightEditor, SignatureEditor].map(type => [type._editorType, type]));\n  constructor({\n    uiManager,\n    pageIndex,\n    div,\n    structTreeLayer,\n    accessibilityManager,\n    annotationLayer,\n    drawLayer,\n    textLayer,\n    viewport,\n    l10n\n  }) {\n    const editorTypes = [...AnnotationEditorLayer.#editorTypes.values()];\n    if (!AnnotationEditorLayer._initialized) {\n      AnnotationEditorLayer._initialized = true;\n      for (const editorType of editorTypes) {\n        editorType.initialize(l10n, uiManager);\n      }\n    }\n    uiManager.registerEditorTypes(editorTypes);\n    this.#uiManager = uiManager;\n    this.pageIndex = pageIndex;\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationLayer = annotationLayer;\n    this.viewport = viewport;\n    this.#textLayer = textLayer;\n    this.drawLayer = drawLayer;\n    this._structTree = structTreeLayer;\n    this.#uiManager.addLayer(this);\n  }\n  get isEmpty() {\n    return this.#editors.size === 0;\n  }\n  get isInvisible() {\n    return this.isEmpty && this.#uiManager.getMode() === AnnotationEditorType.NONE;\n  }\n  updateToolbar(options) {\n    this.#uiManager.updateToolbar(options);\n  }\n  updateMode(mode = this.#uiManager.getMode()) {\n    this.#cleanup();\n    switch (mode) {\n      case AnnotationEditorType.NONE:\n        this.div.classList.toggle(\"nonEditing\", true);\n        this.disableTextSelection();\n        this.togglePointerEvents(false);\n        this.toggleAnnotationLayerPointerEvents(true);\n        this.disableClick();\n        return;\n      case AnnotationEditorType.INK:\n        this.disableTextSelection();\n        this.togglePointerEvents(true);\n        this.enableClick();\n        break;\n      case AnnotationEditorType.HIGHLIGHT:\n        this.enableTextSelection();\n        this.togglePointerEvents(false);\n        this.disableClick();\n        break;\n      default:\n        this.disableTextSelection();\n        this.togglePointerEvents(true);\n        this.enableClick();\n    }\n    this.toggleAnnotationLayerPointerEvents(false);\n    const {\n      classList\n    } = this.div;\n    classList.toggle(\"nonEditing\", false);\n    if (mode === AnnotationEditorType.POPUP) {\n      classList.toggle(\"commentEditing\", true);\n    } else {\n      classList.toggle(\"commentEditing\", false);\n      for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n        classList.toggle(`${editorType._type}Editing`, mode === editorType._editorType);\n      }\n    }\n    this.div.hidden = false;\n  }\n  hasTextLayer(textLayer) {\n    return textLayer === this.#textLayer?.div;\n  }\n  setEditingState(isEditing) {\n    this.#uiManager.setEditingState(isEditing);\n  }\n  addCommands(params) {\n    this.#uiManager.addCommands(params);\n  }\n  cleanUndoStack(type) {\n    this.#uiManager.cleanUndoStack(type);\n  }\n  toggleDrawing(enabled = false) {\n    this.div.classList.toggle(\"drawing\", !enabled);\n  }\n  togglePointerEvents(enabled = false) {\n    this.div.classList.toggle(\"disabled\", !enabled);\n  }\n  toggleAnnotationLayerPointerEvents(enabled = false) {\n    this.#annotationLayer?.div.classList.toggle(\"disabled\", !enabled);\n  }\n  get #allEditorsIterator() {\n    return this.#editors.size !== 0 ? this.#editors.values() : this.#uiManager.getEditors(this.pageIndex);\n  }\n  async enable() {\n    this.#isEnabling = true;\n    this.div.tabIndex = 0;\n    this.togglePointerEvents(true);\n    this.div.classList.toggle(\"nonEditing\", false);\n    this.#textLayerDblClickAC?.abort();\n    this.#textLayerDblClickAC = null;\n    const annotationElementIds = new Set();\n    for (const editor of this.#allEditorsIterator) {\n      editor.enableEditing();\n      editor.show(true);\n      if (editor.annotationElementId) {\n        this.#uiManager.removeChangedExistingAnnotation(editor);\n        annotationElementIds.add(editor.annotationElementId);\n      }\n    }\n    const annotationLayer = this.#annotationLayer;\n    if (annotationLayer) {\n      for (const editable of annotationLayer.getEditableAnnotations()) {\n        editable.hide();\n        if (this.#uiManager.isDeletedAnnotationElement(editable.data.id)) {\n          continue;\n        }\n        if (annotationElementIds.has(editable.data.id)) {\n          continue;\n        }\n        const editor = await this.deserialize(editable);\n        if (!editor) {\n          continue;\n        }\n        this.addOrRebuild(editor);\n        editor.enableEditing();\n      }\n    }\n    this.#isEnabling = false;\n    this.#uiManager._eventBus.dispatch(\"editorsrendered\", {\n      source: this,\n      pageNumber: this.pageIndex + 1\n    });\n  }\n  disable() {\n    this.#isDisabling = true;\n    this.div.tabIndex = -1;\n    this.togglePointerEvents(false);\n    this.div.classList.toggle(\"nonEditing\", true);\n    if (this.#textLayer && !this.#textLayerDblClickAC) {\n      this.#textLayerDblClickAC = new AbortController();\n      const signal = this.#uiManager.combinedSignal(this.#textLayerDblClickAC);\n      this.#textLayer.div.addEventListener(\"pointerdown\", e => {\n        const DBL_CLICK_THRESHOLD = 500;\n        const {\n          clientX,\n          clientY,\n          timeStamp\n        } = e;\n        const lastPointerDownTimestamp = this.#lastPointerDownTimestamp;\n        if (timeStamp - lastPointerDownTimestamp > DBL_CLICK_THRESHOLD) {\n          this.#lastPointerDownTimestamp = timeStamp;\n          return;\n        }\n        this.#lastPointerDownTimestamp = -1;\n        const {\n          classList\n        } = this.div;\n        classList.toggle(\"getElements\", true);\n        const elements = document.elementsFromPoint(clientX, clientY);\n        classList.toggle(\"getElements\", false);\n        if (!this.div.contains(elements[0])) {\n          return;\n        }\n        let id;\n        const regex = new RegExp(`^${AnnotationEditorPrefix}[0-9]+$`);\n        for (const element of elements) {\n          if (regex.test(element.id)) {\n            id = element.id;\n            break;\n          }\n        }\n        if (!id) {\n          return;\n        }\n        const editor = this.#editors.get(id);\n        if (editor?.annotationElementId === null) {\n          e.stopPropagation();\n          e.preventDefault();\n          editor.dblclick(e);\n        }\n      }, {\n        signal,\n        capture: true\n      });\n    }\n    const annotationLayer = this.#annotationLayer;\n    if (annotationLayer) {\n      const changedAnnotations = new Map();\n      const resetAnnotations = new Map();\n      for (const editor of this.#allEditorsIterator) {\n        editor.disableEditing();\n        if (!editor.annotationElementId) {\n          editor.updateFakeAnnotationElement(annotationLayer);\n          continue;\n        }\n        if (editor.serialize() !== null) {\n          changedAnnotations.set(editor.annotationElementId, editor);\n          continue;\n        } else {\n          resetAnnotations.set(editor.annotationElementId, editor);\n        }\n        this.getEditableAnnotation(editor.annotationElementId)?.show();\n        editor.remove();\n      }\n      const editables = annotationLayer.getEditableAnnotations();\n      for (const editable of editables) {\n        const {\n          id\n        } = editable.data;\n        if (this.#uiManager.isDeletedAnnotationElement(id)) {\n          editable.updateEdited({\n            deleted: true\n          });\n          continue;\n        }\n        let editor = resetAnnotations.get(id);\n        if (editor) {\n          editor.resetAnnotationElement(editable);\n          editor.show(false);\n          editable.show();\n          continue;\n        }\n        editor = changedAnnotations.get(id);\n        if (editor) {\n          this.#uiManager.addChangedExistingAnnotation(editor);\n          if (editor.renderAnnotationElement(editable)) {\n            editor.show(false);\n          }\n        }\n        editable.show();\n      }\n    }\n    this.#cleanup();\n    if (this.isEmpty) {\n      this.div.hidden = true;\n    }\n    const {\n      classList\n    } = this.div;\n    for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n      classList.remove(`${editorType._type}Editing`);\n    }\n    this.disableTextSelection();\n    this.toggleAnnotationLayerPointerEvents(true);\n    this.#isDisabling = false;\n  }\n  getEditableAnnotation(id) {\n    return this.#annotationLayer?.getEditableAnnotation(id) || null;\n  }\n  setActiveEditor(editor) {\n    const currentActive = this.#uiManager.getActive();\n    if (currentActive === editor) {\n      return;\n    }\n    this.#uiManager.setActiveEditor(editor);\n  }\n  enableTextSelection() {\n    this.div.tabIndex = -1;\n    if (this.#textLayer?.div && !this.#textSelectionAC) {\n      this.#textSelectionAC = new AbortController();\n      const signal = this.#uiManager.combinedSignal(this.#textSelectionAC);\n      this.#textLayer.div.addEventListener(\"pointerdown\", this.#textLayerPointerDown.bind(this), {\n        signal\n      });\n      this.#textLayer.div.classList.add(\"highlighting\");\n    }\n  }\n  disableTextSelection() {\n    this.div.tabIndex = 0;\n    if (this.#textLayer?.div && this.#textSelectionAC) {\n      this.#textSelectionAC.abort();\n      this.#textSelectionAC = null;\n      this.#textLayer.div.classList.remove(\"highlighting\");\n    }\n  }\n  #textLayerPointerDown(event) {\n    this.#uiManager.unselectAll();\n    const {\n      target\n    } = event;\n    if (target === this.#textLayer.div || (target.getAttribute(\"role\") === \"img\" || target.classList.contains(\"endOfContent\")) && this.#textLayer.div.contains(target)) {\n      const {\n        isMac\n      } = util_FeatureTest.platform;\n      if (event.button !== 0 || event.ctrlKey && isMac) {\n        return;\n      }\n      this.#uiManager.showAllEditors(\"highlight\", true, true);\n      this.#textLayer.div.classList.add(\"free\");\n      this.toggleDrawing();\n      HighlightEditor.startHighlighting(this, this.#uiManager.direction === \"ltr\", {\n        target: this.#textLayer.div,\n        x: event.x,\n        y: event.y\n      });\n      this.#textLayer.div.addEventListener(\"pointerup\", () => {\n        this.#textLayer.div.classList.remove(\"free\");\n        this.toggleDrawing(true);\n      }, {\n        once: true,\n        signal: this.#uiManager._signal\n      });\n      event.preventDefault();\n    }\n  }\n  enableClick() {\n    if (this.#clickAC) {\n      return;\n    }\n    this.#clickAC = new AbortController();\n    const signal = this.#uiManager.combinedSignal(this.#clickAC);\n    this.div.addEventListener(\"pointerdown\", this.pointerdown.bind(this), {\n      signal\n    });\n    const pointerup = this.pointerup.bind(this);\n    this.div.addEventListener(\"pointerup\", pointerup, {\n      signal\n    });\n    this.div.addEventListener(\"pointercancel\", pointerup, {\n      signal\n    });\n  }\n  disableClick() {\n    this.#clickAC?.abort();\n    this.#clickAC = null;\n  }\n  attach(editor) {\n    this.#editors.set(editor.id, editor);\n    const {\n      annotationElementId\n    } = editor;\n    if (annotationElementId && this.#uiManager.isDeletedAnnotationElement(annotationElementId)) {\n      this.#uiManager.removeDeletedAnnotationElement(editor);\n    }\n  }\n  detach(editor) {\n    this.#editors.delete(editor.id);\n    this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n    if (!this.#isDisabling && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor);\n    }\n  }\n  remove(editor) {\n    this.detach(editor);\n    this.#uiManager.removeEditor(editor);\n    editor.div.remove();\n    editor.isAttachedToDOM = false;\n  }\n  changeParent(editor) {\n    if (editor.parent === this) {\n      return;\n    }\n    if (editor.parent && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor.annotationElementId);\n      AnnotationEditor.deleteAnnotationElement(editor);\n      editor.annotationElementId = null;\n    }\n    this.attach(editor);\n    editor.parent?.detach(editor);\n    editor.setParent(this);\n    if (editor.div && editor.isAttachedToDOM) {\n      editor.div.remove();\n      this.div.append(editor.div);\n    }\n  }\n  add(editor) {\n    if (editor.parent === this && editor.isAttachedToDOM) {\n      return;\n    }\n    this.changeParent(editor);\n    this.#uiManager.addEditor(editor);\n    this.attach(editor);\n    if (!editor.isAttachedToDOM) {\n      const div = editor.render();\n      this.div.append(div);\n      editor.isAttachedToDOM = true;\n    }\n    editor.fixAndSetPosition();\n    editor.onceAdded(!this.#isEnabling);\n    this.#uiManager.addToAnnotationStorage(editor);\n    editor._reportTelemetry(editor.telemetryInitialData);\n  }\n  moveEditorInDOM(editor) {\n    if (!editor.isAttachedToDOM) {\n      return;\n    }\n    const {\n      activeElement\n    } = document;\n    if (editor.div.contains(activeElement) && !this.#editorFocusTimeoutId) {\n      editor._focusEventsAllowed = false;\n      this.#editorFocusTimeoutId = setTimeout(() => {\n        this.#editorFocusTimeoutId = null;\n        if (!editor.div.contains(document.activeElement)) {\n          editor.div.addEventListener(\"focusin\", () => {\n            editor._focusEventsAllowed = true;\n          }, {\n            once: true,\n            signal: this.#uiManager._signal\n          });\n          activeElement.focus();\n        } else {\n          editor._focusEventsAllowed = true;\n        }\n      }, 0);\n    }\n    editor._structTreeParentId = this.#accessibilityManager?.moveElementInDOM(this.div, editor.div, editor.contentDiv, true);\n  }\n  addOrRebuild(editor) {\n    if (editor.needsToBeRebuilt()) {\n      editor.parent ||= this;\n      editor.rebuild();\n      editor.show();\n    } else {\n      this.add(editor);\n    }\n  }\n  addUndoableEditor(editor) {\n    const cmd = () => editor._uiManager.rebuild(editor);\n    const undo = () => {\n      editor.remove();\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: false\n    });\n  }\n  getEditorByUID(uid) {\n    for (const editor of this.#editors.values()) {\n      if (editor.uid === uid) {\n        return editor;\n      }\n    }\n    return null;\n  }\n  getNextId() {\n    return this.#uiManager.getId();\n  }\n  get #currentEditorType() {\n    return AnnotationEditorLayer.#editorTypes.get(this.#uiManager.getMode());\n  }\n  combinedSignal(ac) {\n    return this.#uiManager.combinedSignal(ac);\n  }\n  #createNewEditor(params) {\n    const editorType = this.#currentEditorType;\n    return editorType ? new editorType.prototype.constructor(params) : null;\n  }\n  canCreateNewEmptyEditor() {\n    return this.#currentEditorType?.canCreateNewEmptyEditor();\n  }\n  async pasteEditor(options, params) {\n    this.updateToolbar(options);\n    await this.#uiManager.updateMode(options.mode);\n    const {\n      offsetX,\n      offsetY\n    } = this.#getCenterPoint();\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: offsetX,\n      y: offsetY,\n      uiManager: this.#uiManager,\n      isCentered: true,\n      ...params\n    });\n    if (editor) {\n      this.add(editor);\n    }\n  }\n  async deserialize(data) {\n    return (await AnnotationEditorLayer.#editorTypes.get(data.annotationType ?? data.annotationEditorType)?.deserialize(data, this, this.#uiManager)) || null;\n  }\n  createAndAddNewEditor(event, isCentered, data = {}) {\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: event.offsetX,\n      y: event.offsetY,\n      uiManager: this.#uiManager,\n      isCentered,\n      ...data\n    });\n    if (editor) {\n      this.add(editor);\n    }\n    return editor;\n  }\n  get boundingClientRect() {\n    return this.div.getBoundingClientRect();\n  }\n  #getCenterPoint() {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.boundingClientRect;\n    const tlX = Math.max(0, x);\n    const tlY = Math.max(0, y);\n    const brX = Math.min(window.innerWidth, x + width);\n    const brY = Math.min(window.innerHeight, y + height);\n    const centerX = (tlX + brX) / 2 - x;\n    const centerY = (tlY + brY) / 2 - y;\n    const [offsetX, offsetY] = this.viewport.rotation % 180 === 0 ? [centerX, centerY] : [centerY, centerX];\n    return {\n      offsetX,\n      offsetY\n    };\n  }\n  addNewEditor(data = {}) {\n    this.createAndAddNewEditor(this.#getCenterPoint(), true, data);\n  }\n  setSelected(editor) {\n    this.#uiManager.setSelected(editor);\n  }\n  toggleSelected(editor) {\n    this.#uiManager.toggleSelected(editor);\n  }\n  unselect(editor) {\n    this.#uiManager.unselect(editor);\n  }\n  pointerup(event) {\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    if (event.target !== this.div) {\n      return;\n    }\n    if (!this.#hadPointerDown) {\n      return;\n    }\n    this.#hadPointerDown = false;\n    if (this.#currentEditorType?.isDrawer && this.#currentEditorType.supportMultipleDrawings) {\n      return;\n    }\n    if (!this.#allowClick) {\n      this.#allowClick = true;\n      return;\n    }\n    const currentMode = this.#uiManager.getMode();\n    if (currentMode === AnnotationEditorType.STAMP || currentMode === AnnotationEditorType.SIGNATURE) {\n      this.#uiManager.unselectAll();\n      return;\n    }\n    this.createAndAddNewEditor(event, false);\n  }\n  pointerdown(event) {\n    if (this.#uiManager.getMode() === AnnotationEditorType.HIGHLIGHT) {\n      this.enableTextSelection();\n    }\n    if (this.#hadPointerDown) {\n      this.#hadPointerDown = false;\n      return;\n    }\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    if (event.target !== this.div) {\n      return;\n    }\n    this.#hadPointerDown = true;\n    if (this.#currentEditorType?.isDrawer) {\n      this.startDrawingSession(event);\n      return;\n    }\n    const editor = this.#uiManager.getActive();\n    this.#allowClick = !editor || editor.isEmpty();\n  }\n  startDrawingSession(event) {\n    this.div.focus({\n      preventScroll: true\n    });\n    if (this.#drawingAC) {\n      this.#currentEditorType.startDrawing(this, this.#uiManager, false, event);\n      return;\n    }\n    this.#uiManager.setCurrentDrawingSession(this);\n    this.#drawingAC = new AbortController();\n    const signal = this.#uiManager.combinedSignal(this.#drawingAC);\n    this.div.addEventListener(\"blur\", ({\n      relatedTarget\n    }) => {\n      if (relatedTarget && !this.div.contains(relatedTarget)) {\n        this.#focusedElement = null;\n        this.commitOrRemove();\n      }\n    }, {\n      signal\n    });\n    this.#currentEditorType.startDrawing(this, this.#uiManager, false, event);\n  }\n  pause(on) {\n    if (on) {\n      const {\n        activeElement\n      } = document;\n      if (this.div.contains(activeElement)) {\n        this.#focusedElement = activeElement;\n      }\n      return;\n    }\n    if (this.#focusedElement) {\n      setTimeout(() => {\n        this.#focusedElement?.focus();\n        this.#focusedElement = null;\n      }, 0);\n    }\n  }\n  endDrawingSession(isAborted = false) {\n    if (!this.#drawingAC) {\n      return null;\n    }\n    this.#uiManager.setCurrentDrawingSession(null);\n    this.#drawingAC.abort();\n    this.#drawingAC = null;\n    this.#focusedElement = null;\n    return this.#currentEditorType.endDrawing(isAborted);\n  }\n  findNewParent(editor, x, y) {\n    const layer = this.#uiManager.findParent(x, y);\n    if (layer === null || layer === this) {\n      return false;\n    }\n    layer.changeParent(editor);\n    return true;\n  }\n  commitOrRemove() {\n    if (this.#drawingAC) {\n      this.endDrawingSession();\n      return true;\n    }\n    return false;\n  }\n  onScaleChanging() {\n    if (!this.#drawingAC) {\n      return;\n    }\n    this.#currentEditorType.onScaleChangingWhenDrawing(this);\n  }\n  destroy() {\n    this.commitOrRemove();\n    if (this.#uiManager.getActive()?.parent === this) {\n      this.#uiManager.commitOrRemove();\n      this.#uiManager.setActiveEditor(null);\n    }\n    if (this.#editorFocusTimeoutId) {\n      clearTimeout(this.#editorFocusTimeoutId);\n      this.#editorFocusTimeoutId = null;\n    }\n    for (const editor of this.#editors.values()) {\n      this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n      editor.setParent(null);\n      editor.isAttachedToDOM = false;\n      editor.div.remove();\n    }\n    this.div = null;\n    this.#editors.clear();\n    this.#uiManager.removeLayer(this);\n  }\n  #cleanup() {\n    for (const editor of this.#editors.values()) {\n      if (editor.isEmpty()) {\n        editor.remove();\n      }\n    }\n  }\n  render({\n    viewport\n  }) {\n    this.viewport = viewport;\n    setLayerDimensions(this.div, viewport);\n    for (const editor of this.#uiManager.getEditors(this.pageIndex)) {\n      this.add(editor);\n      editor.rebuild();\n    }\n    this.updateMode();\n  }\n  update({\n    viewport\n  }) {\n    this.#uiManager.commitOrRemove();\n    this.#cleanup();\n    const oldRotation = this.viewport.rotation;\n    const rotation = viewport.rotation;\n    this.viewport = viewport;\n    setLayerDimensions(this.div, {\n      rotation\n    });\n    if (oldRotation !== rotation) {\n      for (const editor of this.#editors.values()) {\n        editor.rotate(rotation);\n      }\n    }\n  }\n  get pageDimensions() {\n    const {\n      pageWidth,\n      pageHeight\n    } = this.viewport.rawDims;\n    return [pageWidth, pageHeight];\n  }\n  get scale() {\n    return this.#uiManager.viewParameters.realScale;\n  }\n}\n\n;// ./src/display/draw_layer.js\n\n\nclass DrawLayer {\n  #parent = null;\n  #mapping = new Map();\n  #toUpdate = new Map();\n  static #id = 0;\n  constructor({\n    pageIndex\n  }) {\n    this.pageIndex = pageIndex;\n  }\n  setParent(parent) {\n    if (!this.#parent) {\n      this.#parent = parent;\n      return;\n    }\n    if (this.#parent !== parent) {\n      if (this.#mapping.size > 0) {\n        for (const root of this.#mapping.values()) {\n          root.remove();\n          parent.append(root);\n        }\n      }\n      this.#parent = parent;\n    }\n  }\n  static get _svgFactory() {\n    return shadow(this, \"_svgFactory\", new DOMSVGFactory());\n  }\n  static #setBox(element, [x, y, width, height]) {\n    const {\n      style\n    } = element;\n    style.top = `${100 * y}%`;\n    style.left = `${100 * x}%`;\n    style.width = `${100 * width}%`;\n    style.height = `${100 * height}%`;\n  }\n  #createSVG() {\n    const svg = DrawLayer._svgFactory.create(1, 1, true);\n    this.#parent.append(svg);\n    svg.setAttribute(\"aria-hidden\", true);\n    return svg;\n  }\n  #createClipPath(defs, pathId) {\n    const clipPath = DrawLayer._svgFactory.createElement(\"clipPath\");\n    defs.append(clipPath);\n    const clipPathId = `clip_${pathId}`;\n    clipPath.setAttribute(\"id\", clipPathId);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    const clipPathUse = DrawLayer._svgFactory.createElement(\"use\");\n    clipPath.append(clipPathUse);\n    clipPathUse.setAttribute(\"href\", `#${pathId}`);\n    clipPathUse.classList.add(\"clip\");\n    return clipPathId;\n  }\n  #updateProperties(element, properties) {\n    for (const [key, value] of Object.entries(properties)) {\n      if (value === null) {\n        element.removeAttribute(key);\n      } else {\n        element.setAttribute(key, value);\n      }\n    }\n  }\n  draw(properties, isPathUpdatable = false, hasClip = false) {\n    const id = DrawLayer.#id++;\n    const root = this.#createSVG();\n    const defs = DrawLayer._svgFactory.createElement(\"defs\");\n    root.append(defs);\n    const path = DrawLayer._svgFactory.createElement(\"path\");\n    defs.append(path);\n    const pathId = `path_p${this.pageIndex}_${id}`;\n    path.setAttribute(\"id\", pathId);\n    path.setAttribute(\"vector-effect\", \"non-scaling-stroke\");\n    if (isPathUpdatable) {\n      this.#toUpdate.set(id, path);\n    }\n    const clipPathId = hasClip ? this.#createClipPath(defs, pathId) : null;\n    const use = DrawLayer._svgFactory.createElement(\"use\");\n    root.append(use);\n    use.setAttribute(\"href\", `#${pathId}`);\n    this.updateProperties(root, properties);\n    this.#mapping.set(id, root);\n    return {\n      id,\n      clipPathId: `url(#${clipPathId})`\n    };\n  }\n  drawOutline(properties, mustRemoveSelfIntersections) {\n    const id = DrawLayer.#id++;\n    const root = this.#createSVG();\n    const defs = DrawLayer._svgFactory.createElement(\"defs\");\n    root.append(defs);\n    const path = DrawLayer._svgFactory.createElement(\"path\");\n    defs.append(path);\n    const pathId = `path_p${this.pageIndex}_${id}`;\n    path.setAttribute(\"id\", pathId);\n    path.setAttribute(\"vector-effect\", \"non-scaling-stroke\");\n    let maskId;\n    if (mustRemoveSelfIntersections) {\n      const mask = DrawLayer._svgFactory.createElement(\"mask\");\n      defs.append(mask);\n      maskId = `mask_p${this.pageIndex}_${id}`;\n      mask.setAttribute(\"id\", maskId);\n      mask.setAttribute(\"maskUnits\", \"objectBoundingBox\");\n      const rect = DrawLayer._svgFactory.createElement(\"rect\");\n      mask.append(rect);\n      rect.setAttribute(\"width\", \"1\");\n      rect.setAttribute(\"height\", \"1\");\n      rect.setAttribute(\"fill\", \"white\");\n      const use = DrawLayer._svgFactory.createElement(\"use\");\n      mask.append(use);\n      use.setAttribute(\"href\", `#${pathId}`);\n      use.setAttribute(\"stroke\", \"none\");\n      use.setAttribute(\"fill\", \"black\");\n      use.setAttribute(\"fill-rule\", \"nonzero\");\n      use.classList.add(\"mask\");\n    }\n    const use1 = DrawLayer._svgFactory.createElement(\"use\");\n    root.append(use1);\n    use1.setAttribute(\"href\", `#${pathId}`);\n    if (maskId) {\n      use1.setAttribute(\"mask\", `url(#${maskId})`);\n    }\n    const use2 = use1.cloneNode();\n    root.append(use2);\n    use1.classList.add(\"mainOutline\");\n    use2.classList.add(\"secondaryOutline\");\n    this.updateProperties(root, properties);\n    this.#mapping.set(id, root);\n    return id;\n  }\n  finalizeDraw(id, properties) {\n    this.#toUpdate.delete(id);\n    this.updateProperties(id, properties);\n  }\n  updateProperties(elementOrId, properties) {\n    if (!properties) {\n      return;\n    }\n    const {\n      root,\n      bbox,\n      rootClass,\n      path\n    } = properties;\n    const element = typeof elementOrId === \"number\" ? this.#mapping.get(elementOrId) : elementOrId;\n    if (!element) {\n      return;\n    }\n    if (root) {\n      this.#updateProperties(element, root);\n    }\n    if (bbox) {\n      DrawLayer.#setBox(element, bbox);\n    }\n    if (rootClass) {\n      const {\n        classList\n      } = element;\n      for (const [className, value] of Object.entries(rootClass)) {\n        classList.toggle(className, value);\n      }\n    }\n    if (path) {\n      const defs = element.firstChild;\n      const pathElement = defs.firstChild;\n      this.#updateProperties(pathElement, path);\n    }\n  }\n  updateParent(id, layer) {\n    if (layer === this) {\n      return;\n    }\n    const root = this.#mapping.get(id);\n    if (!root) {\n      return;\n    }\n    layer.#parent.append(root);\n    this.#mapping.delete(id);\n    layer.#mapping.set(id, root);\n  }\n  remove(id) {\n    this.#toUpdate.delete(id);\n    if (this.#parent === null) {\n      return;\n    }\n    this.#mapping.get(id).remove();\n    this.#mapping.delete(id);\n  }\n  destroy() {\n    this.#parent = null;\n    for (const root of this.#mapping.values()) {\n      root.remove();\n    }\n    this.#mapping.clear();\n    this.#toUpdate.clear();\n  }\n}\n\n;// ./src/pdf.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n{\n  globalThis._pdfjsTestingUtils = {\n    HighlightOutliner: HighlightOutliner\n  };\n}\nglobalThis.pdfjsLib = {\n  AbortException: AbortException,\n  AnnotationEditorLayer: AnnotationEditorLayer,\n  AnnotationEditorParamsType: AnnotationEditorParamsType,\n  AnnotationEditorType: AnnotationEditorType,\n  AnnotationEditorUIManager: AnnotationEditorUIManager,\n  AnnotationLayer: AnnotationLayer,\n  AnnotationMode: AnnotationMode,\n  AnnotationType: AnnotationType,\n  applyOpacity: applyOpacity,\n  build: build,\n  ColorPicker: ColorPicker,\n  createValidAbsoluteUrl: createValidAbsoluteUrl,\n  CSSConstants: CSSConstants,\n  DOMSVGFactory: DOMSVGFactory,\n  DrawLayer: DrawLayer,\n  FeatureTest: util_FeatureTest,\n  fetchData: fetchData,\n  findContrastColor: findContrastColor,\n  getDocument: getDocument,\n  getFilenameFromUrl: getFilenameFromUrl,\n  getPdfFilenameFromUrl: getPdfFilenameFromUrl,\n  getRGB: getRGB,\n  getUuid: getUuid,\n  getXfaPageViewport: getXfaPageViewport,\n  GlobalWorkerOptions: GlobalWorkerOptions,\n  ImageKind: util_ImageKind,\n  InvalidPDFException: InvalidPDFException,\n  isDataScheme: isDataScheme,\n  isPdfFile: isPdfFile,\n  isValidExplicitDest: isValidExplicitDest,\n  MathClamp: MathClamp,\n  noContextMenu: noContextMenu,\n  normalizeUnicode: normalizeUnicode,\n  OPS: OPS,\n  OutputScale: OutputScale,\n  PasswordResponses: PasswordResponses,\n  PDFDataRangeTransport: PDFDataRangeTransport,\n  PDFDateString: PDFDateString,\n  PDFWorker: PDFWorker,\n  PermissionFlag: PermissionFlag,\n  PixelsPerInch: PixelsPerInch,\n  RenderingCancelledException: RenderingCancelledException,\n  renderRichText: renderRichText,\n  ResponseException: ResponseException,\n  setLayerDimensions: setLayerDimensions,\n  shadow: shadow,\n  SignatureExtractor: SignatureExtractor,\n  stopEvent: stopEvent,\n  SupportedImageMimeTypes: SupportedImageMimeTypes,\n  TextLayer: TextLayer,\n  TouchManager: TouchManager,\n  updateUrlHash: updateUrlHash,\n  Util: Util,\n  VerbosityLevel: VerbosityLevel,\n  version: version,\n  XfaLayer: XfaLayer\n};\n\nexport { AbortException, AnnotationEditorLayer, AnnotationEditorParamsType, AnnotationEditorType, AnnotationEditorUIManager, AnnotationLayer, AnnotationMode, AnnotationType, CSSConstants, ColorPicker, DOMSVGFactory, DrawLayer, util_FeatureTest as FeatureTest, GlobalWorkerOptions, util_ImageKind as ImageKind, InvalidPDFException, MathClamp, OPS, OutputScale, PDFDataRangeTransport, PDFDateString, PDFWorker, PasswordResponses, PermissionFlag, PixelsPerInch, RenderingCancelledException, ResponseException, SignatureExtractor, SupportedImageMimeTypes, TextLayer, TouchManager, Util, VerbosityLevel, XfaLayer, applyOpacity, build, createValidAbsoluteUrl, fetchData, findContrastColor, getDocument, getFilenameFromUrl, getPdfFilenameFromUrl, getRGB, getUuid, getXfaPageViewport, isDataScheme, isPdfFile, isValidExplicitDest, noContextMenu, normalizeUnicode, renderRichText, setLayerDimensions, shadow, stopEvent, updateUrlHash, version };\n\n//# sourceMappingURL=pdf.mjs.map","/* biome-ignore-all lint/suspicious/noExplicitAny: underline-type */\n\n/**\n * Error thrown when the parsed data is not a valid PDF document.\n *\n * Use this exception to signal that the input cannot be interpreted as a PDF\n * (corrupt file, invalid header, etc.).\n *\n * @public\n */\nexport class InvalidPDFException extends Error {\n\t/**\n\t * Create a new InvalidPDFException.\n\t * @param message - Optional error message.\n\t * @param cause - Optional underlying cause (preserved on modern runtimes).\n\t */\n\tconstructor(message?: string, cause?: unknown) {\n\t\tif (cause !== undefined) {\n\t\t\t// Use modern ErrorOptions to attach cause when supported\n\t\t\tsuper(message ?? 'Invalid PDF', { cause });\n\t\t} else {\n\t\t\tsuper(message ?? 'Invalid PDF');\n\t\t}\n\t\tthis.name = 'InvalidPDFException';\n\t\t// Fix TS/ES prototype chain (required)\n\t\tObject.setPrototypeOf(this, InvalidPDFException.prototype);\n\t\t// preserve native stack trace where available\n\t\tif (typeof (Error as any).captureStackTrace === 'function') {\n\t\t\t(Error as any).captureStackTrace(this, InvalidPDFException);\n\t\t}\n\t\t// If you need to support older TS/targets that don't accept ErrorOptions,\n\t\t// replace the above super(...) with super(...); and uncomment:\n\t\t// if (cause !== undefined) (this as any).cause = cause;\n\t}\n}\n\n/**\n * Error indicating a PDF file requires a password or the provided password is incorrect.\n *\n * @public\n */\nexport class PasswordException extends Error {\n\t/**\n\t * Create a new PasswordException.\n\t * @param message - Optional error message.\n\t * @param cause - Optional underlying cause.\n\t */\n\tconstructor(message?: string, cause?: unknown) {\n\t\tif (cause !== undefined) {\n\t\t\tsuper(message ?? 'Password required or incorrect', { cause });\n\t\t} else {\n\t\t\tsuper(message ?? 'Password required or incorrect');\n\t\t}\n\t\tthis.name = 'PasswordException';\n\t\tObject.setPrototypeOf(this, PasswordException.prototype);\n\t\tif (typeof (Error as any).captureStackTrace === 'function') {\n\t\t\t(Error as any).captureStackTrace(this, PasswordException);\n\t\t}\n\t\t// Fallback for older targets: if needed use (this as any).cause = cause;\n\t}\n}\n\n/**\n * Error thrown when the PDF structure/contents are malformed and cannot be parsed.\n *\n * This is raised for low-level format problems detected while reading PDF objects.\n * Errors caused during parsing PDF data.\n *\n * @public\n */\nexport class FormatError extends Error {\n\t/**\n\t * Create a new FormatError.\n\t * @param message - Optional message describing the format problem.\n\t * @param cause - Optional underlying cause.\n\t */\n\tconstructor(message?: string, cause?: unknown) {\n\t\tif (cause !== undefined) {\n\t\t\tsuper(message ?? 'PDF format error', { cause });\n\t\t} else {\n\t\t\tsuper(message ?? 'PDF format error');\n\t\t}\n\t\tthis.name = 'FormatError';\n\t\tObject.setPrototypeOf(this, FormatError.prototype);\n\t\tif (typeof (Error as any).captureStackTrace === 'function') {\n\t\t\t(Error as any).captureStackTrace(this, FormatError);\n\t\t}\n\t\t// Fallback for older targets: if needed use (this as any).cause = cause;\n\t}\n}\n\n/**\n * Generic wrapper for errors where the library cannot classify the cause.\n *\n * The `details` property may contain additional information provided by the\n * underlying PDF library.\n *\n * @public\n */\nexport class UnknownErrorException extends Error {\n\t/**\n\t * Create a new UnknownErrorException.\n\t * @param message - Optional error message.\n\t * @param details - Optional additional details from the PDF library.\n\t * @param cause - Optional underlying cause.\n\t */\n\tconstructor(message?: string, details?: unknown, cause?: unknown) {\n\t\tif (cause !== undefined) {\n\t\t\tsuper(message ?? 'Unknown error', { cause });\n\t\t} else {\n\t\t\tsuper(message ?? 'Unknown error');\n\t\t}\n\t\tthis.name = 'UnknownErrorException';\n\t\tObject.setPrototypeOf(this, UnknownErrorException.prototype);\n\t\tif (typeof (Error as any).captureStackTrace === 'function') {\n\t\t\t(Error as any).captureStackTrace(this, UnknownErrorException);\n\t\t}\n\t\t// additional info field from pdf.mjs\n\t\t(this as any).details = details;\n\t}\n}\n\n/**\n * Represents an HTTP/network response error encountered while fetching PDF data.\n *\n * The `status` and `missing` properties mirror values that may be provided\n * by the underlying PDF library's network layer.\n *\n * @public\n */\nexport class ResponseException extends Error {\n\t/**\n\t * Create a new ResponseException.\n\t * @param message - Optional error message.\n\t * @param status - Optional numeric HTTP/status code.\n\t * @param missing - Optional field describing missing resources.\n\t * @param cause - Optional underlying cause.\n\t */\n\tconstructor(message?: string, status?: number, missing?: unknown, cause?: unknown) {\n\t\tif (cause !== undefined) {\n\t\t\tsuper(message ?? 'Response error', { cause });\n\t\t} else {\n\t\t\tsuper(message ?? 'Response error');\n\t\t}\n\t\tthis.name = 'ResponseException';\n\t\tObject.setPrototypeOf(this, ResponseException.prototype);\n\t\tif (typeof (Error as any).captureStackTrace === 'function') {\n\t\t\t(Error as any).captureStackTrace(this, ResponseException);\n\t\t}\n\t\t// fields from pdf.mjs\n\t\t(this as any).status = status;\n\t\t(this as any).missing = missing;\n\t}\n}\n\n/**\n * Error used to indicate that an operation was aborted (for example by an AbortSignal).\n *\n * @public\n */\nexport class AbortException extends Error {\n\t/**\n\t * Create a new AbortException.\n\t * @param message - Optional error message.\n\t * @param cause - Optional underlying cause.\n\t */\n\tconstructor(message?: string, cause?: unknown) {\n\t\tif (cause !== undefined) {\n\t\t\tsuper(message ?? 'Operation aborted', { cause });\n\t\t} else {\n\t\t\tsuper(message ?? 'Operation aborted');\n\t\t}\n\t\tthis.name = 'AbortException';\n\t\tObject.setPrototypeOf(this, AbortException.prototype);\n\t\tif (typeof (Error as any).captureStackTrace === 'function') {\n\t\t\t(Error as any).captureStackTrace(this, AbortException);\n\t\t}\n\t}\n}\n\n/**\n * Normalize arbitrary thrown values into an Error instance used by the library.\n *\n * Known Error instances with specific names are mapped to the library's\n * typed exceptions in order to preserve type information and any additional\n * fields (for example `details`, `status`, etc.). If the value is not an\n * Error it is converted to a generic Error containing the stringified value.\n *\n * @public\n * @param error - The thrown value to normalize.\n * @returns An Error instance representing the provided value.\n */\nexport function getException(error: unknown): Error {\n\tif (error instanceof Error) {\n\t\t// preserve original error (stack) when not remapping\n\t\tswitch (error.name) {\n\t\t\tcase 'InvalidPDFException':\n\t\t\t\treturn new InvalidPDFException(error.message, error);\n\t\t\tcase 'PasswordException':\n\t\t\t\treturn new PasswordException(error.message, error);\n\t\t\tcase 'FormatError':\n\t\t\t\treturn new FormatError(error.message, error);\n\t\t\tcase 'UnknownErrorException':\n\t\t\t\t// preserve details if present on original\n\t\t\t\treturn new UnknownErrorException(error.message, (error as any).details, error);\n\t\t\tcase 'ResponseException':\n\t\t\t\treturn new ResponseException(error.message, (error as any).status, (error as any).missing, error);\n\t\t\tcase 'AbortException':\n\t\t\t\treturn new AbortException(error.message, error);\n\t\t\t// add other mappings as needed\n\t\t\tdefault:\n\t\t\t\treturn error;\n\t\t}\n\t}\n\n\t// non-Error value -> convert to Error\n\treturn new Error(String(error));\n}\n","export abstract class Shape {\n\tstatic tolerance = 2;\n\tpublic abstract transform(matrix: Array<number>): this;\n\n\tstatic applyTransform(p: Array<number>, m: Array<number>): Array<number> {\n\t\tconst xt = p[0] * m[0] + p[1] * m[2] + m[4];\n\t\tconst yt = p[0] * m[1] + p[1] * m[3] + m[5];\n\t\treturn [xt, yt];\n\t}\n}\n","import { Shape } from './Shape.js';\n\nexport class Point extends Shape {\n\tpublic x: number;\n\tpublic y: number;\n\n\tconstructor(x: number, y: number) {\n\t\tsuper();\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t}\n\n\tpublic equal(point: Point): boolean {\n\t\treturn point.x === this.x && point.y === this.y;\n\t}\n\n\tpublic transform(matrix: Array<number>): this {\n\t\tconst p = Shape.applyTransform([this.x, this.y], matrix);\n\t\tthis.x = p[0];\n\t\tthis.y = p[1];\n\t\treturn this;\n\t}\n}\n","import { Point } from './Point.js';\nimport { Shape } from './Shape.js';\n\nexport enum LineDirection {\n\tNone = 0,\n\tHorizontal = 1,\n\tVertical,\n}\n\nexport class Line extends Shape {\n\tpublic from: Point;\n\tpublic to: Point;\n\tpublic direction: LineDirection = LineDirection.None;\n\tpublic length: number = 0;\n\tpublic intersections: Array<Point> = [];\n\tpublic gaps: Array<Line> = [];\n\n\tconstructor(from: Point, to: Point) {\n\t\tsuper();\n\t\tthis.from = from;\n\t\tthis.to = to;\n\t\tthis.init();\n\t}\n\n\tprivate init(): void {\n\t\tlet from = this.from;\n\t\tlet to = this.to;\n\n\t\tif (Math.abs(from.y - to.y) < Shape.tolerance) {\n\t\t\tthis.direction = LineDirection.Horizontal;\n\t\t\tto.y = from.y;\n\t\t\tif (from.x > to.x) {\n\t\t\t\tconst temp = from;\n\t\t\t\tfrom = to;\n\t\t\t\tto = temp;\n\t\t\t}\n\t\t\tthis.length = to.x - from.x;\n\t\t} else if (Math.abs(from.x - to.x) < Shape.tolerance) {\n\t\t\tthis.direction = LineDirection.Vertical;\n\t\t\tto.x = from.x;\n\t\t\tif (from.y > to.y) {\n\t\t\t\tconst temp = from;\n\t\t\t\tfrom = to;\n\t\t\t\tto = temp;\n\t\t\t}\n\t\t\tthis.length = to.y - from.y;\n\t\t}\n\n\t\tthis.from = from;\n\t\tthis.to = to;\n\t}\n\n\tprivate _valid: boolean | undefined = undefined;\n\n\tget valid(): boolean {\n\t\tif (this._valid === undefined) {\n\t\t\tthis._valid = this.direction !== LineDirection.None && this.length > Shape.tolerance;\n\t\t}\n\t\treturn this._valid;\n\t}\n\n\tget normalized(): Line {\n\t\tif (this.direction === LineDirection.Horizontal) {\n\t\t\treturn new Line(\n\t\t\t\tnew Point(this.from.x - Shape.tolerance, this.from.y),\n\t\t\t\tnew Point(this.to.x + Shape.tolerance, this.from.y),\n\t\t\t);\n\t\t} else if (this.direction === LineDirection.Vertical) {\n\t\t\treturn new Line(\n\t\t\t\tnew Point(this.from.x, this.from.y - Shape.tolerance),\n\t\t\t\tnew Point(this.from.x, this.to.y + Shape.tolerance),\n\t\t\t);\n\t\t}\n\t\treturn this;\n\t}\n\n\tpublic addGap(line: Line): void {\n\t\tthis.gaps.push(line);\n\t}\n\n\tpublic containsPoint(p: Point): boolean {\n\t\tif (this.direction === LineDirection.Vertical) {\n\t\t\treturn this.from.x === p.x && p.y >= this.from.y && p.y <= this.to.y;\n\t\t} else if (this.direction === LineDirection.Horizontal) {\n\t\t\treturn this.from.y === p.y && p.x >= this.from.x && p.x <= this.to.x;\n\t\t}\n\t\treturn false;\n\t}\n\n\t// // todo implement\n\t// public containsLine(l:Line):boolean{\n\t//     if(this.direction === LineDirection.Vertical && l.direction === LineDirection.Vertical){\n\t//         return this.from.x === l.from.x\n\t//     }\n\t//     else if(this.direction === LineDirection.Horizontal && l.direction === LineDirection.Horizontal){\n\t//         return this.from.y === l.from.y\n\t//     }\n\t//     return false\n\t// }\n\n\tpublic addIntersectionPoint(point: Point): void {\n\t\tfor (const intPoint of this.intersections) {\n\t\t\tif (intPoint.equal(point)) return;\n\t\t}\n\t\tthis.intersections.push(point);\n\t}\n\n\tpublic intersection(line: Line): Point | undefined {\n\t\tlet result: Point | undefined;\n\n\t\tif (!this.valid || !line.valid) {\n\t\t\treturn result;\n\t\t}\n\n\t\tconst thisNormalized = this.normalized;\n\t\tconst lineNormalized = line.normalized;\n\n\t\tif (this.direction === LineDirection.Horizontal && line.direction === LineDirection.Vertical) {\n\t\t\tconst x = lineNormalized.from.x;\n\t\t\tconst y = thisNormalized.from.y;\n\t\t\tconst isOk =\n\t\t\t\tx > thisNormalized.from.x && x < thisNormalized.to.x && y > lineNormalized.from.y && y < lineNormalized.to.y;\n\n\t\t\tif (isOk) {\n\t\t\t\tconst intPoint = new Point(x, y);\n\t\t\t\tthis.addIntersectionPoint(intPoint);\n\t\t\t\tline.addIntersectionPoint(intPoint);\n\t\t\t\tresult = intPoint;\n\t\t\t}\n\t\t} else if (this.direction === LineDirection.Vertical && line.direction === LineDirection.Horizontal) {\n\t\t\tconst x = thisNormalized.from.x;\n\t\t\tconst y = lineNormalized.from.y;\n\t\t\tconst isOk =\n\t\t\t\tx > lineNormalized.from.x && x < lineNormalized.to.x && y > thisNormalized.from.y && y < thisNormalized.to.y;\n\n\t\t\tif (isOk) {\n\t\t\t\tconst intPoint = new Point(x, y);\n\t\t\t\tthis.addIntersectionPoint(intPoint);\n\t\t\t\tline.addIntersectionPoint(intPoint);\n\t\t\t\tresult = intPoint;\n\t\t\t}\n\t\t}\n\n\t\t// if(result){\n\t\t//     for (const gapLine of this.gaps) {\n\t\t//         if(gapLine.containsPoint(result)) return undefined\n\t\t//     }\n\t\t//\n\t\t//     for (const gapLine of line.gaps) {\n\t\t//         if(gapLine.containsPoint(result)) return undefined\n\t\t//     }\n\t\t// }\n\n\t\treturn result;\n\t}\n\n\tpublic transform(matrix: Array<number>): this {\n\t\tconst p1 = this.from.transform(matrix);\n\t\tconst p2 = this.to.transform(matrix);\n\n\t\tconst x = Math.min(p1.x, p2.x);\n\t\tconst y = Math.min(p1.y, p2.y);\n\n\t\tconst width = Math.abs(p1.x - p2.x);\n\t\tconst height = Math.abs(p1.y - p2.y);\n\n\t\tthis.from = new Point(x, y);\n\t\tthis.to = new Point(x + width, y + height);\n\t\tthis.init();\n\t\treturn this;\n\t}\n}\n","import type { Point } from './Point.js';\n\nexport type TableCell = {\n\tminXY: Point;\n\tmaxXY: Point;\n\twidth: number;\n\theight: number;\n\tcolspan?: number;\n\trowspan?: number;\n\ttext: Array<string>;\n};\n\nexport type TableRow = Array<TableCell>;\n\nexport class TableData {\n\tpublic minXY: Point;\n\tpublic maxXY: Point;\n\tpublic rows: Array<TableRow>;\n\tprivate rowPivots: Array<number>;\n\tprivate colPivots: Array<number>;\n\n\tconstructor(minXY: Point, maxXY: Point, rowPivots: Array<number>, colPivots: Array<number>) {\n\t\tthis.minXY = minXY;\n\t\tthis.maxXY = maxXY;\n\t\tthis.rows = [];\n\t\tthis.rowPivots = rowPivots;\n\t\tthis.colPivots = colPivots;\n\t}\n\n\tpublic findCell(x: number, y: number): TableCell | undefined {\n\t\tif (x >= this.minXY.x && y >= this.minXY.y && x <= this.maxXY.x && y <= this.maxXY.y) {\n\t\t\tfor (const row of this.rows) {\n\t\t\t\tfor (const cell of row) {\n\t\t\t\t\tif (cell.minXY.x <= x && cell.minXY.y <= y && cell.maxXY.x >= x && cell.maxXY.y >= y) {\n\t\t\t\t\t\treturn cell;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tpublic get cellCount() {\n\t\treturn this.rows.reduce((acc, row) => acc + row.length, 0);\n\t}\n\n\tpublic get rowCount() {\n\t\treturn this.rows.length;\n\t}\n\n\tpublic check(): boolean {\n\t\t// const cellCounts:Array<number> = []\n\t\t//\n\t\t// for (const row of this.rows) {\n\t\t//     let cellNum = 0\n\t\t//     for (const cell of row) {\n\t\t//         cellNum += cell.colspan || 1\n\t\t//     }\n\t\t//     cellCounts.push(cellNum)\n\t\t// }\n\t\t//\n\t\t// for (let i = 1; i < cellCounts.length; i++) {\n\t\t//     if (cellCounts[i] !== cellCounts[i - 1]) {\n\t\t//         return false\n\t\t//     }\n\t\t// }\n\n\t\tconst virtualCellCount = (this.colPivots.length - 1) * (this.rowPivots.length - 1);\n\t\tlet allCellCount = 0;\n\n\t\tfor (const row of this.rows) {\n\t\t\tfor (const cell of row) {\n\t\t\t\tconst count = (cell.colspan || 1) * (cell.rowspan || 1);\n\t\t\t\tallCellCount += count;\n\t\t\t}\n\t\t}\n\n\t\tif (virtualCellCount !== allCellCount) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tpublic toArray(): string[][] {\n\t\tconst tableArr: string[][] = [];\n\t\tfor (const row of this.rows) {\n\t\t\tconst rowArr: string[] = [];\n\t\t\tfor (const cell of row) {\n\t\t\t\tlet text = cell.text.join('');\n\t\t\t\ttext = text.replace(/^[\\s]+|[\\s]+$/g, '');\n\t\t\t\ttext = text.trim();\n\t\t\t\trowArr.push(text);\n\t\t\t}\n\t\t\ttableArr.push(rowArr);\n\t\t}\n\t\treturn tableArr;\n\t}\n}\n","import { Line, LineDirection } from './Line.js';\nimport { Point } from './Point.js';\nimport { Shape } from './Shape.js';\nimport { type TableCell, TableData, type TableRow } from './TableData.js';\n\nexport class Table {\n\tpublic hLines: Array<Line> = [];\n\tpublic vLines: Array<Line> = [];\n\n\tconstructor(line: Line) {\n\t\tif (line.direction === LineDirection.Horizontal) {\n\t\t\tthis.hLines.push(line);\n\t\t} else if (line.direction === LineDirection.Vertical) {\n\t\t\tthis.vLines.push(line);\n\t\t}\n\t}\n\n\tpublic get isValid(): boolean {\n\t\treturn this.hLines.length + this.vLines.length > 4;\n\t}\n\n\tpublic get rowPivots(): Array<number> {\n\t\tconst rowSet: Set<number> = new Set();\n\n\t\tfor (const line of this.hLines) {\n\t\t\trowSet.add(line.from.y);\n\t\t}\n\n\t\treturn [...rowSet].sort((a, b) => a - b);\n\t}\n\n\tpublic get colPivots(): Array<number> {\n\t\tconst colSet: Set<number> = new Set();\n\n\t\tfor (const line of this.vLines) {\n\t\t\tcolSet.add(line.from.x);\n\t\t}\n\n\t\treturn [...colSet].sort((a, b) => a - b);\n\t}\n\n\tpublic add(line: Line): boolean {\n\t\tconst hasIntersection = this.intersection(line);\n\n\t\tif (hasIntersection) {\n\t\t\tif (line.direction === LineDirection.Horizontal) {\n\t\t\t\tthis.hLines.push(line);\n\t\t\t\treturn true;\n\t\t\t} else if (line.direction === LineDirection.Vertical) {\n\t\t\t\tthis.vLines.push(line);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tprivate intersection(line: Line): boolean {\n\t\tlet flag = false;\n\t\tif (!line.valid) return flag;\n\n\t\tif (line.direction === LineDirection.Horizontal) {\n\t\t\tfor (const vLine of this.vLines) {\n\t\t\t\tconst p = line.intersection(vLine);\n\t\t\t\tif (p) {\n\t\t\t\t\tflag = true;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (line.direction === LineDirection.Vertical) {\n\t\t\tfor (const hLine of this.hLines) {\n\t\t\t\tconst p = line.intersection(hLine);\n\t\t\t\tif (p) {\n\t\t\t\t\tflag = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn flag;\n\t}\n\n\tprivate getSameHorizontal(line: Line): Array<Line> {\n\t\tconst same: Array<Line> = [line];\n\t\tconst other: Array<Line> = [];\n\n\t\twhile (this.hLines.length > 0) {\n\t\t\tconst hLine = this.hLines.shift();\n\t\t\tif (!hLine) continue;\n\n\t\t\tif (hLine.from.y === line.from.y) {\n\t\t\t\tsame.push(hLine);\n\t\t\t} else {\n\t\t\t\tother.push(hLine);\n\t\t\t}\n\t\t}\n\n\t\tthis.hLines = other;\n\t\treturn same;\n\t}\n\n\tprivate getSameVertical(line: Line): Array<Line> {\n\t\tconst same: Array<Line> = [line];\n\t\tconst other: Array<Line> = [];\n\n\t\twhile (this.vLines.length > 0) {\n\t\t\tconst vLine = this.vLines.shift();\n\t\t\tif (!vLine) continue;\n\n\t\t\tif (vLine.from.x === line.from.x) {\n\t\t\t\tsame.push(vLine);\n\t\t\t} else {\n\t\t\t\tother.push(vLine);\n\t\t\t}\n\t\t}\n\n\t\tthis.vLines = other;\n\t\treturn same;\n\t}\n\n\tprivate mergeHorizontalLines(lines: Array<Line>): Line {\n\t\tlines.sort((l1, l2) => l1.from.x - l2.from.x);\n\n\t\tconst minX = lines[0].from.x;\n\t\tconst maxX = lines[lines.length - 1].to.x;\n\n\t\tconst resultLine = new Line(new Point(minX, lines[0].from.y), new Point(maxX, lines[0].from.y));\n\n\t\tfor (let i = 1; i < lines.length; i++) {\n\t\t\tconst prevLine = lines[i - 1];\n\t\t\tconst currLine = lines[i];\n\n\t\t\tif (Math.abs(prevLine.to.x - currLine.from.x) > Shape.tolerance) {\n\t\t\t\tconst gapLine = new Line(\n\t\t\t\t\tnew Point(prevLine.to.x, prevLine.from.y),\n\t\t\t\t\tnew Point(currLine.from.x, currLine.from.y),\n\t\t\t\t);\n\t\t\t\tresultLine.addGap(gapLine);\n\t\t\t}\n\t\t}\n\n\t\treturn resultLine;\n\t}\n\n\tprivate mergeVerticalLines(lines: Array<Line>): Line {\n\t\tlines.sort((l1, l2) => l1.from.y - l2.from.y);\n\n\t\tconst minY = lines[0].from.y;\n\t\tconst maxY = lines[lines.length - 1].to.y;\n\n\t\tconst resultLine = new Line(new Point(lines[0].from.x, minY), new Point(lines[0].from.x, maxY));\n\n\t\tfor (let i = 1; i < lines.length; i++) {\n\t\t\tconst prevLine = lines[i - 1];\n\t\t\tconst currLine = lines[i];\n\n\t\t\tif (Math.abs(prevLine.to.y - currLine.from.y) > Shape.tolerance) {\n\t\t\t\tconst gapLine = new Line(new Point(prevLine.to.x, prevLine.to.y), new Point(prevLine.to.x, currLine.from.y));\n\t\t\t\tresultLine.addGap(gapLine);\n\t\t\t}\n\t\t}\n\n\t\treturn resultLine;\n\t}\n\n\tpublic normalize(): void {\n\t\tthis.hLines = this.hLines.filter((l) => l.intersections.length > 1);\n\t\tthis.vLines = this.vLines.filter((l) => l.intersections.length > 1);\n\n\t\tthis.hLines.sort((l1, l2) => l1.from.y - l2.from.y);\n\t\tthis.vLines.sort((l1, l2) => l1.from.x - l2.from.x);\n\n\t\tconst newHLines: Array<Line> = [];\n\n\t\twhile (this.hLines.length > 0) {\n\t\t\tconst line = this.hLines.shift();\n\t\t\tif (!line) continue;\n\n\t\t\tconst lines = this.getSameHorizontal(line);\n\t\t\tconst merged = this.mergeHorizontalLines(lines);\n\t\t\tnewHLines.push(merged);\n\t\t}\n\n\t\tthis.hLines = newHLines;\n\n\t\tconst newVLines: Array<Line> = [];\n\n\t\twhile (this.vLines.length > 0) {\n\t\t\tconst line = this.vLines.shift();\n\t\t\tif (!line) continue;\n\n\t\t\tconst lines = this.getSameVertical(line);\n\t\t\tconst merged = this.mergeVerticalLines(lines);\n\t\t\tnewVLines.push(merged);\n\t\t}\n\n\t\tthis.vLines = newVLines;\n\t}\n\n\tpublic verticalExists(line: Line, y1: number, y2: number): boolean {\n\t\tif (line.direction !== LineDirection.Vertical) {\n\t\t\tthrow new Error('Line is not vertical');\n\t\t}\n\n\t\tif (y1 >= y2) {\n\t\t\tthrow new Error('y1 must be less than y2');\n\t\t}\n\n\t\tif (line.from.y <= y1 && line.to.y >= y2) {\n\t\t\tfor (const gap of line.gaps) {\n\t\t\t\tif (gap.from.y <= y1 && gap.to.y >= y2) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tpublic horizontalExists(line: Line, x1: number, x2: number): boolean {\n\t\tif (line.direction !== LineDirection.Horizontal) {\n\t\t\tthrow new Error('Line is not horizontal');\n\t\t}\n\n\t\tif (x1 >= x2) {\n\t\t\tthrow new Error('x1 must be less than x2');\n\t\t}\n\n\t\tif (line.from.x <= x1 && line.to.x >= x2) {\n\t\t\tfor (const gap of line.gaps) {\n\t\t\t\tif (gap.from.x <= x1 && gap.to.x >= x2) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tprivate findBottomLineIndex(h2Index: number, xMiddle: number): number {\n\t\tfor (let i = h2Index; i < this.hLines.length; i++) {\n\t\t\tconst hLine = this.hLines[i];\n\t\t\tif (hLine.from.x <= xMiddle && hLine.to.x >= xMiddle) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\n\tprivate findVerticalLineIndexs(topHLine: Line, yMiddle: number): Array<number> {\n\t\tconst result: Array<number> = [];\n\n\t\tfor (let i = 0; i < this.vLines.length; i++) {\n\t\t\tconst vLine = this.vLines[i];\n\t\t\tif (vLine.from.y <= yMiddle && vLine.to.y >= yMiddle && topHLine.intersection(vLine)) {\n\t\t\t\tresult.push(i);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tprivate getRow(h1Index: number, h2Index: number, yMiddle: number): TableRow {\n\t\tconst tableRow: TableRow = [];\n\t\t//const colCount = this.vLines.length -1\n\t\tconst topHLine = this.hLines[h1Index];\n\t\tconst vLineIndexes = this.findVerticalLineIndexs(topHLine, yMiddle);\n\n\t\tfor (let i = 1; i < vLineIndexes.length; i++) {\n\t\t\tconst leftVLine = this.vLines[vLineIndexes[i - 1]];\n\t\t\tconst rightVLine = this.vLines[vLineIndexes[i]];\n\t\t\tconst xMiddle = (leftVLine.from.x + rightVLine.from.x) / 2;\n\t\t\tconst bottomHLineIndex = this.findBottomLineIndex(h2Index, xMiddle);\n\t\t\tconst bottomHLine = this.hLines[bottomHLineIndex];\n\t\t\t// minXY: {x:leftVLine.from.x,y:topHLine.from.y},\n\t\t\t// maxXY: {x:rightVLine.from.x,y:bottomHLine.from.y},\n\t\t\tconst tableCell: TableCell = {\n\t\t\t\tminXY: new Point(leftVLine.from.x, topHLine.from.y),\n\t\t\t\tmaxXY: new Point(rightVLine.from.x, bottomHLine.from.y),\n\t\t\t\twidth: rightVLine.from.x - leftVLine.from.x,\n\t\t\t\theight: bottomHLine.from.y - topHLine.from.y,\n\t\t\t\ttext: [],\n\t\t\t};\n\t\t\tconst colSpan = vLineIndexes[i] - vLineIndexes[i - 1];\n\t\t\tconst rowSpan = bottomHLineIndex - h1Index;\n\n\t\t\tif (colSpan > 1) {\n\t\t\t\ttableCell.colspan = colSpan;\n\t\t\t}\n\t\t\tif (rowSpan > 1) {\n\t\t\t\ttableCell.rowspan = rowSpan;\n\t\t\t}\n\n\t\t\ttableRow.push(tableCell);\n\t\t}\n\n\t\treturn tableRow;\n\t}\n\n\tpublic toData(): TableData {\n\t\tconst rowPivots = this.rowPivots;\n\t\tconst colPivots = this.colPivots;\n\n\t\tconst minXY = new Point(colPivots[0], rowPivots[0]);\n\t\tconst maxXY = new Point(colPivots[colPivots.length - 1], rowPivots[rowPivots.length - 1]);\n\n\t\tconst result: TableData = new TableData(minXY, maxXY, rowPivots, colPivots);\n\n\t\tfor (let h1 = 1; h1 < this.hLines.length; h1++) {\n\t\t\tconst prevHLine = this.hLines[h1 - 1];\n\t\t\tconst currHLine = this.hLines[h1];\n\t\t\tconst YMiddle = (prevHLine.from.y + currHLine.from.y) / 2;\n\t\t\tconst rowData = this.getRow(h1 - 1, h1, YMiddle);\n\t\t\tresult.rows.push(rowData);\n\t\t}\n\n\t\treturn result;\n\t}\n}\n","import { Line, LineDirection } from './Line.js';\nimport { Point } from './Point.js';\nimport type { Rectangle } from './Rectangle.js';\nimport { Shape } from './Shape.js';\nimport { Table } from './Table.js';\nimport type { TableData } from './TableData.js';\n\nexport class LineStore {\n\tpublic hLines: Array<Line> = [];\n\tpublic vLines: Array<Line> = [];\n\n\tpublic add(line: Line): void {\n\t\tif (line.valid) {\n\t\t\tif (line.direction === LineDirection.Horizontal) {\n\t\t\t\tthis.hLines.push(line);\n\t\t\t} else if (line.direction === LineDirection.Vertical) {\n\t\t\t\tthis.vLines.push(line);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic addRectangle(rect: Rectangle): void {\n\t\tfor (const line of rect.getLines()) {\n\t\t\tthis.add(line);\n\t\t}\n\t}\n\n\tpublic getTableData(): Array<TableData> {\n\t\tconst result: Array<TableData> = [];\n\n\t\tconst tables = this.getTables();\n\n\t\tfor (const table of tables) {\n\t\t\tconst data = table.toData();\n\t\t\tif (data) {\n\t\t\t\tresult.push(data);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tpublic getTables(): Array<Table> {\n\t\tconst result: Array<Table> = [];\n\n\t\twhile (this.hLines.length !== 0) {\n\t\t\tconst hLine = this.hLines.shift();\n\t\t\tif (!hLine) continue;\n\n\t\t\tconst filled = this.tryFill(result, hLine);\n\t\t\tif (filled) continue;\n\n\t\t\tconst table = new Table(hLine);\n\t\t\tthis.fillTable(table);\n\t\t\tresult.push(table);\n\t\t}\n\n\t\twhile (this.vLines.length !== 0) {\n\t\t\tconst vLine = this.vLines.shift();\n\t\t\tif (!vLine) continue;\n\n\t\t\tconst filled = this.tryFill(result, vLine);\n\t\t\tif (filled) continue;\n\n\t\t\tconst table = new Table(vLine);\n\t\t\tthis.fillTable(table);\n\t\t\tresult.push(table);\n\t\t}\n\n\t\tconst validTables = result.filter((t) => t.isValid);\n\n\t\tfor (const table of validTables) {\n\t\t\ttable.normalize();\n\t\t}\n\n\t\treturn validTables;\n\t}\n\n\tpublic normalize(): void {\n\t\tthis.normalizeHorizontal();\n\t\tthis.normalizeVertical();\n\t}\n\n\tpublic normalizeHorizontal() {\n\t\tthis.hLines.sort((l1, l2) => l1.from.y - l2.from.y);\n\n\t\tconst newLines: Array<Line> = [];\n\n\t\tlet sameY: Array<Line> = [];\n\t\tfor (const line of this.hLines) {\n\t\t\tif (sameY.length === 0) {\n\t\t\t\tsameY.push(line);\n\t\t\t} else if (Math.abs(sameY[0]?.from.y - line.from.y) < Shape.tolerance) {\n\t\t\t\tsameY.push(line);\n\t\t\t} else {\n\t\t\t\tconst merged = this.margeHorizontalLines(sameY);\n\t\t\t\tnewLines.push(...merged);\n\t\t\t\tsameY = [line];\n\t\t\t}\n\t\t}\n\n\t\tif (sameY.length > 0) {\n\t\t\tconst merged = this.margeHorizontalLines(sameY);\n\t\t\tnewLines.push(...merged);\n\t\t}\n\n\t\tthis.hLines = newLines;\n\t}\n\n\tpublic normalizeVertical() {\n\t\tthis.vLines.sort((l1, l2) => l1.from.x - l2.from.x);\n\n\t\tconst newLines: Array<Line> = [];\n\n\t\tlet sameX: Array<Line> = [];\n\t\tfor (const line of this.vLines) {\n\t\t\tif (sameX.length === 0) {\n\t\t\t\tsameX.push(line);\n\t\t\t} else if (Math.abs(sameX[0]?.from.x - line.from.x) < Shape.tolerance) {\n\t\t\t\tsameX.push(line);\n\t\t\t} else {\n\t\t\t\tconst merged = this.margeVerticalLines(sameX);\n\t\t\t\tnewLines.push(...merged);\n\t\t\t\tsameX = [line];\n\t\t\t}\n\t\t}\n\n\t\tif (sameX.length > 0) {\n\t\t\tconst merged = this.margeVerticalLines(sameX);\n\t\t\tnewLines.push(...merged);\n\t\t}\n\n\t\tthis.vLines = newLines;\n\t}\n\n\tprivate fillTable(table: Table): void {\n\t\tconst newVLines: Array<Line> = [];\n\t\tconst newHLines: Array<Line> = [];\n\n\t\tfor (const vLine of this.vLines) {\n\t\t\tif (!table.add(vLine)) {\n\t\t\t\tnewVLines.push(vLine);\n\t\t\t}\n\t\t}\n\n\t\tfor (const hLine of this.hLines) {\n\t\t\tif (!table.add(hLine)) {\n\t\t\t\tnewHLines.push(hLine);\n\t\t\t}\n\t\t}\n\n\t\tthis.hLines = newHLines;\n\t\tthis.vLines = newVLines;\n\t}\n\n\tprivate tryFill(tables: Array<Table>, line: Line): boolean {\n\t\tfor (const table of tables) {\n\t\t\tif (table.add(line)) {\n\t\t\t\tthis.fillTable(table);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate margeHorizontalLines(sameYLines: Array<Line>): Array<Line> {\n\t\tconst result: Array<Line> = [];\n\t\tsameYLines.sort((l1, l2) => l1.from.x - l2.from.x);\n\n\t\tconst sameY = sameYLines[0]?.from.y;\n\t\tif (sameY === undefined) return result;\n\n\t\tlet minX: number = Number.MAX_SAFE_INTEGER;\n\t\tlet maxX: number = Number.MIN_SAFE_INTEGER;\n\n\t\tfor (const line of sameYLines) {\n\t\t\tif (line.from.x - maxX < Shape.tolerance) {\n\t\t\t\tif (line.from.x < minX) {\n\t\t\t\t\tminX = line.from.x;\n\t\t\t\t}\n\t\t\t\tif (line.to.x > maxX) {\n\t\t\t\t\tmaxX = line.to.x;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (maxX > minX) {\n\t\t\t\t\tresult.push(new Line(new Point(minX, sameY), new Point(maxX, sameY)));\n\t\t\t\t}\n\t\t\t\tminX = line.from.x;\n\t\t\t\tmaxX = line.to.x;\n\t\t\t}\n\t\t}\n\n\t\tconst last = result[result.length - 1];\n\n\t\tif (last) {\n\t\t\tif (last.from.x !== minX && last.to.x !== maxX) {\n\t\t\t\tresult.push(new Line(new Point(minX, sameY), new Point(maxX, sameY)));\n\t\t\t}\n\t\t} else {\n\t\t\tresult.push(new Line(new Point(minX, sameY), new Point(maxX, sameY)));\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tprivate margeVerticalLines(sameXLines: Array<Line>): Array<Line> {\n\t\tconst result: Array<Line> = [];\n\t\tsameXLines.sort((l1, l2) => l1.from.y - l2.from.y);\n\n\t\tconst sameX = sameXLines[0]?.from.x;\n\t\tif (sameX === undefined) return result;\n\n\t\tlet minY: number = Number.MAX_SAFE_INTEGER;\n\t\tlet maxY: number = Number.MIN_SAFE_INTEGER;\n\n\t\tfor (const line of sameXLines) {\n\t\t\tif (line.from.y - maxY < Shape.tolerance) {\n\t\t\t\tif (line.from.y < minY) {\n\t\t\t\t\tminY = line.from.y;\n\t\t\t\t}\n\t\t\t\tif (line.to.y > maxY) {\n\t\t\t\t\tmaxY = line.to.y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (maxY > minY) {\n\t\t\t\t\tresult.push(new Line(new Point(sameX, minY), new Point(sameX, maxY)));\n\t\t\t\t}\n\t\t\t\tminY = line.from.y;\n\t\t\t\tmaxY = line.to.y;\n\t\t\t}\n\t\t}\n\n\t\tconst last = result[result.length - 1];\n\n\t\tif (last) {\n\t\t\tif (last.from.y !== minY && last.to.y !== maxY) {\n\t\t\t\tresult.push(new Line(new Point(sameX, minY), new Point(sameX, maxY)));\n\t\t\t}\n\t\t} else {\n\t\t\tresult.push(new Line(new Point(sameX, minY), new Point(sameX, maxY)));\n\t\t}\n\n\t\treturn result;\n\t}\n}\n","import { Line } from './Line.js';\nimport { Point } from './Point.js';\nimport { Shape } from './Shape.js';\n\nexport class Rectangle extends Shape {\n\tpublic from: Point;\n\tpublic width: number;\n\tpublic height: number;\n\n\tconstructor(from: Point, width: number, height: number) {\n\t\tsuper();\n\t\tthis.from = from;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t}\n\n\tpublic get to(): Point {\n\t\treturn new Point(this.from.x + this.width, this.from.y + this.height);\n\t}\n\n\tpublic getLines(): Line[] {\n\t\tconst to = this.to;\n\n\t\tconst lines: Array<Line> = [\n\t\t\tnew Line(this.from, new Point(to.x, this.from.y)),\n\t\t\tnew Line(this.from, new Point(this.from.x, to.y)),\n\t\t\tnew Line(new Point(to.x, this.from.y), to),\n\t\t\tnew Line(new Point(this.from.x, to.y), to),\n\t\t];\n\t\treturn lines.filter((l) => l.valid);\n\t}\n\n\tpublic transform(matrix: Array<number>): this {\n\t\tconst p1 = Shape.applyTransform([this.from.x, this.from.y], matrix);\n\t\tconst p2 = Shape.applyTransform([this.from.x + this.width, this.from.y + this.height], matrix);\n\n\t\tconst x = Math.min(p1[0], p2[0]);\n\t\tconst y = Math.min(p1[1], p2[1]);\n\n\t\tconst width = Math.abs(p1[0] - p2[0]);\n\t\tconst height = Math.abs(p1[1] - p2[1]);\n\n\t\tthis.from = new Point(x, y);\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t}\n}\n","import type { ImageKind } from 'pdfjs-dist/legacy/build/pdf.mjs';\n\n/**\n * @public\n * ImageKindKey\n * - Represents the keys of the ImageKind enum (e.g. \"GRAYSCALE_1BPP\", \"RGB_24BPP\", \"RGBA_32BPP\").\n */\nexport type ImageKindKey = keyof typeof ImageKind;\n\n/**\n * @public\n * ImageKindValue\n * - Represents the numeric values of the ImageKind enum (e.g. 1, 2, 3).\n */\nexport type ImageKindValue = (typeof ImageKind)[ImageKindKey];\n\n/**\n * @public\n * ImageResult\n * Helper container for extracted images grouped per page.\n */\nexport class ImageResult {\n\tpages: Array<PageImages> = [];\n\ttotal: number = 0;\n\n\tpublic getPageImage(num: number, name: string): EmbeddedImage | null {\n\t\tfor (const pageData of this.pages) {\n\t\t\tif (pageData.pageNumber === num) {\n\t\t\t\tfor (const img of pageData.images) {\n\t\t\t\t\tif (img.name === name) {\n\t\t\t\t\t\treturn img;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tconstructor(total: number) {\n\t\tthis.total = total;\n\t}\n}\n\n/**\n * @public\n * PageImages\n * - Represents all embedded images found on a single PDF page.\n * - pageNumber: 1-based page index.\n * - images: Array of EmbeddedImage objects for this page.\n */\nexport interface PageImages {\n\tpageNumber: number;\n\timages: EmbeddedImage[];\n}\n\n/**\n * @public\n * EmbeddedImage\n * - Normalized representation of an embedded image extracted from the PDF.\n * - `data`: Raw image bytes (e.g. PNG/JPEG) as Uint8Array. Use this for file writing or binary processing.\n * - `dataUrl`: Optional data URL (e.g. \"data:image/png;base64,...\") for directly embedding in <img> src.\n *   Storing both lets consumers choose the most convenient form; consider omitting one to save memory.\n * - `name`: Resource name for the image.\n * - `width` / `height`: Dimensions in pixels.\n * - `kind`: ImageKindValue from indicating the pixel format (e.g. GRAYSCALE_1BPP / RGB_24BPP / RGBA_32BPP).\n */\nexport interface EmbeddedImage {\n\t// Raw binary image data (PNG/JPEG) normalized to Uint8Array.\n\tdata: Uint8Array;\n\n\t// Optional base64 data URL for easy embedding in HTML.\n\tdataUrl: string;\n\n\t// Resource identifier for the image.\n\tname: string;\n\n\t// Image dimensions in pixels.\n\twidth: number;\n\theight: number;\n\n\t// Color format as defined by pdfjs ImageKind numeric values.\n\tkind: ImageKindValue;\n}\n","import * as pdfjs from 'pdfjs-dist/legacy/build/pdf.mjs';\nimport type { Metadata } from 'pdfjs-dist/types/src/display/metadata.js';\n\nconst XMP_DATE_PROPERTIES = [\n\t'xmp:createdate',\n\t'xmp:modifydate',\n\t'xmp:metadatadate',\n\t'xap:createdate',\n\t'xap:modifydate',\n\t'xap:metadatadate',\n];\n\nexport type { Metadata } from 'pdfjs-dist/types/src/display/metadata.js';\n\n/**\n * @public\n * Node representing a single item in the PDF outline (bookmarks).\n * This mirrors the structure returned by PDF.js' getOutline() API.\n */\nexport interface OutlineNode {\n\t// The visible title of the bookmark / outline entry.\n\ttitle: string;\n\n\t// If true, the title should be rendered in bold.\n\tbold: boolean;\n\n\t// If true, the title should be rendered in italic.\n\titalic: boolean;\n\n\t// Optional RGBA color for the title as a clamped byte array.\n\tcolor: Uint8ClampedArray;\n\n\t// Destination for the outline item. PDF.js may return a named\n\t// destination (string) or an array representing an explicit destination.\n\t// Can be null when no explicit destination is available.\n\t// biome-ignore lint/suspicious/noExplicitAny: <unsupported underline type>\n\tdest: string | Array<any> | null;\n\n\t// If the outline entry points to an external URL, it will be here.\n\turl: string | null;\n\n\t// When PDF.js flags a URL as unsafe the raw value is available here.\n\tunsafeUrl?: string;\n\n\t// Whether the link should open in a new window/tab if rendered.\n\tnewWindow?: boolean;\n\n\t// Number of child entries (if provided by the PDF). May be undefined.\n\tcount?: number;\n\n\t// Child outline items. Type is kept loose to match PDF.js returns.\n\t// biome-ignore lint/suspicious/noExplicitAny: <unsupported underline type>\n\titems: Array<any>;\n}\n\n/**\n * @public\n * Consolidated date information gathered from different PDF sources.\n * The PDF 'Info' dictionary contains CreationDate / ModDate and\n * the XMP/XAP metadata can contain several timestamps as well. This\n * structure collects those values (if present) as JavaScript Date objects\n * or null when the property exists but cannot be parsed.\n */\nexport type DateNode = {\n\tCreationDate?: Date | null;\n\tModDate?: Date | null;\n\tXmpCreateDate?: Date | null;\n\tXmpModifyDate?: Date | null;\n\tXmpMetadataDate?: Date | null;\n\tXapCreateDate?: Date | null;\n\tXapModifyDate?: Date | null;\n\tXapMetadataDate?: Date | null;\n};\n\n/**\n * @public\n * Per-page link extraction result.\n * - pageNumber: the physical page index (1-based) within the PDF document.\n * - pageLabel: optional printed page label shown by PDF viewers (e.g. \"iii\", \"1\", \"A-1\");\n *              this can differ from the physical page number and may be undefined\n *              when the document does not provide labels.\n * - links: array of text-&gt;URL mappings that were found/overlaid on the page.\n * - width/height: page dimensions in PDF units for the viewport used.\n */\nexport type PageLinkResult = {\n\t// Physical page number (1-based index inside the PDF document).\n\tpageNumber: number;\n\n\t// Optional printed page label as displayed by PDF viewers. May be null/undefined\n\t// if the document does not provide explicit labels for pages.\n\tpageLabel?: string | null;\n\n\t// Hyperlinks that were overlaid or embedded on the page surface. Each entry\n\t// contains the visible text (if any) and the resolved URL.\n\tlinks: Array<{ text: string; url: string }>;\n\n\t// Page width and height for the page viewport that was used when extracting links.\n\twidth: number;\n\theight: number;\n};\n\n/**\n * @public\n * Aggregated information about a PDF document returned by getInfo().\n * The object contains high-level metadata, outline/bookmark structure,\n * per-page extracted hyperlinks and utility helpers for parsing dates.\n */\nexport class InfoResult {\n\t// Total number of pages in the PDF document (count of physical pages).\n\ttotal: number;\n\n\t/**\n\t * The PDF 'Info' dictionary. Typical fields include title, author, subject,\n\t * Creator, Producer and Creation/Modification dates. The exact structure is\n\t * determined by the PDF and as returned by PDF.js.\n\t */\n\t// biome-ignore lint/suspicious/noExplicitAny: <unsupported underline type>\n\tinfo?: any;\n\n\t// Low-level document metadata object (XMP). Use this to access extended\n\t// properties that are not present in the Info dictionary.\n\tmetadata?: Metadata;\n\n\t/**\n\t * An array of document fingerprint strings provided by PDF.js. Useful\n\t * for caching, de-duplication or identifying a document across runs.\n\t */\n\tfingerprints?: Array<string | null>;\n\n\t/**\n\t * Permission flags for the document as returned by PDF.js (or null).\n\t * These flags indicate capabilities such as printing, copying and\n\t * other restrictions imposed by the PDF security settings.\n\t */\n\tpermission?: number[] | null;\n\n\t/**\n\t * Optional document outline (bookmarks). When present this is the\n\t * hierarchical navigation structure which viewers use for quick access.\n\t */\n\toutline?: Array<OutlineNode> | null;\n\n\t// Results with per-page hyperlink extraction. Empty array by default.\n\tpages: Array<PageLinkResult> = [];\n\n\t/**\n\t * Collects dates from different sources (Info dictionary and XMP/XAP metadata)\n\t * and returns them as a DateNode where available. This helps callers compare\n\t * and choose the most relevant timestamp (for example a creation date vs XMP date).\n\t */\n\tpublic getDateNode(): DateNode {\n\t\tconst result: DateNode = {};\n\n\t\t// The Info dictionary may contain CreationDate/ModDate in PDF date string format.\n\t\t// biome-ignore lint/suspicious/noExplicitAny: <unsupported underline type>\n\t\tconst CreationDate = (this.info as any)?.CreationDate;\n\n\t\tif (CreationDate) {\n\t\t\tresult.CreationDate = pdfjs.PDFDateString.toDateObject(CreationDate);\n\t\t}\n\n\t\t// biome-ignore lint/suspicious/noExplicitAny: <unsupported underline type>\n\t\tconst ModDate = (this.info as any)?.ModDate;\n\n\t\tif (ModDate) {\n\t\t\tresult.ModDate = pdfjs.PDFDateString.toDateObject(ModDate);\n\t\t}\n\n\t\t// If no XMP metadata is present, return the Info-based dates only.\n\t\tif (!this.metadata) {\n\t\t\treturn result;\n\t\t}\n\n\t\t// Extract several XMP/XAP date properties (if present) and attempt to\n\t\t// parse them as ISO-like strings. Parsed values are added to the\n\t\t// corresponding DateNode fields.\n\t\tfor (const prop of XMP_DATE_PROPERTIES) {\n\t\t\tconst value = this.metadata?.get(prop);\n\t\t\tconst date = this.parseISODateString(value);\n\n\t\t\tswitch (prop) {\n\t\t\t\tcase XMP_DATE_PROPERTIES[0]:\n\t\t\t\t\tresult.XmpCreateDate = date;\n\t\t\t\t\tbreak;\n\t\t\t\tcase XMP_DATE_PROPERTIES[1]:\n\t\t\t\t\tresult.XmpModifyDate = date;\n\t\t\t\t\tbreak;\n\t\t\t\tcase XMP_DATE_PROPERTIES[2]:\n\t\t\t\t\tresult.XmpMetadataDate = date;\n\t\t\t\t\tbreak;\n\t\t\t\tcase XMP_DATE_PROPERTIES[3]:\n\t\t\t\t\tresult.XapCreateDate = date;\n\t\t\t\t\tbreak;\n\t\t\t\tcase XMP_DATE_PROPERTIES[4]:\n\t\t\t\t\tresult.XapModifyDate = date;\n\t\t\t\t\tbreak;\n\t\t\t\tcase XMP_DATE_PROPERTIES[5]:\n\t\t\t\t\tresult.XapMetadataDate = date;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * Try to parse an ISO-8601 date string from XMP/XAP metadata. If the\n\t * value is falsy or cannot be parsed, undefined is returned to indicate\n\t * absence or unparsable input.\n\t */\n\tprivate parseISODateString(isoDateString: string): Date | undefined {\n\t\tif (!isoDateString) return undefined;\n\n\t\tconst parsedDate = Date.parse(isoDateString);\n\t\tif (!Number.isNaN(parsedDate)) {\n\t\t\treturn new Date(parsedDate);\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tconstructor(total: number) {\n\t\tthis.total = total;\n\t}\n}\n","/**\n * @public\n * ParseParameters\n * Options to control parsing behavior and output formatting.\n */\nexport interface ParseParameters {\n\t/**\n\t * Array of page numbers to parse.\n\t * When provided, only these pages will be parsed and returned in the same order.\n\t * Example: [1, 3, 5]. Parse only one page: [7].\n\t * Default: `undefined`.\n\t */\n\tpartial?: Array<number>;\n\n\t/**\n\t * Parse the first N pages (pages 1..N).\n\t * Ignored when `partial` is provided. If both `first` and `last` are set, they define\n\t * an explicit inclusive page range (first..last) and this \"first N\" semantics is ignored.\n\t * Default: `undefined`.\n\t */\n\tfirst?: number;\n\n\t/**\n\t * Parse the last N pages (pages total-N+1..total).\n\t * Ignored when `partial` is provided. If both `first` and `last` are set, they define\n\t * an explicit inclusive page range (first..last) and this \"last N\" semantics is ignored.\n\t * Default: `undefined`.\n\t */\n\tlast?: number;\n\n\t/**\n\t * Collect per-page metadata such as embedded links, title, pageLabel, and dimensions;\n\t * ISBN, DOI, abstract, and references are work in progress when getInfo() is used.\n\t * Default: `false`.\n\t */\n\tparsePageInfo?: boolean;\n\n\t/**\n\t * Attempt to detect and include hyperlink annotations (e.g. URLs) associated with text.\n\t * Detected links are formatted as Markdown inline links (for example: [text](https://example.com)).\n\t * Default: `false`.\n\t */\n\tparseHyperlinks?: boolean;\n\n\t/**\n\t * Enforce logical line breaks by inserting a newline when the vertical distance\n\t * between text items exceeds `lineThreshold`.\n\t * Useful to preserve paragraph/line structure when text items are emitted as separate segments.\n\t * Default: `true`.\n\t */\n\tlineEnforce?: boolean;\n\n\t/**\n\t * Threshold to decide whether nearby text items belong to different lines.\n\t * Larger values make the parser more likely to start a new line between items.\n\t * Default: `4.6`.\n\t */\n\tlineThreshold?: number;\n\n\t/**\n\t * String inserted between text items on the same line when a sufficiently large horizontal gap is detected.\n\t * Typically used to emulate a cell/column separator (for example, \"\\\\t\" for tabs).\n\t * Default: `'\\t'`.\n\t */\n\tcellSeparator?: string;\n\n\t/**\n\t * Horizontal distance threshold to decide when two text items on the same baseline should be treated as separate cells.\n\t * Larger value produces fewer (wider) cells; smaller value creates more cell breaks.\n\t * Default: `7`.\n\t */\n\tcellThreshold?: number;\n\n\t/**\n\t * Optional string appended at the end of each page's extracted text to mark page boundaries.\n\t * Supports placeholders `page_number` and `total_number` which are substituted accordingly.\n\t * If omitted or empty, no page boundary marker is added.\n\t * Default: `'\\n-- page_number of total_number --'`.\n\t */\n\tpageJoiner?: string;\n\n\t/**\n\t * Optional string used to join text items when returning a page's text.\n\t * If provided, this value is used instead of the default empty-string joining behavior.\n\t * Default: `undefined`.\n\t */\n\titemJoiner?: string;\n\n\t/**\n\t * Minimum image dimension (in pixels) for width or height.\n\t * When set, images where width OR height are below or equal this value will be ignored by `getImage()`.\n\t * Useful for excluding tiny decorative or tracking images.\n\t * Default: `80`.\n\t * Disable: `0`.\n\t */\n\timageThreshold?: number;\n\n\t/**\n\t * Screenshot scale factor: use 1 for the original size, 1.5 for a 50% larger image, etc.\n\t * Default: `1`.\n\t */\n\tscale?: number;\n\n\t/**\n\t * Desired screenshot width in pixels.\n\t * When set, the scale option is ignored.\n\t * Default: `undefined`.\n\t */\n\tdesiredWidth?: number;\n\n\t/**\n\t * Applies to both getImage() and getScreenshot(): include the image as a base64 data URL string.\n\t * Default: `true`.\n\t */\n\timageDataUrl?: boolean;\n\n\t/**\n\t * Applies to both getImage() and getScreenshot(): include the image as a binary buffer.\n\t * Default: `true`.\n\t */\n\timageBuffer?: boolean;\n\n\t/**\n\t * Include marked content items in the items array of TextContent to capture PDF \"marked content\".\n\t * Enables tags (MCID, role/props) and structural/accessibility information useful for mapping text  structure.\n\t * For plain text extraction it's usually false (trade-off: larger output).\n\t * Default: `false`.\n\t */\n\tincludeMarkedContent?: boolean;\n\n\t/**\n\t * When true, text normalization is NOT performed in the worker thread.\n\t * For plain text extraction, normalizing in the worker (false) is usually recommended.\n\t * Default: `false`.\n\t */\n\tdisableNormalization?: boolean;\n}\n\n/**\n * @public\n * SafeParseParameters\n */\nexport type SafeParseParameters = Required<Pick<ParseParameters, 'lineThreshold' | 'cellThreshold' | 'scale'>> &\n\tParseParameters;\n\nexport function setDefaultParseParameters(params: ParseParameters): SafeParseParameters {\n\tparams.lineThreshold = params?.lineThreshold ?? 4.6;\n\tparams.cellThreshold = params?.cellThreshold ?? 7;\n\tparams.cellSeparator = params?.cellSeparator ?? '\\t';\n\tparams.lineEnforce = params?.lineEnforce ?? true;\n\tparams.pageJoiner = params?.pageJoiner ?? '\\n-- page_number of total_number --';\n\tparams.imageThreshold = params?.imageThreshold ?? 80;\n\n\tparams.imageDataUrl = params?.imageDataUrl ?? true;\n\tparams.imageBuffer = params?.imageBuffer ?? true;\n\tparams.scale = params?.scale ?? 1;\n\n\treturn params as SafeParseParameters;\n}\n","export type MinMax = [number, number, number, number];\n\nexport enum PathGeometry {\n\tundefined = 0,\n\thline = 1,\n\tvline = 2,\n\trectangle = 3,\n}\n\nexport enum DrawOPS {\n\tmoveTo = 0,\n\tlineTo = 1,\n\tcurveTo = 2,\n\tclosePath = 3,\n\trectangle = 4,\n}\n","/**\n * @public\n * Screenshot\n */\nexport interface Screenshot {\n\t// Raw binary image data (PNG/JPEG) normalized to Uint8Array.\n\tdata: Uint8Array;\n\n\t// Optional base64 data URL for easy embedding in HTML.\n\tdataUrl: string;\n\n\tpageNumber: number;\n\n\twidth: number;\n\theight: number;\n\tscale: number;\n}\n\n/**\n * @public\n * ScreenshotResult\n */\nexport class ScreenshotResult {\n\tpages: Array<Screenshot> = [];\n\ttotal: number = 0;\n\n\tconstructor(total: number) {\n\t\tthis.total = total;\n\t}\n}\n","export type TableArray = Array<Array<string>>;\n\n/**\n * @public\n * PageTableResult\n */\nexport interface PageTableResult {\n\tnum: number;\n\ttables: TableArray[];\n}\n\n/**\n * @public\n * TableResult\n */\nexport class TableResult {\n\tpages: Array<PageTableResult> = [];\n\tmergedTables: TableArray[] = [];\n\ttotal: number = 0;\n\n\tconstructor(total: number) {\n\t\tthis.total = total;\n\t}\n}\n","/**\n * @public\n * HyperlinkPosition\n */\nexport type HyperlinkPosition = {\n\trect: { left: number; top: number; right: number; bottom: number };\n\turl: string;\n\ttext: string;\n\tused: boolean;\n};\n\n/**\n * @public\n * PageTextResult\n */\nexport interface PageTextResult {\n\tnum: number;\n\ttext: string;\n}\n\n/**\n * @public\n * TextResult\n */\nexport class TextResult {\n\tpages: Array<PageTextResult> = [];\n\ttext: string = '';\n\ttotal: number = 0;\n\n\tpublic getPageText(num: number): string {\n\t\tfor (const pageData of this.pages) {\n\t\t\tif (pageData.num === num) return pageData.text;\n\t\t}\n\t\treturn '';\n\t}\n\n\tconstructor(total: number) {\n\t\tthis.total = total;\n\t}\n}\n","import type { PageViewport, PDFDocumentProxy, PDFPageProxy } from 'pdfjs-dist/legacy/build/pdf.mjs';\nimport * as pdfjs from 'pdfjs-dist/legacy/build/pdf.mjs';\nimport type { BaseCanvasFactory } from 'pdfjs-dist/types/src/display/canvas_factory.js';\nimport type { PDFObjects } from 'pdfjs-dist/types/src/display/pdf_objects.js';\n\nimport { getException } from './Exception.js';\nimport { Line, LineStore, Point, Rectangle } from './geometry/index.js';\nimport type { TableData } from './geometry/TableData.js';\nimport { ImageResult, type PageImages } from './ImageResult.js';\nimport { InfoResult, type PageLinkResult } from './InfoResult.js';\nimport type { LoadParameters } from './LoadParameters.js';\nimport { type ParseParameters, setDefaultParseParameters } from './ParseParameters.js';\nimport { type MinMax, PathGeometry } from './PathGeometry.js';\nimport { ScreenshotResult } from './ScreenshotResult.js';\nimport { type PageTableResult, TableResult } from './TableResult.js';\nimport { type HyperlinkPosition, TextResult } from './TextResult.js';\n\n/**\n * @public\n * Loads PDF documents and exposes helpers for text, image, table, metadata, and screenshot extraction.\n */\nexport class PDFParse {\n\tprivate readonly options: LoadParameters;\n\tprivate doc: PDFDocumentProxy | undefined;\n\tpublic progress: { loaded: number; total: number } = { loaded: -1, total: 0 };\n\n\t/**\n\t * Create a new parser with `LoadParameters`.\n\t * Converts Node.js `Buffer` data to `Uint8Array` automatically and ensures a default verbosity level.\n\t * @param options - Initialization parameters.\n\t */\n\tconstructor(options: LoadParameters) {\n\t\tif (options.verbosity === undefined) {\n\t\t\toptions.verbosity = pdfjs.VerbosityLevel.ERRORS;\n\t\t}\n\n\t\tif (typeof Buffer !== 'undefined' && options.data instanceof Buffer) {\n\t\t\toptions.data = new Uint8Array(options.data);\n\t\t}\n\n\t\tthis.options = options;\n\t}\n\n\tpublic async destroy() {\n\t\tif (this.doc) {\n\t\t\tawait this.doc.destroy();\n\t\t\tthis.doc = undefined;\n\t\t}\n\t}\n\n\t// biome-ignore-start lint/suspicious/noExplicitAny: unsupported underline type\n\tpublic static get isNodeJS(): boolean {\n\t\tconst isNodeJS =\n\t\t\ttypeof process === 'object' &&\n\t\t\t`${process}` === '[object process]' &&\n\t\t\t!process.versions.nw &&\n\t\t\t!(\n\t\t\t\tprocess.versions.electron &&\n\t\t\t\ttypeof (process as any).type !== 'undefined' &&\n\t\t\t\t(process as any).type !== 'browser'\n\t\t\t);\n\n\t\treturn isNodeJS;\n\t}\n\n\tpublic static setWorker(workerSrc?: string): string {\n\t\tif (typeof (globalThis as any).pdfjs === 'undefined') {\n\t\t\t(globalThis as any).pdfjs = pdfjs;\n\t\t}\n\n\t\tif (pdfjs?.GlobalWorkerOptions === null) return '';\n\n\t\tif (workerSrc !== undefined) {\n\t\t\tpdfjs.GlobalWorkerOptions.workerSrc = workerSrc;\n\t\t\treturn pdfjs.GlobalWorkerOptions.workerSrc;\n\t\t}\n\n\t\t// if (!PDFParse.isNodeJS) {\n\t\t// \tpdfjs.GlobalWorkerOptions.workerSrc =\n\t\t// \t\t'https://cdn.jsdelivr.net/npm/pdf-parse@latest/dist/browser/pdf.worker.min.mjs';\n\t\t// \treturn pdfjs.GlobalWorkerOptions.workerSrc;\n\t\t// }\n\n\t\treturn pdfjs.GlobalWorkerOptions.workerSrc;\n\t}\n\t// biome-ignore-end lint/suspicious/noExplicitAny: unsupported underline type\n\n\t/**\n\t * Load document-level metadata (info, outline, permissions, page labels) and optionally gather per-page link details.\n\t * @param params - Parse options; set `parsePageInfo` to collect per-page metadata described in `ParseParameters`.\n\t * @returns Aggregated document metadata in an `InfoResult`.\n\t */\n\tpublic async getInfo(params: ParseParameters = {}): Promise<InfoResult> {\n\t\tconst doc = await this.load();\n\t\tconst result = new InfoResult(doc.numPages);\n\n\t\tconst { info, metadata } = await doc.getMetadata();\n\t\tresult.info = info;\n\t\tresult.metadata = metadata;\n\n\t\tresult.fingerprints = doc.fingerprints;\n\t\tresult.outline = await doc.getOutline();\n\t\tresult.permission = await doc.getPermissions();\n\t\tconst pageLabels = await doc.getPageLabels();\n\n\t\tif (params.parsePageInfo) {\n\t\t\tfor (let i: number = 1; i <= result.total; i++) {\n\t\t\t\tif (this.shouldParse(i, result.total, params)) {\n\t\t\t\t\tconst page = await doc.getPage(i);\n\n\t\t\t\t\tconst pageLinkResult = await this.getPageLinks(page);\n\t\t\t\t\tpageLinkResult.pageLabel = pageLabels?.[page.pageNumber];\n\t\t\t\t\tresult.pages.push(pageLinkResult);\n\t\t\t\t\tpage.cleanup();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tprivate async getPageLinks(page: PDFPageProxy): Promise<PageLinkResult> {\n\t\tconst viewport = page.getViewport({ scale: 1 });\n\n\t\tconst result: PageLinkResult = {\n\t\t\tpageNumber: page.pageNumber,\n\t\t\tlinks: [],\n\t\t\twidth: viewport.width,\n\t\t\theight: viewport.height,\n\t\t};\n\n\t\t// biome-ignore lint/suspicious/noExplicitAny: <unsupported underline type>\n\t\tconst annotations: Array<any> = (await page.getAnnotations({ intent: 'display' })) || [];\n\n\t\tfor (const i of annotations) {\n\t\t\tif (i.subtype !== 'Link') continue;\n\n\t\t\tconst url: string = i.url ?? i.unsafeUrl;\n\t\t\tif (!url) continue;\n\n\t\t\tconst text: string = i.overlaidText || '';\n\n\t\t\tresult.links.push({ url, text });\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * Extract plain text for each requested page, optionally enriching hyperlinks and enforcing line or cell separators.\n\t * @param params - Parse options controlling pagination, link handling, and line/cell thresholds.\n\t * @returns A `TextResult` containing page-wise text and a concatenated document string.\n\t */\n\tpublic async getText(params: ParseParameters = {}): Promise<TextResult> {\n\t\tconst doc = await this.load();\n\t\tconst result = new TextResult(doc.numPages);\n\n\t\tfor (let i: number = 1; i <= result.total; i++) {\n\t\t\tif (this.shouldParse(i, result.total, params)) {\n\t\t\t\tconst page = await doc.getPage(i);\n\t\t\t\tconst text = await this.getPageText(page, params, result.total);\n\t\t\t\tresult.pages.push({\n\t\t\t\t\ttext: text,\n\t\t\t\t\tnum: i,\n\t\t\t\t});\n\t\t\t\tpage.cleanup();\n\t\t\t}\n\t\t}\n\n\t\tfor (const page of result.pages) {\n\t\t\tif (params.pageJoiner) {\n\t\t\t\tlet pageNumber = params.pageJoiner.replace('page_number', `${page.num}`);\n\t\t\t\tpageNumber = pageNumber.replace('total_number', `${result.total}`);\n\t\t\t\tresult.text += `${page.text}\\n${pageNumber}\\n\\n`;\n\t\t\t} else {\n\t\t\t\tresult.text += `${page.text}\\n\\n`;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tprivate async load(): Promise<PDFDocumentProxy> {\n\t\ttry {\n\t\t\tif (this.doc === undefined) {\n\t\t\t\tconst loadingTask = pdfjs.getDocument(this.options);\n\n\t\t\t\tloadingTask.onProgress = (progress: { loaded: number; total: number }) => {\n\t\t\t\t\tthis.progress = progress;\n\t\t\t\t};\n\n\t\t\t\tthis.doc = await loadingTask.promise;\n\t\t\t}\n\n\t\t\treturn this.doc;\n\t\t} catch (error) {\n\t\t\tthrow getException(error);\n\t\t}\n\t}\n\n\tprivate shouldParse(currentPage: number, totalPage: number, params: ParseParameters): boolean {\n\t\tparams.partial = params?.partial ?? [];\n\t\tparams.first = params?.first ?? 0;\n\t\tparams.last = params?.last ?? 0;\n\n\t\t// parse specific pages\n\t\tif (params.partial.length > 0) {\n\t\t\tif (params.partial.includes(currentPage)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\t// parse pagest beetween first..last\n\t\tif (params.first > 0 && params.last > 0) {\n\t\t\tif (currentPage >= params.first && currentPage <= params.last) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\t// parse first x page\n\t\tif (params.first > 0) {\n\t\t\tif (currentPage <= params.first) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\t// parse last x page\n\t\tif (params.last > 0) {\n\t\t\tif (currentPage > totalPage - params.last) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tprivate async getPageText(page: PDFPageProxy, parseParams: ParseParameters, total: number): Promise<string> {\n\t\tconst viewport = page.getViewport({ scale: 1 });\n\n\t\tconst params = setDefaultParseParameters(parseParams);\n\n\t\tconst textContent = await page.getTextContent({\n\t\t\tincludeMarkedContent: !!params.includeMarkedContent,\n\t\t\tdisableNormalization: !!params.disableNormalization,\n\t\t});\n\n\t\tlet links: Map<string, HyperlinkPosition[]> = new Map();\n\n\t\tif (params.parseHyperlinks) {\n\t\t\tlinks = await this.getHyperlinks(page, viewport);\n\t\t}\n\n\t\tconst strBuf: Array<string> = [];\n\n\t\tlet lastX: number | undefined;\n\t\tlet lastY: number | undefined;\n\t\tlet lineHeight: number = 0;\n\n\t\tfor (const item of textContent.items) {\n\t\t\tif (!('str' in item)) continue;\n\n\t\t\tconst tm = item.transform ?? item.transform;\n\t\t\tconst [x, y] = viewport.convertToViewportPoint(tm[4], tm[5]);\n\n\t\t\tif (params.parseHyperlinks) {\n\t\t\t\tconst posArr = links.get(item.str) || [];\n\t\t\t\tconst hit = posArr.find((l) => x >= l.rect.left && x <= l.rect.right && y >= l.rect.top && y <= l.rect.bottom);\n\t\t\t\tif (hit) {\n\t\t\t\t\titem.str = `[${item.str}](${hit.url})`;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (params.lineEnforce) {\n\t\t\t\tif (lastY !== undefined && Math.abs(lastY - y) > params.lineThreshold) {\n\t\t\t\t\tconst lastItem = strBuf.length ? strBuf[strBuf.length - 1] : undefined;\n\t\t\t\t\tconst isCurrentItemHasNewLine = item.str.startsWith('\\n') || (item.str.trim() === '' && item.hasEOL);\n\n\t\t\t\t\tif (lastItem?.endsWith('\\n') === false && !isCurrentItemHasNewLine) {\n\t\t\t\t\t\tconst ydiff = Math.abs(lastY - y);\n\n\t\t\t\t\t\tif (ydiff - 1 > lineHeight) {\n\t\t\t\t\t\t\tstrBuf.push('\\n');\n\t\t\t\t\t\t\tlineHeight = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (params.cellSeparator) {\n\t\t\t\tif (lastY !== undefined && Math.abs(lastY - y) < params.lineThreshold) {\n\t\t\t\t\tif (lastX !== undefined && Math.abs(lastX - x) > params.cellThreshold) {\n\t\t\t\t\t\titem.str = `${params.cellSeparator}${item.str}`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tstrBuf.push(item.str);\n\t\t\tlastX = x + item.width;\n\t\t\tlastY = y;\n\t\t\tlineHeight = Math.max(lineHeight, item.height);\n\n\t\t\tif (item.hasEOL) {\n\t\t\t\tstrBuf.push('\\n');\n\t\t\t}\n\n\t\t\tif (item.hasEOL || item.str.endsWith('\\n')) {\n\t\t\t\tlineHeight = 0;\n\t\t\t}\n\t\t}\n\n\t\tif (params.itemJoiner) {\n\t\t\treturn strBuf.join(params.itemJoiner);\n\t\t}\n\n\t\treturn strBuf.join('');\n\t}\n\n\tprivate async getHyperlinks(page: PDFPageProxy, viewport: PageViewport): Promise<Map<string, HyperlinkPosition[]>> {\n\t\tconst result: Map<string, HyperlinkPosition[]> = new Map();\n\n\t\t// biome-ignore lint/suspicious/noExplicitAny: <unsupported underline type>\n\t\tconst annotations: Array<any> = (await page.getAnnotations({ intent: 'display' })) || [];\n\n\t\tfor (const i of annotations) {\n\t\t\tif (i.subtype !== 'Link') continue;\n\n\t\t\tconst url: string = i.url ?? i.unsafeUrl;\n\t\t\tif (!url) continue;\n\n\t\t\tconst text: string = i.overlaidText;\n\t\t\tif (!text) continue;\n\n\t\t\tconst rectVp = viewport.convertToViewportRectangle(i.rect);\n\t\t\tconst left = Math.min(rectVp[0], rectVp[2]) - 0.5;\n\t\t\tconst top = Math.min(rectVp[1], rectVp[3]) - 0.5;\n\t\t\tconst right = Math.max(rectVp[0], rectVp[2]) + 0.5;\n\t\t\tconst bottom = Math.max(rectVp[1], rectVp[3]) + 0.5;\n\n\t\t\tconst pos: HyperlinkPosition = { rect: { left, top, right, bottom }, url, text, used: false };\n\n\t\t\tconst el = result.get(text);\n\t\t\tif (el) {\n\t\t\t\tel.push(pos);\n\t\t\t} else {\n\t\t\t\tresult.set(text, [pos]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * Extract embedded images from requested pages.\n\t *\n\t * Behavior notes:\n\t * - Pages are selected according to ParseParameters (partial, first, last).\n\t * - Images smaller than `params.imageThreshold` (width OR height) are skipped.\n\t * - Returned ImageResult contains per-page PageImages; each image entry includes:\n\t *     - data: Uint8Array (present when params.imageBuffer === true)\n\t *     - dataUrl: string (present when params.imageDataUrl === true)\n\t *     - width, height, kind, name\n\t * - Works in both Node.js (canvas.toBuffer) and browser (canvas.toDataURL) environments.\n\t *\n\t * @param params - ParseParameters controlling page selection, thresholds and output format.\n\t * @returns Promise<ImageResult> with extracted images grouped by page.\n\t */\n\tpublic async getImage(params: ParseParameters = {}): Promise<ImageResult> {\n\t\tconst doc = await this.load();\n\t\tconst result = new ImageResult(doc.numPages);\n\t\tsetDefaultParseParameters(params);\n\n\t\tfor (let i: number = 1; i <= result.total; i++) {\n\t\t\tif (this.shouldParse(i, result.total, params)) {\n\t\t\t\tconst page = await doc.getPage(i);\n\t\t\t\tconst ops = await page.getOperatorList();\n\n\t\t\t\tconst pageImages: PageImages = { pageNumber: i, images: [] };\n\t\t\t\tresult.pages.push(pageImages);\n\n\t\t\t\tfor (let j = 0; j < ops.fnArray.length; j++) {\n\t\t\t\t\tif (ops.fnArray[j] === pdfjs.OPS.paintInlineImageXObject || ops.fnArray[j] === pdfjs.OPS.paintImageXObject) {\n\t\t\t\t\t\tconst name = ops.argsArray[j][0];\n\t\t\t\t\t\tconst isCommon = page.commonObjs.has(name);\n\t\t\t\t\t\tconst imgPromise = isCommon\n\t\t\t\t\t\t\t? this.resolveEmbeddedImage(page.commonObjs, name)\n\t\t\t\t\t\t\t: this.resolveEmbeddedImage(page.objs, name);\n\n\t\t\t\t\t\tconst { width, height, kind, data } = await imgPromise;\n\n\t\t\t\t\t\tif (params.imageThreshold) {\n\t\t\t\t\t\t\tif (params.imageThreshold >= width || params.imageThreshold >= height) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// biome-ignore lint/suspicious/noExplicitAny: <underlying library does not contain valid typedefs>\n\t\t\t\t\t\tconst canvasFactory = (doc as any).canvasFactory;\n\n\t\t\t\t\t\tconst canvasAndContext = canvasFactory.create(width, height);\n\t\t\t\t\t\tconst context = canvasAndContext.context;\n\t\t\t\t\t\tlet imgData = null;\n\t\t\t\t\t\tif (kind === pdfjs.ImageKind.RGBA_32BPP) {\n\t\t\t\t\t\t\timgData = context.createImageData(width, height);\n\t\t\t\t\t\t\timgData.data.set(data);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\timgData = context.createImageData(width, height);\n\t\t\t\t\t\t\tthis.convertToRGBA({\n\t\t\t\t\t\t\t\tsrc: data,\n\t\t\t\t\t\t\t\tdest: new Uint32Array(imgData.data.buffer),\n\t\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\t\theight,\n\t\t\t\t\t\t\t\tkind,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontext.putImageData(imgData, 0, 0);\n\n\t\t\t\t\t\t// Browser and Node.js compatibility\n\t\t\t\t\t\tlet buffer: Uint8Array = new Uint8Array();\n\t\t\t\t\t\tlet dataUrl: string = '';\n\n\t\t\t\t\t\tif (typeof canvasAndContext.canvas.toBuffer === 'function') {\n\t\t\t\t\t\t\t// Node.js environment (canvas package)\n\t\t\t\t\t\t\t// biome-ignore lint/suspicious/noExplicitAny: <underline lib not support>\n\t\t\t\t\t\t\tlet nodeBuffer: any;\n\n\t\t\t\t\t\t\tif (params.imageBuffer) {\n\t\t\t\t\t\t\t\tnodeBuffer = canvasAndContext.canvas.toBuffer('image/png');\n\t\t\t\t\t\t\t\tbuffer = new Uint8Array(nodeBuffer);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (params.imageDataUrl) {\n\t\t\t\t\t\t\t\tif (nodeBuffer) {\n\t\t\t\t\t\t\t\t\tdataUrl = `data:image/png;base64,${nodeBuffer.toString('base64')}`;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnodeBuffer = canvasAndContext.canvas.toBuffer('image/png');\n\t\t\t\t\t\t\t\t\tbuffer = new Uint8Array(nodeBuffer);\n\t\t\t\t\t\t\t\t\tdataUrl = `data:image/png;base64,${nodeBuffer.toString('base64')}`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Browser environment\n\t\t\t\t\t\t\tif (params.imageBuffer) {\n\t\t\t\t\t\t\t\tconst imageData = canvasAndContext.context.getImageData(\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\tcanvasAndContext.canvas.width,\n\t\t\t\t\t\t\t\t\tcanvasAndContext.canvas.height,\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tbuffer = new Uint8Array(imageData.data);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (params.imageDataUrl) {\n\t\t\t\t\t\t\t\tdataUrl = canvasAndContext.canvas.toDataURL('image/png');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tpageImages.images.push({\n\t\t\t\t\t\t\tdata: buffer,\n\t\t\t\t\t\t\tdataUrl,\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\theight,\n\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\tkind,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tprivate convertToRGBA({\n\t\tsrc,\n\t\tdest,\n\t\twidth,\n\t\theight,\n\t\tkind,\n\t}: {\n\t\tsrc: Uint8Array;\n\t\tdest: Uint32Array;\n\t\twidth: number;\n\t\theight: number;\n\t\tkind: number;\n\t}) {\n\t\tif (kind === pdfjs.ImageKind.RGB_24BPP) {\n\t\t\t// RGB 24-bit per pixel\n\t\t\tfor (let i = 0, j = 0; i < src.length; i += 3, j++) {\n\t\t\t\tconst r = src[i];\n\t\t\t\tconst g = src[i + 1];\n\t\t\t\tconst b = src[i + 2];\n\t\t\t\tdest[j] = (255 << 24) | (b << 16) | (g << 8) | r;\n\t\t\t}\n\t\t} else if (kind === pdfjs.ImageKind.GRAYSCALE_1BPP) {\n\t\t\t// Grayscale 1-bit per pixel\n\t\t\tlet pixelIndex = 0;\n\t\t\tfor (let i = 0; i < src.length; i++) {\n\t\t\t\tconst byte = src[i];\n\t\t\t\tfor (let bit = 7; bit >= 0; bit--) {\n\t\t\t\t\tif (pixelIndex >= width * height) break;\n\t\t\t\t\tconst isWhite = ((byte >> bit) & 1) === 1;\n\t\t\t\t\tconst gray = isWhite ? 255 : 0;\n\t\t\t\t\tdest[pixelIndex++] = (255 << 24) | (gray << 16) | (gray << 8) | gray;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (kind === undefined || kind === null) {\n\t\t\t// Unknown or undefined kind - try to infer from data length\n\t\t\tconst bytesPerPixel = src.length / (width * height);\n\t\t\tif (Math.abs(bytesPerPixel - 3) < 0.1) {\n\t\t\t\t// Likely RGB 24BPP\n\t\t\t\tfor (let i = 0, j = 0; i < src.length; i += 3, j++) {\n\t\t\t\t\tconst r = src[i];\n\t\t\t\t\tconst g = src[i + 1];\n\t\t\t\t\tconst b = src[i + 2];\n\t\t\t\t\tdest[j] = (255 << 24) | (b << 16) | (g << 8) | r;\n\t\t\t\t}\n\t\t\t} else if (Math.abs(bytesPerPixel - 4) < 0.1) {\n\t\t\t\t// Likely RGBA 32BPP\n\t\t\t\tfor (let i = 0, j = 0; i < src.length; i += 4, j++) {\n\t\t\t\t\tconst r = src[i];\n\t\t\t\t\tconst g = src[i + 1];\n\t\t\t\t\tconst b = src[i + 2];\n\t\t\t\t\tconst a = src[i + 3];\n\t\t\t\t\tdest[j] = (a << 24) | (b << 16) | (g << 8) | r;\n\t\t\t\t}\n\t\t\t} else if (Math.abs(bytesPerPixel - 1) < 0.1) {\n\t\t\t\t// Likely grayscale 8BPP\n\t\t\t\tfor (let i = 0; i < src.length; i++) {\n\t\t\t\t\tconst gray = src[i];\n\t\t\t\t\tdest[i] = (255 << 24) | (gray << 16) | (gray << 8) | gray;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`convertToRGBA: Cannot infer image format. kind: ${kind}, bytesPerPixel: ${bytesPerPixel}, width: ${width}, height: ${height}, dataLength: ${src.length}`,\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error(\n\t\t\t\t`convertToRGBA: Unsupported image kind: ${kind}. Available kinds: GRAYSCALE_1BPP=${pdfjs.ImageKind.GRAYSCALE_1BPP}, RGB_24BPP=${pdfjs.ImageKind.RGB_24BPP}, RGBA_32BPP=${pdfjs.ImageKind.RGBA_32BPP}`,\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate resolveEmbeddedImage(\n\t\tpdfObjects: PDFObjects,\n\t\tname: string,\n\t): Promise<{ width: number; height: number; kind: number; data: Uint8Array }> {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t// biome-ignore lint/suspicious/noExplicitAny: <underlying library does not contain valid typedefs>\n\t\t\tpdfObjects.get(name, (imgData: any) => {\n\t\t\t\tif (imgData) {\n\t\t\t\t\t// Check different possible data sources\n\t\t\t\t\tlet dataBuff: Uint8Array | undefined;\n\n\t\t\t\t\tif (imgData.data instanceof Uint8Array) {\n\t\t\t\t\t\tdataBuff = imgData.data;\n\t\t\t\t\t} else if (imgData.data instanceof Uint8ClampedArray) {\n\t\t\t\t\t\tdataBuff = new Uint8Array(imgData.data);\n\t\t\t\t\t} else if (imgData.data?.buffer) {\n\t\t\t\t\t\t// Typed array with buffer\n\t\t\t\t\t\tdataBuff = new Uint8Array(imgData.data.buffer);\n\t\t\t\t\t} else if (imgData.bitmap) {\n\t\t\t\t\t\t// Some browsers might use bitmap\n\t\t\t\t\t\t// biome-ignore lint/suspicious/noExplicitAny: <underlying library does not contain valid typedefs>\n\t\t\t\t\t\tconst canvasFactory: BaseCanvasFactory = (this.doc as any).canvasFactory;\n\t\t\t\t\t\tconst canvasAndContext = canvasFactory.create(imgData.bitmap.width, imgData.bitmap.height);\n\t\t\t\t\t\tcanvasAndContext.context.drawImage(imgData.bitmap, 0, 0);\n\t\t\t\t\t\tconst imageData = canvasAndContext.context.getImageData(0, 0, imgData.bitmap.width, imgData.bitmap.height);\n\t\t\t\t\t\tdataBuff = new Uint8Array(imageData.data.buffer);\n\t\t\t\t\t} else if (ArrayBuffer.isView(imgData.data)) {\n\t\t\t\t\t\t// Generic typed array\n\t\t\t\t\t\tdataBuff = new Uint8Array(imgData.data.buffer, imgData.data.byteOffset, imgData.data.byteLength);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!dataBuff) {\n\t\t\t\t\t\treject(\n\t\t\t\t\t\t\tnew Error(\n\t\t\t\t\t\t\t\t`Image object ${name}: data field is empty or invalid. Available fields: ${Object.keys(imgData).join(', ')}`,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (dataBuff.length === 0) {\n\t\t\t\t\t\treject(new Error(`Image object ${name}: data buffer is empty (length: 0)`));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve({ width: imgData.width, height: imgData.height, kind: imgData.kind, data: dataBuff });\n\t\t\t\t} else {\n\t\t\t\t\treject(new Error(`Image object ${name} not found`));\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Render pages to raster screenshots.\n\t *\n\t * Behavior notes:\n\t * - Pages are selected according to ParseParameters (partial, first, last).\n\t * - Use params.scale for zoom; if params.desiredWidth is specified it takes precedence.\n\t * - Each ScreenshotResult page contains:\n\t *     - data: Uint8Array (when params.imageBuffer === true)\n\t *     - dataUrl: string (when params.imageDataUrl === true)\n\t *     - pageNumber, width, height, scale\n\t * - Works in both Node.js (canvas.toBuffer) and browser (canvas.toDataURL) environments.\n\t *\n\t * @param parseParams - ParseParameters controlling page selection and render options.\n\t * @returns Promise<ScreenshotResult> with rendered page images.\n\t */\n\tpublic async getScreenshot(parseParams: ParseParameters = {}): Promise<ScreenshotResult> {\n\t\t//const base = new URL('../../node_modules/pdfjs-dist/', import.meta.url);\n\t\t//this.options.cMapUrl = new URL('cmaps/', base).href;\n\t\t//this.options.cMapPacked = true;\n\t\t//this.options.standardFontDataUrl = new URL('legacy/build/standard_fonts/', base).href;\n\n\t\tconst params = setDefaultParseParameters(parseParams);\n\n\t\tconst doc = await this.load();\n\t\tconst result = new ScreenshotResult(doc.numPages);\n\n\t\tif (this.doc === undefined) {\n\t\t\tthrow new Error('PDF document not loaded');\n\t\t}\n\n\t\tfor (let i: number = 1; i <= result.total; i++) {\n\t\t\tif (this.shouldParse(i, result.total, params)) {\n\t\t\t\tconst page = await this.doc.getPage(i);\n\n\t\t\t\tlet viewport = page.getViewport({ scale: params.scale });\n\t\t\t\tif (params.desiredWidth) {\n\t\t\t\t\tviewport = page.getViewport({ scale: 1 });\n\t\t\t\t\t// desiredWidth\n\t\t\t\t\tconst scale = params.desiredWidth / viewport.width;\n\t\t\t\t\tviewport = page.getViewport({ scale: scale });\n\t\t\t\t}\n\n\t\t\t\t// biome-ignore lint/suspicious/noExplicitAny: <underlying library does not contain valid typedefs>\n\t\t\t\tconst canvasFactory = (this.doc as any).canvasFactory;\n\t\t\t\tconst canvasAndContext = canvasFactory.create(viewport.width, viewport.height);\n\t\t\t\tconst renderContext = {\n\t\t\t\t\tcanvasContext: canvasAndContext.context,\n\t\t\t\t\tviewport,\n\t\t\t\t\tcanvas: canvasAndContext.canvas,\n\t\t\t\t};\n\n\t\t\t\tconst renderTask = page.render(renderContext);\n\t\t\t\tawait renderTask.promise;\n\t\t\t\t// Convert the canvas to an image buffer.\n\t\t\t\tlet data: Uint8Array = new Uint8Array();\n\t\t\t\tlet dataUrl: string = '';\n\n\t\t\t\tif (typeof canvasAndContext.canvas.toBuffer === 'function') {\n\t\t\t\t\t// Node.js environment (canvas package)\n\t\t\t\t\t// biome-ignore lint/suspicious/noExplicitAny: <underline lib not support>\n\t\t\t\t\tlet nodeBuffer: any;\n\n\t\t\t\t\tif (params.imageBuffer) {\n\t\t\t\t\t\tnodeBuffer = canvasAndContext.canvas.toBuffer('image/png');\n\t\t\t\t\t\tdata = new Uint8Array(nodeBuffer);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (params.imageDataUrl) {\n\t\t\t\t\t\tif (nodeBuffer) {\n\t\t\t\t\t\t\tdataUrl = `data:image/png;base64,${nodeBuffer.toString('base64')}`;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnodeBuffer = canvasAndContext.canvas.toBuffer('image/png');\n\t\t\t\t\t\t\tdata = new Uint8Array(nodeBuffer);\n\t\t\t\t\t\t\tdataUrl = `data:image/png;base64,${nodeBuffer.toString('base64')}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Browser environment\n\t\t\t\t\tif (params.imageBuffer) {\n\t\t\t\t\t\tconst imageData = canvasAndContext.context.getImageData(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tcanvasAndContext.canvas.width,\n\t\t\t\t\t\t\tcanvasAndContext.canvas.height,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tdata = new Uint8Array(imageData.data);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (params.imageDataUrl) {\n\t\t\t\t\t\tdataUrl = canvasAndContext.canvas.toDataURL('image/png');\n\t\t\t\t\t\t//const base64 = dataUrl.split(',')[1];\n\t\t\t\t\t\t//const binaryString = atob(base64);\n\t\t\t\t\t\t//data = new Uint8Array(binaryString.length);\n\t\t\t\t\t\t//for (let i = 0; i < binaryString.length; i++) {\n\t\t\t\t\t\t//\tdata[i] = binaryString.charCodeAt(i);\n\t\t\t\t\t\t//}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tresult.pages.push({\n\t\t\t\t\tdata,\n\t\t\t\t\tdataUrl,\n\t\t\t\t\tpageNumber: i,\n\t\t\t\t\twidth: viewport.width,\n\t\t\t\t\theight: viewport.height,\n\t\t\t\t\tscale: viewport.scale,\n\t\t\t\t});\n\n\t\t\t\tpage.cleanup();\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * Detect and extract tables from pages by analysing vector drawing operators, then populate cells with text.\n\t *\n\t * Behavior notes:\n\t * - Scans operator lists for rectangles/lines that form table grids (uses PathGeometry and LineStore).\n\t * - Normalizes detected geometry and matches positioned text to table cells.\n\t * - Honors ParseParameters for page selection.\n\t *\n\t * @param params - ParseParameters controlling which pages to analyse (partial/first/last).\n\t * @returns Promise<TableResult> containing discovered tables per page.\n\t */\n\tpublic async getTable(params: ParseParameters = {}): Promise<TableResult> {\n\t\tconst doc = await this.load();\n\t\tconst result = new TableResult(doc.numPages);\n\n\t\tif (this.doc === undefined) {\n\t\t\tthrow new Error('PDF document not loaded');\n\t\t}\n\n\t\tfor (let i: number = 1; i <= result.total; i++) {\n\t\t\tif (this.shouldParse(i, result.total, params)) {\n\t\t\t\tconst page = await this.doc.getPage(i);\n\t\t\t\t//const viewport = page.getViewport({ scale: 1 });\n\t\t\t\t//viewport.convertToViewportPoint(0, 0);\n\n\t\t\t\tconst store = await this.getPageTables(page);\n\t\t\t\t//const store = await this.getPageGeometry(page);\n\n\t\t\t\tstore.normalize();\n\n\t\t\t\tconst tableDataArr = store.getTableData();\n\t\t\t\tawait this.fillPageTables(page, tableDataArr);\n\n\t\t\t\tconst pageTableResult: PageTableResult = { num: i, tables: [] };\n\t\t\t\tfor (const table of tableDataArr) {\n\t\t\t\t\t//if (table.cellCount < 3) continue\n\t\t\t\t\tpageTableResult.tables.push(table.toArray());\n\t\t\t\t\t//const pageTableResult: PageTableResult = { num: i, tables: table.toArray() };\n\n\t\t\t\t\t//pageTableResult.tables.push(table.toData())\n\t\t\t\t}\n\t\t\t\tresult.pages.push(pageTableResult);\n\n\t\t\t\tpage.cleanup();\n\t\t\t}\n\t\t}\n\n\t\t// for (const table of Table.AllTables) {\n\t\t//     if (table.cellCount < 3) continue\n\t\t//     const str = table.toString()\n\t\t//     console.log(str)\n\t\t// }\n\t\treturn result;\n\t}\n\n\tprivate getPathGeometry(mm: MinMax): PathGeometry {\n\t\tconst width = mm[2] - mm[0];\n\t\tconst height = mm[3] - mm[1];\n\n\t\tif (mm[0] === Infinity) {\n\t\t\treturn PathGeometry.undefined;\n\t\t}\n\n\t\tif (width > 5 && height > 5) {\n\t\t\treturn PathGeometry.rectangle;\n\t\t} else if (width > 5 && height === 0) {\n\t\t\treturn PathGeometry.hline;\n\t\t} else if (width === 0 && height > 5) {\n\t\t\treturn PathGeometry.vline;\n\t\t}\n\n\t\treturn PathGeometry.undefined;\n\t}\n\n\tprivate async getPageTables(page: PDFPageProxy): Promise<LineStore> {\n\t\tconst lineStore: LineStore = new LineStore();\n\t\tconst viewport = page.getViewport({ scale: 1 });\n\t\tlet transformMatrix = [1, 0, 0, 1, 0, 0];\n\t\tconst transformStack: Array<Array<number>> = [];\n\n\t\tconst opList = await page.getOperatorList();\n\n\t\tfor (let i = 0; i < opList.fnArray.length; i++) {\n\t\t\tconst fn = opList.fnArray[i];\n\t\t\tconst args = opList.argsArray[i];\n\t\t\tconst op = args?.[0] ?? 0;\n\t\t\tconst mm = args?.[2] ?? [Infinity, Infinity, -Infinity, -Infinity];\n\t\t\t//const minMax = new Float32Array([Infinity, Infinity, -Infinity, -Infinity]);\n\n\t\t\tif (fn === pdfjs.OPS.constructPath) {\n\t\t\t\tif (op === pdfjs.OPS.fill) {\n\t\t\t\t\t//debugger;\n\t\t\t\t}\n\t\t\t\tif (op !== pdfjs.OPS.stroke) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tconst pg = this.getPathGeometry(mm);\n\t\t\t\tif (pg === PathGeometry.rectangle) {\n\t\t\t\t\tconst rect = new Rectangle(new Point(mm[0], mm[1]), mm[2] - mm[0], mm[3] - mm[1]);\n\t\t\t\t\trect.transform(transformMatrix);\n\t\t\t\t\trect.transform(viewport.transform);\n\t\t\t\t\tlineStore.addRectangle(rect);\n\t\t\t\t} else if (pg === PathGeometry.hline || pg === PathGeometry.vline) {\n\t\t\t\t\tconst from = new Point(mm[0], mm[1]);\n\t\t\t\t\tconst to = new Point(mm[2], mm[3]);\n\t\t\t\t\tconst line = new Line(from, to);\n\t\t\t\t\tline.transform(transformMatrix);\n\t\t\t\t\tline.transform(viewport.transform);\n\t\t\t\t\tlineStore.add(line);\n\t\t\t\t} else {\n\t\t\t\t\t//debugger;\n\t\t\t\t}\n\n\t\t\t\t// if (op === pdfjs.OPS.rectangle) {\n\t\t\t\t// \tdebugger;\n\t\t\t\t// } else if (op === pdfjs.OPS.moveTo) {\n\t\t\t\t// \tdebugger;\n\t\t\t\t// } else if (op === pdfjs.OPS.lineTo) {\n\t\t\t\t// \tdebugger;\n\t\t\t\t// } else if (op === pdfjs.OPS.endPath) {\n\t\t\t\t// \tconst combinedMatrix = pdfjs.Util.transform(viewport.transform, transformMatrix);\n\n\t\t\t\t// \t// while (args[1].length) {\n\t\t\t\t// \t// \tconst drawOp = args[1].shift();\n\t\t\t\t// \t// \tdebugger;\n\t\t\t\t// \t// }\n\t\t\t\t// } else {\n\t\t\t\t// \t//debugger;\n\t\t\t\t// }\n\t\t\t} else if (fn === pdfjs.OPS.setLineWidth) {\n\t\t\t\t//debugger;\n\t\t\t} else if (fn === pdfjs.OPS.save) {\n\t\t\t\ttransformStack.push(transformMatrix);\n\t\t\t} else if (fn === pdfjs.OPS.restore) {\n\t\t\t\tconst restoredMatrix = transformStack.pop();\n\t\t\t\tif (restoredMatrix) {\n\t\t\t\t\ttransformMatrix = restoredMatrix;\n\t\t\t\t}\n\t\t\t} else if (fn === pdfjs.OPS.transform) {\n\t\t\t\t//transformMatrix = this.transform_fn(transformMatrix, args);\n\t\t\t\ttransformMatrix = pdfjs.Util.transform(transformMatrix, args);\n\t\t\t}\n\t\t}\n\n\t\treturn lineStore;\n\t}\n\n\t// private async getPageGeometry(page: PDFPageProxy): Promise<LineStore> {\n\t// \tconst lineStore: LineStore = new LineStore();\n\t// \tconst opList = await page.getOperatorList();\n\n\t// \tconst viewport = page.getViewport({ scale: 1 });\n\n\t// \tlet transformMatrix = [1, 0, 0, 1, 0, 0];\n\t// \tconst transformStack: Array<Array<number>> = [];\n\n\t// \tlet current_x: number = 0;\n\t// \tlet current_y: number = 0;\n\n\t// \tfor (let j = 0; j < opList.fnArray.length; j++) {\n\t// \t\tconst fn = opList.fnArray[j];\n\t// \t\tconst args = opList.argsArray[j];\n\n\t// \t\tif (fn === pdfjs.OPS.constructPath) {\n\t// \t\t\twhile (args[0].length) {\n\t// \t\t\t\tconst op = args[0].shift();\n\n\t// \t\t\t\tconst combinedMatrix = pdfjs.Util.transform(viewport.transform, transformMatrix);\n\n\t// \t\t\t\tif (op === pdfjs.OPS.rectangle) {\n\t// \t\t\t\t\tconst x = args[1].shift();\n\t// \t\t\t\t\tconst y = args[1].shift();\n\t// \t\t\t\t\tconst width = args[1].shift();\n\t// \t\t\t\t\tconst height = args[1].shift();\n\n\t// \t\t\t\t\tif (Math.min(width, height) <= 2) {\n\t// \t\t\t\t\t\t// TODO remove\n\t// \t\t\t\t\t\tdebugger;\n\t// \t\t\t\t\t}\n\n\t// \t\t\t\t\tconst rect = new Rectangle(new Point(x, y), width, height);\n\t// \t\t\t\t\trect.transform(combinedMatrix);\n\t// \t\t\t\t\t//rect.transform(viewport.transform);\n\n\t// \t\t\t\t\tlineStore.addRectangle(rect);\n\t// \t\t\t\t} else if (op === pdfjs.OPS.moveTo) {\n\t// \t\t\t\t\tcurrent_x = args[1].shift();\n\t// \t\t\t\t\tcurrent_y = args[1].shift();\n\t// \t\t\t\t} else if (op === pdfjs.OPS.lineTo) {\n\t// \t\t\t\t\tconst x = args[1].shift();\n\t// \t\t\t\t\tconst y = args[1].shift();\n\n\t// \t\t\t\t\t//default trasform\n\t// \t\t\t\t\tconst from = new Point(current_x, current_y);\n\t// \t\t\t\t\tconst to = new Point(x, y);\n\t// \t\t\t\t\tconst line = new Line(from, to);\n\t// \t\t\t\t\tline.transform(combinedMatrix);\n\t// \t\t\t\t\t//line.transform(viewport.transform);\n\n\t// \t\t\t\t\t// // viewport transform\n\t// \t\t\t\t\t// const _from = viewport.convertToViewportPoint(line.from.x, line.from.y)\n\t// \t\t\t\t\t// const _to = viewport.convertToViewportPoint(line.to.x, line.to.y)\n\t// \t\t\t\t\t//\n\t// \t\t\t\t\t// const transformedLine = new Line(new Point(_from[0], _from[1]), new Point(_to[0], _to[1]))\n\t// \t\t\t\t\tlineStore.add(line);\n\n\t// \t\t\t\t\tcurrent_x = x;\n\t// \t\t\t\t\tcurrent_y = y;\n\t// \t\t\t\t}\n\t// \t\t\t}\n\t// \t\t} else if (fn === pdfjs.OPS.save) {\n\t// \t\t\ttransformStack.push(transformMatrix);\n\t// \t\t} else if (fn === pdfjs.OPS.restore) {\n\t// \t\t\tconst restoredMatrix = transformStack.pop();\n\t// \t\t\tif (restoredMatrix) {\n\t// \t\t\t\ttransformMatrix = restoredMatrix;\n\t// \t\t\t}\n\t// \t\t} else if (fn === pdfjs.OPS.transform) {\n\t// \t\t\t//transformMatrix = this.transform_fn(transformMatrix, args);\n\t// \t\t\ttransformMatrix = pdfjs.Util.transform(transformMatrix, args);\n\t// \t\t}\n\t// \t}\n\n\t// \treturn lineStore;\n\t// }\n\n\tprivate async fillPageTables(page: PDFPageProxy, pageTables: Array<TableData>): Promise<void> {\n\t\t//const resultTable: Array<Table> = []\n\n\t\tconst viewport = page.getViewport({ scale: 1 });\n\n\t\t// for (let i = 0; i < pageTables.length; i++) {\n\t\t//     const currentTable = pageTables[i]\n\t\t// }\n\n\t\t//pageTables = pageTables.filter((table) => table.cellCount > 3)\n\n\t\tconst textContent = await page.getTextContent({\n\t\t\tincludeMarkedContent: false,\n\t\t\tdisableNormalization: false,\n\t\t});\n\n\t\tfor (const textItem of textContent.items) {\n\t\t\tif (!('str' in textItem)) continue;\n\n\t\t\tconst tx = pdfjs.Util.transform(\n\t\t\t\tpdfjs.Util.transform(viewport.transform, textItem.transform),\n\t\t\t\t[1, 0, 0, -1, 0, 0],\n\t\t\t);\n\n\t\t\t//const resXY = viewport.convertToViewportPoint(tx[4], tx[5]);\n\t\t\t// textItem.transform = pdfjs.Util.transform(viewport.transform, textItem.transform)\n\t\t\t// textItem.transform[5] = viewport.height - textItem.transform[5] - textItem.height\n\n\t\t\tfor (const pageTable of pageTables) {\n\t\t\t\tconst cell = pageTable.findCell(tx[4], tx[5]);\n\t\t\t\tif (cell) {\n\t\t\t\t\tcell.text.push(textItem.str);\n\t\t\t\t\tif (textItem.hasEOL) {\n\t\t\t\t\t\tcell.text.push('\\n');\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//Table.tryAddText(pageTables, textItem)\n\t\t}\n\t}\n}\n\n//PDFParse.setWorker();\n"],"names":["__webpack_modules__","module","__unused_webpack_exports","__webpack_require__","isCallable","exports","it","call","aCallable","anObject","tryToString","getIteratorMethod","$TypeError","TypeError","argument","usingIterator","iteratorMethod","arguments","length","__unused_webpack_module","$","iterate","getIteratorDirect","iteratorClose","findWithoutClosingOnEarlyError","iteratorHelperWithoutClosingOnEarlyError","target","proto","real","forced","find","predicate","this","error","record","counter","value","stop","IS_RECORD","INTERRUPTED","result","uncurryThis","fails","hasOwn","DESCRIPTORS","CONFIGURABLE_FUNCTION_NAME","CONFIGURABLE","inspectSource","InternalStateModule","enforceInternalState","enforce","getInternalState","get","$String","String","defineProperty","Object","stringSlice","slice","replace","join","CONFIGURABLE_LENGTH","TEMPLATE","split","makeBuiltIn","name","options","getter","setter","configurable","arity","constructor","writable","prototype","state","source","Function","toString","FunctionPrototype","getDescriptor","getOwnPropertyDescriptor","EXISTS","PROPER","getBuiltIn","globalThis","anUint8Array","notDetached","numberToString","Uint8Array","INCORRECT_BEHAVIOR_OR_DOESNT_EXISTS","toHex","buffer","i","hex","fn","ITERATOR_INSTEAD_OF_RECORD","step","iterator","next","done","getIteratorFlattenable","createIteratorProxy","IS_PURE","iteratorHelperThrowsOnInvalidIterator","FLAT_MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR","flatMapWithoutClosingOnEarlyError","FORCED","IteratorProxy","inner","mapper","flatMap","test","bind","hasOwnProperty","classof","isPrototypeOf","Prototype","methodName","method","Iterator","ceil","Math","floor","trunc","x","n","USE_SYMBOL_AS_UID","$Object","$Symbol","getMethod","isNullOrUndefined","Iterators","ITERATOR","wellKnownSymbol","alphabet","internalObjectKeys","enumBugKeys","keys","O","exec","klass","everyWithoutClosingOnEarlyError","every","stopped","set","has","NATIVE_WEAK_MAP","isObject","createNonEnumerableProperty","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","store","metadata","facade","STATE","getterFor","TYPE","type","number","iters","kind","V8","ENVIRONMENT","structuredClone","ArrayBuffer","clone","transfer","byteLength","apply","newPromiseCapabilityModule","perform","Promise","ACCEPT_ARGUMENTS","stat","try","callbackfn","args","promiseCapability","f","reject","resolve","promise","union","setMethodGetKeysBeforeCloning","setMethodAcceptSetLike","callWithSafeIterationClosing","MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR","mapWithoutClosingOnEarlyError","map","obj","toIndexedObject","indexOf","push","object","names","key","descriptor","F","getPrototypeOf","SyntaxError","parseInt","min","NOT_HEX","string","into","stringLength","maxLength","bytes","read","written","hexits","activeXDocument","definePropertiesModule","html","documentCreateElement","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","content","LT","NullProtoObjectViaActiveX","write","close","temp","parentWindow","NullProtoObject","ActiveXObject","iframeDocument","iframe","JS","document","domain","style","display","appendChild","src","contentWindow","open","create","Properties","isSupersetOf","FILTER_WITHOUT_THROWING_ON_INVALID_ITERATOR","filterWithoutClosingOnEarlyError","filter","$default","isArrayIteratorMethod","lengthOfArrayLike","getIterator","Result","ResultPrototype","iterable","unboundFunction","iterFn","index","that","AS_ENTRIES","IS_ITERATOR","condition","callFn","isSymbol","ordinaryToPrimitive","TO_PRIMITIVE","input","pref","exoticToPrim","toObject","CORRECT_PROTOTYPE_GETTER","ObjectPrototype","replacement","isForced","feature","detection","data","normalize","POLYFILL","NATIVE","toLowerCase","commonAlphabet","base64Alphabet","base64UrlAlphabet","inverse","characters","charAt","i2c","c2i","i2cUrl","c2iUrl","passed","required","navigator","userAgent","uncurryThisAccessor","requireObjectCoercible","aPossiblePrototype","setPrototypeOf","CORRECT_SETTER","Array","__proto__","$RangeError","RangeError","$Infinity","Infinity","abs","pow","POW_2_1023","MAX_SAFE_INTEGER","MAX_DOUBLE","Number","MAX_VALUE","MAX_ULP","NOT_A_NUMBER","MINUS_INFINITY","PLUS_INFINITY","MINUS_ZERO","FINITE","twosum","y","hi","lo","sumPrecise","items","numbers","count","NaN","sum","tmp","partials","overflow","actuallyUsedPartials","j","sign","$this","dummy","Wrapper","NewTarget","NewTargetPrototype","NATIVE_ARRAY_BUFFER","arrayBufferByteLength","DataView","id","postfix","random","aSet","SetHelpers","size","getSetRecord","iterateSet","iterateSimple","remove","other","otherRec","e","includes","isPossiblePrototype","someWithoutClosingOnEarlyError","some","add","keysIter","functionToString","getOwnPropertySymbols","toIntegerOrInfinity","INVALID_SIZE","max","SetRecord","intSize","numSize","isDisjointFrom","createElement","setArrayLength","doesNotExceedSafeInteger","properErrorOnNonWritableLength","item","len","argCount","ArrayPrototype","userAgentStartsWith","Bun","version","Deno","process","window","aString","$fromHex","setFromHex","val","valueOf","isArray","SetPrototype","Set","WorkerThreads","channel","$detach","getBuiltInNodeModule","PROPER_STRUCTURED_CLONE_TRANSFER","$ArrayBuffer","$MessageChannel","MessageChannel","detach","transferable","port1","postMessage","V8_VERSION","symbol","Symbol","sham","SILENT_ON_NON_WRITABLE_LENGTH_SET","METHOD_NAME","ExpectedError","IteratorPrototype","CLOSED","return","check","self","global","defineBuiltIn","validateArgumentsLength","$URLSearchParams","URLSearchParams","URLSearchParamsPrototype","append","$delete","forEach","params","$value","entries","v","k","entry","dindex","found","entriesLength","enumerable","unsafe","withResolvers","NAME","Constructor","defineBuiltInAccessor","uid","Int8Array","Int8ArrayPrototype","Uint8ClampedArray","Uint8ClampedArrayPrototype","TypedArray","TypedArrayPrototype","TO_STRING_TAG","TYPED_ARRAY_TAG","TYPED_ARRAY_CONSTRUCTOR","NATIVE_ARRAY_BUFFER_VIEWS","opera","TYPED_ARRAY_TAG_REQUIRED","TypedArrayConstructorsList","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigIntArrayConstructorsList","BigInt64Array","BigUint64Array","getTypedArrayConstructor","isTypedArray","aTypedArray","aTypedArrayConstructor","C","exportTypedArrayMethod","KEY","property","ARRAY","TypedArrayConstructor","error2","exportTypedArrayStaticMethod","isView","definePropertyModule","createPropertyDescriptor","documentAll","all","IE8_DOM_DEFINE","V8_PROTOTYPE_DEFINE_BUG","toPropertyKey","$defineProperty","$getOwnPropertyDescriptor","ENUMERABLE","WRITABLE","P","Attributes","current","createSetLike","createSetLikeWithInfinitySize","Error","callback","notANaN","toPositiveInteger","takeWithoutClosingOnEarlyError","remaining","take","limit","anInstance","inheritIfRequired","normalizeStringArgument","DOMExceptionConstants","clearErrorStack","DOM_EXCEPTION","NativeDOMException","$DOMException","DOMExceptionPrototype","argumentsLength","message","stack","ERROR_HAS_STACK","DOM_EXCEPTION_HAS_STACK","BUGGY_DESCRIPTOR","FORCED_CONSTRUCTOR","DOMException","PolyfilledDOMException","PolyfilledDOMExceptionPrototype","constant","constantName","s","c","IndexSizeError","m","DOMStringSizeError","HierarchyRequestError","WrongDocumentError","InvalidCharacterError","NoDataAllowedError","NoModificationAllowedError","NotFoundError","NotSupportedError","InUseAttributeError","InvalidStateError","InvalidModificationError","NamespaceError","InvalidAccessError","ValidationError","TypeMismatchError","SecurityError","NetworkError","AbortError","URLMismatchError","QuotaExceededError","TimeoutError","InvalidNodeTypeError","DataCloneError","symmetricDifference","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","concat","isDetached","arrayFromConstructorAndList","$fromBase64","fromBase64","list","$length","IndexedObject","integer","toIndex","detachTransferable","ArrayBufferPrototype","DataViewPrototype","isResizable","maxByteLength","getInt8","setInt8","arrayBuffer","newLength","preserveResizability","newBuffer","newByteLength","fixedLength","a","b","copyLength","USE_NATIVE_URL","URL","parse","url","urlString","base","toPrimitive","prim","BigInt","isSubsetOf","V","func","PromiseCapability","$$resolve","$$reject","NATIVE_BIND","toLength","ENTRIES","defineGlobalProperty","copyConstructorProperties","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","dontCallGetSet","setFromBase64","objectKeys","defineProperties","props","simple","nonConfigurable","nonWritable","TO_STRING_TAG_SUPPORT","classofRaw","CORRECT_ARGUMENTS","tag","tryGet","callee","bitmap","NATIVE_SYMBOL","propertyIsEnumerable","propertyIsEnumerableModule","searchParams","params2","pathname","toJSON","sort","href","username","host","hash","getAll","$has","values","forEachWithoutClosingOnEarlyError","SHARED","versions","mode","copyright","license","difference","setLike","baseSet","clear","PrototypeOfArrayIteratorPrototype","arrayIterator","BUGGY_SAFARI_ITERATORS","ownKeys","getOwnPropertyDescriptorModule","exceptions","namespace","$transfer","transferToFixedLength","intersection","from","createProperty","CONSTRUCTOR","NativeIterator","IteratorConstructor","defineIteratorPrototypeAccessor","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","$SyntaxError","$parseInt","fromCharCode","at","codePoints","IS_4_HEX_DIGITS","IS_C0_CONTROL_CODE","unterminated","chr","twoChars","fourHexDigits","end","FAILS_ON_INITIAL_UNDEFINED","reduce","reduceWithoutClosingOnEarlyError","reducer","noInitial","accumulator","parseJSONString","JSON","nativeParse","enumerableOwnProperties","IS_DIGIT","IS_NON_ZERO_DIGIT","IS_NUMBER_START","IS_WHITESPACE","internalize","holder","reviver","node","elementRecordsLen","unmodified","context","nodeIsArray","nodes","internalizeProperty","Node","Context","fork","nextIndex","skip","array","keyword","start","expectKeypair","until","expectElement","parsed","startIndex","endIndex","regex","NO_SOURCE_SUPPORT","unsafeInt","PROPER_BASE_PARSE","text","root","$parse","interruptible","getOwnPropertyNames","$Error","TEST","V8_OR_CHAKRA_STACK_ENTRY","IS_V8_OR_CHAKRA_STACK","dropEntries","prepareStackTrace","stringHandling","Reflect","$propertyIsEnumerable","NASHORN_BUG","anObjectOrUndefined","base64Map","getAlphabetOption","skipAsciiWhitespace","decodeBase64Chunk","chunk","throwOnExtraBits","chunkLength","triplet","chunkBytes","writeBytes","elements","elementsLength","lastChunkHandling","remainingBytes","DROP_WITHOUT_THROWING_ON_INVALID_ITERATOR","dropWithoutClosingOnEarlyError","drop","IS_NODE","getBuiltinModule","defineBuiltIns","createIterResultObject","iteratorCloseAll","ITERATOR_HELPER","WRAP_FOR_VALID_ITERATOR","NORMAL","THROW","setInternalState","createIteratorProxyPrototype","nextHandler","returnHandlerResult","returnMethod","openIters","WrapForValidIteratorPrototype","IteratorHelperPrototype","RETURN_HANDLER_RESULT","toBase64","omitPadding","shift","uncurryThisWithBind","match","v8","innerResult","innerError","arrayWith","ArrayBufferViewCore","isBigIntArray","toBigInt","PROPER_ORDER","THROW_ON_NEGATIVE_FRACTIONAL_INDEX","with","relativeIndex","actualValue","toAbsoluteIndex","createMethod","IS_INCLUDES","el","fromIndex","actualIndex","A","__webpack_module_cache__","moduleId","cachedModule","d","definition","o","prop","isNodeJS","nw","electron","FONT_IDENTITY_MATRIX","LINE_FACTOR","RenderingIntentFlag","AnnotationMode","DISABLE","ENABLE","ENABLE_FORMS","ENABLE_STORAGE","AnnotationEditorPrefix","AnnotationEditorType","NONE","FREETEXT","HIGHLIGHT","STAMP","INK","POPUP","SIGNATURE","COMMENT","AnnotationEditorParamsType","RESIZE","CREATE","FREETEXT_SIZE","FREETEXT_COLOR","FREETEXT_OPACITY","INK_COLOR","INK_THICKNESS","INK_OPACITY","HIGHLIGHT_COLOR","HIGHLIGHT_THICKNESS","HIGHLIGHT_FREE","HIGHLIGHT_SHOW_ALL","DRAW_STEP","PermissionFlag","PRINT","MODIFY_CONTENTS","COPY","MODIFY_ANNOTATIONS","FILL_INTERACTIVE_FORMS","COPY_FOR_ACCESSIBILITY","ASSEMBLE","PRINT_HIGH_QUALITY","TextRenderingMode","util_ImageKind","GRAYSCALE_1BPP","RGB_24BPP","RGBA_32BPP","AnnotationType","TEXT","LINK","LINE","SQUARE","CIRCLE","POLYGON","POLYLINE","UNDERLINE","SQUIGGLY","STRIKEOUT","CARET","FILEATTACHMENT","SOUND","MOVIE","WIDGET","SCREEN","PRINTERMARK","TRAPNET","WATERMARK","THREED","REDACT","AnnotationBorderStyleType","VerbosityLevel","ERRORS","WARNINGS","INFOS","OPS","dependency","setLineWidth","setLineCap","setLineJoin","setMiterLimit","setDash","setRenderingIntent","setFlatness","setGState","save","restore","transform","moveTo","lineTo","curveTo","curveTo2","curveTo3","closePath","rectangle","stroke","closeStroke","fill","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","endPath","clip","eoClip","beginText","endText","setCharSpacing","setWordSpacing","setHScale","setLeading","setFont","setTextRenderingMode","setTextRise","moveText","setLeadingMoveText","setTextMatrix","nextLine","showText","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setCharWidth","setCharWidthAndBounds","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setStrokeColorN","setFillColor","setFillColorN","setStrokeGray","setFillGray","setStrokeRGBColor","setFillRGBColor","setStrokeCMYKColor","setFillCMYKColor","shadingFill","beginInlineImage","beginImageData","endInlineImage","paintXObject","markPoint","markPointProps","beginMarkedContent","beginMarkedContentProps","endMarkedContent","beginCompat","endCompat","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","endGroup","beginAnnotation","endAnnotation","paintImageMaskXObject","paintImageMaskXObjectGroup","paintImageXObject","paintInlineImageXObject","paintInlineImageXObjectGroup","paintImageXObjectRepeat","paintImageMaskXObjectRepeat","paintSolidColorImageMask","constructPath","setStrokeTransparent","setFillTransparent","rawFillPath","DrawOPS","PasswordResponses","NEED_PASSWORD","INCORRECT_PASSWORD","verbosity","getVerbosityLevel","info","msg","console","warn","unreachable","assert","cond","createValidAbsoluteUrl","baseUrl","addDefaultProtocol","startsWith","dots","tryConvertEncoding","decodeURIComponent","escape","absoluteUrl","protocol","_isValidProtocol","updateUrlHash","allowRel","res","shadow","nonSerializable","BaseException","code","super","details","status","missing","bytesToString","MAX_ARGUMENT_COUNT","strBuf","chunkEnd","subarray","stringToBytes","str","charCodeAt","util_FeatureTest","isLittleEndian","buffer8","isEvalSupported","isOffscreenCanvasSupported","OffscreenCanvas","isImageDecoderSupported","ImageDecoder","platform","isAndroid","isLinux","isMac","isWindows","isFirefox","isCSSRoundSupported","CSS","supports","hexNumbers","padStart","Util","makeHexColor","r","g","domMatrixToTransform","dm","scaleMinMax","minMax","m1","m2","multiplyByDOMMatrix","md","applyTransform","p","pos","p0","p1","applyTransformToBezier","m0","m3","m4","m5","pI","pI1","applyInverseTransform","axialAlignedBoundingBox","rect","output","r0","r1","r2","r3","a0","a2","a1","a3","b0","b2","b1","b3","m1r0","m1r2","m2r1","m2r3","inverseTransform","singularValueDecompose2dScale","matrix","first","second","sqrt","normalizeRect","intersect","rect1","rect2","xLow","xHigh","yLow","yHigh","pointBoundingBox","rectBoundingBox","x0","y0","x1","y1","getExtremumOnCurve","x2","x3","y2","y3","t","mt","tt","ttt","getExtremum","delta","sqrtDelta","bezierBoundingBox","NormalizeRegex","NormalizationMap","normalizeUnicode","Map","replaceAll","_","p2","getUuid","crypto","randomUUID","buf","getRandomValues","AnnotationPrefix","MathClamp","toBase64Util","arr","btoa","AbortSignal","any","ac","AbortController","signal","aborted","abort","reason","addEventListener","XfaText","textContent","xfa","styles","walk","shouldBuildText","attributes","children","child","XfaLayer","setupStorage","element","storage","intent","storedData","getValue","event","setValue","xfaOn","setAttribute","xfaOff","removeAttribute","checked","getAttribute","option","selected","selectedIndex","setAttributes","linkService","isHTMLAnchorElement","HTMLAnchorElement","assign","addLinkAttributes","newWindow","dataId","render","parameters","annotationStorage","xfaHtml","rootHtml","isNotForRichText","rootDiv","div","viewport","textDivs","createTextNode","parent","pop","childHtml","xmlns","createElementNS","querySelectorAll","update","hidden","SVG_NS","PixelsPerInch","static","PDF","async","fetchData","isValidFetchUrl","baseURI","response","fetch","ok","statusText","blob","json","request","XMLHttpRequest","responseType","onreadystatechange","readyState","DONE","responseText","send","PageViewport","viewBox","userUnit","scale","rotation","offsetX","offsetY","dontFlip","centerX","centerY","rotateA","rotateB","rotateC","rotateD","offsetCanvasX","offsetCanvasY","width","height","rawDims","dims","pageWidth","pageHeight","pageX","pageY","convertToViewportPoint","convertToViewportRectangle","topLeft","bottomRight","convertToPdfPoint","RenderingCancelledException","extraDelay","isDataScheme","ii","trim","substring","isPdfFile","filename","getFilenameFromUrl","lastIndexOf","getPdfFilenameFromUrl","defaultFilename","newURL","getURL","decode","decoded","pdfRegex","reverse","hashFilename","StatTimer","started","times","time","Date","now","timeEnd","outBuf","longest","padEnd","noContextMenu","preventDefault","stopEvent","stopPropagation","PDFDateString","toDateObject","RegExp","matches","year","month","day","hour","minute","universalTimeRelation","offsetHour","offsetMinute","UTC","getXfaPageViewport","xfaPage","getRGB","color","colorRGB","getCurrentTransform","ctx","getTransform","getCurrentTransformInverse","invertSelf","setLayerDimensions","mustFlip","mustRotate","useRound","w","h","widthStr","heightStr","OutputScale","pixelRatio","sx","sy","scaled","symmetric","limitCanvas","maxPixels","maxDim","capAreaFactor","maxAreaScale","maxWidthScale","maxHeightScale","capPixels","maxScale","devicePixelRatio","winPixels","screen","availWidth","availHeight","SupportedImageMimeTypes","ColorScheme","isDarkMode","matchMedia","CSSConstants","commentForegroundColor","classList","body","getComputedStyle","applyOpacity","opacity","white","round","RGBToHSL","rgb","l","HSLToRGB","hsl","computeLuminance","contrastRatio","hsl1","hsl2","lum1","lum2","contrastCache","findContrastColor","baseColor","fixedColor","cachedValue","baseHSL","fixedHSL","isFixedColorDark","minContrast","PRECISION","mid","renderRichText","dir","className","container","fragment","createDocumentFragment","lines","line","firstChild","EditorToolbar","toolbar","colorPicker","editor","buttons","altText","comment","commentButtonDivider","signatureDescriptionButton","l10nRemove","freeze","freetext","highlight","ink","stamp","signature","editToolbar","_uiManager","_signal","pointerDown","position","toolbarPosition","direction","insetInlineEnd","top","focusIn","_focusEventsAllowed","focusOut","addListenersToElement","capture","hide","hideDropdown","show","shown","addDeleteButton","editorType","button","tabIndex","delete","divider","addAltText","addComment","beforeElement","renderForToolbar","insertBefore","addColorPicker","renderButton","addEditSignatureButton","signatureManager","renderEditButton","removeButton","removeToolbarCommentButton","addButton","tool","addButtonBefore","beforeSelector","querySelector","updateEditSignatureButton","description","title","destroy","FloatingToolbar","uiManager","hasCommentManager","makeButton","commentSelection","highlightSelection","getLastPoint","boxes","isLTR","lastY","lastX","box","buttonClass","l10nId","labelL10nId","clickHandler","span","bindEvents","IdManager","ImageManager","baseId","cache","_isSVGFittingCanvas","getContext","willReadFrequently","image","Image","then","drawImage","getImageData","rawData","refCounter","isSvg","File","file","Blob","mustRemoveAspectRatioPromise","fileReader","FileReader","imageElement","imagePromise","onload","svgUrl","onerror","readAsDataURL","createImageBitmap","getFromFile","lastModified","getFromUrl","getFromBlob","blobPromise","getFromId","getFromCanvas","canvas","offscreen","transferToImageBitmap","getSvgUrl","deleteId","transferFromImageBitmap","convertToBlob","isValidId","CommandManager","commands","locked","maxSize","cmd","undo","post","mustExec","overwriteIfSameType","keepUndo","splice","redo","hasSomethingToUndo","hasSomethingToRedo","cleanType","KeyboardManager","callbacks","allKeys","isMacKey","serialize","altKey","ctrlKey","metaKey","shiftKey","bubbles","checker","ColorManager","_colors","colors","visibility","colorScheme","computedColor","getColorValues","convert","RGB","_colorsMapping","getHexCode","AnnotationEditorUIManager","abortController","activeEditor","allEditableAnnotations","allEditors","allLayers","altTextManager","changedExistingAnnotations","commandManager","commentManager","copyPasteAC","currentDrawingSession","currentPageIndex","deletedAnnotationsElementIds","draggingEditors","editorTypes","editorsToRescale","_editorUndoBar","enableHighlightFloatingButton","enableUpdatedAddImage","enableNewAltTextWhenAddingImage","filterFactory","focusMainContainerTimeoutId","focusManagerAC","highlightColors","highlightWhenShiftUp","floatingToolbar","idManager","isEnabled","isPointerDown","isWaiting","keyboardManagerAC","lastActiveElement","mainHighlightColorPicker","missingCanvases","mlManager","selectedEditors","selectedTextNode","pageColors","showAllStates","pdfDocument","previousStates","isEditing","isEmpty","hasSelectedEditor","hasSelectedText","translation","translationTimeoutId","viewer","viewerAlert","updateModeCapability","_keyboardManager","arrowChecker","contains","activeElement","tagName","hasSomethingToControl","textInputChecker","_self","HTMLInputElement","small","TRANSLATE_SMALL","big","TRANSLATE_BIG","selectAll","addNewEditorFromKeyboard","HTMLButtonElement","isEnterHandled","unselectAll","translateSelectedEditors","eventBus","editorUndoBar","supportsPinchToZoom","_eventBus","_on","onEditingAction","onPageChanging","onScaleChanging","onRotationChanging","onSetPreference","evt","updateParams","addSelectionListener","addDragAndDropListeners","addKeyboardManager","viewParameters","realScale","PDF_TO_CSS_UNITS","isShiftKeyDown","_supportsPinchToZoom","setSidebarUiManager","layer","clearTimeout","combinedSignal","useNewAltTextFlow","useNewAltTextWhenAddingImage","hcmFilter","addHCMFilter","foreground","background","_highlightColors","pair","toUpperCase","hasHCM","isNameForHCM","endsWith","highlightColorNames","getNonHCMColor","colorName","getNonHCMColorName","setCurrentDrawingSession","disableUserSelect","setMainHighlightColorPicker","editAltText","firstTime","editComment","posX","posY","showDialog","selectComment","pageIndex","getEditorByUID","toggleComment","updateComment","getData","updatePopupColor","removeComment","removeComments","isSelected","toggleCommentPopup","makeCommentColor","getCommentDialogElement","dialogElement","waitForEditorsRendered","pageNumber","onEditorsRendered","_off","on","getSignature","switchToMode","once","dispatch","setPreference","focusMainContainer","focus","findParent","layerX","layerY","getBoundingClientRect","toggle","addShouldRescale","removeShouldRescale","commitOrRemove","pagesRotation","getAnchorElementForSelection","anchorNode","nodeType","TEXT_NODE","parentElement","getLayerForTextLayer","textLayer","currentLayer","hasTextLayer","methodOfCreation","selection","getSelection","isCollapsed","anchorOffset","focusNode","focusOffset","closest","getSelectionBoxes","empty","isNoneMode","createAndAddNewEditor","showAllEditors","displayFloatingToolbar","getAndRemoveDataFromAnnotationStorage","annotationId","storedValue","getRawValue","addToAnnotationStorage","a11yAlert","messageId","stringify","selectionChange","dispatchUpdateStates","activeLayer","toggleDrawing","pointerup","onSelectEnd","addFocusManager","blur","removeFocusManager","hasSelection","lastEditor","keydown","keyup","removeKeyboardManager","addCopyPasteListeners","copy","cut","paste","removeCopyPasteListeners","dragOver","addEditListeners","removeEditListeners","dataTransfer","isHandlingMimeForPasting","dropEffect","editors","serialized","clipboardData","setData","ex","newEditors","deserializedEditor","deserialize","addEditorToLayer","selectEditors","addCommands","isEditorHandlingKeyboard","dispatchUpdateUI","setEditingState","registerEditorTypes","types","defaultPropertiesToUpdate","getId","getLayer","addLayer","enable","disable","removeLayer","updateMode","editId","isFromKeyboard","mustEnterInEditMode","hideSidebar","destroyPopup","disableAll","hideStandaloneCommentButton","addStandaloneCommentButton","loadSignatures","enableAll","getAnnotationsByType","editorClass","_editorType","elementIds","allComments","annotationElementId","hasComment","deleted","annotation","popupRef","contentsObj","showSidebar","setSelected","enterInEditMode","unselect","canCreateNewEmptyEditor","addNewEditor","updateToolbar","action","updateDefaultParams","visible","updateButton","enableWaiting","mustWait","disableClick","enableClick","promises","getEditors","getEditor","addEditor","removeEditor","setTimeout","addDeletedAnnotationElement","addChangedExistingAnnotation","isDeletedAnnotationElement","removeDeletedAnnotationElement","removeChangedExistingAnnotation","addOrRebuild","setActiveEditor","propertiesToUpdate","lastSelectedEditor","ed","updateUI","updateUIForDefaultProperties","toggleSelected","select","firstSelectedEditor","cleanUndoStack","drawingEditor","endDrawingSession","commit","noCommit","totalX","totalY","translateInPage","translationDone","setUpDragSession","savedX","savedY","savedPageIndex","newX","newY","newPageIndex","endDragSession","mustBeAddedInUndoStack","move","_setParentAndPosition","dragSelectedEditors","tx","ty","drag","rebuild","changeParent","getActive","shouldGetKeyboardEvents","isActive","getMode","isEditingMode","imageManager","rangeCount","getRangeAt","commonAncestorContainer","parentWidth","parentHeight","rotator","range","collapsed","getClientRects","renderAnnotationElement","editorId","hasBeenModified","setMissingCanvas","setCanvas","addMissingCanvas","AltText","altTextDecorative","altTextButton","altTextButtonLabel","altTextTooltip","altTextTooltipTimeout","altTextWasFromKeyBoard","badge","guessedText","textWithDisclaimer","l10nNewButton","added","review","initialize","l10n","_l10n","label","onClick","_reportTelemetry","setState","finish","focusVisible","hasData","setGuessedText","generatedAltText","toggleAltTextBadge","isForCopying","decorative","cancel","enabled","disabled","tooltip","DELAY_TO_SHOW_TOOLTIP","parentNode","getElementForAltText","Comment","commentStandaloneButton","commentToolbarButton","commentWasFromKeyBoard","initialText","richText","date","popupPosition","renderForStandalone","commentButtonPosition","commentButtonColor","backgroundColor","focusButton","onUpdatedColor","commentButtonWidth","boundingClientRect","commentPopupPositionInLayer","parentX","parentY","hasDefaultPopupPosition","removeStandaloneCommentButton","setCommentButtonStates","hasPopup","ariaExpanded","isStandalone","ariaHasPopup","ariaControls","ariaControlsElements","edit","parentDimensions","isDeleted","hasBeenEdited","setInitialText","TouchManager","isPinching","isPinchingStopped","isPinchingDisabled","onPinchStart","onPinching","onPinchEnd","pointerDownAC","touchInfo","touchManagerAC","touchMoveAC","onTouchStart","passive","MIN_TOUCH_DISTANCE_TO_PINCH","touches","opts","cancelPointerDown","pointerType","opt","onTouchMove","onTouchEnd","touch0","touch1","identifier","touch0X","screenX","touch0Y","screenY","touch1X","touch1Y","screen0X","screen0Y","screen1X","screen1Y","pTouch0X","pTouch0Y","pTouch1X","pTouch1Y","prevGapX","prevGapY","currGapX","currGapY","distance","hypot","pDistance","origin","AnnotationEditor","accessibilityData","allResizerDivs","dragPointerId","dragPointerType","resizersDiv","lastPointerCoords","savedDimensions","fakeAnnotation","focusAC","focusedResizerName","hasBeenClicked","initialRect","isInEditMode","isResizerEnabledForKeyboard","moveInDOMTimeout","prevDragX","prevDragY","telemetryTimeouts","touchManager","_isCopy","_editToolbar","_initialOptions","_initialData","_isVisible","isDraggable","zIndex","_zIndex","_resizerKeyboardManager","resize","_resizeWithKeyboard","_stopResizingWithKeyboard","_willKeepAspectRatio","isCentered","_structTreeParentId","creationDate","modificationDate","pageRotation","pageDimensions","pageTranslation","isAttachedToDOM","_type","isDrawer","_defaultLineColor","_colorManager","deleteAnnotationElement","fakeEditor","FakeEditor","getNextId","_l10nResizer","topMiddle","topRight","middleRight","bottomMiddle","bottomLeft","middleLeft","_borderLineWidth","documentElement","parseFloat","getPropertyValue","_value","mime","_isDraggable","center","parentRotation","fixAndSetPosition","setInBackground","setInForeground","setParent","stopResizing","focusin","focusout","relatedTarget","isMultipleSelection","setAt","screenToPageTranslation","_moveAfterPaste","baseX","baseY","_onTranslated","translate","_onTranslating","scrollIntoView","block","findNewParent","bx","by","getBaseTranslation","left","toFixed","_hasBeenMoved","_hasBeenResized","_mustFixPosition","moveInDOM","rotatePoint","angle","pageTranslationToScreen","getRotationMatrix","parentScale","setDims","getInitialTranslation","createResizers","classes","resizerPointerdown","prepend","savedDraggable","togglePointerEvents","resizerPointermove","savedWidth","savedHeight","savedParentCursor","cursor","savedCursor","pointerUpCallback","addResizeToUndoStack","_onResized","newWidth","newHeight","_round","minWidth","MIN_SIZE","minHeight","rotationMatrix","transf","invRotationMatrix","getPoint","getOpposite","isDiagonal","isHorizontal","point","oppositePoint","transfOppositePoint","oppositeX","oppositeY","deltaX","deltaY","ratioX","ratioY","fromKeyboard","lastScreenX","lastScreenY","oldDiag","_onResizing","altTextFinish","toolbarButtons","addEditToolbar","addCommentButton","addCommentButtonInToolbar","removeCommentButtonFromToolbar","removeEditToolbar","addContainer","editToolbarDiv","before","getClientDimensions","createAltText","altTextData","guessedAltText","setGuessedAltText","serializeAltText","hasAltText","hasAltTextData","focusCommentButton","setCommentData","updateFromAnnotationLayer","hasEditedComment","hasDeletedComment","setSelectedCommentButton","setSelectedButton","DEFAULT_POPUP_WIDTH","DEFAULT_POPUP_HEIGHT","trY","blX","blY","trX","popup","contents","parentBoundingClientRect","defaultL10nId","addFocusListeners","maxWidth","maxHeight","touchPinchStartCallback","touchPinchCallback","touchPinchEndCallback","_origin","prevDistance","factor","transfCenterPoint","newTransfCenterPoint","pointerdown","selectOnPointerEvent","hasDraggingStarted","cancelDrag","_onStopDragging","clientX","clientY","pointerId","_onStartDragging","isPrimary","moveEditorInDOM","getRect","shiftX","shiftY","getRectInCurrentCoords","getPDFRect","onceAdded","enableEditMode","disableEditMode","needsToBeRebuilt","isOnScreen","bottom","right","innerHeight","innerWidth","rotate","_angle","serializeDeleted","annotationType","structTreeParentId","isCopy","timeout","makeResizable","commentButtonPositionInPage","commentPopupPosition","elementBeforePopup","boundResizerKeydown","resizerKeydown","boundResizerBlur","resizerBlur","resizerFocus","firstPosition","nextFirstPosition","lastChild","setResizerTabIndex","stopImmediatePropagation","preventScroll","disableEditing","enableEditing","canChangeContent","dblclick","nodeName","contentDiv","telemetryInitialData","telemetryFinalData","_telemetryTimeout","updateFakeAnnotationElement","annotationLayer","updateEdited","addFakeAnnotation","resetAnnotationElement","SEED","MASK_HIGH","MASK_LOW","MurmurHash3_64","seed","h1","h2","blockCounts","tailLength","dataUint32","k1","k2","C1","C2","C1_LOW","C2_LOW","hexdigest","SerializableEmpty","AnnotationStorage","modified","modifiedIds","editorsMap","onSetModified","onResetModified","onAnnotationEditor","defaultValue","resetModified","setModified","print","PrintAnnotationStorage","serializable","hasBitmap","editorStats","stats","typeToEditor","numberOfEditedComments","numberOfDeletedComments","isCommentDeleted","counters","comments","edited","computeTelemetryFinalData","resetModifiedIds","updateEditor","ids","FontLoader","systemFonts","ownerDocument","styleElement","_document","nativeFontFaces","loadingRequests","loadTestFontId","addNativeFontFace","nativeFontFace","fonts","removeNativeFontFace","insertRule","rule","getElementsByTagName","styleSheet","sheet","cssRules","loadSystemFont","systemFontInfo","disableFontFace","_inspectFont","loadedName","isFontLoadingAPISupported","fontFace","FontFace","load","baseFontName","font","attached","missingFile","createNativeFontFace","loaded","family","createFontFaceRule","isSyncFontLoadingSupported","_queueLoadingCallback","_prepareFontLoadEvent","complete","otherRequest","_loadTestFont","atob","int32","offset","spliceString","insert","called","XXXX_VALUE","checksum","fontFamily","isFontReady","fillText","FontFaceObject","fontData","translatedData","inspectFont","extra","charProcOperatorList","compiledGlyphs","cssFontInfo","css","weight","fontWeight","italicAngle","mimetype","getPathGenerator","objs","character","objId","cmds","path","Path2D","fontExtraProperties","black","bold","isInvalidPDFjsFont","isType3Font","italic","remeasure","vertical","ascent","defaultWidth","descent","bbox","fontMatrix","fallbackName","clearData","defaultVMetrics","getFactoryUrlProp","isRefProxy","isInteger","num","gen","isValidExplicitDest","validRef","validName","dest","page","zoom","argsLen","allowNull","arg","LoopbackPort","listeners","deferred","listener","rmAbort","onAbort","removeEventListener","terminate","CallbackKind","StreamKind","onFn","wrapReason","AbortException","InvalidPDFException","PasswordException","ResponseException","UnknownErrorException","MessageHandler","messageAC","sourceName","targetName","comObj","callbackId","streamId","streamSinks","streamControllers","callbackCapabilities","actionHandler","onMessage","stream","processStreamMessage","capability","createStreamSink","actionName","handler","ah","transfers","sendWithPromise","sendWithStream","queueingStrategy","ReadableStream","controller","startCapability","startCall","pullCall","cancelCall","isClosed","desiredSize","pull","pullCapability","cancelCapability","streamSink","enqueue","isCancelled","lastDesiredSize","sinkCapability","ready","onPull","onCancel","success","streamController","deleteStreamController","dataReason","allSettled","BaseCanvasFactory","enableHWA","_createCanvas","reset","canvasAndContext","DOMCanvasFactory","BaseCMapReaderFactory","isCompressed","_fetch","cMapData","catch","DOMCMapReaderFactory","BaseFilterFactory","addFilter","maps","fgColor","bgColor","addAlphaFilter","addLuminosityFilter","addHighlightHCMFilter","filterName","newFgColor","newBgColor","keepHCM","DOMFilterFactory","_cache","_defs","docId","_hcmCache","hcmCache","defs","contain","svg","createTables","mapR","table","mapG","mapB","bufferR","bufferG","bufferB","createUrl","tableR","tableG","tableB","createFilter","addTransferMapConversion","fgRGB","bgRGB","addGrayConversion","getSteps","tableA","addTransferMapAlphaConversion","addLuminosityConversion","fgGray","bgGray","newFgRGB","newBgRGB","fg","bg","newStart","newStep","prev","feColorMatrix","appendFeFunc","feComponentTransfer","feFunc","rTable","gTable","bTable","aTable","BaseStandardFontDataFactory","DOMStandardFontDataFactory","BaseWasmFactory","DOMWasmFactory","require","createRequire","DOMMatrix","ImageData","language","node_utils_fetchData","fs","readFile","NodeFilterFactory","NodeCanvasFactory","createCanvas","NodeCMapReaderFactory","NodeStandardFontDataFactory","NodeWasmFactory","FORCED_DEPENDENCY_LABEL","expandBBox","minX","minY","maxX","maxY","EMPTY_BBOX","BBoxReader","bboxes","coords","ensureDebugMetadata","dependencies","isRenderingOperation","CanvasDependencyTracker","incremental","sameLineText","namedDependencies","savesStack","markedContentStack","baseTransformStack","clipBox","pendingBBox","pendingBBoxIdx","pendingDependencies","operations","fontBBoxTrustworthy","canvasWidth","canvasHeight","bboxesCoords","debugMetadata","operationsCount","recordDebugMetadata","initializeBBoxes","growOperationsCount","oldBBoxes","opIdx","previous","lastSave","recordOpenMarker","idx","getOpenMarker","recordCloseMarker","pushBaseTransform","popBaseTransform","recordSimpleData","recordIncrementalData","resetIncrementalData","recordNamedData","recordSimpleDataFromNamed","depName","fallbackIdx","recordFutureForcedDependency","inheritSimpleDataAsFutureForcedDependencies","inheritPendingDependenciesAsFutureForcedDependencies","dep","resetBBox","recordClipBox","recordBBox","recordCharacterBBox","getMeasure","fontBBox","isBBoxTrustworthy","computedBBox","recordFullPageBBox","measure","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","getSimpleIndex","dependencyName","recordDependencies","dependencyNames","recordNamedDependency","recordOperation","preserve","depIdx","saveIdx","recordShowTextOperation","deps","bboxToClipBoxDropOperation","_takePendingDependencies","_extractOperation","operation","_pushPendingDependencies","takeDebugMetadata","CanvasNestedDependencyTracker","dependencyTracker","ignoreBBoxes","nestingLevel","savesLevel","Dependencies","PathType","applyBoundingBox","region","BaseShadingPattern","isModifyingCurrentTransform","getPattern","RadialAxialShadingPattern","IR","_bbox","_colorStops","_p0","_p1","_r0","_r1","_createGradient","grad","createLinearGradient","createRadialGradient","colorStop","addColorStop","owner","pathType","pattern","ownerBBox","getClippedPathBoundingBox","tmpCanvas","cachedCanvases","getCanvas","tmpCtx","clearRect","beginPath","baseTransform","fillStyle","createPattern","domMatrix","setTransform","drawTriangle","p3","c1","c2","c3","rowSize","scaleX","scaleY","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","xa","car","cag","cab","xb","cbr","cbg","cbb","x1_","x2_","drawFigure","figure","ps","cs","verticesPerRow","rows","cols","q","MeshShadingPattern","_coords","_figures","_bounds","_background","_createMeshCanvas","combinedScale","boundsWidth","boundsHeight","paddedWidth","BORDER_SIZE","paddedHeight","createImageData","putImageData","matrixScaleX","matrixScaleY","temporaryPatternCanvas","DummyShadingPattern","PaintType","TilingPattern","canvasGraphicsFactory","operatorList","xstep","ystep","paintType","tilingType","createPatternCanvas","combinedScaleX","combinedScaleY","redrawHorizontally","redrawVertically","xScaledStep","yScaledStep","dimx","getSizeAndScale","dimy","graphics","createCanvasGraphics","groupLevel","setFillAndStrokeStyleToContext","clipBbox","executeOperatorList","endDrawing","dimx2","dimy2","xSize","ySize","tmpCanvas2","tmpCtx2","jj","realOutputSize","MAX_PATTERN_SIZE","bboxWidth","bboxHeight","strokeStyle","fillColor","strokeColor","FormatError","convertBlackAndWhiteToRGBA","srcPos","nonBlackColor","inverseDecode","zeroMapping","oneMapping","widthInSource","widthRemainder","srcLength","destPos","elem","FULL_CHUNK_HEIGHT","SCALE_MATRIX","XY","MIN_MAX_INIT","CachedCanvases","canvasFactory","canvasEntry","drawImageAtIntegerCoords","srcImg","srcX","srcY","srcW","srcH","destX","destY","destW","destH","tlX","rTlX","tlY","rTlY","brX","rWidth","brY","rHeight","CanvasExtraState","alphaIsShape","fontSize","fontSizeScale","textMatrix","textMatrixScale","leading","lineX","lineY","charSpacing","wordSpacing","textHScale","textRenderingMode","textRise","patternFill","patternStroke","fillAlpha","strokeAlpha","lineWidth","activeSMask","transferMaps","preInit","getPathBoundingBox","xStrokePad","yStrokePad","updateClipFromPath","startNewPathAndClipBox","isEmptyClip","putBinaryImageData","imgData","partialChunkHeight","fullChunks","totalChunks","chunkImgData","thisChunkHeight","elemsInThisChunk","dest32","dest32DataLength","fullSrcDiff","srcDiff","kEnd","kEndUnrolled","mask","srcByte","putBinaryImageMask","copyCtxState","sourceCtx","destCtx","properties","setLineDash","getLineDash","lineDashOffset","resetCtxToDefault","fillRule","globalAlpha","lineCap","lineJoin","miterLimit","globalCompositeOperation","getImageSmoothingEnabled","interpolate","actualScale","fround","LINE_CAP_STYLES","LINE_JOIN_STYLES","NORMAL_CLIP","EO_CLIP","CanvasGraphics","canvasCtx","commonObjs","optionalContentConfig","annotationCanvasMap","stateStack","pendingClip","pendingEOFill","xobjs","groupStack","smaskStack","smaskCounter","tempSMask","suspendedCtx","contentVisible","cachedPatterns","viewportScale","outputScaleX","outputScaleY","_cachedScaleForStroking","_cachedGetSinglePixelWidth","_cachedBitmapsMap","getObject","fallback","beginDrawing","transparency","savedFillStyle","fillRect","transparentCanvas","compositeCtx","executionStartIdx","continueCallback","stepper","operationsFilter","argsArray","fnArray","argsArrayLen","chunkOperations","endTime","steps","fnId","fnArgs","nextBreakPoint","breakIt","depObjId","objsPool","restoreInitialState","inSMaskMode","HTMLCanvasElement","drawFilter","hcmFilterId","savedFilter","_scaleImage","img","displayWidth","displayHeight","widthScale","heightScale","paintWidth","paintHeight","tmpCanvasId","_createMaskCanvas","isPatternFill","currentTransform","cacheKey","maskCanvas","mainKey","cachedImage","maskToCanvas","drawnWidth","drawnHeight","fillCanvas","fillCtx","imageSmoothingEnabled","dashArray","dashPhase","flatness","states","checkSMaskState","beginSMaskMode","endSMaskMode","cacheId","scratchCanvas","_removeMirroring","__originalSave","__originalRestore","__originalRotate","__originalScale","__originalTranslate","__originalTransform","__originalSetTransform","__originalResetTransform","resetTransform","__originalClip","__originalMoveTo","__originalLineTo","__originalBezierCurveTo","bezierCurveTo","__originalRect","__originalClosePath","__originalBeginPath","cp1x","cp1y","cp2x","cp2y","mirrorContextOperations","compose","dirtyBox","smask","composeSMask","layerCtx","layerBox","layerOffsetX","layerOffsetY","layerWidth","layerHeight","genericComposeSMask","subtype","backdrop","transferMap","maskCtx","maskOffsetX","maskOffsetY","maskX","maskY","old","op","outerExtraSize","path2d","_pathStartIdx","consumePath","newPath","addPath","multiplySelf","rescaleAndStroke","needRestore","paths","pendingTextPaths","invTransf","preMultiplySelf","spacing","fontRefName","fontObj","fontDirection","typeface","browserFontSize","rise","getScaledPath","paintChar","patternFillTransform","patternStrokeTransform","fillStrokeMode","isAddToPathSet","scaledPath","invPatternTransform","measureText","strokeText","isFontSubpixelAAEnabled","glyphs","showType3Text","glyphsLength","spacingDir","widthAdvanceScale","simpleFillText","getSinglePixelWidth","chars","glyph","unicode","joinedChars","restoreNeeded","isSpace","fontChar","accent","scaledX","scaledY","vmetric","vx","vy","measuredWidth","characterScaleX","isInFont","scaledAccentX","scaledAccentY","spacingLength","operatorListId","xWidth","yWidth","llx","lly","urx","ury","getColorN_Pattern","renderingOpIdx","_getPattern","getShadingPattern","inv","group","currentCtx","isolated","knockout","bounds","canvasBounds","groupCtx","startTransformInverse","currentMtx","hasOwnCanvas","annotationCanvas","savedCtx","skewX","skewY","positions","trans","images","applyTransferMapsToCanvas","applyTransferMapsToBitmap","imgToPaint","HTMLElement","isVisible","isContentVisible","absDet","normX","normY","getScaleForStroking","scaledLineWidth","scaledXLineWidth","scaledYLineWidth","baseArea","saveRestore","dashes","CssFontInfo","view","decoder","encoder","TextEncoder","encodedStrings","stringsLength","strings","encoded","encode","setUint32","TextDecoder","readString","getUint32","SystemFontInfo","encodedStyleStyle","encodedStyleWeight","lengthEstimate","setUint8","guessFallback","getUint8","styleLength","weightLength","FontInfo","bools","OFFSET_NUMBERS","OFFSET_BBOX","OFFSET_FONT_MATRIX","OFFSET_DEFAULT_VMETRICS","readBoolean","byteOffset","bitOffset","readNumber","getFloat64","getInt16","OFFSET_STRINGS","stringData","cssFontInfoLength","cssFontInfoData","systemFontInfoLength","systemFontInfoData","systemFontInfoBuffer","cssFontInfoBuffer","numBools","boolByte","boolBit","setFloat64","coord","setInt16","metric","GlobalWorkerOptions","workerPort","port","Worker","workerSrc","Metadata","parsedData","getRaw","INTERNAL","OptionalContentGroup","isDisplay","isPrint","userSet","renderingIntent","usage","rbGroups","viewState","printState","_setVisible","internal","OptionalContentConfig","cachedGetHash","groups","initialHash","order","creator","baseState","off","getHash","evaluateVisibilityExpression","operator","expression","policy","setVisibility","preserveRB","rbGroup","otherId","setOCGState","hasInitialVisibility","getOrder","getGroup","PDFDataTransportStream","pdfDataRangeTransport","disableRange","disableStream","initialData","progressiveDone","contentDispositionFilename","_queuedChunks","_progressiveDone","_contentDispositionFilename","_pdfDataRangeTransport","_isStreamingSupported","_isRangeSupported","_contentLength","_fullRequestReader","_rangeReaders","addRangeListener","begin","_onReceiveData","addProgressListener","total","_onProgress","addProgressiveReadListener","addProgressiveDoneListener","_onProgressiveDone","transportReady","_enqueue","rangeReader","_begin","_progressiveDataLength","_loaded","onProgress","_removeRangeReader","reader","getFullReader","queuedChunks","PDFDataTransportStreamReader","getRangeReader","PDFDataTransportStreamRangeReader","requestDataRange","cancelAllRequests","_stream","_done","_filename","_requests","_headersReady","headersReady","isRangeSupported","isStreamingSupported","contentLength","requestCapability","_end","_queuedChunk","createHeaders","isHttp","httpHeaders","headers","Headers","getResponseOrigin","validateRangeRequestCapabilities","responseHeaders","rangeChunkSize","returnValues","allowRangeRequests","suggestedLength","extractFilenameFromHeader","contentDisposition","needsEncodingFixup","toParamRegExp","rfc2616unquote","unescape","rfc5987decode","rfc2047decode","fixupEncoding","contentDispositionStr","iter","quot","part","parts","rfc2231getparam","attributePattern","flags","textdecode","encoding","fatal","quotindex","extvalue","encodingend","charset","getFilenameFromContentDispositionHeader","createResponseError","validateResponseStatus","createFetchOptions","withCredentials","credentials","redirect","getArrayBuffer","PDFFetchStream","_responseOrigin","_rangeRequestReaders","PDFFetchStreamReader","PDFFetchStreamRangeReader","_reader","_withCredentials","_headersCapability","_disableRange","_rangeChunkSize","_abortController","getReader","_readCapability","responseOrigin","NetworkManager","currXhrId","pendingRequests","xhr","xhrId","pendingRequest","setRequestHeader","expectedStatus","onError","onStateChange","onprogress","onHeadersReceived","onDone","xhrStatus","network_getArrayBuffer","rangeHeader","getResponseHeader","getRequestXhr","isPendingRequest","abortRequest","PDFNetworkStream","_source","_manager","_onRangeRequestReaderClosed","PDFNetworkStreamFullRequestReader","PDFNetworkStreamRangeRequestReader","onClosed","manager","_url","_fullRequestId","_onHeadersReceived","_onDone","_onError","_cachedChunks","_storedError","fullRequestXhrId","fullRequestXhr","responseURL","rawResponseHeaders","getAllResponseHeaders","trimStart","lengthComputable","_requestId","_close","urlRegex","PDFNodeStream","sourceUrl","pathToFileURL","parseUrlOrPath","PDFNodeStreamFsFullReader","PDFNodeStreamFsRangeReader","_readableStream","lstat","_setReadableStream","createReadStream","_error","readableStream","INITIAL_DATA","PDFObjects","ensureObj","TextLayer","disableProcessItems","fontInspectorEnabled","FontInspector","lang","layoutTextParams","rootContainer","styleCache","textContentItemsStr","textContentSource","textDivProperties","ensureMinFontSizeComputed","finally","pendingTextLayers","fontFamilyMap","pump","processItems","onBefore","getCtx","layout","abortEx","appendText","geom","textDiv","hasText","hasEOL","atan2","fontName","PI","fontSubstitution","fontHeight","fontAscent","getAscent","sin","cos","scaleFactorStr","divStyle","minFontSize","dataset","fontSubstitutionLoadedName","shouldScaleText","absScaleX","absScaleY","br","ensureCtxFont","cleanup","ascentCache","canvasContexts","alpha","canvasCtxFonts","cached","lineHeight","cachedAscent","metrics","fontBoundingBoxAscent","fontBoundingBoxDescent","ratio","getDocument","task","PDFDocumentLoadingTask","location","getUrlProp","Buffer","isNaN","getDataProp","password","rangeTransport","PDFDataRangeTransport","worker","PDFWorker","docBaseUrl","cMapUrl","cMapPacked","CMapReaderFactory","iccUrl","standardFontDataUrl","StandardFontDataFactory","wasmUrl","WasmFactory","ignoreErrors","stopAtErrors","maxImageSize","chrome","canvasMaxAreaInBytes","enableXfa","disableAutoFetch","pdfBug","CanvasFactory","FilterFactory","useWasm","useSystemFonts","useWorkerFetch","level","transportFactory","cMapReaderFactory","standardFontDataFactory","wasmFactory","_worker","docParams","apiVersion","evaluatorOptions","transportParams","loadingParams","destroyed","workerIdPromise","messageHandler","networkStream","NetworkStream","workerId","transport","WorkerTransport","_transport","_capability","onPassword","_pendingDestroy","progressiveDoneListeners","progressiveReadListeners","progressListeners","rangeListeners","onDataRange","onDataProgress","onDataProgressiveRead","onDataProgressiveDone","PDFDocumentProxy","pdfInfo","_pdfInfo","numPages","fingerprints","isPureXfa","_htmlForXfa","allXfaHtml","getPage","getPageIndex","ref","getDestinations","getDestination","getPageLabels","getPageLayout","getPageMode","getViewerPreferences","getOpenAction","getAttachments","pageIndexesToSkip","getJSActions","getDocJSActions","getOutline","getOptionalContentConfig","getRenderingIntent","getPermissions","getMetadata","getMarkInfo","saveDocument","getDownloadInfo","downloadInfoCapability","keepLoadedFonts","startCleanup","loadingTask","cachedPageNumber","getFieldObjects","hasJSActions","getCalculationOrderIds","PDFPageProxy","pendingCleanup","pageInfo","_pageIndex","_pageInfo","_stats","_pdfBug","_intentStates","recordedBBoxes","getViewport","getAnnotations","getPageJSActions","getXfa","canvasContext","annotationMode","optionalContentConfigPromise","printAnnotationStorage","recordOperations","intentArgs","intentState","streamReaderCancelTimeout","intentPrint","displayReadyCapability","lastChunk","separateAnnots","_pumpOperatorList","recordForDebugger","Boolean","StepperManager","shouldRecordOperations","renderTasks","internalRenderTask","gfx","setOperatorBBoxes","tryCleanup","_abortOperatorList","Stats","InternalRenderTask","useRequestAnimationFrame","renderTask","initializeGraphics","operatorListChanged","getOperatorList","opListTask","opListReadCapability","streamTextContent","includeMarkedContent","disableNormalization","highWaterMark","getTextContent","getStructTree","_destroy","waitOn","force","completed","resetStats","_startRenderPage","_renderPageChunk","operatorListChunk","annotationStorageSerializable","streamReader","delay","curCacheKey","curIntentState","_PDFWorker","__privateAdd","_PDFWorker_instances","_messageHandler","_port","_webWorker","__privateGet","_workerPorts","__privateMethod","initialize_fn","__privateSet","cachedPort","_setupFakeWorkerGlobal","_PDFWorker_static","mainThreadWorkerMessageHandler_get","import","WorkerMessageHandler","loader","_fakeWorkerId","_isWorkerDisabled","WeakSet","resolve_fn","initializeFromPort_fn","setupFakeWorker_fn","_isSameOrigin","_createCDNWrapper","terminateEarly","sendTest","testObj","workerHandler","setup","pdfjsWorker","otherUrl","wrapper","createObjectURL","fromPort","log","methodPromises","pageCache","pagePromises","pageRefCache","passwordCapability","factory","fontLoader","_params","destroyCapability","_networkStream","_fullReader","_lastProgress","setupMessageHandler","cacheSimpleMethod","cachedPromise","isOpList","modifiedIdsHash","terminated","sink","readyReason","_numPages","htmlForXfa","updatePassword","err","exportedData","exportedError","fontAdded","imageRef","pageProxy","dataLen","imageData","refStr","results","RenderTask","onContinue","form","rAF","operatorListIdx","running","graphicsReadyCallback","graphicsReady","_useRequestAnimationFrame","cancelled","_cancelBound","_continueBound","_continue","_scheduleNextBound","_scheduleNext","_nextBound","_next","_canvas","_canvasContext","_enableHWA","_dependencyTracker","_operationsFilter","canvasInUse","init","getNextBreakPoint","cancelAnimationFrame","updateOperatorList","requestAnimationFrame","build","ColorPicker","buttonSwatch","defaultColor","dropdown","dropdownWasFromKeyboard","isMainColorPicker","openDropdownAC","_hideDropdownFromKeyboard","_colorSelectFromKeyboard","_moveToNext","_moveToPrevious","_moveToBeginning","_moveToEnd","l10nColor","blue","green","pink","red","yellow","openDropdown","keyDown","swatch","ariaHidden","renderMainDropdown","getDropdownRoot","ariaOrientation","ariaLabelledBy","role","ariaMultiSelectable","ariaSelected","colorSelect","updateColor","isDropdownVisible","nextSibling","previousSibling","detail","BasicColorPicker","colorType","colorValue","makeColorComp","scaleAndClamp","ColorConverters","CMYK_G","G_CMYK","G_RGB","G_rgb","G_HTML","G","RGB_G","RGB_rgb","RGB_HTML","T_HTML","T_rgb","CMYK_RGB","CMYK_rgb","CMYK_HTML","components","RGB_CMYK","BaseSVGFactory","skipDimensions","_createSVG","DOMSVGFactory","GetElementsByNameSet","TIMEZONE_OFFSET","getTimezoneOffset","AnnotationElementFactory","LinkAnnotationElement","TextAnnotationElement","fieldType","TextWidgetAnnotationElement","radioButton","RadioButtonWidgetAnnotationElement","checkBox","CheckboxWidgetAnnotationElement","PushButtonWidgetAnnotationElement","ChoiceWidgetAnnotationElement","SignatureWidgetAnnotationElement","WidgetAnnotationElement","PopupAnnotationElement","FreeTextAnnotationElement","LineAnnotationElement","SquareAnnotationElement","CircleAnnotationElement","PolylineAnnotationElement","CaretAnnotationElement","InkAnnotationElement","PolygonAnnotationElement","HighlightAnnotationElement","UnderlineAnnotationElement","SquigglyAnnotationElement","StrikeOutAnnotationElement","StampAnnotationElement","FileAttachmentAnnotationElement","AnnotationElement","updates","hasBorder","popupElement","isRenderable","ignoreBorder","createQuadrilaterals","downloadManager","imageResourcesPath","renderForms","svgFactory","enableComment","enableScripting","_fieldObjects","fieldObjects","_createContainer","_createQuadrilaterals","_hasPopupData","_isEditable","isEditable","hasPopupData","commentText","commentData","hasCommentButton","hasPopupElement","quadPoints","inkLists","inkList","_normalizePoint","removePopup","newPopup","setRectEdited","_createPopup","resetEdited","currentRect","setRotation","alternativeText","noRotate","borderStyle","borderWidth","horizontalRadius","horizontalCornerRadius","verticalRadius","verticalCornerRadius","radius","borderRadius","borderBottomStyle","borderColor","_commonActions","setColor","jsName","styleName","colorArray","noView","noPrint","userName","readonly","_setRequired","textColor","_dispatchEventFromSandbox","actions","jsEvent","commonActions","_setDefaultPropertiesFromJS","rectBlX","rectBlY","rectTrX","rectTrY","svgBuffer","clipPath","rectWidth","rectHeight","backgroundImage","popupData","titleObj","parentRect","_commentManager","extraPopupElement","_getElementsByName","skipId","fields","fieldObj","exportValues","exportValue","domElement","getElementsByName","maybeShow","forceHide","getElementsToTriggerPopup","addHighlightArea","triggers","_editOnDoubleClick","annotationEditorType","EditorAnnotationElement","createOrUpdatePopup","renderCommentButton","isTooltipOnly","link","isBound","_bindNamedAction","overlaidText","attachment","bindAttachment","attachmentDest","bindSetOCGState","_bindLink","Action","_bindJSAction","resetForm","_bindResetFormAction","setInternalLink","destination","getDestinationHash","onclick","goToDestination","getAnchorUrl","executeNamedAction","openOrDownloadData","executeSetOCGState","otherClickAction","resetFormFields","refs","resetFormRefs","include","allFields","fieldIds","fieldName","field","allIds","dispatchEvent","Event","showElementAndHideCanvas","_getKeyModifier","_setEventListener","elementData","baseName","eventName","valueGetter","modifier","focused","_setEventListeners","Blur","Focus","_setBackgroundColor","_setTextStyle","TEXT_ALIGNMENT","fontColor","defaultAppearanceData","computedFontSize","roundToOneDecimal","multiLine","textAlignment","textAlign","isRequired","hasAppearance","fieldValue","setPropertyOnSiblings","keyInStorage","maxLen","charLimit","fieldFormattedValues","formattedValue","comb","userValue","lastCommittedValue","commitKey","doNotScroll","overflowY","overflowX","readOnly","datetimeFormat","datetimeType","timeStep","hasDateOrTime","defaultFieldValue","blurListener","scrollLeft","getHours","getMinutes","getSeconds","toISOString","selRange","setSelectionRange","willCommit","selStart","selectionStart","selEnd","selectionEnd","_blurListener","Keystroke","inputType","change","combWidth","letterSpacing","verticalAlign","checkbox","curChecked","buttonValue","radio","pdfButtonValue","linkElement","selectElement","addAnEmptyEntry","combo","multiSelect","multiple","optionElement","displayValue","removeEmptyEntry","noneOptionElement","isExport","selectedValues","getItems","multipleSelection","findIndex","selectChild","indices","editable","changeEx","createPopup","PopupElement","boundKeyDown","boundHide","boundShow","boundToggle","dateObj","pinned","popupAbortController","commentButton","wasVisible","firstElement","trigger","addEventListeners","setCommentButtonPosition","hasOwnButton","togglePopup","showPopup","hidePopup","parentContainer","updateCommentButtonPosition","after","outlineColor","header","dateTime","makePopupContent","popupLines","popupContent","lineAttributes","setPosition","useParentRect","normalizedRect","popupLeft","popupTop","textPosition","lineSpan","lineCoordinates","square","circle","polyline","containerClassName","svgElementName","vertices","points","polylinesGroupElement","polylines","thickness","mark","underline","strikeout","download","AnnotationLayer","accessibilityManager","editableAnnotations","structTreeLayer","annotationEditorUIManager","_annotationEditorUIManager","hasEditableAnnotations","appendElement","popupElements","contentElement","ariaAttributes","getAriaAttributes","moveElementInDOM","annotations","popupToElements","elementParams","noHTML","isPopupAnnotation","rendered","setAnnotationCanvasMap","addLinkAnnotations","_defaultBorderStyle","replaceWith","editableAnnotation","_hasNoCanvas","getEditableAnnotations","getEditableAnnotation","htmlElement","rawWidth","EOL_PATTERN","FreeTextEditor","editorDivId","editModeAC","_colorPicker","_translateEmpty","_defaultColor","_defaultFontSize","_internalPadding","updateFontSize","setFontsize","editorDiv","setEditorDimensions","savedFontsize","col","savedColor","overlayDiv","contentEditable","editorDivKeydown","editorDivFocus","editorDivBlur","editorDivInput","editorDivPaste","innerText","extractText","prevChild","childNodes","getNodeContent","savedDisplay","savedVisibility","savedText","newText","trimEnd","setText","setContent","nodeValue","deserializeContent","deleteFromDocument","insertNode","collapseToStart","startContainer","startOffset","bufferBefore","bufferAfter","newRange","Range","beforeLength","setStart","setEnd","removeAllRanges","addRange","replaceChildren","serializeContent","padding","hasElementChanged","Outline","toSVGPath","_rotation","_rescale","_rescaleAndSwap","_translate","svgRound","_normalizePagePoint","createBezierPoints","FreeDrawOutliner","innerMargin","last","min_dist","scaleFactor","MIN_DIST","MIN_DIFF","MIN","getLastCoords","lastTop","lastBottom","diffX","diffY","diffD","K","nY","thX","thY","toSVGPathTwoPoints","toSVGPathEnd","toSVGPathStart","lastTopX","lastTopY","lastBottomX","lastBottomY","newFreeDrawOutline","outline","FreeDrawOutline","getOutlines","getOutlineTwoPoints","N","getOutlineEnd","getOutlineStart","firstPoint","lastPoint","computeMinMax","firstPointX","firstPointY","lastPointX","lastPointY","ltrCallback","bezierBbox","newOutliner","getNewOutline","outliner","HighlightOutliner","verticalEdges","intervals","EPSILON","shiftedMinX","shiftedMinY","lastEdge","edge","outlineVerticalEdges","breakEdge","edges","allEdges","edge1","edge2","outlines","HighlightOutline","binarySearch","middle","y4","polygon","prevX","prevY","classNamesForOutlining","FreeHighlightOutliner","FreeHighlightOutline","HighlightEditor","clipPathId","focusOutlines","highlightDiv","highlightOutlines","isFreeHighlight","outlineId","_moveCaret","_defaultThickness","_defaultOpacity","highlightId","createFreeOutlines","addToDrawLayer","createOutlines","numberOfColors","outlinerForOutline","drawLayer","finalizeDraw","drawOutline","rootClass","highlightOutline","free","updateProperties","rotateBbox","updateThickness","setColorAndOpacity","opa","savedOpacity","savedThickness","setThickness","th","changeThickness","getRotation","addUndoableEditor","cleanDrawLayer","mustBeSelected","draw","pointerover","hovered","pointerleave","setCaret","serializeBoxes","serializeOutlines","startHighlighting","endHighlight","highlightMove","_freeHighlight","_freeHighlightId","_freeHighlightClipId","DrawingOptions","svgProperties","updateProperty","updateSVGProperty","toSVGProperties","updateAll","DrawingEditor","drawOutlines","mustBeCommitted","_drawId","_addOutlines","createDrawOutlines","drawId","drawingOptions","_drawingOptions","defaultProperties","createDrawing","updateBbox","_mergeSVGProperties","defaultSVGProperties","p1Keys","getDefaultDrawingOptions","_options","typesMap","supportMultipleDrawings","propertyName","_defaultDrawingOptions","_currentParent","currentDraw","_currentDrawId","_updateProperty","savedValue","getPathResizingSVGProperties","convertToDrawSpace","rotateBox","getPathResizedSVGProperties","_x","_y","getPathTranslatedSVGProperties","moving","updateParent","convertToParentSpace","pW","pH","updateRotation","updateParentDimensions","onScaleChangingWhenDrawing","drawDiv","createDrawerInstance","_parentWidth","_parentHeight","startDrawing","_isLTR","currentPointerType","currentDrawingAC","currentPointerId","_endDraw","currentPointerIds","isCancellable","removeLastElement","_drawMove","timeStamp","currentMoveTimestamp","startNew","currentDrawingOptions","_cleanup","lastElement","getLastElement","setLastElement","isAborted","_INNER_MARGIN","createDrawingOptions","_data","deserializeDraw","_pageX","_pageY","_pageWidth","_pageHeight","_innerWidth","serializeDraw","InkDrawOutliner","lastSVGPath","lastIndex","InkDrawOutline","normalizePoint","firstX","firstY","secondX","secondY","c1x","c1y","c2x","c2y","currentRotation","computeBbox","serializedLines","serializedPoints","getBBoxWithNoMargin","rescaleFn","newLines","getMarginComponents","margin","marginX","marginY","oldMarginX","oldMarginY","newMarginX","newMarginY","diffMarginX","diffMarginY","rotationTransform","s1x","s1y","s2x","s2y","newParentWidth","newParentHeight","InkDrawingOptions","viewerParameters","_viewParameters","InkEditor","ContourDrawOutline","SignatureExtractor","sigmaSFactor","sigmaR","kernelSize","neighborIndexToId","i0","j0","clockwiseNonZero","kk","neighborIdToIndex","counterClockwiseNonZero","findContours","threshold","lnbd","nbd","contours","ij","pix","i2","j2","isHole","contour","contour0","shiftI","shiftJ","i1","j1","i3","j3","i4","j4","ij3","douglasPeuckerHelper","ax","ay","abx","aby","dist","nabx","naby","aa","invS","phi","atan","cosPhi","sinPhi","tmax","poly","partialPhi","dmax","douglasPeucker","bilateralFilter","sigmaS","kernel","sigmaS2","halfSize","exp","rangeValues","sigmaR2","out","histogram","norm","neighbour","getHistogram","toUint8","guessThreshold","M","L","spos","getGrayPixels","originalBitmap","PARAMETERS","prevWidth","prevHeight","log2","isteps","grayImage","extractContoursFromText","fontStyle","SCALE","uint8Buf","contourList","processDrawnLines","curves","mustSmooth","areContours","linesAndPoints","xScale","yScale","newCurves","reducedPoints","newPoints","compressSignature","bufferType","minDiff","maxDiff","outlinesLength","dx","headerLength","BYTES_PER_ELEMENT","CompressionStream","writer","getWriter","BufferCtor","diffs","Response","readable","decompressSignature","signatureData","DecompressionStream","numberOfDrawings","diffsOffset","POINTS_PROPERTIES_NUMBER","SignatureOptions","DrawnSignatureOptions","SignatureEditor","isExtracted","signatureUUID","_defaultDrawnSignatureOptions","hasDescription","hasDescriptionStats","hasNoAltText","uuid","heightInPage","addSignature","setUuid","getSignaturePreview","hasBeenSaved","getFromImage","getFromText","fontInfo","getDrawnSignature","isSignature","alt","StampEditor","bitmapId","bitmapPromise","bitmapUrl","bitmapFile","bitmapFileName","missingCanvas","resizeTimeoutId","hasBeenAddedInUndoStack","pasteEditor","getAsFile","hasAltTextStats","getBitmapFetched","fromId","getBitmapDone","alt_text_modal","alt_text_type","mlGuessAltText","updateAltTextData","isEnabledFor","copyCanvas","guess","channels","getBitmap","accept","files","click","drawBitmap","MAX_RATIO","maxDataDimension","maxPreviewDimension","bitmapWidth","bitmapHeight","outputScale","scaledWidth","scaledHeight","scaleBitmap","boxDim","boxDimWidth","boxDimHeight","patternCtx","dataWidth","dataHeight","offscreenCtx","serializeBitmap","toUrl","toDataURL","structParent","_structTree","changes","isSame","isSameAltText","stamps","area","prevData","isSamePageIndex","AnnotationEditorLayer","allowClick","clickAC","editorFocusTimeoutId","hadPointerDown","isDisabling","isEnabling","drawingAC","focusedElement","textSelectionAC","textLayerDblClickAC","lastPointerDownTimestamp","_initialized","isInvisible","disableTextSelection","toggleAnnotationLayerPointerEvents","enableTextSelection","allEditorsIterator","annotationElementIds","elementsFromPoint","changedAnnotations","resetAnnotations","editables","textLayerPointerDown","attach","removePointerInTextLayer","currentEditorType","createNewEditor","getCenterPoint","currentMode","startDrawingSession","pause","oldRotation","DrawLayer","mapping","toUpdate","_svgFactory","setBox","createSVG","createClipPath","pathId","clipPathUse","isPathUpdatable","hasClip","use","mustRemoveSelfIntersections","maskId","use1","use2","cloneNode","elementOrId","pathElement","_pdfjsTestingUtils","pdfjsLib","FeatureTest","ImageKind","cause","captureStackTrace","getException","Shape","Point","equal","LineDirection","Line","to","intersections","gaps","tolerance","_valid","valid","normalized","addGap","containsPoint","addIntersectionPoint","intPoint","thisNormalized","lineNormalized","TableData","minXY","maxXY","rowPivots","colPivots","findCell","row","cell","cellCount","acc","rowCount","virtualCellCount","allCellCount","colspan","rowspan","toArray","tableArr","rowArr","Table","hLines","vLines","Horizontal","Vertical","isValid","rowSet","colSet","flag","vLine","hLine","getSameHorizontal","same","getSameVertical","mergeHorizontalLines","l1","l2","resultLine","prevLine","currLine","gapLine","mergeVerticalLines","newHLines","merged","newVLines","verticalExists","gap","horizontalExists","findBottomLineIndex","h2Index","xMiddle","findVerticalLineIndexs","topHLine","yMiddle","getRow","h1Index","tableRow","vLineIndexes","leftVLine","rightVLine","bottomHLineIndex","bottomHLine","tableCell","colSpan","rowSpan","toData","prevHLine","currHLine","YMiddle","rowData","LineStore","addRectangle","getLines","getTableData","tables","getTables","tryFill","fillTable","validTables","normalizeHorizontal","normalizeVertical","sameY","margeHorizontalLines","sameX","margeVerticalLines","sameYLines","MIN_SAFE_INTEGER","sameXLines","Rectangle","ImageResult","pages","getPageImage","pageData","XMP_DATE_PROPERTIES","InfoResult","permission","getDateNode","CreationDate","pdfjs.PDFDateString","ModDate","parseISODateString","XmpCreateDate","XmpModifyDate","XmpMetadataDate","XapCreateDate","XapModifyDate","XapMetadataDate","isoDateString","parsedDate","setDefaultParseParameters","lineThreshold","cellThreshold","cellSeparator","lineEnforce","pageJoiner","imageThreshold","imageDataUrl","imageBuffer","PathGeometry","ScreenshotResult","TableResult","mergedTables","TextResult","getPageText","doc","progress","pdfjs.VerbosityLevel","setWorker","pdfjs","pdfjs?.GlobalWorkerOptions","pdfjs.GlobalWorkerOptions","getInfo","pageLabels","parsePageInfo","shouldParse","pageLinkResult","getPageLinks","pageLabel","links","unsafeUrl","getText","pdfjs.getDocument","currentPage","totalPage","partial","parseParams","parseHyperlinks","getHyperlinks","tm","hit","lastItem","isCurrentItemHasNewLine","itemJoiner","rectVp","used","getImage","ops","pageImages","pdfjs.OPS","imgPromise","resolveEmbeddedImage","pdfjs.ImageKind","convertToRGBA","dataUrl","toBuffer","nodeBuffer","pixelIndex","byte","bit","gray","bytesPerPixel","pdfObjects","dataBuff","getScreenshot","desiredWidth","renderContext","getTable","getPageTables","tableDataArr","fillPageTables","pageTableResult","getPathGeometry","mm","undefined","hline","vline","lineStore","transformMatrix","transformStack","opList","pg","restoredMatrix","pdfjs.Util","pageTables","textItem","pageTable"],"mappings":"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","debugId":null}}]
}