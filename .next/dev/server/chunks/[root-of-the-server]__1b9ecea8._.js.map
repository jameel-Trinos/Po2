{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Trinos/Learning/PointofTwo/Po2/app/api/compliance/apply-change/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json();\n    const { documentId, originalText, suggestedText, suggestionId } = body;\n\n    // Validate input\n    if (!documentId || !originalText || !suggestedText) {\n      return NextResponse.json(\n        { error: 'Missing required fields: documentId, originalText, suggestedText' },\n        { status: 400 }\n      );\n    }\n\n    // Mock: In a real implementation, this would:\n    // 1. Update the document content in the database\n    // 2. Mark the suggestion as applied\n    // 3. Deduct credits from user balance\n\n    // Simulate processing delay\n    await new Promise(resolve => setTimeout(resolve, 100));\n\n    // Mock: Deduct balance for applying change (0.01 credits per change)\n    const costPerChange = 0.01;\n\n    return NextResponse.json({\n      success: true,\n      documentId,\n      appliedChange: {\n        from: originalText,\n        to: suggestedText,\n        suggestionId,\n      },\n      cost: costPerChange,\n      message: 'Change applied successfully',\n    });\n  } catch (error) {\n    console.error('Error applying change:', error);\n    return NextResponse.json(\n      { error: 'Failed to apply change' },\n      { status: 500 }\n    );\n  }\n}\n\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,UAAU,EAAE,YAAY,EAAE,aAAa,EAAE,YAAY,EAAE,GAAG;QAElE,iBAAiB;QACjB,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,eAAe;YAClD,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAmE,GAC5E;gBAAE,QAAQ;YAAI;QAElB;QAEA,8CAA8C;QAC9C,iDAAiD;QACjD,oCAAoC;QACpC,sCAAsC;QAEtC,4BAA4B;QAC5B,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS;QAEjD,qEAAqE;QACrE,MAAM,gBAAgB;QAEtB,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT;YACA,eAAe;gBACb,MAAM;gBACN,IAAI;gBACJ;YACF;YACA,MAAM;YACN,SAAS;QACX;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAyB,GAClC;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}