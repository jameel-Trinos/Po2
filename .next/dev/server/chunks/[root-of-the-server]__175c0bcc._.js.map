{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Trinos/Learning/PointofTwo/Po2/lib/pdfStorage.ts"],"sourcesContent":["/**\n * In-memory storage for PDF documents\n * Stores PDFs temporarily for conversion operations\n * \n * Note: This is a simple in-memory solution. For production,\n * consider using Redis, S3, or a database.\n */\n\ninterface StoredPDF {\n  buffer: Buffer;\n  fileName: string;\n  uploadedAt: Date;\n}\n\n// In-memory storage Map\nconst pdfStorage = new Map<string, StoredPDF>();\n\n// Cleanup interval (remove PDFs older than 24 hours)\nconst CLEANUP_INTERVAL = 60 * 60 * 1000; // 1 hour (check every hour)\nconst MAX_AGE = 24 * 60 * 60 * 1000; // 24 hours (keep PDFs for 24 hours)\n\n// Periodic cleanup\nif (typeof setInterval !== 'undefined') {\n  setInterval(() => {\n    const now = new Date();\n    for (const [id, pdf] of pdfStorage.entries()) {\n      const age = now.getTime() - pdf.uploadedAt.getTime();\n      if (age > MAX_AGE) {\n        console.log(`üóëÔ∏è  Cleaning up old PDF: ${id} (${pdf.fileName})`);\n        pdfStorage.delete(id);\n      }\n    }\n  }, CLEANUP_INTERVAL);\n}\n\n/**\n * Store a PDF in memory\n */\nexport function storePDF(documentId: string, buffer: Buffer, fileName: string): void {\n  console.log(`üíæ Storing PDF: ${documentId} (${fileName}, ${buffer.length} bytes)`);\n  pdfStorage.set(documentId, {\n    buffer,\n    fileName,\n    uploadedAt: new Date(),\n  });\n}\n\n/**\n * Retrieve a stored PDF\n */\nexport function getPDF(documentId: string): { buffer: Buffer; fileName: string } | null {\n  const stored = pdfStorage.get(documentId);\n  if (!stored) {\n    console.log(`‚ùå PDF not found: ${documentId}`);\n    return null;\n  }\n  console.log(`‚úÖ Retrieved PDF: ${documentId} (${stored.fileName}, ${stored.buffer.length} bytes)`);\n  return {\n    buffer: stored.buffer,\n    fileName: stored.fileName,\n  };\n}\n\n/**\n * Delete a stored PDF\n */\nexport function deletePDF(documentId: string): boolean {\n  const deleted = pdfStorage.delete(documentId);\n  if (deleted) {\n    console.log(`üóëÔ∏è  Deleted PDF: ${documentId}`);\n  }\n  return deleted;\n}\n\n/**\n * Get storage statistics\n */\nexport function getStorageStats(): { count: number; totalSize: number } {\n  let totalSize = 0;\n  for (const pdf of pdfStorage.values()) {\n    totalSize += pdf.buffer.length;\n  }\n  return {\n    count: pdfStorage.size,\n    totalSize,\n  };\n}\n\n"],"names":[],"mappings":"AAAA;;;;;;CAMC;;;;;;;;;;AAQD,wBAAwB;AACxB,MAAM,aAAa,IAAI;AAEvB,qDAAqD;AACrD,MAAM,mBAAmB,KAAK,KAAK,MAAM,4BAA4B;AACrE,MAAM,UAAU,KAAK,KAAK,KAAK,MAAM,oCAAoC;AAEzE,mBAAmB;AACnB,IAAI,OAAO,gBAAgB,aAAa;IACtC,YAAY;QACV,MAAM,MAAM,IAAI;QAChB,KAAK,MAAM,CAAC,IAAI,IAAI,IAAI,WAAW,OAAO,GAAI;YAC5C,MAAM,MAAM,IAAI,OAAO,KAAK,IAAI,UAAU,CAAC,OAAO;YAClD,IAAI,MAAM,SAAS;gBACjB,QAAQ,GAAG,CAAC,CAAC,0BAA0B,EAAE,GAAG,EAAE,EAAE,IAAI,QAAQ,CAAC,CAAC,CAAC;gBAC/D,WAAW,MAAM,CAAC;YACpB;QACF;IACF,GAAG;AACL;AAKO,SAAS,SAAS,UAAkB,EAAE,MAAc,EAAE,QAAgB;IAC3E,QAAQ,GAAG,CAAC,CAAC,gBAAgB,EAAE,WAAW,EAAE,EAAE,SAAS,EAAE,EAAE,OAAO,MAAM,CAAC,OAAO,CAAC;IACjF,WAAW,GAAG,CAAC,YAAY;QACzB;QACA;QACA,YAAY,IAAI;IAClB;AACF;AAKO,SAAS,OAAO,UAAkB;IACvC,MAAM,SAAS,WAAW,GAAG,CAAC;IAC9B,IAAI,CAAC,QAAQ;QACX,QAAQ,GAAG,CAAC,CAAC,iBAAiB,EAAE,YAAY;QAC5C,OAAO;IACT;IACA,QAAQ,GAAG,CAAC,CAAC,iBAAiB,EAAE,WAAW,EAAE,EAAE,OAAO,QAAQ,CAAC,EAAE,EAAE,OAAO,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;IAChG,OAAO;QACL,QAAQ,OAAO,MAAM;QACrB,UAAU,OAAO,QAAQ;IAC3B;AACF;AAKO,SAAS,UAAU,UAAkB;IAC1C,MAAM,UAAU,WAAW,MAAM,CAAC;IAClC,IAAI,SAAS;QACX,QAAQ,GAAG,CAAC,CAAC,kBAAkB,EAAE,YAAY;IAC/C;IACA,OAAO;AACT;AAKO,SAAS;IACd,IAAI,YAAY;IAChB,KAAK,MAAM,OAAO,WAAW,MAAM,GAAI;QACrC,aAAa,IAAI,MAAM,CAAC,MAAM;IAChC;IACA,OAAO;QACL,OAAO,WAAW,IAAI;QACtB;IACF;AACF","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Trinos/Learning/PointofTwo/Po2/app/api/convert-pdf-to-docx/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport { writeFile, readFile, unlink } from 'fs/promises';\nimport { getPDF } from '@/lib/pdfStorage';\nimport path from 'path';\nimport { exec } from 'child_process';\nimport { promisify } from 'util';\n\nconst execAsync = promisify(exec);\n\nexport const runtime = 'nodejs';\n\n/**\n * Convert PDF to DOCX using LibreOffice\n * Accepts either a file upload or a document ID to fetch from storage\n */\nexport async function POST(request: NextRequest) {\n  try {\n    // Validate request\n    const contentType = request.headers.get('content-type');\n    console.log('üì• Incoming request content-type:', contentType);\n    \n    let file: File | null = null;\n    let fileName = 'document.pdf';\n    \n    // Check if it's JSON (document ID-based) or multipart (file upload)\n    if (contentType?.includes('application/json')) {\n      console.log('üìã Parsing JSON body...');\n      const body = await request.json();\n      const documentId = body.documentId as string | undefined;\n      \n      if (documentId) {\n        console.log('üì• Processing PDF from storage (documentId:', documentId, ')...');\n        \n        // Retrieve PDF from storage\n        const storedPdf = getPDF(documentId);\n        if (!storedPdf) {\n          return NextResponse.json(\n            { \n              error: 'PDF not found',\n              message: `No PDF found for document ID: ${documentId}. The PDF may have expired or been deleted.`,\n              details: 'PDFs are stored temporarily (24 hours). Please re-upload the document.'\n            },\n            { status: 404 }\n          );\n        }\n        \n        // Convert buffer to File\n        fileName = storedPdf.fileName;\n        file = new File([new Uint8Array(storedPdf.buffer)], fileName, { type: 'application/pdf' });\n        console.log('‚úÖ Retrieved PDF from storage:', fileName, '(', storedPdf.buffer.length, 'bytes)');\n      } else {\n        return NextResponse.json(\n          { \n            error: 'No PDF source provided',\n            message: 'Please provide a documentId in the request body'\n          },\n          { status: 400 }\n        );\n      }\n    } else if (contentType?.includes('multipart/form-data')) {\n      console.log('üìã Parsing form data (file upload)...');\n      const formData = await request.formData();\n      file = formData.get('file') as File;\n\n      // Log all form data entries for debugging\n      console.log('üìã Form data entries:');\n      for (const [key, value] of formData.entries()) {\n        if (value instanceof File) {\n          console.log(`  - ${key}: File(name=\"${value.name}\", type=\"${value.type}\", size=${value.size})`);\n        } else {\n          console.log(`  - ${key}:`, value);\n        }\n      }\n    } else {\n      console.warn('‚ö†Ô∏è Unexpected content type:', contentType);\n      return NextResponse.json(\n        { \n          error: 'Invalid content type',\n          message: 'Request must be either application/json (with documentId) or multipart/form-data (with file)'\n        },\n        { status: 400 }\n      );\n    }\n\n    if (!file) {\n      console.error('‚ùå No file provided');\n      return NextResponse.json(\n        { \n          error: 'No file provided',\n          message: 'Please ensure a file is included in the request or a valid documentId is provided'\n        },\n        { \n          status: 400,\n          headers: {\n            'Content-Type': 'application/json',\n          }\n        }\n      );\n    }\n\n    console.log('‚úÖ Processing file:', {\n      name: file.name,\n      type: file.type,\n      size: file.size\n    });\n\n    // Check if it's a PDF\n    const hasValidExtension = file.name.toLowerCase().endsWith('.pdf');\n    const hasValidMimeType = file.type === 'application/pdf';\n    \n    console.log('üîç File validation:');\n    console.log('  - Has .pdf extension:', hasValidExtension);\n    console.log('  - Has PDF MIME type:', hasValidMimeType);\n    console.log('  - File type:', file.type || '(empty)');\n    \n    if (!hasValidExtension && !hasValidMimeType) {\n      console.error('‚ùå Invalid file type:', file.type, 'for file:', file.name);\n      return NextResponse.json(\n        { \n          error: 'File must be a PDF',\n          message: `Received file type: ${file.type || 'unknown'}`,\n          details: `File name: ${file.name}. Expected .pdf extension and/or application/pdf MIME type.`\n        },\n        { \n          status: 400,\n          headers: {\n            'Content-Type': 'application/json',\n          }\n        }\n      );\n    }\n\n    // Check file size (optional validation)\n    if (file.size === 0) {\n      console.error('‚ùå Empty file provided');\n      return NextResponse.json(\n        { \n          error: 'Empty file provided',\n          message: 'The PDF file appears to be empty (0 bytes)',\n          details: `File name: ${file.name}, Size: ${file.size} bytes`\n        },\n        { \n          status: 400,\n          headers: {\n            'Content-Type': 'application/json',\n          }\n        }\n      );\n    }\n    \n    console.log('‚úÖ File validation passed');\n\n    // Read PDF file as buffer\n    console.log('üìÑ Reading PDF file...');\n    let pdfBuffer: Buffer;\n    try {\n      const arrayBuffer = await file.arrayBuffer();\n      pdfBuffer = Buffer.from(arrayBuffer);\n      console.log('‚úÖ PDF file read, size:', pdfBuffer.length, 'bytes');\n    } catch (readError) {\n      console.error('‚ùå Failed to read PDF file:', readError);\n      const readErrorMessage = readError instanceof Error ? readError.message : 'Unknown error';\n      return NextResponse.json(\n        {\n          error: 'Failed to read PDF file',\n          message: readErrorMessage,\n          details: 'The PDF file could not be read from the request.'\n        },\n        {\n          status: 400,\n          headers: {\n            'Content-Type': 'application/json',\n          }\n        }\n      );\n    }\n\n    // Convert PDF to DOCX using LibreOffice command line\n    console.log('üîÑ Converting PDF to DOCX using LibreOffice...');\n    let docxBuffer: Buffer;\n    const tempDir = '/tmp';\n    const timestamp = Date.now();\n    const tempPdfPath = path.join(tempDir, `temp-${timestamp}.pdf`);\n    const tempDocxPath = path.join(tempDir, `temp-${timestamp}.docx`);\n    \n    try {\n      // Write PDF to temp file\n      await writeFile(tempPdfPath, pdfBuffer);\n      console.log('üìù Wrote temp PDF file:', tempPdfPath);\n      \n      // Use LibreOffice directly with writer_pdf_import filter\n      // This is the only reliable way to convert PDF to DOCX with LibreOffice\n      const sofficeCommand = `/usr/local/bin/soffice --headless --infilter=\"writer_pdf_import\" --convert-to docx \"${tempPdfPath}\" --outdir \"${tempDir}\"`;\n      console.log('üîß Running command:', sofficeCommand);\n      \n      const { stdout, stderr } = await execAsync(sofficeCommand);\n      console.log('üì§ LibreOffice output:', stdout);\n      if (stderr) {\n        console.warn('‚ö†Ô∏è LibreOffice stderr:', stderr);\n      }\n      \n      // Read the converted DOCX file\n      docxBuffer = await readFile(tempDocxPath);\n      console.log('‚úÖ Conversion successful, DOCX size:', docxBuffer.length, 'bytes');\n      \n      if (!docxBuffer || docxBuffer.length === 0) {\n        throw new Error('Conversion produced an empty file');\n      }\n      \n      // Clean up temp files\n      try {\n        await unlink(tempPdfPath);\n        await unlink(tempDocxPath);\n        console.log('üßπ Cleaned up temp files');\n      } catch (cleanupError) {\n        console.warn('‚ö†Ô∏è Failed to clean up temp files:', cleanupError);\n      }\n    } catch (conversionError) {\n      console.error('‚ùå LibreOffice conversion failed:', conversionError);\n      const conversionErrorMessage = conversionError instanceof Error ? conversionError.message : 'Unknown error';\n      const conversionErrorStack = conversionError instanceof Error ? conversionError.stack : undefined;\n      \n      // Clean up temp files on error\n      try {\n        await unlink(tempPdfPath).catch(() => {});\n        await unlink(tempDocxPath).catch(() => {});\n      } catch {}\n      \n      console.error('Conversion error details:', {\n        message: conversionErrorMessage,\n        stack: conversionErrorStack,\n        errorType: conversionError instanceof Error ? conversionError.constructor.name : typeof conversionError\n      });\n      \n      // Provide helpful error message\n      let detailedMessage = 'LibreOffice conversion failed. ';\n      if (conversionErrorMessage.includes('no export filter')) {\n        detailedMessage += 'LibreOffice could not determine the file format. Make sure the file is a valid PDF.';\n      } else if (conversionErrorMessage.includes('soffice')) {\n        detailedMessage += 'Ensure LibreOffice is properly installed on the server.';\n      } else if (conversionErrorMessage.includes('ENOENT')) {\n        detailedMessage += 'LibreOffice (soffice) not found. Please install LibreOffice on the server.';\n      } else {\n        detailedMessage += 'The file may be corrupted or in an unsupported format.';\n      }\n      \n      return NextResponse.json(\n        {\n          error: 'Failed to convert PDF to DOCX',\n          message: conversionErrorMessage,\n          details: detailedMessage,\n          ...(process.env.NODE_ENV === 'development' && conversionErrorStack ? { stack: conversionErrorStack } : {})\n        },\n        {\n          status: 500,\n          headers: {\n            'Content-Type': 'application/json',\n          }\n        }\n      );\n    }\n\n    // Return DOCX file\n    const outputFileName = file.name.replace(/\\.pdf$/i, '.docx');\n    console.log('üì§ Sending DOCX file:', outputFileName);\n    \n    return new NextResponse(new Uint8Array(docxBuffer), {\n      status: 200,\n      headers: {\n        'Content-Type': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n        'Content-Disposition': `attachment; filename=\"${outputFileName}\"`,\n      },\n    });\n  } catch (error) {\n    console.error('‚ùå PDF to DOCX conversion error:', error);\n    const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n    const errorStack = error instanceof Error ? error.stack : undefined;\n    const errorName = error instanceof Error ? error.name : 'Error';\n    \n    // Log full error details for debugging\n    console.error('Error name:', errorName);\n    console.error('Error message:', errorMessage);\n    if (errorStack) {\n      console.error('Error stack:', errorStack);\n    }\n    \n    // Ensure we always return a valid JSON error response\n    const errorResponse = {\n      error: 'Failed to convert PDF to DOCX',\n      message: errorMessage,\n      ...(process.env.NODE_ENV === 'development' && {\n        details: errorMessage,\n        name: errorName,\n        ...(errorStack ? { stack: errorStack } : {})\n      })\n    };\n    \n    console.error('Returning error response:', JSON.stringify(errorResponse, null, 2));\n    \n    return NextResponse.json(\n      errorResponse,\n      { \n        status: 500,\n        headers: {\n          'Content-Type': 'application/json',\n        }\n      }\n    );\n  }\n}\n\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAEA,MAAM,YAAY,IAAA,8GAAS,EAAC,2HAAI;AAEzB,MAAM,UAAU;AAMhB,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,mBAAmB;QACnB,MAAM,cAAc,QAAQ,OAAO,CAAC,GAAG,CAAC;QACxC,QAAQ,GAAG,CAAC,qCAAqC;QAEjD,IAAI,OAAoB;QACxB,IAAI,WAAW;QAEf,oEAAoE;QACpE,IAAI,aAAa,SAAS,qBAAqB;YAC7C,QAAQ,GAAG,CAAC;YACZ,MAAM,OAAO,MAAM,QAAQ,IAAI;YAC/B,MAAM,aAAa,KAAK,UAAU;YAElC,IAAI,YAAY;gBACd,QAAQ,GAAG,CAAC,+CAA+C,YAAY;gBAEvE,4BAA4B;gBAC5B,MAAM,YAAY,IAAA,6HAAM,EAAC;gBACzB,IAAI,CAAC,WAAW;oBACd,OAAO,gJAAY,CAAC,IAAI,CACtB;wBACE,OAAO;wBACP,SAAS,CAAC,8BAA8B,EAAE,WAAW,2CAA2C,CAAC;wBACjG,SAAS;oBACX,GACA;wBAAE,QAAQ;oBAAI;gBAElB;gBAEA,yBAAyB;gBACzB,WAAW,UAAU,QAAQ;gBAC7B,OAAO,IAAI,KAAK;oBAAC,IAAI,WAAW,UAAU,MAAM;iBAAE,EAAE,UAAU;oBAAE,MAAM;gBAAkB;gBACxF,QAAQ,GAAG,CAAC,iCAAiC,UAAU,KAAK,UAAU,MAAM,CAAC,MAAM,EAAE;YACvF,OAAO;gBACL,OAAO,gJAAY,CAAC,IAAI,CACtB;oBACE,OAAO;oBACP,SAAS;gBACX,GACA;oBAAE,QAAQ;gBAAI;YAElB;QACF,OAAO,IAAI,aAAa,SAAS,wBAAwB;YACvD,QAAQ,GAAG,CAAC;YACZ,MAAM,WAAW,MAAM,QAAQ,QAAQ;YACvC,OAAO,SAAS,GAAG,CAAC;YAEpB,0CAA0C;YAC1C,QAAQ,GAAG,CAAC;YACZ,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,SAAS,OAAO,GAAI;gBAC7C,IAAI,iBAAiB,MAAM;oBACzB,QAAQ,GAAG,CAAC,CAAC,IAAI,EAAE,IAAI,aAAa,EAAE,MAAM,IAAI,CAAC,SAAS,EAAE,MAAM,IAAI,CAAC,QAAQ,EAAE,MAAM,IAAI,CAAC,CAAC,CAAC;gBAChG,OAAO;oBACL,QAAQ,GAAG,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,EAAE;gBAC7B;YACF;QACF,OAAO;YACL,QAAQ,IAAI,CAAC,+BAA+B;YAC5C,OAAO,gJAAY,CAAC,IAAI,CACtB;gBACE,OAAO;gBACP,SAAS;YACX,GACA;gBAAE,QAAQ;YAAI;QAElB;QAEA,IAAI,CAAC,MAAM;YACT,QAAQ,KAAK,CAAC;YACd,OAAO,gJAAY,CAAC,IAAI,CACtB;gBACE,OAAO;gBACP,SAAS;YACX,GACA;gBACE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;YACF;QAEJ;QAEA,QAAQ,GAAG,CAAC,sBAAsB;YAChC,MAAM,KAAK,IAAI;YACf,MAAM,KAAK,IAAI;YACf,MAAM,KAAK,IAAI;QACjB;QAEA,sBAAsB;QACtB,MAAM,oBAAoB,KAAK,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC;QAC3D,MAAM,mBAAmB,KAAK,IAAI,KAAK;QAEvC,QAAQ,GAAG,CAAC;QACZ,QAAQ,GAAG,CAAC,2BAA2B;QACvC,QAAQ,GAAG,CAAC,0BAA0B;QACtC,QAAQ,GAAG,CAAC,kBAAkB,KAAK,IAAI,IAAI;QAE3C,IAAI,CAAC,qBAAqB,CAAC,kBAAkB;YAC3C,QAAQ,KAAK,CAAC,wBAAwB,KAAK,IAAI,EAAE,aAAa,KAAK,IAAI;YACvE,OAAO,gJAAY,CAAC,IAAI,CACtB;gBACE,OAAO;gBACP,SAAS,CAAC,oBAAoB,EAAE,KAAK,IAAI,IAAI,WAAW;gBACxD,SAAS,CAAC,WAAW,EAAE,KAAK,IAAI,CAAC,2DAA2D,CAAC;YAC/F,GACA;gBACE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;YACF;QAEJ;QAEA,wCAAwC;QACxC,IAAI,KAAK,IAAI,KAAK,GAAG;YACnB,QAAQ,KAAK,CAAC;YACd,OAAO,gJAAY,CAAC,IAAI,CACtB;gBACE,OAAO;gBACP,SAAS;gBACT,SAAS,CAAC,WAAW,EAAE,KAAK,IAAI,CAAC,QAAQ,EAAE,KAAK,IAAI,CAAC,MAAM,CAAC;YAC9D,GACA;gBACE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;YACF;QAEJ;QAEA,QAAQ,GAAG,CAAC;QAEZ,0BAA0B;QAC1B,QAAQ,GAAG,CAAC;QACZ,IAAI;QACJ,IAAI;YACF,MAAM,cAAc,MAAM,KAAK,WAAW;YAC1C,YAAY,OAAO,IAAI,CAAC;YACxB,QAAQ,GAAG,CAAC,0BAA0B,UAAU,MAAM,EAAE;QAC1D,EAAE,OAAO,WAAW;YAClB,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,MAAM,mBAAmB,qBAAqB,QAAQ,UAAU,OAAO,GAAG;YAC1E,OAAO,gJAAY,CAAC,IAAI,CACtB;gBACE,OAAO;gBACP,SAAS;gBACT,SAAS;YACX,GACA;gBACE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;YACF;QAEJ;QAEA,qDAAqD;QACrD,QAAQ,GAAG,CAAC;QACZ,IAAI;QACJ,MAAM,UAAU;QAChB,MAAM,YAAY,KAAK,GAAG;QAC1B,MAAM,cAAc,4GAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,UAAU,IAAI,CAAC;QAC9D,MAAM,eAAe,4GAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,UAAU,KAAK,CAAC;QAEhE,IAAI;YACF,yBAAyB;YACzB,MAAM,IAAA,kIAAS,EAAC,aAAa;YAC7B,QAAQ,GAAG,CAAC,2BAA2B;YAEvC,yDAAyD;YACzD,wEAAwE;YACxE,MAAM,iBAAiB,CAAC,oFAAoF,EAAE,YAAY,YAAY,EAAE,QAAQ,CAAC,CAAC;YAClJ,QAAQ,GAAG,CAAC,uBAAuB;YAEnC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,UAAU;YAC3C,QAAQ,GAAG,CAAC,0BAA0B;YACtC,IAAI,QAAQ;gBACV,QAAQ,IAAI,CAAC,0BAA0B;YACzC;YAEA,+BAA+B;YAC/B,aAAa,MAAM,IAAA,iIAAQ,EAAC;YAC5B,QAAQ,GAAG,CAAC,uCAAuC,WAAW,MAAM,EAAE;YAEtE,IAAI,CAAC,cAAc,WAAW,MAAM,KAAK,GAAG;gBAC1C,MAAM,IAAI,MAAM;YAClB;YAEA,sBAAsB;YACtB,IAAI;gBACF,MAAM,IAAA,+HAAM,EAAC;gBACb,MAAM,IAAA,+HAAM,EAAC;gBACb,QAAQ,GAAG,CAAC;YACd,EAAE,OAAO,cAAc;gBACrB,QAAQ,IAAI,CAAC,qCAAqC;YACpD;QACF,EAAE,OAAO,iBAAiB;YACxB,QAAQ,KAAK,CAAC,oCAAoC;YAClD,MAAM,yBAAyB,2BAA2B,QAAQ,gBAAgB,OAAO,GAAG;YAC5F,MAAM,uBAAuB,2BAA2B,QAAQ,gBAAgB,KAAK,GAAG;YAExF,+BAA+B;YAC/B,IAAI;gBACF,MAAM,IAAA,+HAAM,EAAC,aAAa,KAAK,CAAC,KAAO;gBACvC,MAAM,IAAA,+HAAM,EAAC,cAAc,KAAK,CAAC,KAAO;YAC1C,EAAE,OAAM,CAAC;YAET,QAAQ,KAAK,CAAC,6BAA6B;gBACzC,SAAS;gBACT,OAAO;gBACP,WAAW,2BAA2B,QAAQ,gBAAgB,WAAW,CAAC,IAAI,GAAG,OAAO;YAC1F;YAEA,gCAAgC;YAChC,IAAI,kBAAkB;YACtB,IAAI,uBAAuB,QAAQ,CAAC,qBAAqB;gBACvD,mBAAmB;YACrB,OAAO,IAAI,uBAAuB,QAAQ,CAAC,YAAY;gBACrD,mBAAmB;YACrB,OAAO,IAAI,uBAAuB,QAAQ,CAAC,WAAW;gBACpD,mBAAmB;YACrB,OAAO;gBACL,mBAAmB;YACrB;YAEA,OAAO,gJAAY,CAAC,IAAI,CACtB;gBACE,OAAO;gBACP,SAAS;gBACT,SAAS;gBACT,GAAI,oDAAyB,iBAAiB,uBAAuB;oBAAE,OAAO;gBAAqB,IAAI,CAAC,CAAC;YAC3G,GACA;gBACE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;YACF;QAEJ;QAEA,mBAAmB;QACnB,MAAM,iBAAiB,KAAK,IAAI,CAAC,OAAO,CAAC,WAAW;QACpD,QAAQ,GAAG,CAAC,yBAAyB;QAErC,OAAO,IAAI,gJAAY,CAAC,IAAI,WAAW,aAAa;YAClD,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,uBAAuB,CAAC,sBAAsB,EAAE,eAAe,CAAC,CAAC;YACnE;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mCAAmC;QACjD,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QAC9D,MAAM,aAAa,iBAAiB,QAAQ,MAAM,KAAK,GAAG;QAC1D,MAAM,YAAY,iBAAiB,QAAQ,MAAM,IAAI,GAAG;QAExD,uCAAuC;QACvC,QAAQ,KAAK,CAAC,eAAe;QAC7B,QAAQ,KAAK,CAAC,kBAAkB;QAChC,IAAI,YAAY;YACd,QAAQ,KAAK,CAAC,gBAAgB;QAChC;QAEA,sDAAsD;QACtD,MAAM,gBAAgB;YACpB,OAAO;YACP,SAAS;YACT,GAAI,oDAAyB,iBAAiB;gBAC5C,SAAS;gBACT,MAAM;gBACN,GAAI,aAAa;oBAAE,OAAO;gBAAW,IAAI,CAAC,CAAC;YAC7C,CAAC;QACH;QAEA,QAAQ,KAAK,CAAC,6BAA6B,KAAK,SAAS,CAAC,eAAe,MAAM;QAE/E,OAAO,gJAAY,CAAC,IAAI,CACtB,eACA;YACE,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;QACF;IAEJ;AACF","debugId":null}}]
}