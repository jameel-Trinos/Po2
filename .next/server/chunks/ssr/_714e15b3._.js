module.exports=[82520,(a,b,c)=>{"use strict";b.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},24560,(a,b,c)=>{"use strict";var d=a.r(82520);function e(){}function f(){}f.resetWarningCache=e,b.exports=function(){function a(a,b,c,e,f,g){if(g!==d){var h=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}function b(){return a}a.isRequired=a;var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,elementType:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:f,resetWarningCache:e};return c.PropTypes=c,c}},41212,(a,b,c)=>{b.exports=a.r(24560)()},27615,a=>{"use strict";let b;var c,d,e,f=a.i(87924),g=a.i(72131),h=a.i(46271),i=a.i(84505),j=a.i(4720),k=a.i(70106);let l=(0,k.default)("file-type-corner",[["path",{d:"M12 22h6a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v6",key:"15usau"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M3 16v-1.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5V16",key:"s1gz5"}],["path",{d:"M6 22h2",key:"194x9m"}],["path",{d:"M7 14v8",key:"11ixej"}]]);var m=a.i(64929),n=a.i(40695),o=a.i(3130),p=a.i(54161),q=a.i(7379),r=a.i(41212),s=function(){return(s=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},t={onActivate:r.func,onAddUndo:r.func,onBeforeAddUndo:r.func,onBeforeExecCommand:r.func,onBeforeGetContent:r.func,onBeforeRenderUI:r.func,onBeforeSetContent:r.func,onBeforePaste:r.func,onBlur:r.func,onChange:r.func,onClearUndos:r.func,onClick:r.func,onContextMenu:r.func,onCommentChange:r.func,onCompositionEnd:r.func,onCompositionStart:r.func,onCompositionUpdate:r.func,onCopy:r.func,onCut:r.func,onDblclick:r.func,onDeactivate:r.func,onDirty:r.func,onDrag:r.func,onDragDrop:r.func,onDragEnd:r.func,onDragGesture:r.func,onDragOver:r.func,onDrop:r.func,onExecCommand:r.func,onFocus:r.func,onFocusIn:r.func,onFocusOut:r.func,onGetContent:r.func,onHide:r.func,onInit:r.func,onInput:r.func,onKeyDown:r.func,onKeyPress:r.func,onKeyUp:r.func,onLoadContent:r.func,onMouseDown:r.func,onMouseEnter:r.func,onMouseLeave:r.func,onMouseMove:r.func,onMouseOut:r.func,onMouseOver:r.func,onMouseUp:r.func,onNodeChange:r.func,onObjectResizeStart:r.func,onObjectResized:r.func,onObjectSelected:r.func,onPaste:r.func,onPostProcess:r.func,onPostRender:r.func,onPreProcess:r.func,onProgressState:r.func,onRedo:r.func,onRemove:r.func,onReset:r.func,onSaveContent:r.func,onSelectionChange:r.func,onSetAttrib:r.func,onSetContent:r.func,onShow:r.func,onSubmit:r.func,onUndo:r.func,onVisualAid:r.func,onSkinLoadError:r.func,onThemeLoadError:r.func,onModelLoadError:r.func,onPluginLoadError:r.func,onIconsLoadError:r.func,onLanguageLoadError:r.func,onScriptsLoad:r.func,onScriptsLoadError:r.func},u=s({apiKey:r.string,licenseKey:r.string,id:r.string,inline:r.bool,init:r.object,initialValue:r.string,onEditorChange:r.func,value:r.string,tagName:r.string,tabIndex:r.number,cloudChannel:r.string,plugins:r.oneOfType([r.string,r.array]),toolbar:r.oneOfType([r.string,r.array]),disabled:r.bool,readonly:r.bool,textareaName:r.string,tinymceScriptSrc:r.oneOfType([r.string,r.arrayOf(r.string),r.arrayOf(r.shape({src:r.string,async:r.bool,defer:r.bool}))]),rollback:r.oneOfType([r.number,r.oneOf([!1])]),scriptLoading:r.shape({async:r.bool,defer:r.bool,delay:r.number})},t),v=function(a){return a&&a.tinymce?a.tinymce:null},w=function(a){return"function"==typeof a},x=function(a){return a in t},y=function(a){return a.substr(2)},z=function(a,b,c,d,e,f,g){var h=Object.keys(e).filter(x),i=Object.keys(f).filter(x),j=h.filter(function(a){return void 0===f[a]}),k=i.filter(function(a){return void 0===e[a]});j.forEach(function(a){var b=y(a),d=g[b];c(b,d),delete g[b]}),k.forEach(function(c){var e=d(a,c),f=y(c);g[f]=e,b(f,e)})},A=0,B=function(a){var b=Date.now();return a+"_"+Math.floor(1e9*Math.random())+ ++A+String(b)},C=function(a){return null!==a&&("textarea"===a.tagName.toLowerCase()||"input"===a.tagName.toLowerCase())},D=function(a){return void 0===a||""===a?[]:Array.isArray(a)?a:a.split(" ")},E=function(a){if(!("isConnected"in Node.prototype)){for(var b=a,c=a.parentNode;null!=c;)c=(b=c).parentNode;return b===a.ownerDocument}return a.isConnected},F=function(a,b){void 0!==a&&(null!=a.mode&&"object"==typeof a.mode&&"function"==typeof a.mode.set?a.mode.set(b):a.setMode(b))},G=function(a){var b=v(a);if(!b)throw Error("tinymce should have been loaded into global scope");return b},H=function(a){return a.options&&a.options.isRegistered("disabled")},I=function(){return(I=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},J=function(a,b,c){var d,e,f=a.createElement("script");f.referrerPolicy="origin",f.type="application/javascript",f.id=b.id,f.src=b.src,f.async=null!=(d=b.async)&&d,f.defer=null!=(e=b.defer)&&e;var g=function(){f.removeEventListener("load",g),f.removeEventListener("error",h),c(b.src)},h=function(a){f.removeEventListener("load",g),f.removeEventListener("error",h),c(b.src,a)};f.addEventListener("load",g),f.addEventListener("error",h),a.head&&a.head.appendChild(f)},K=function(a){var b={},c=function(a,c){var d=b[a];d.done=!0,d.error=c;for(var e=0,f=d.handlers;e<f.length;e++)(0,f[e])(a,c);d.handlers=[]};return{loadScripts:function(d,e,f){var g=function(a){return void 0!==f?f(a):console.error(a)};if(0===d.length)return void g(Error("At least one script must be provided"));for(var h=0,i=!1,j=function(a,b){i||(b?(i=!0,g(b)):++h===d.length&&e())},k=0;k<d.length;k++){var l=d[k],m=b[l.src];if(m)m.done?j(l.src,m.error):m.handlers.push(j);else{var n=B("tiny-");b[l.src]={id:n,src:l.src,done:!1,error:null,handlers:[j]},J(a,I({id:n},l),c)}}},deleteScripts:function(){for(var c,d=0,e=Object.values(b);d<e.length;d++){var f=e[d],g=a.getElementById(f.id);null!=g&&"SCRIPT"===g.tagName&&(null==(c=g.parentNode)||c.removeChild(g))}b={}},getDocument:function(){return a}}},L=(c=[],d=function(a){var b=c.find(function(b){return b.getDocument()===a});return void 0===b&&(b=K(a),c.push(b)),b},{loadList:function(a,b,c,e,f){var g=function(){return d(a).loadScripts(b,e,f)};c>0?setTimeout(g,c):g()},reinitialize:function(){for(var a=c.pop();null!=a;a=c.pop())a.deleteScripts()}}),M=(e=function(a,b){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}e(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),N=function(){return(N=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},O="change keyup compositionend setcontent CommentChange",P=function(a){function b(b){var c,d,e,f=a.call(this,b)||this;return f.rollbackTimer=void 0,f.valueCursor=void 0,f.rollbackChange=function(){var a=f.editor,b=f.props.value;a&&b&&b!==f.currentContent&&a.undoManager.ignore(function(){if(a.setContent(b),f.valueCursor&&(!f.inline||a.hasFocus()))try{a.selection.moveToBookmark(f.valueCursor)}catch(a){}}),f.rollbackTimer=void 0},f.handleBeforeInput=function(a){if(void 0!==f.props.value&&f.props.value===f.currentContent&&f.editor&&(!f.inline||f.editor.hasFocus()))try{f.valueCursor=f.editor.selection.getBookmark(3)}catch(a){}},f.handleBeforeInputSpecial=function(a){("Enter"===a.key||"Backspace"===a.key||"Delete"===a.key)&&f.handleBeforeInput(a)},f.handleEditorChange=function(a){var b=f.editor;if(b&&b.initialized){var c=b.getContent();void 0===f.props.value||f.props.value===c||!1===f.props.rollback||f.rollbackTimer||(f.rollbackTimer=window.setTimeout(f.rollbackChange,"number"==typeof f.props.rollback?f.props.rollback:200)),c!==f.currentContent&&(f.currentContent=c,w(f.props.onEditorChange)&&f.props.onEditorChange(c,b))}},f.handleEditorChangeSpecial=function(a){("Backspace"===a.key||"Delete"===a.key)&&f.handleEditorChange(a)},f.initialise=function(a){void 0===a&&(a=0);var b,c,d,e=f.elementRef.current;if(e){if(!E(e)){if(0===a)setTimeout(function(){return f.initialise(1)},1);else if(a<100)setTimeout(function(){return f.initialise(a+1)},100);else throw Error("tinymce can only be initialised when in a document");return}var g,h,i=G(f.view),j=N(N(N(N({},f.props.init),{selector:void 0,target:e,disabled:f.props.disabled,readonly:f.props.readonly,inline:f.inline,plugins:(g=null==(b=f.props.init)?void 0:b.plugins,h=f.props.plugins,D(g).concat(D(h))),toolbar:null!=(c=f.props.toolbar)?c:null==(d=f.props.init)?void 0:d.toolbar}),f.props.licenseKey?{license_key:f.props.licenseKey}:{}),{setup:function(a){f.editor=a,f.bindHandlers({}),f.inline&&!C(e)&&a.once("PostRender",function(b){a.setContent(f.getInitialValue(),{no_events:!0})}),f.props.init&&w(f.props.init.setup)&&f.props.init.setup(a),f.props.disabled&&(H(f.editor)?f.editor.options.set("disabled",f.props.disabled):f.editor.mode.set("readonly"))},init_instance_callback:function(a){var b,c=f.getInitialValue();f.currentContent=null!=(b=f.currentContent)?b:a.getContent(),f.currentContent!==c&&(f.currentContent=c,a.setContent(c),a.undoManager.clear(),a.undoManager.add(),a.setDirty(!1)),f.props.init&&w(f.props.init.init_instance_callback)&&f.props.init.init_instance_callback(a)}});f.inline||(e.style.visibility=""),C(e)&&(e.value=f.getInitialValue()),i.init(j)}},f.id=f.props.id||B("tiny-react"),f.elementRef=g.createRef(),f.inline=null!=(e=null!=(c=f.props.inline)?c:null==(d=f.props.init)?void 0:d.inline)&&e,f.boundHandlers={},f}return M(b,a),Object.defineProperty(b.prototype,"view",{get:function(){var a,b;return null!=(b=null==(a=this.elementRef.current)?void 0:a.ownerDocument.defaultView)?b:window},enumerable:!1,configurable:!0}),b.prototype.componentDidUpdate=function(a){var b,c,d=this;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(a),this.editor.initialized)){if(this.currentContent=null!=(b=this.currentContent)?b:this.editor.getContent(),"string"==typeof this.props.initialValue&&this.props.initialValue!==a.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if("string"==typeof this.props.value&&this.props.value!==this.currentContent){var e=this.editor;e.undoManager.transact(function(){if(!d.inline||e.hasFocus())try{a=e.selection.getBookmark(3)}catch(a){}var a,b=d.valueCursor;if(e.setContent(d.props.value),!d.inline||e.hasFocus())for(var c=0,f=[a,b];c<f.length;c++){var g=f[c];if(g)try{e.selection.moveToBookmark(g),d.valueCursor=g;break}catch(a){}}})}if(this.props.readonly!==a.readonly){var f=null!=(c=this.props.readonly)&&c;F(this.editor,f?"readonly":"design")}this.props.disabled!==a.disabled&&(H(this.editor)?this.editor.options.set("disabled",this.props.disabled):F(this.editor,this.props.disabled?"readonly":"design"))}},b.prototype.componentDidMount=function(){var a,b,c,d,e,f=this;null!==v(this.view)?this.initialise():Array.isArray(this.props.tinymceScriptSrc)&&0===this.props.tinymceScriptSrc.length?null==(b=(a=this.props).onScriptsLoadError)||b.call(a,Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array.")):(null==(c=this.elementRef.current)?void 0:c.ownerDocument)&&L.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),null!=(e=null==(d=this.props.scriptLoading)?void 0:d.delay)?e:0,function(){var a,b;null==(b=(a=f.props).onScriptsLoad)||b.call(a),f.initialise()},function(a){var b,c;null==(c=(b=f.props).onScriptsLoadError)||c.call(b,a)})},b.prototype.componentWillUnmount=function(){var a=this,b=this.editor;b&&(b.off(O,this.handleEditorChange),b.off(this.beforeInputEvent(),this.handleBeforeInput),b.off("keypress",this.handleEditorChangeSpecial),b.off("keydown",this.handleBeforeInputSpecial),b.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(c){b.off(c,a.boundHandlers[c])}),this.boundHandlers={},b.remove(),this.editor=void 0)},b.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},b.prototype.beforeInputEvent=function(){return window.InputEvent&&"function"==typeof InputEvent.prototype.getTargetRanges?"beforeinput SelectionChange":"SelectionChange"},b.prototype.renderInline=function(){var a=this.props.tagName;return g.createElement(void 0===a?"div":a,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},b.prototype.renderIframe=function(){return g.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},b.prototype.getScriptSources=function(){var a,b,c=null==(a=this.props.scriptLoading)?void 0:a.async,d=null==(b=this.props.scriptLoading)?void 0:b.defer;if(void 0!==this.props.tinymceScriptSrc)return"string"==typeof this.props.tinymceScriptSrc?[{src:this.props.tinymceScriptSrc,async:c,defer:d}]:this.props.tinymceScriptSrc.map(function(a){return"string"==typeof a?{src:a,async:c,defer:d}:a});var e=this.props.cloudChannel,f=this.props.apiKey?this.props.apiKey:"no-api-key";return[{src:"https://cdn.tiny.cloud/1/".concat(f,"/tinymce/").concat(e,"/tinymce.min.js"),async:c,defer:d}]},b.prototype.getInitialValue=function(){return"string"==typeof this.props.initialValue?this.props.initialValue:"string"==typeof this.props.value?this.props.value:""},b.prototype.bindHandlers=function(a){var b=this;if(void 0!==this.editor){c=this.editor,d=this.props,e=this.boundHandlers,z(function(a){return b.props[a]},c.on.bind(c),c.off.bind(c),function(a,b){return function(d){var e;return null==(e=a(b))?void 0:e(d,c)}},a,d,e);var c,d,e,f=function(a){return void 0!==a.onEditorChange||void 0!==a.value},g=f(a),h=f(this.props);!g&&h?(this.editor.on(O,this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):g&&!h&&(this.editor.off(O,this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},b.propTypes=u,b.defaultProps={cloudChannel:"8"},b}(g.Component);let Q=(0,g.forwardRef)(({content:a,onContentChange:b,suggestions:c=[],selectedSuggestionIndex:d=null,className:e},h)=>{let i=(0,g.useRef)(null);return(0,g.useImperativeHandle)(h,()=>({highlightText:a=>{i.current&&R(i.current,a)},replaceText:(a,b)=>{i.current&&S(i.current,a,b)},getEditor:()=>i.current,getContent:()=>i.current?.getContent()||""})),(0,g.useEffect)(()=>{i.current&&a!==i.current.getContent()&&i.current.setContent(a)},[a]),(0,g.useEffect)(()=>{if(i.current&&null!==d&&c[d]){let a=c[d],b=a.text||a.original||"";b&&R(i.current,b)}},[d,c]),(0,f.jsx)("div",{className:"force-dark-mode",children:(0,f.jsx)(o.Card,{className:`border-zinc-700 bg-gradient-to-b from-zinc-900 to-zinc-950 shadow-xl ${e||""}`,children:(0,f.jsx)(o.CardContent,{className:"p-0",children:(0,f.jsx)(P,{apiKey:"jwe3v9sshhzgble0jczqr1lbi19c59cxsucej3931qp23ak7",onInit:(a,b)=>{i.current=b},value:a,onEditorChange:a=>{b(a)},init:{height:"70vh",menubar:"file edit view insert format tools table help",plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","code","help","wordcount","nonbreaking","pagebreak","save","directionality","emoticons","codesample"],toolbar:["undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | forecolor backcolor | superscript subscript","alignleft aligncenter alignright alignjustify | outdent indent | bullist numlist | link image media table | charmap emoticons pagebreak","searchreplace visualblocks code codesample | insertdatetime nonbreaking anchor | fullscreen preview | removeformat help"],toolbar_mode:"sliding",toolbar_sticky:!0,toolbar_sticky_offset:0,content_style:`
                body { 
                  font-family: -apple-system, BlinkMacSystemFont, San Francisco, Segoe UI, Roboto, Helvetica Neue, sans-serif; 
                  font-size: 16px; 
                  padding: 30px; 
                  line-height: 1.7;
                  color: #f1f5f9;
                  background-color: #18181b;
                  max-width: 1100px;
                  margin: 0 auto;
                }
                h1, h2, h3, h4, h5, h6 {
                  margin-top: 1.5em;
                  margin-bottom: 0.5em;
                  font-weight: 600;
                  line-height: 1.3;
                  color: #f8fafc;
                }
                p {
                  margin-bottom: 1em;
                  color: #f1f5f9;
                  line-height: 1.6;
                }
                a {
                  color: #818cf8;
                  text-decoration: none;
                  border-bottom: 1px solid rgba(129, 140, 248, 0.3);
                  transition: border-color 0.2s ease;
                }
                a:hover {
                  border-bottom-color: #818cf8;
                }
                /* Table styling for better formatting */
                table {
                  border-collapse: collapse;
                  width: 100%;
                  margin: 1.5rem 0;
                  border: 1px solid #3f3f46;
                  background-color: #27272a;
                  overflow: hidden;
                  border-radius: 8px;
                }
                th {
                  background-color: #3f3f46;
                  color: #f8fafc;
                  font-weight: 600;
                  padding: 12px 16px;
                  text-align: left;
                  border: 1px solid #52525b;
                }
                td {
                  padding: 10px 16px;
                  border: 1px solid #3f3f46;
                  color: #e4e4e7;
                  vertical-align: top;
                }
                tr:nth-child(even) {
                  background-color: #2d2d31;
                }
                tr:hover {
                  background-color: #35353a;
                }
                /* Image styling for proper display */
                img {
                  max-width: 100%;
                  height: auto;
                  display: block;
                  margin: 1.5rem auto;
                  border-radius: 8px;
                  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
                }
                /* List styling */
                ul, ol {
                  margin: 1rem 0;
                  padding-left: 2rem;
                  color: #f1f5f9;
                }
                li {
                  margin: 0.5rem 0;
                  line-height: 1.6;
                }
                /* Code blocks */
                pre, code {
                  background-color: #27272a;
                  border: 1px solid #3f3f46;
                  border-radius: 6px;
                  padding: 0.2em 0.4em;
                  font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
                  font-size: 0.9em;
                  color: #a5f3fc;
                }
                pre {
                  padding: 1em;
                  overflow-x: auto;
                  margin: 1rem 0;
                }
                /* Blockquote styling */
                blockquote {
                  border-left: 4px solid #818cf8;
                  padding-left: 1rem;
                  margin: 1rem 0;
                  color: #d1d5db;
                  font-style: italic;
                  background-color: rgba(129, 140, 248, 0.05);
                  padding: 1rem;
                  border-radius: 4px;
                }
              `,skin:"oxide-dark",content_css:"dark",branding:!1,promotion:!1,init_instance_callback:a=>{let b=document.createElement("style");b.textContent=`
                  .tox-promotion,
                  .tox-promotion-button,
                  .tox-statusbar__branding {
                    display: none !important;
                  }
                  /* Force dark mode always - beautiful enhanced styling */
                  .force-dark-mode .tox .tox-menubar,
                  .force-dark-mode .tox .tox-toolbar,
                  .force-dark-mode .tox .tox-toolbar__primary {
                    background: linear-gradient(135deg, #1e1e24 0%, #27272a 100%) !important;
                    border-bottom: 1px solid rgba(124, 58, 237, 0.2) !important;
                  }
                  .force-dark-mode .tox .tox-toolbar__group,
                  .force-dark-mode .tox .tox-split-button,
                  .force-dark-mode .tox .tox-tbtn {
                    color: #e4e4e7 !important;
                  }
                  .force-dark-mode .tox .tox-tbtn__select-label,
                  .force-dark-mode .tox .tox-tbtn--select {
                    color: #e4e4e7 !important;
                    font-weight: 500 !important;
                  }
                  /* Enhanced menubar styling */
                  .force-dark-mode .tox .tox-mbtn {
                    color: #f4f4f5 !important;
                    font-weight: 500 !important;
                    padding: 8px 14px !important;
                    border-radius: 6px !important;
                    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
                  }
                  .force-dark-mode .tox .tox-mbtn:hover {
                    background: rgba(124, 58, 237, 0.15) !important;
                    transform: translateY(-1px) !important;
                  }
                  /* Enhanced toolbar button styling */
                  .force-dark-mode .tox .tox-tbtn {
                    border-radius: 6px !important;
                    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
                  }
                  .force-dark-mode .tox .tox-tbtn:hover {
                    background: rgba(124, 58, 237, 0.15) !important;
                    transform: scale(1.05) !important;
                  }
                  .force-dark-mode .tox .tox-tbtn--enabled {
                    background: rgba(124, 58, 237, 0.2) !important;
                  }
                  .force-dark-mode .tox .tox-tbtn svg {
                    fill: #d4d4d8 !important;
                  }
                  .force-dark-mode .tox .tox-tbtn:hover svg,
                  .force-dark-mode .tox .tox-tbtn--enabled svg {
                    fill: #c4b5fd !important;
                  }
                  /* Group separators */
                  .force-dark-mode .tox .tox-toolbar__group {
                    border-right: 1px solid rgba(124, 58, 237, 0.2) !important;
                  }
                  /* Editor container */
                  .force-dark-mode .tox-tinymce {
                    border: 1px solid rgba(124, 58, 237, 0.3) !important;
                    border-radius: 12px !important;
                    overflow: hidden !important;
                    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(124, 58, 237, 0.1) !important;
                  }
                  /* Dropdowns and panels */
                  .force-dark-mode .tox .tox-collection,
                  .force-dark-mode .tox .tox-menu,
                  .force-dark-mode .tox .tox-dialog {
                    background: #27272a !important;
                    border: 1px solid rgba(124, 58, 237, 0.3) !important;
                  }
                `,document.head.appendChild(b)},resize:!0,statusbar:!1,paste_as_text:!1,paste_auto_cleanup_on_paste:!0,paste_retain_style_properties:"all",paste_merge_formats:!0,convert_urls:!1,font_size_formats:"8pt 10pt 12pt 14pt 16pt 18pt 24pt 28pt 36pt 48pt",font_family_formats:"System Font=-apple-system, BlinkMacSystemFont, San Francisco, Segoe UI, Roboto, sans-serif; Arial=arial,helvetica,sans-serif; Times New Roman=times new roman,times,serif; Courier New=courier new,courier,monospace; Georgia=georgia,palatino,serif; Verdana=verdana,geneva,sans-serif",table_use_colgroups:!0,table_resize_bars:!0,table_default_attributes:{border:"1"},table_default_styles:{"border-collapse":"collapse",width:"100%",border:"1px solid #3f3f46","background-color":"#27272a"},table_cell_default_styles:{padding:"10px 16px",border:"1px solid #3f3f46","vertical-align":"top"},table_header_default_styles:{"background-color":"#3f3f46","font-weight":"600",padding:"12px 16px"},image_advtab:!0,image_dimensions:!0,image_class_list:[{title:"Responsive",value:"img-responsive"},{title:"Full Width",value:"img-full-width"},{title:"Center",value:"img-center"}],setup:a=>{a.addCommand("highlightText",(b,c)=>{c&&R(a,c)}),a.addCommand("replaceText",(b,c)=>{c?.original&&c?.replacement&&S(a,c.original,c.replacement)})}}},"dark")})})})});function R(a,b){if(b&&b.trim())try{a.getBody().querySelectorAll("mark.suggestion-highlight").forEach(a=>{let b=a.parentNode;if(b){for(;a.firstChild;)b.insertBefore(a.firstChild,a);b.removeChild(a),b.normalize()}});let c=a.getContent({format:"text"}),d=b.trim().toLowerCase(),e=c.toLowerCase().indexOf(d);if(-1===e)return void console.warn("Text not found in editor:",b);let f=a.getContent(),g=document.createElement("div");g.innerHTML=f;let h=document.createTreeWalker(g,NodeFilter.SHOW_TEXT,null),i=null,j=!1;for(;(i=h.nextNode())&&!j;){let a=i,b=a.textContent||"",c=b.toLowerCase();b.length;let e=c.indexOf(d);if(-1!==e){let c=b.substring(0,e),f=b.substring(e,e+d.length),g=b.substring(e+d.length),h=document.createDocumentFragment();c&&h.appendChild(document.createTextNode(c));let i=document.createElement("mark");i.className="suggestion-highlight",i.setAttribute("style","background-color: #fef08a; color: #000; padding: 2px 4px; border-radius: 3px;"),i.textContent=f,h.appendChild(i),g&&h.appendChild(document.createTextNode(g)),a.parentNode?.replaceChild(h,a),j=!0}}j&&(a.setContent(g.innerHTML),setTimeout(()=>{let b=a.getBody().querySelector("mark.suggestion-highlight");b&&(a.selection.select(b),a.selection.scrollIntoView(),b.scrollIntoView({behavior:"smooth",block:"center"}))},100))}catch(a){console.error("Error highlighting text in TinyMCE:",a)}}function S(a,b,c){if(b&&b.trim())try{a.getBody().querySelectorAll("mark.suggestion-highlight").forEach(a=>{let b=a.parentNode;if(b){for(;a.firstChild;)b.insertBefore(a.firstChild,a);b.removeChild(a),b.normalize()}});let d=a.getContent(),e=a.getContent({format:"text"}),f=b.trim().toLowerCase(),g=e.toLowerCase().indexOf(f);if(-1===g)return void console.warn("Text not found in editor for replacement:",b);let h=document.createElement("div");h.innerHTML=d;let i=document.createTreeWalker(h,NodeFilter.SHOW_TEXT,null),j=null,k=!1;for(;(j=i.nextNode())&&!k;){let a=j,b=a.textContent||"",d=b.toLowerCase();b.length;let e=d.indexOf(f);if(-1!==e){let d=b.substring(0,e),g=b.substring(e+f.length),h=document.createDocumentFragment();d&&h.appendChild(document.createTextNode(d)),h.appendChild(document.createTextNode(c)),g&&h.appendChild(document.createTextNode(g)),a.parentNode?.replaceChild(h,a),k=!0}}k&&a.setContent(h.innerHTML)}catch(a){console.error("Error replacing text in TinyMCE:",a)}}Q.displayName="TinyMCEEditor";let T=(0,k.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),U=(0,k.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),V=(0,k.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function W({suggestion:a,index:b,isSelected:c,onSelect:d,onApply:e,isApplying:g=!1}){return a.isApplied?(0,f.jsx)(o.Card,{className:"border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-950/30",children:(0,f.jsx)(o.CardContent,{className:"p-3",children:(0,f.jsxs)("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-300",children:[(0,f.jsx)(T,{className:"h-4 w-4"}),(0,f.jsx)("span",{className:"text-sm font-medium",children:"Applied"})]})})}):(0,f.jsx)(o.Card,{className:`border cursor-pointer transition-all hover:shadow-md ${c?"border-emerald-500 dark:border-emerald-600 bg-emerald-50 dark:bg-emerald-950/30 shadow-lg":"border-zinc-200 dark:border-zinc-700"}`,onClick:d,children:(0,f.jsxs)(o.CardContent,{className:"p-4 space-y-3",children:[(0,f.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(()=>{switch(a.severity){case"critical":return(0,f.jsx)(U,{className:"h-4 w-4 text-red-500"});case"warning":return(0,f.jsx)(U,{className:"h-4 w-4 text-yellow-500"});default:return(0,f.jsx)(V,{className:"h-4 w-4 text-blue-500"})}})(),(0,f.jsx)(p.Badge,{variant:(()=>{switch(a.severity){case"critical":return"destructive";case"warning":return"default";default:return"secondary"}})(),className:"text-xs",children:a.severity})]}),(0,f.jsx)(p.Badge,{className:`text-xs ${(()=>{switch(a.category){case"FINRA":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"SEC":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"Grammar":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}})()}`,children:a.category})]}),(0,f.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:a.explanation}),(0,f.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,f.jsxs)("div",{className:"p-2 bg-red-50 dark:bg-red-950/30 rounded border border-red-200 dark:border-red-800",children:[(0,f.jsx)("p",{className:"text-red-700 dark:text-red-300 font-medium mb-1",children:"Original:"}),(0,f.jsx)("p",{className:"text-red-900 dark:text-red-100",children:a.originalText})]}),(0,f.jsxs)("div",{className:"p-2 bg-green-50 dark:bg-green-950/30 rounded border border-green-200 dark:border-green-800",children:[(0,f.jsx)("p",{className:"text-green-700 dark:text-green-300 font-medium mb-1",children:"Suggested:"}),(0,f.jsx)("p",{className:"text-green-900 dark:text-green-100",children:a.suggestedText})]})]}),a.page&&(0,f.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Page ",a.page]}),(0,f.jsx)(n.Button,{variant:"default",size:"sm",className:"w-full",onClick:a=>{a.stopPropagation(),e()},disabled:g,children:g?"Applying...":"Apply Change"})]})})}var X=a.i(5522),Y=a.i(17171),Z=a.i(65602),$=a.i(7554),_=a.i(70121),aa=a.i(96743),ab=a.i(92843),ac=a.i(4691),ad=a.i(92616),ae=a.i(77192);a.i(35112);var af=Symbol("radix.slottable");function ag(a){return g.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===af}var ah=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,b)=>{var c,d;let e,h,i,j=(d=c=`Primitive.${b}`,(e=g.forwardRef((a,b)=>{let{children:c,...d}=a;if(g.isValidElement(c)){var e;let a,f,h=(e=c,(f=(a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.ref:(f=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref),i=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props);return c.type!==g.Fragment&&(i.ref=b?(0,_.composeRefs)(b,h):h),g.cloneElement(c,i)}return g.Children.count(c)>1?g.Children.only(null):null})).displayName=`${d}.SlotClone`,h=e,(i=g.forwardRef((a,b)=>{let{children:c,...d}=a,e=g.Children.toArray(c),i=e.find(ag);if(i){let a=i.props.children,c=e.map(b=>b!==i?b:g.Children.count(a)>1?g.Children.only(null):g.isValidElement(a)?a.props.children:null);return(0,f.jsx)(h,{...d,ref:b,children:g.isValidElement(a)?g.cloneElement(a,void 0,c):null})}return(0,f.jsx)(h,{...d,ref:b,children:c})})).displayName=`${c}.Slot`,i),k=g.forwardRef((a,c)=>{let{asChild:d,...e}=a;return(0,f.jsx)(d?j:b,{...e,ref:c})});return k.displayName=`Primitive.${b}`,{...a,[b]:k}},{}),ai=a.i(25152),aj=Symbol("radix.slottable");function ak(a){return g.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===aj}var al=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,b)=>{var c,d;let e,h,i,j=(d=c=`Primitive.${b}`,(e=g.forwardRef((a,b)=>{let{children:c,...d}=a;if(g.isValidElement(c)){var e;let a,f,h=(e=c,(f=(a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.ref:(f=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref),i=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props);return c.type!==g.Fragment&&(i.ref=b?(0,_.composeRefs)(b,h):h),g.cloneElement(c,i)}return g.Children.count(c)>1?g.Children.only(null):null})).displayName=`${d}.SlotClone`,h=e,(i=g.forwardRef((a,b)=>{let{children:c,...d}=a,e=g.Children.toArray(c),i=e.find(ak);if(i){let a=i.props.children,c=e.map(b=>b!==i?b:g.Children.count(a)>1?g.Children.only(null):g.isValidElement(a)?a.props.children:null);return(0,f.jsx)(h,{...d,ref:b,children:g.isValidElement(a)?g.cloneElement(a,void 0,c):null})}return(0,f.jsx)(h,{...d,ref:b,children:c})})).displayName=`${c}.Slot`,i),k=g.forwardRef((a,c)=>{let{asChild:d,...e}=a;return(0,f.jsx)(d?j:b,{...e,ref:c})});return k.displayName=`Primitive.${b}`,{...a,[b]:k}},{}),am=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),an=g.forwardRef((a,b)=>(0,f.jsx)(al.span,{...a,ref:b,style:{...am,...a.style}}));an.displayName="VisuallyHidden";var[ao,ap]=function(a,b=[]){let c=[],d=()=>{let b=c.map(a=>g.createContext(a));return function(c){let d=c?.[a]||b;return g.useMemo(()=>({[`__scope${a}`]:{...c,[a]:d}}),[c,d])}};return d.scopeName=a,[function(b,d){let e=g.createContext(d),h=c.length;c=[...c,d];let i=b=>{let{scope:c,children:d,...i}=b,j=c?.[a]?.[h]||e,k=g.useMemo(()=>i,Object.values(i));return(0,f.jsx)(j.Provider,{value:k,children:d})};return i.displayName=b+"Provider",[i,function(c,f){let i=f?.[a]?.[h]||e,j=g.useContext(i);if(j)return j;if(void 0!==d)return d;throw Error(`\`${c}\` must be used within \`${b}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let c=()=>{let c=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let d=c.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return g.useMemo(()=>({[`__scope${b.scopeName}`]:d}),[d])}};return c.scopeName=b.scopeName,c}(d,...b)]}("Tooltip",[ac.createPopperScope]),aq=(0,ac.createPopperScope)(),ar="TooltipProvider",as="tooltip.open",[at,au]=ao(ar),av=a=>{let{__scopeTooltip:b,delayDuration:c=700,skipDelayDuration:d=300,disableHoverableContent:e=!1,children:h}=a,i=g.useRef(!0),j=g.useRef(!1),k=g.useRef(0);return g.useEffect(()=>{let a=k.current;return()=>window.clearTimeout(a)},[]),(0,f.jsx)(at,{scope:b,isOpenDelayedRef:i,delayDuration:c,onOpen:g.useCallback(()=>{window.clearTimeout(k.current),i.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(k.current),k.current=window.setTimeout(()=>i.current=!0,d)},[d]),isPointerInTransitRef:j,onPointerInTransitChange:g.useCallback(a=>{j.current=a},[]),disableHoverableContent:e,children:h})};av.displayName=ar;var aw="Tooltip",[ax,ay]=ao(aw),az=a=>{let{__scopeTooltip:b,children:c,open:d,defaultOpen:e,onOpenChange:h,disableHoverableContent:i,delayDuration:j}=a,k=au(aw,a.__scopeTooltip),l=aq(b),[m,n]=g.useState(null),o=(0,ab.useId)(),p=g.useRef(0),q=i??k.disableHoverableContent,r=j??k.delayDuration,s=g.useRef(!1),[t,u]=(0,ai.useControllableState)({prop:d,defaultProp:e??!1,onChange:a=>{a?(k.onOpen(),document.dispatchEvent(new CustomEvent(as))):k.onClose(),h?.(a)},caller:aw}),v=g.useMemo(()=>t?s.current?"delayed-open":"instant-open":"closed",[t]),w=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,s.current=!1,u(!0)},[u]),x=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,u(!1)},[u]),y=g.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{s.current=!0,u(!0),p.current=0},r)},[r,u]);return g.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),(0,f.jsx)(ac.Root,{...l,children:(0,f.jsx)(ax,{scope:b,contentId:o,open:t,stateAttribute:v,trigger:m,onTriggerChange:n,onTriggerEnter:g.useCallback(()=>{k.isOpenDelayedRef.current?y():w()},[k.isOpenDelayedRef,y,w]),onTriggerLeave:g.useCallback(()=>{q?x():(window.clearTimeout(p.current),p.current=0)},[x,q]),onOpen:w,onClose:x,disableHoverableContent:q,children:c})})};az.displayName=aw;var aA="TooltipTrigger",aB=g.forwardRef((a,b)=>{let{__scopeTooltip:c,...d}=a,e=ay(aA,c),h=au(aA,c),i=aq(c),j=g.useRef(null),k=(0,_.useComposedRefs)(b,j,e.onTriggerChange),l=g.useRef(!1),m=g.useRef(!1),n=g.useCallback(()=>l.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",n),[n]),(0,f.jsx)(ac.Anchor,{asChild:!0,...i,children:(0,f.jsx)(ah.button,{"aria-describedby":e.open?e.contentId:void 0,"data-state":e.stateAttribute,...d,ref:k,onPointerMove:(0,$.composeEventHandlers)(a.onPointerMove,a=>{"touch"!==a.pointerType&&(m.current||h.isPointerInTransitRef.current||(e.onTriggerEnter(),m.current=!0))}),onPointerLeave:(0,$.composeEventHandlers)(a.onPointerLeave,()=>{e.onTriggerLeave(),m.current=!1}),onPointerDown:(0,$.composeEventHandlers)(a.onPointerDown,()=>{e.open&&e.onClose(),l.current=!0,document.addEventListener("pointerup",n,{once:!0})}),onFocus:(0,$.composeEventHandlers)(a.onFocus,()=>{l.current||e.onOpen()}),onBlur:(0,$.composeEventHandlers)(a.onBlur,e.onClose),onClick:(0,$.composeEventHandlers)(a.onClick,e.onClose)})})});aB.displayName=aA;var aC="TooltipPortal",[aD,aE]=ao(aC,{forceMount:void 0}),aF=a=>{let{__scopeTooltip:b,forceMount:c,children:d,container:e}=a,g=ay(aC,b);return(0,f.jsx)(aD,{scope:b,forceMount:c,children:(0,f.jsx)(ae.Presence,{present:c||g.open,children:(0,f.jsx)(ad.Portal,{asChild:!0,container:e,children:d})})})};aF.displayName=aC;var aG="TooltipContent",aH=g.forwardRef((a,b)=>{let c=aE(aG,a.__scopeTooltip),{forceMount:d=c.forceMount,side:e="top",...g}=a,h=ay(aG,a.__scopeTooltip);return(0,f.jsx)(ae.Presence,{present:d||h.open,children:h.disableHoverableContent?(0,f.jsx)(aM,{side:e,...g,ref:b}):(0,f.jsx)(aI,{side:e,...g,ref:b})})}),aI=g.forwardRef((a,b)=>{let c=ay(aG,a.__scopeTooltip),d=au(aG,a.__scopeTooltip),e=g.useRef(null),h=(0,_.useComposedRefs)(b,e),[i,j]=g.useState(null),{trigger:k,onClose:l}=c,m=e.current,{onPointerInTransitChange:n}=d,o=g.useCallback(()=>{j(null),n(!1)},[n]),p=g.useCallback((a,b)=>{let c,d=a.currentTarget,e={x:a.clientX,y:a.clientY},f=function(a,b){let c=Math.abs(b.top-a.y),d=Math.abs(b.bottom-a.y),e=Math.abs(b.right-a.x),f=Math.abs(b.left-a.x);switch(Math.min(c,d,e,f)){case f:return"left";case e:return"right";case c:return"top";case d:return"bottom";default:throw Error("unreachable")}}(e,d.getBoundingClientRect());j(((c=[...function(a,b,c=5){let d=[];switch(b){case"top":d.push({x:a.x-c,y:a.y+c},{x:a.x+c,y:a.y+c});break;case"bottom":d.push({x:a.x-c,y:a.y-c},{x:a.x+c,y:a.y-c});break;case"left":d.push({x:a.x+c,y:a.y-c},{x:a.x+c,y:a.y+c});break;case"right":d.push({x:a.x-c,y:a.y-c},{x:a.x-c,y:a.y+c})}return d}(e,f),...function(a){let{top:b,right:c,bottom:d,left:e}=a;return[{x:e,y:b},{x:c,y:b},{x:c,y:d},{x:e,y:d}]}(b.getBoundingClientRect())].slice()).sort((a,b)=>a.x<b.x?-1:a.x>b.x?1:a.y<b.y?-1:1*!!(a.y>b.y)),function(a){if(a.length<=1)return a.slice();let b=[];for(let c=0;c<a.length;c++){let d=a[c];for(;b.length>=2;){let a=b[b.length-1],c=b[b.length-2];if((a.x-c.x)*(d.y-c.y)>=(a.y-c.y)*(d.x-c.x))b.pop();else break}b.push(d)}b.pop();let c=[];for(let b=a.length-1;b>=0;b--){let d=a[b];for(;c.length>=2;){let a=c[c.length-1],b=c[c.length-2];if((a.x-b.x)*(d.y-b.y)>=(a.y-b.y)*(d.x-b.x))c.pop();else break}c.push(d)}return(c.pop(),1===b.length&&1===c.length&&b[0].x===c[0].x&&b[0].y===c[0].y)?b:b.concat(c)}(c))),n(!0)},[n]);return g.useEffect(()=>()=>o(),[o]),g.useEffect(()=>{if(k&&m){let a=a=>p(a,m),b=a=>p(a,k);return k.addEventListener("pointerleave",a),m.addEventListener("pointerleave",b),()=>{k.removeEventListener("pointerleave",a),m.removeEventListener("pointerleave",b)}}},[k,m,p,o]),g.useEffect(()=>{if(i){let a=a=>{let b=a.target,c={x:a.clientX,y:a.clientY},d=k?.contains(b)||m?.contains(b),e=!function(a,b){let{x:c,y:d}=a,e=!1;for(let a=0,f=b.length-1;a<b.length;f=a++){let g=b[a],h=b[f],i=g.x,j=g.y,k=h.x,l=h.y;j>d!=l>d&&c<(k-i)*(d-j)/(l-j)+i&&(e=!e)}return e}(c,i);d?o():e&&(o(),l())};return document.addEventListener("pointermove",a),()=>document.removeEventListener("pointermove",a)}},[k,m,i,l,o]),(0,f.jsx)(aM,{...a,ref:h})}),[aJ,aK]=ao(aw,{isInside:!1}),aL=((b=({children:a})=>(0,f.jsx)(f.Fragment,{children:a})).displayName="TooltipContent.Slottable",b.__radixId=af,b),aM=g.forwardRef((a,b)=>{let{__scopeTooltip:c,children:d,"aria-label":e,onEscapeKeyDown:h,onPointerDownOutside:i,...j}=a,k=ay(aG,c),l=aq(c),{onClose:m}=k;return g.useEffect(()=>(document.addEventListener(as,m),()=>document.removeEventListener(as,m)),[m]),g.useEffect(()=>{if(k.trigger){let a=a=>{let b=a.target;b?.contains(k.trigger)&&m()};return window.addEventListener("scroll",a,{capture:!0}),()=>window.removeEventListener("scroll",a,{capture:!0})}},[k.trigger,m]),(0,f.jsx)(aa.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:h,onPointerDownOutside:i,onFocusOutside:a=>a.preventDefault(),onDismiss:m,children:(0,f.jsxs)(ac.Content,{"data-state":k.stateAttribute,...l,...j,ref:b,style:{...j.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,f.jsx)(aL,{children:d}),(0,f.jsx)(aJ,{scope:c,isInside:!0,children:(0,f.jsx)(an,{id:k.contentId,role:"tooltip",children:e||d})})]})})});aH.displayName=aG;var aN="TooltipArrow",aO=g.forwardRef((a,b)=>{let{__scopeTooltip:c,...d}=a,e=aq(c);return aK(aN,c).isInside?null:(0,f.jsx)(ac.Arrow,{...e,...d,ref:b})});aO.displayName=aN;var aP=a.i(97895);function aQ({delayDuration:a=0,...b}){return(0,f.jsx)(av,{"data-slot":"tooltip-provider",delayDuration:a,...b})}function aR({...a}){return(0,f.jsx)(aQ,{children:(0,f.jsx)(az,{"data-slot":"tooltip",...a})})}function aS({...a}){return(0,f.jsx)(aB,{"data-slot":"tooltip-trigger",...a})}function aT({className:a,sideOffset:b=0,children:c,...d}){return(0,f.jsx)(aF,{children:(0,f.jsxs)(aH,{"data-slot":"tooltip-content",sideOffset:b,className:(0,aP.cn)("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",a),...d,children:[c,(0,f.jsx)(aO,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}var aU=a.i(73320),aV=a.i(96221);function aW({onUploadSuccess:a,onError:b}){let[c,d]=(0,g.useState)(null),[e,h]=(0,g.useState)(!1),[i,k]=(0,g.useState)(!1),[p,q]=(0,g.useState)(null),r=async()=>{if(!c)return void q("Please select a document to upload.");h(!0),q(null);try{let b=new FormData;b.append("file",c),console.log("ðŸ“¤ Uploading file to /api/compliance/analyze...");let d=await fetch("/api/compliance/analyze",{method:"POST",body:b});if(console.log("ðŸ“¥ Response status:",d.status,d.statusText),!d.ok){console.log("âš ï¸ Response is not OK, handling error...");let a={error:"Server Error",details:`Request failed with status ${d.status}: ${d.statusText}`},b={...a};console.log("ðŸ”§ Initialized errorData with defaults:",b);try{console.log("ðŸ“– Attempting to read response body...");let a=d.clone(),c=await a.text();if(console.log("ðŸ“„ Raw error response text:",c),console.log("ðŸ“„ Response text length:",c.length),console.log("ðŸ“„ Response Content-Type:",d.headers.get("content-type")),console.log("ðŸ“„ Text is truthy:",!!c),console.log("ðŸ“„ Trimmed text length:",c?.trim().length),c&&c.trim()){console.log("âœ… Have text content, attempting to parse JSON...");try{let a=JSON.parse(c);console.log("ðŸ“„ Successfully parsed JSON:",a),console.log("ðŸ“„ Parsed type:",typeof a),console.log("ðŸ“„ Parsed keys:",a?Object.keys(a):"null"),a&&"object"==typeof a&&Object.keys(a).length>0?(console.log("âœ… Parsed object has keys"),a.error||a.details||a.message?(console.log("âœ… Found error/details/message in parsed data"),b={error:a.error||"Server error",details:a.details||a.message||"An error occurred"},console.log("âœ… Updated errorData:",b)):(console.warn("âš ï¸ Parsed JSON has no error/details/message fields:",a),b={error:"Server error",details:`Server returned: ${JSON.stringify(a)}`},console.log("âœ… Updated errorData with stringified response:",b))):(console.warn("âš ï¸ Received empty or invalid JSON from server"),b={error:"Empty Response",details:`The server returned an empty response (HTTP ${d.status}). This may indicate an unhandled error in the API.`},console.log("âœ… Updated errorData with empty response message:",b))}catch(a){console.error("âŒ JSON parse error:",a),console.log("Using raw text as error details"),b={error:"Invalid Response Format",details:c.length>500?c.substring(0,500)+"...":c},console.log("âœ… Updated errorData with raw text:",b)}}else console.warn("âš ï¸ Empty error response body (no text)"),b={error:"Empty Response",details:`The server returned an error (HTTP ${d.status}) but no response body. Please check the server logs.`},console.log("âœ… Updated errorData for empty body:",b)}catch(a){console.error("âŒ Failed to read error response:",a),console.log("Keeping default errorData")}b&&"object"==typeof b&&0!==Object.keys(b).length||(console.error("ðŸš¨ CRITICAL: errorData is empty or invalid, resetting to default"),b={...a}),b.error||b.details||(console.error("ðŸš¨ CRITICAL: errorData has no error or details, adding defaults"),b={...a}),console.error("âŒ Final error data:",JSON.stringify(b)),console.error("âŒ Final error data keys:",Object.keys(b)),console.error("âŒ Final error data.error:",b.error),console.error("âŒ Final error data.details:",b.details);let c="Unknown error occurred";throw c=b.error&&b.details?`${b.error}: ${b.details}`:b.error?b.error:b.details?b.details:`Failed to analyze document (HTTP ${d.status}: ${d.statusText})`,console.error("âŒ Final error message:",c),Error(c)}let e=await d.json();console.log("âœ… Analysis complete! Response data:",e),a(e)}catch(c){let a=c instanceof Error?c.message:"Failed to process the file.";q(a),b(a)}finally{h(!1)}},s=async()=>{if(!c)return void q("Please select a PDF file to convert.");if(!c.name.toLowerCase().endsWith(".pdf"))return void q("Only PDF files can be converted to Word.");k(!0),q(null);try{m.toast.info("Converting PDF to Word...",{description:"This may take a few moments."});let b=new FormData;b.append("file",c),console.log("ðŸ“¤ Converting PDF to DOCX via /api/convert/pdf-to-docx...");let d=await fetch("/api/convert/pdf-to-docx",{method:"POST",body:b});if(console.log("ðŸ“¥ Conversion response status:",d.status,d.statusText),!d.ok){let a="Failed to convert PDF to Word",b="";try{let c=d.headers.get("content-type"),e=await d.text();if(c&&c.includes("application/json")&&e){let c=JSON.parse(e);a=c.message||c.error||a,(b=c.details||"").includes("Network error")||b.includes("timeout")?(a="Conversion timeout",b="The conversion is taking too long. Please try again or use a smaller PDF."):b.includes("credentials")?(a="Configuration error",b="PDF conversion service needs configuration. Please contact support."):c.fallbackError&&(a="Cannot convert this PDF",b="This PDF may be encrypted, corrupted, or in an unsupported format.")}else e&&(b=e.substring(0,200))}catch(a){console.error("Error reading response:",a)}throw m.toast.error(a,{description:b,duration:7e3}),Error(a)}let e=await d.blob();console.log("âœ… PDF converted to DOCX, blob size:",e.size);let f=new File([e],c.name.replace(/\.pdf$/i,".docx"),{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});m.toast.success("PDF converted to Word!",{description:"Now analyzing the document for compliance..."});let g=new FormData;g.append("file",f),console.log("ðŸ“¤ Uploading converted DOCX to /api/compliance/analyze...");let h=await fetch("/api/compliance/analyze",{method:"POST",body:g});if(console.log("ðŸ“¥ Analysis response status:",h.status,h.statusText),!h.ok){let a={...{error:"Analysis Error",details:`Request failed with status ${h.status}: ${h.statusText}`}};try{let b=await h.text();if(b&&b.trim())try{let c=JSON.parse(b);a=c&&(c.error||c.details||c.message)?{error:c.error||"Server error",details:c.details||c.message||"An error occurred"}:{error:"Server error",details:`Server returned: ${JSON.stringify(c)}`}}catch(c){a={error:"Invalid Response Format",details:b.length>500?b.substring(0,500)+"...":b}}else a={error:"Empty Response",details:`The server returned an error (HTTP ${h.status}) but no response body.`}}catch(a){console.error("Failed to read error response:",a)}let b=a.error&&a.details?`${a.error}: ${a.details}`:a.error||a.details||`Failed to analyze document (HTTP ${h.status})`;throw Error(b)}let i=await h.json();console.log("âœ… Analysis complete! Response data:",i),m.toast.success("Conversion and analysis complete!"),a(i)}catch(c){let a=c instanceof Error?c.message:"Failed to convert PDF to Word.";console.error("âŒ Conversion error:",a),q(a),b(a),m.toast.error("Conversion failed",{description:a})}finally{k(!1)}};return(0,f.jsxs)(o.Card,{className:"border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900",children:[(0,f.jsx)(o.CardHeader,{children:(0,f.jsxs)(o.CardTitle,{className:"text-gray-900 dark:text-gray-50 flex items-center gap-2",children:[(0,f.jsx)(j.FileText,{className:"h-5 w-5"}),"Upload Document for Compliance Review"]})}),(0,f.jsxs)(o.CardContent,{className:"space-y-4",children:[p&&(0,f.jsxs)(Z.Alert,{variant:"destructive",children:[(0,f.jsx)(Z.AlertTitle,{children:"Error"}),(0,f.jsx)(Z.AlertDescription,{children:p})]}),(0,f.jsxs)("div",{className:"space-y-2",children:[(0,f.jsx)(Y.Label,{htmlFor:"file-upload",className:"text-gray-700 dark:text-gray-300",children:"Select Document (PDF or DOCX)"}),(0,f.jsxs)("div",{className:"flex gap-3",children:[(0,f.jsx)(X.Input,{id:"file-upload",type:"file",accept:".pdf,.docx,application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:a=>{let b=a.target.files?.[0]||null;if(d(b),q(null),b){let a=b.name.toLowerCase();a.endsWith(".docx")||a.endsWith(".pdf")||(q("Please select a .docx or .pdf file"),d(null))}},disabled:e,className:"flex-1"}),(0,f.jsxs)(n.Button,{onClick:r,disabled:!c||e,className:"whitespace-nowrap",children:[(0,f.jsx)(aU.Upload,{className:"h-4 w-4 mr-2"}),e?"Analyzing...":"Analyze"]})]}),(0,f.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Supported formats: PDF, DOCX (up to 10MB). Analysis checks for FINRA, SEC, and grammar compliance."})]}),c&&!p&&(0,f.jsx)("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/30 rounded-lg border border-blue-200 dark:border-blue-800",children:(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsxs)("div",{className:"flex-1",children:[(0,f.jsxs)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[(0,f.jsx)("span",{className:"font-medium",children:"Selected:"})," ",c.name]}),(0,f.jsxs)("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:["Size: ",(c.size/1024/1024).toFixed(2)," MB"]})]}),c.name.toLowerCase().endsWith(".pdf")&&(0,f.jsx)(aQ,{children:(0,f.jsxs)(aR,{children:[(0,f.jsx)(aS,{asChild:!0,children:(0,f.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:s,disabled:i||e,className:"ml-2 h-8 w-8 p-0",children:i?(0,f.jsx)(aV.Loader2,{className:"h-4 w-4 animate-spin text-blue-600 dark:text-blue-400"}):(0,f.jsx)(l,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})})}),(0,f.jsx)(aT,{children:(0,f.jsx)("p",{children:"Convert PDF to Word for editing"})})]})})]})})]})]})}var aX=a.i(66274);let aY=(0,a.i(19721).default)(async()=>{},{loadableGenerated:{modules:[86864]},ssr:!1,loading:()=>(0,f.jsx)("div",{className:"flex items-center justify-center h-full bg-zinc-100 dark:bg-zinc-950",children:(0,f.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,f.jsx)(aV.Loader2,{className:"h-8 w-8 animate-spin text-zinc-600 dark:text-zinc-400"}),(0,f.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Loading PDF viewer..."})]})})});function aZ(){let[b,c]=(0,g.useState)(null),[d,e]=(0,g.useState)(""),[k,r]=(0,g.useState)(null),[s,t]=(0,g.useState)(null),[u,v]=(0,g.useState)(""),[w,x]=(0,g.useState)([]),[y,z]=(0,g.useState)(null),[A,B]=(0,g.useState)(null),[C,D]=(0,g.useState)(!0),[E,F]=(0,g.useState)(null),G=(0,g.useRef)(null),H=w.map(a=>({issue:a.explanation,page:a.page||1,text:a.originalText,suggestion:a.suggestedText,original:a.originalText,explanation:a.explanation,category:a.category.toLowerCase(),severity:a.severity})),I=async a=>{let c=w[a];if(c&&b){if("pdf"===k){m.toast.info("Convert to edit",{description:'Click "Convert to Word" to enable editing and apply suggestions.'}),x(b=>b.map((b,c)=>c===a?{...b,isApplied:!0}:b));return}if(G.current){B(a);try{let d=await fetch("/api/compliance/apply-change",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({documentId:b,originalText:c.originalText,suggestedText:c.suggestedText,suggestionId:c.id,fileType:k,documentData:s||void 0})});if(!d.ok)throw Error("Failed to apply change");await d.json(),G.current.replaceText(c.originalText,c.suggestedText);let e=G.current.getContent();v(e),x(b=>b.map((b,c)=>c===a?{...b,isApplied:!0}:b)),m.toast.success("Change applied successfully"),y===a&&z(null)}catch(a){console.error("Error applying suggestion:",a),m.toast.error("Failed to apply change")}finally{B(null)}}}},J=async()=>{if(!G.current)return void m.toast.error("No content to analyze");let a=m.toast.loading("Analyzing content for compliance...");try{let b=G.current.getContent(),c=document.createElement("div");c.innerHTML=b;let d=c.textContent||c.innerText||"";console.log("ðŸ“ Analyzing editor content...",{htmlLength:b.length,textLength:d.length,textPreview:d.substring(0,200)});let e=new Blob([d],{type:"text/plain"}),f=new File([e],"editor-content.txt",{type:"text/plain"}),g=new FormData;g.append("file",f),g.append("isPlainText","true");let h=await fetch("/api/compliance/analyze",{method:"POST",body:g});if(!h.ok)throw Error("Failed to analyze content");let i=await h.json();console.log("âœ… Analysis complete:",{suggestionsCount:i.suggestions?.length||0}),x(i.suggestions.map((a,b)=>({...a,id:`sugg-${b}`}))),m.toast.success(`Analysis complete! Found ${i.suggestions.length} suggestions.`,{id:a})}catch(c){console.error("Analysis error:",c);let b=c instanceof Error?c.message:"Unknown error";m.toast.error("Failed to analyze content",{description:b,id:a})}},K=async()=>{if("pdf"!==k||!s)return void m.toast.error("PDF not available for conversion");let b=m.toast.loading("Converting PDF to Word format...");try{console.log("ðŸ“¥ Converting PDF to editable format...");let c=await fetch(s),e=await c.blob(),f=new FormData;f.append("file",e,d||"document.pdf");let g=await fetch("/api/convert/pdf-to-docx",{method:"POST",body:f});if(!g.ok){let a=await g.text();console.error("âŒ Conversion API error:",a);let c="Conversion failed",d="";try{let b=JSON.parse(a);c=b.message||b.error||c,(d=b.details||"").includes("Network error")||d.includes("timeout")?(c="Network timeout - conversion taking too long",d="The PDF conversion service is temporarily slow. Please try again, or try with a smaller PDF file."):d.includes("credentials")?(c="Configuration error",d="Please contact support - PDF conversion service needs configuration."):b.fallbackError&&(c="Unable to convert this PDF",d="This PDF may be encrypted, corrupted, or in an unsupported format. Please try a different PDF file.")}catch(b){c="Conversion failed",d=a.substring(0,200)}throw m.toast.error(c,{description:d,duration:7e3,id:b}),Error(c)}console.log("âœ… Conversion successful, loading into editor...");let h=await g.blob(),i=await a.A(28285),j=await h.arrayBuffer(),k=await i.convertToHtml({arrayBuffer:j},{styleMap:["p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Title'] => h1.title:fresh","r[style-name='Strong'] => strong","r[style-name='Emphasis'] => em","p[style-name='List Paragraph'] => p.list-paragraph:fresh"],includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0,convertImage:i.images.imgElement(a=>a.read("base64").then(b=>({src:`data:${a.contentType};base64,${b}`,style:"max-width: 100%; height: auto; display: block; margin: 1rem auto;"}))),transformDocument:i.transforms.paragraph(a=>a.alignment?{...a,styleId:a.styleId,styleName:a.styleName}:a)}),l=k.value;l=l.replace(/<table([^>]*)>/gi,(a,b)=>b.includes("style=")?a:`<table${b} style="border-collapse: collapse; width: 100%; margin: 1.5rem 0; border: 1px solid #3f3f46; background-color: #27272a;">`).replace(/<td([^>]*)>/gi,(a,b)=>b.includes("style=")?a:`<td${b} style="border: 1px solid #3f3f46; padding: 10px 16px; vertical-align: top; color: #e4e4e7;">`).replace(/<th([^>]*)>/gi,(a,b)=>b.includes("style=")?a:`<th${b} style="border: 1px solid #52525b; padding: 12px 16px; background-color: #3f3f46; font-weight: 600; text-align: left; color: #f8fafc;">`).replace(/<img([^>]*?)>/gi,(a,b)=>b.includes("style=")?a:`<img${b} style="max-width: 100%; height: auto; display: block; margin: 1.5rem auto; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);">`).replace(/<p([^>]*)>/gi,(a,b)=>b.includes("style=")?a:`<p${b} style="margin: 0.5rem 0; line-height: 1.6;">`).replace(/<ul([^>]*)>/gi,(a,b)=>b.includes("style=")?a:`<ul${b} style="margin: 1rem 0; padding-left: 2rem;">`).replace(/<ol([^>]*)>/gi,(a,b)=>b.includes("style=")?a:`<ol${b} style="margin: 1rem 0; padding-left: 2rem;">`).replace(/<li([^>]*)>/gi,(a,b)=>b.includes("style=")?a:`<li${b} style="margin: 0.5rem 0; line-height: 1.6;">`),k.messages.length>0&&console.log("Conversion messages:",k.messages),v(l),r("docx"),t(null),m.toast.success('Document converted! Click "Analyze Content" to check compliance.',{id:b,duration:5e3})}catch(a){console.error("Conversion error:",a),"Unknown error"===(a instanceof Error?a.message:"Unknown error")&&m.toast.error("Failed to convert PDF",{description:"An unexpected error occurred. Please try again.",id:b})}},L=async()=>{let a=m.toast.loading("Preparing download...");try{if("pdf"===k&&s){m.toast.loading("Converting PDF to Word...",{id:a});let b=await fetch(s),c=await b.blob(),e=new FormData;e.append("file",c,d||"document.pdf");let f=await fetch("/api/convert/pdf-to-docx",{method:"POST",body:e});if(!f.ok){let a=await f.text();console.error("âŒ Download conversion error:",a);let b="Failed to convert PDF to Word";try{let c=JSON.parse(a);c.details&&c.details.includes("timeout")?b="Conversion timeout - please try again or use a smaller file":c.fallbackError&&(b="Unable to convert this PDF - it may be encrypted or corrupted")}catch(a){}throw Error(b)}let g=await f.blob(),h=URL.createObjectURL(g),i=document.createElement("a");i.href=h,i.download=`${d||"document"}_converted.docx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(h),m.toast.success("Word document downloaded",{id:a})}else if(G.current){let b=G.current.getContent(),c=await (0,aX.htmlToWordBlob)(b),e=URL.createObjectURL(c),f=document.createElement("a");f.href=e,f.download=`${d||"document"}_edited.docx`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(e),m.toast.success("Word document downloaded",{id:a})}else m.toast.error("No content to download",{id:a})}catch(c){console.error("Download error:",c);let b=c instanceof Error?c.message:"Failed to download Word document";m.toast.error("Download failed",{description:b,id:a})}},M=async()=>{try{if("pdf"===k&&s){let a=document.createElement("a");a.href=s,a.download=`${d||"document"}.pdf`,document.body.appendChild(a),a.click(),document.body.removeChild(a),m.toast.success("PDF downloaded")}else if(G.current){let a=G.current.getContent(),b=await (0,aX.convertHtmlToPdf)(a),c=document.createElement("a");c.href=b,c.download=`${d||"document"}_edited.pdf`,document.body.appendChild(c),c.click(),document.body.removeChild(c),m.toast.success("Document downloaded as PDF")}else m.toast.error("No content to download")}catch(a){console.error("Download error:",a),m.toast.error("Failed to download PDF")}},N=w.reduce((a,b,c)=>{let d=b.category||"Other";return a[d]||(a[d]=[]),a[d].push({...b,index:c}),a},{}),O=w.length,P=w.filter(a=>a.isApplied).length,R=w.filter(a=>"critical"===a.severity&&!a.isApplied).length;return(0,f.jsx)(h.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"min-h-screen bg-zinc-50 dark:bg-zinc-950 p-4 sm:p-6 lg:p-8",children:(0,f.jsxs)("div",{className:"max-w-[1800px] mx-auto",children:[(0,f.jsxs)("div",{className:"mb-6",children:[(0,f.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-50 mb-2",children:"Financial Compliance Editor"}),(0,f.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Upload documents for FINRA/SEC compliance review and real-time editing"})]}),C&&(0,f.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,f.jsx)(aW,{onUploadSuccess:a=>{console.log("ðŸ“„ Upload success! Document data:",{documentId:a.documentId,fileType:a.fileType,hasHtmlContent:!!a.htmlContent,htmlContentLength:a.htmlContent?.length||0,extractedTextLength:a.extractedText?.length||0,suggestionsCount:a.suggestions?.length||0,hasPdfUrl:!!a.pdfUrl,fileName:a.fileName}),a.suggestions&&a.suggestions.length>0?console.log("Sample suggestion:",a.suggestions[0]):(console.log("âš ï¸ No suggestions received from API"),console.log("Extracted text preview:",a.extractedText?.substring(0,200))),c(a.documentId),e(a.fileName||"document"),r(a.fileType),v(a.htmlContent),t(a.pdfUrl||null),x(a.suggestions.map((a,b)=>({...a,id:`sugg-${b}`}))),D(!1),m.toast.success(`Document analyzed! Found ${a.suggestions.length} suggestions.`)},onError:a=>{m.toast.error("Upload failed",{description:a})}})}),!C&&b&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"mb-4 flex flex-wrap items-center justify-between gap-4",children:[(0,f.jsxs)("div",{className:"flex items-center gap-3",children:[(0,f.jsxs)(p.Badge,{variant:"outline",className:"text-sm",children:[(0,f.jsx)(j.FileText,{className:"h-3 w-3 mr-1"}),"Document #",b]}),(0,f.jsxs)(p.Badge,{variant:"secondary",className:"text-sm",children:[O," Total Suggestions"]}),(0,f.jsxs)(p.Badge,{variant:"default",className:"text-sm bg-green-600",children:[P," Applied"]}),R>0&&(0,f.jsxs)(p.Badge,{variant:"destructive",className:"text-sm",children:[R," Critical Issues"]})]}),(0,f.jsxs)("div",{className:"flex gap-2",children:["pdf"===k&&(0,f.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:K,className:"bg-blue-50 dark:bg-blue-950/30 border-blue-200 dark:border-blue-800 hover:bg-blue-100 dark:hover:bg-blue-900/40",children:[(0,f.jsx)(l,{className:"h-4 w-4 mr-2 text-blue-600 dark:text-blue-400"}),"Convert to Word"]}),"docx"===k&&(0,f.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:J,className:"bg-purple-50 dark:bg-purple-950/30 border-purple-200 dark:border-purple-800 hover:bg-purple-100 dark:hover:bg-purple-900/40",children:[(0,f.jsx)(j.FileText,{className:"h-4 w-4 mr-2 text-purple-600 dark:text-purple-400"}),"Analyze Content"]}),(0,f.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:L,children:[(0,f.jsx)(i.Download,{className:"h-4 w-4 mr-2"}),"Download as Word"]}),(0,f.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:M,children:[(0,f.jsx)(i.Download,{className:"h-4 w-4 mr-2"}),"Download PDF"]}),(0,f.jsx)(n.Button,{variant:"default",size:"sm",onClick:()=>{c(null),e(""),r(null),t(null),v(""),x([]),z(null),F(null),D(!0)},children:"New Document"})]})]}),(0,f.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,f.jsx)("div",{className:"col-span-2",children:(0,f.jsxs)(o.Card,{className:"border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900",children:[(0,f.jsx)(o.CardHeader,{className:"pb-3",children:(0,f.jsxs)(o.CardTitle,{className:"text-gray-900 dark:text-gray-50 flex items-center gap-2",children:[(0,f.jsx)(j.FileText,{className:"h-5 w-5"}),"pdf"===k?"PDF Viewer":"Document Editor",k&&(0,f.jsx)(p.Badge,{variant:"secondary",className:"ml-2 text-xs",children:k.toUpperCase()})]})}),(0,f.jsx)(o.CardContent,{className:"p-0",children:"pdf"===k&&s?(0,f.jsx)("div",{className:"h-[calc(100vh-300px)]",children:(0,f.jsx)(aY,{pdfUrl:s,fileName:d,highlightInfo:E,onPageChange:a=>console.log("Page changed:",a),className:"h-full"})}):(0,f.jsx)(Q,{ref:G,content:u,onContentChange:v,suggestions:H,selectedSuggestionIndex:y})})]})}),(0,f.jsx)("div",{className:"col-span-1",children:(0,f.jsxs)(o.Card,{className:"border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 sticky top-6",children:[(0,f.jsx)(o.CardHeader,{children:(0,f.jsxs)(o.CardTitle,{className:"text-gray-900 dark:text-gray-50 flex items-center justify-between",children:[(0,f.jsx)("span",{children:"Compliance Suggestions"}),(0,f.jsx)(p.Badge,{variant:"secondary",children:w.filter(a=>!a.isApplied).length})]})}),(0,f.jsx)(o.CardContent,{className:"max-h-[calc(100vh-200px)] overflow-y-auto space-y-4",children:0===O?(0,f.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,f.jsx)("p",{className:"text-lg font-medium",children:"No suggestions found"}),(0,f.jsx)("p",{className:"text-sm mt-2",children:"Your document looks compliant!"})]}):(0,f.jsx)(f.Fragment,{children:Object.entries(N).map(([a,b])=>(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,f.jsx)(p.Badge,{variant:"outline",className:`text-xs font-semibold ${"FINRA"===a?"border-purple-500 text-purple-700 dark:text-purple-300":"SEC"===a?"border-blue-500 text-blue-700 dark:text-blue-300":"Grammar"===a?"border-green-500 text-green-700 dark:text-green-300":""}`,children:a}),(0,f.jsx)(q.Separator,{className:"flex-1"}),(0,f.jsxs)("span",{className:"text-xs text-gray-500",children:[b.filter(a=>!a.isApplied).length," pending"]})]}),(0,f.jsx)("div",{className:"space-y-3",children:b.map(a=>(0,f.jsx)(W,{suggestion:a,index:a.index,isSelected:y===a.index,onSelect:()=>{var b;let c;return z(b=a.index),void((c=w[b])&&("pdf"===k&&s?F({pageNumber:c.page||1,text:c.originalText,boundingBox:void 0}):G.current&&G.current.highlightText(c.originalText)))},onApply:()=>I(a.index),isApplying:A===a.index},a.index))})]},a))})})]})})]})]})]})})}a.s(["default",()=>aZ],27615)}];

//# sourceMappingURL=_714e15b3._.js.map