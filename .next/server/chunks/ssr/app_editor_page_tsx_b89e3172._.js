module.exports=[79698,a=>{"use strict";let b,c,d;var e,f,g,h,i,j,k,l,m=a.i(87924),n=a.i(72131),o=a.i(50944),p=a.i(318),q=a.i(46271),r=a.i(3130),s=a.i(2150),t=a.i(40695),u=a.i(54161),v=a.i(84505),w=a.i(96221),x=a.i(4720),y=a.i(70106);let z=(0,y.default)("arrow-left-right",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]),A=(0,y.default)("file-down",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),B=(0,y.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var C=a.i(51168);function D(a,b="document.pdf"){try{let c=document.createElement("a");c.href=a,c.download=b,document.body.appendChild(c),c.click(),document.body.removeChild(c)}catch(a){throw console.error("Error downloading PDF:",a),Error("Failed to download PDF")}}function E(a,b="modified"){let c=a.replace(/[<>:"/\\|?*]/g,"_").replace(/\s+/g,"_").trim();return`${c||"document"}_${b}.pdf`}var F=a.i(7379),G=a.i(7554),H=a.i(70121),I=a.i(92843),J=a.i(25152),K=a.i(96743),L=a.i(35112),M=Symbol("radix.slottable");function N(a){return n.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===M}var O=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,b)=>{var c,d;let e,f,g,h=(d=c=`Primitive.${b}`,(e=n.forwardRef((a,b)=>{let{children:c,...d}=a;if(n.isValidElement(c)){var e;let a,f,g=(e=c,(f=(a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.ref:(f=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref),h=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props);return c.type!==n.Fragment&&(h.ref=b?(0,H.composeRefs)(b,g):g),n.cloneElement(c,h)}return n.Children.count(c)>1?n.Children.only(null):null})).displayName=`${d}.SlotClone`,f=e,(g=n.forwardRef((a,b)=>{let{children:c,...d}=a,e=n.Children.toArray(c),g=e.find(N);if(g){let a=g.props.children,c=e.map(b=>b!==g?b:n.Children.count(a)>1?n.Children.only(null):n.isValidElement(a)?a.props.children:null);return(0,m.jsx)(f,{...d,ref:b,children:n.isValidElement(a)?n.cloneElement(a,void 0,c):null})}return(0,m.jsx)(f,{...d,ref:b,children:c})})).displayName=`${c}.Slot`,g),i=n.forwardRef((a,c)=>{let{asChild:d,...e}=a;return(0,m.jsx)(d?h:b,{...e,ref:c})});return i.displayName=`Primitive.${b}`,{...a,[b]:i}},{}),P=a.i(46872),Q="focusScope.autoFocusOnMount",R="focusScope.autoFocusOnUnmount",S={bubbles:!1,cancelable:!0},T=n.forwardRef((a,b)=>{let{loop:c=!1,trapped:d=!1,onMountAutoFocus:e,onUnmountAutoFocus:f,...g}=a,[h,i]=n.useState(null),j=(0,P.useCallbackRef)(e),k=(0,P.useCallbackRef)(f),l=n.useRef(null),o=(0,H.useComposedRefs)(b,a=>i(a)),p=n.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;n.useEffect(()=>{if(d){let a=function(a){if(p.paused||!h)return;let b=a.target;h.contains(b)?l.current=b:W(l.current,{select:!0})},b=function(a){if(p.paused||!h)return;let b=a.relatedTarget;null!==b&&(h.contains(b)||W(l.current,{select:!0}))};document.addEventListener("focusin",a),document.addEventListener("focusout",b);let c=new MutationObserver(function(a){if(document.activeElement===document.body)for(let b of a)b.removedNodes.length>0&&W(h)});return h&&c.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",a),document.removeEventListener("focusout",b),c.disconnect()}}},[d,h,p.paused]),n.useEffect(()=>{if(h){X.add(p);let a=document.activeElement;if(!h.contains(a)){let b=new CustomEvent(Q,S);h.addEventListener(Q,j),h.dispatchEvent(b),b.defaultPrevented||(function(a,{select:b=!1}={}){let c=document.activeElement;for(let d of a)if(W(d,{select:b}),document.activeElement!==c)return}(U(h).filter(a=>"A"!==a.tagName),{select:!0}),document.activeElement===a&&W(h))}return()=>{h.removeEventListener(Q,j),setTimeout(()=>{let b=new CustomEvent(R,S);h.addEventListener(R,k),h.dispatchEvent(b),b.defaultPrevented||W(a??document.body,{select:!0}),h.removeEventListener(R,k),X.remove(p)},0)}}},[h,j,k,p]);let q=n.useCallback(a=>{if(!c&&!d||p.paused)return;let b="Tab"===a.key&&!a.altKey&&!a.ctrlKey&&!a.metaKey,e=document.activeElement;if(b&&e){var f;let b,d=a.currentTarget,[g,h]=[V(b=U(f=d),f),V(b.reverse(),f)];g&&h?a.shiftKey||e!==h?a.shiftKey&&e===g&&(a.preventDefault(),c&&W(h,{select:!0})):(a.preventDefault(),c&&W(g,{select:!0})):e===d&&a.preventDefault()}},[c,d,p.paused]);return(0,m.jsx)(O.div,{tabIndex:-1,...g,ref:o,onKeyDown:q})});function U(a){let b=[],c=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{let b="INPUT"===a.tagName&&"hidden"===a.type;return a.disabled||a.hidden||b?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;c.nextNode();)b.push(c.currentNode);return b}function V(a,b){for(let c of a)if(!function(a,{upTo:b}){if("hidden"===getComputedStyle(a).visibility)return!0;for(;a&&(void 0===b||a!==b);){if("none"===getComputedStyle(a).display)return!0;a=a.parentElement}return!1}(c,{upTo:b}))return c}function W(a,{select:b=!1}={}){if(a&&a.focus){var c;let d=document.activeElement;a.focus({preventScroll:!0}),a!==d&&(c=a)instanceof HTMLInputElement&&"select"in c&&b&&a.select()}}T.displayName="FocusScope";var X=(d=[],{add(a){let b=d[0];a!==b&&b?.pause(),(d=Y(d,a)).unshift(a)},remove(a){d=Y(d,a),d[0]?.resume()}});function Y(a,b){let c=[...a],d=c.indexOf(b);return -1!==d&&c.splice(d,1),c}var Z=a.i(92616),$=a.i(77192);function _(a){var b;let c,d=(b=a,(c=n.forwardRef((a,b)=>{let{children:c,...d}=a;if(n.isValidElement(c)){var e;let a,f,g=(e=c,(f=(a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.ref:(f=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref),h=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props);return c.type!==n.Fragment&&(h.ref=b?(0,H.composeRefs)(b,g):g),n.cloneElement(c,h)}return n.Children.count(c)>1?n.Children.only(null):null})).displayName=`${b}.SlotClone`,c),e=n.forwardRef((a,b)=>{let{children:c,...e}=a,f=n.Children.toArray(c),g=f.find(ab);if(g){let a=g.props.children,c=f.map(b=>b!==g?b:n.Children.count(a)>1?n.Children.only(null):n.isValidElement(a)?a.props.children:null);return(0,m.jsx)(d,{...e,ref:b,children:n.isValidElement(a)?n.cloneElement(a,void 0,c):null})}return(0,m.jsx)(d,{...e,ref:b,children:c})});return e.displayName=`${a}.Slot`,e}var aa=Symbol("radix.slottable");function ab(a){return n.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===aa}var ac=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,b)=>{let c=_(`Primitive.${b}`),d=n.forwardRef((a,d)=>{let{asChild:e,...f}=a;return(0,m.jsx)(e?c:b,{...f,ref:d})});return d.displayName=`Primitive.${b}`,{...a,[b]:d}},{}),ad=0;function ae(){n.useEffect(()=>{let a=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",a[0]??af()),document.body.insertAdjacentElement("beforeend",a[1]??af()),ad++,()=>{1===ad&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),ad--}},[])}function af(){let a=document.createElement("span");return a.setAttribute("data-radix-focus-guard",""),a.tabIndex=0,a.style.outline="none",a.style.opacity="0",a.style.position="fixed",a.style.pointerEvents="none",a}var ag=function(){return(ag=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function ah(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}var ai=("function"==typeof SuppressedError&&SuppressedError,"right-scroll-bar-position"),aj="width-before-scroll-bar";function ak(a,b){return"function"==typeof a?a(b):a&&(a.current=b),a}var al=n.useEffect,am=new WeakMap,an=(void 0===e&&(e={}),(void 0===f&&(f=function(a){return a}),g=[],h=!1,i={read:function(){if(h)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return g.length?g[g.length-1]:null},useMedium:function(a){var b=f(a,h);return g.push(b),function(){g=g.filter(function(a){return a!==b})}},assignSyncMedium:function(a){for(h=!0;g.length;){var b=g;g=[],b.forEach(a)}g={push:function(b){return a(b)},filter:function(){return g}}},assignMedium:function(a){h=!0;var b=[];if(g.length){var c=g;g=[],c.forEach(a),b=g}var d=function(){var c=b;b=[],c.forEach(a)},e=function(){return Promise.resolve().then(d)};e(),g={push:function(a){b.push(a),e()},filter:function(a){return b=b.filter(a),g}}}}).options=ag({async:!0,ssr:!1},e),i),ao=function(){},ap=n.forwardRef(function(a,b){var c,d,e,f,g=n.useRef(null),h=n.useState({onScrollCapture:ao,onWheelCapture:ao,onTouchMoveCapture:ao}),i=h[0],j=h[1],k=a.forwardProps,l=a.children,m=a.className,o=a.removeScrollBar,p=a.enabled,q=a.shards,r=a.sideCar,s=a.noRelative,t=a.noIsolation,u=a.inert,v=a.allowPinchZoom,w=a.as,x=a.gapMode,y=ah(a,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=(c=[g,b],d=function(a){return c.forEach(function(b){return ak(b,a)})},(e=(0,n.useState)(function(){return{value:null,callback:d,facade:{get current(){return e.value},set current(value){var a=e.value;a!==value&&(e.value=value,e.callback(value,a))}}}})[0]).callback=d,f=e.facade,al(function(){var a=am.get(f);if(a){var b=new Set(a),d=new Set(c),e=f.current;b.forEach(function(a){d.has(a)||ak(a,null)}),d.forEach(function(a){b.has(a)||ak(a,e)})}am.set(f,c)},[c]),f),A=ag(ag({},y),i);return n.createElement(n.Fragment,null,p&&n.createElement(r,{sideCar:an,removeScrollBar:o,shards:q,noRelative:s,noIsolation:t,inert:u,setCallbacks:j,allowPinchZoom:!!v,lockRef:g,gapMode:x}),k?n.cloneElement(n.Children.only(l),ag(ag({},A),{ref:z})):n.createElement(void 0===w?"div":w,ag({},A,{className:m,ref:z}),l))});ap.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},ap.classNames={fullWidth:aj,zeroRight:ai};var aq=function(a){var b=a.sideCar,c=ah(a,["sideCar"]);if(!b)throw Error("Sidecar: please provide `sideCar` property to import the right car");var d=b.read();if(!d)throw Error("Sidecar medium not found");return n.createElement(d,ag({},c))};aq.isSideCarExport=!0;var ar=function(){var a=0,b=null;return{add:function(c){if(0==a&&(b=function(){if(!document)return null;var a=document.createElement("style");a.type="text/css";var b=l||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0);return b&&a.setAttribute("nonce",b),a}())){var d,e;(d=b).styleSheet?d.styleSheet.cssText=c:d.appendChild(document.createTextNode(c)),e=b,(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}a++},remove:function(){--a||!b||(b.parentNode&&b.parentNode.removeChild(b),b=null)}}},as=function(){var a=ar();return function(b,c){n.useEffect(function(){return a.add(b),function(){a.remove()}},[b&&c])}},at=function(){var a=as();return function(b){return a(b.styles,b.dynamic),null}},au={left:0,top:0,right:0,gap:0},av=at(),aw="data-scroll-locked",ax=function(a,b,c,d){var e=a.left,f=a.top,g=a.right,h=a.gap;return void 0===c&&(c="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(d,";\n   padding-right: ").concat(h,"px ").concat(d,";\n  }\n  body[").concat(aw,"] {\n    overflow: hidden ").concat(d,";\n    overscroll-behavior: contain;\n    ").concat([b&&"position: relative ".concat(d,";"),"margin"===c&&"\n    padding-left: ".concat(e,"px;\n    padding-top: ").concat(f,"px;\n    padding-right: ").concat(g,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(h,"px ").concat(d,";\n    "),"padding"===c&&"padding-right: ".concat(h,"px ").concat(d,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(ai," {\n    right: ").concat(h,"px ").concat(d,";\n  }\n  \n  .").concat(aj," {\n    margin-right: ").concat(h,"px ").concat(d,";\n  }\n  \n  .").concat(ai," .").concat(ai," {\n    right: 0 ").concat(d,";\n  }\n  \n  .").concat(aj," .").concat(aj," {\n    margin-right: 0 ").concat(d,";\n  }\n  \n  body[").concat(aw,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(h,"px;\n  }\n")},ay=function(){var a=parseInt(document.body.getAttribute(aw)||"0",10);return isFinite(a)?a:0},az=function(){n.useEffect(function(){return document.body.setAttribute(aw,(ay()+1).toString()),function(){var a=ay()-1;a<=0?document.body.removeAttribute(aw):document.body.setAttribute(aw,a.toString())}},[])},aA=function(a){var b=a.noRelative,c=a.noImportant,d=a.gapMode,e=void 0===d?"margin":d;az();var f=n.useMemo(function(){return void 0===e,au},[e]);return n.createElement(av,{styles:ax(f,!b,e,c?"":"!important")})},aB=function(a,b){if(!(a instanceof Element))return!1;var c=window.getComputedStyle(a);return"hidden"!==c[b]&&(c.overflowY!==c.overflowX||"TEXTAREA"===a.tagName||"visible"!==c[b])},aC=function(a,b){var c=b.ownerDocument,d=b;do{if("undefined"!=typeof ShadowRoot&&d instanceof ShadowRoot&&(d=d.host),aD(a,d)){var e=aE(a,d);if(e[1]>e[2])return!0}d=d.parentNode}while(d&&d!==c.body)return!1},aD=function(a,b){return"v"===a?aB(b,"overflowY"):aB(b,"overflowX")},aE=function(a,b){return"v"===a?[b.scrollTop,b.scrollHeight,b.clientHeight]:[b.scrollLeft,b.scrollWidth,b.clientWidth]},aF=function(a,b,c,d,e){var f,g=(f=window.getComputedStyle(b).direction,"h"===a&&"rtl"===f?-1:1),h=g*d,i=c.target,j=b.contains(i),k=!1,l=h>0,m=0,n=0;do{if(!i)break;var o=aE(a,i),p=o[0],q=o[1]-o[2]-g*p;(p||q)&&aD(a,i)&&(m+=q,n+=p);var r=i.parentNode;i=r&&r.nodeType===Node.DOCUMENT_FRAGMENT_NODE?r.host:r}while(!j&&i!==document.body||j&&(b.contains(i)||b===i))return l&&(e&&1>Math.abs(m)||!e&&h>m)?k=!0:!l&&(e&&1>Math.abs(n)||!e&&-h>n)&&(k=!0),k},aG=function(a){return"changedTouches"in a?[a.changedTouches[0].clientX,a.changedTouches[0].clientY]:[0,0]},aH=function(a){return[a.deltaX,a.deltaY]},aI=function(a){return a&&"current"in a?a.current:a},aJ=0,aK=[];let aL=(j=function(a){var b=n.useRef([]),c=n.useRef([0,0]),d=n.useRef(),e=n.useState(aJ++)[0],f=n.useState(at)[0],g=n.useRef(a);n.useEffect(function(){g.current=a},[a]),n.useEffect(function(){if(a.inert){document.body.classList.add("block-interactivity-".concat(e));var b=(function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))})([a.lockRef.current],(a.shards||[]).map(aI),!0).filter(Boolean);return b.forEach(function(a){return a.classList.add("allow-interactivity-".concat(e))}),function(){document.body.classList.remove("block-interactivity-".concat(e)),b.forEach(function(a){return a.classList.remove("allow-interactivity-".concat(e))})}}},[a.inert,a.lockRef.current,a.shards]);var h=n.useCallback(function(a,b){if("touches"in a&&2===a.touches.length||"wheel"===a.type&&a.ctrlKey)return!g.current.allowPinchZoom;var e,f=aG(a),h=c.current,i="deltaX"in a?a.deltaX:h[0]-f[0],j="deltaY"in a?a.deltaY:h[1]-f[1],k=a.target,l=Math.abs(i)>Math.abs(j)?"h":"v";if("touches"in a&&"h"===l&&"range"===k.type)return!1;var m=aC(l,k);if(!m)return!0;if(m?e=l:(e="v"===l?"h":"v",m=aC(l,k)),!m)return!1;if(!d.current&&"changedTouches"in a&&(i||j)&&(d.current=e),!e)return!0;var n=d.current||e;return aF(n,b,a,"h"===n?i:j,!0)},[]),i=n.useCallback(function(a){if(aK.length&&aK[aK.length-1]===f){var c="deltaY"in a?aH(a):aG(a),d=b.current.filter(function(b){var d;return b.name===a.type&&(b.target===a.target||a.target===b.shadowParent)&&(d=b.delta,d[0]===c[0]&&d[1]===c[1])})[0];if(d&&d.should){a.cancelable&&a.preventDefault();return}if(!d){var e=(g.current.shards||[]).map(aI).filter(Boolean).filter(function(b){return b.contains(a.target)});(e.length>0?h(a,e[0]):!g.current.noIsolation)&&a.cancelable&&a.preventDefault()}}},[]),j=n.useCallback(function(a,c,d,e){var f={name:a,delta:c,target:d,should:e,shadowParent:function(a){for(var b=null;null!==a;)a instanceof ShadowRoot&&(b=a.host,a=a.host),a=a.parentNode;return b}(d)};b.current.push(f),setTimeout(function(){b.current=b.current.filter(function(a){return a!==f})},1)},[]),k=n.useCallback(function(a){c.current=aG(a),d.current=void 0},[]),l=n.useCallback(function(b){j(b.type,aH(b),b.target,h(b,a.lockRef.current))},[]),m=n.useCallback(function(b){j(b.type,aG(b),b.target,h(b,a.lockRef.current))},[]);n.useEffect(function(){return aK.push(f),a.setCallbacks({onScrollCapture:l,onWheelCapture:l,onTouchMoveCapture:m}),document.addEventListener("wheel",i,!1),document.addEventListener("touchmove",i,!1),document.addEventListener("touchstart",k,!1),function(){aK=aK.filter(function(a){return a!==f}),document.removeEventListener("wheel",i,!1),document.removeEventListener("touchmove",i,!1),document.removeEventListener("touchstart",k,!1)}},[]);var o=a.removeScrollBar,p=a.inert;return n.createElement(n.Fragment,null,p?n.createElement(f,{styles:"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")}):null,o?n.createElement(aA,{noRelative:a.noRelative,gapMode:a.gapMode}):null)},an.useMedium(j),aq);var aM=n.forwardRef(function(a,b){return n.createElement(ap,ag({},a,{ref:b,sideCar:aL}))});aM.classNames=ap.classNames;var aN=new WeakMap,aO=new WeakMap,aP={},aQ=0,aR=function(a){return a&&(a.host||aR(a.parentNode))},aS=function(a,b,c,d){var e=(Array.isArray(a)?a:[a]).map(function(a){if(b.contains(a))return a;var c=aR(a);return c&&b.contains(c)?c:(console.error("aria-hidden",a,"in not contained inside",b,". Doing nothing"),null)}).filter(function(a){return!!a});aP[c]||(aP[c]=new WeakMap);var f=aP[c],g=[],h=new Set,i=new Set(e),j=function(a){!a||h.has(a)||(h.add(a),j(a.parentNode))};e.forEach(j);var k=function(a){!a||i.has(a)||Array.prototype.forEach.call(a.children,function(a){if(h.has(a))k(a);else try{var b=a.getAttribute(d),e=null!==b&&"false"!==b,i=(aN.get(a)||0)+1,j=(f.get(a)||0)+1;aN.set(a,i),f.set(a,j),g.push(a),1===i&&e&&aO.set(a,!0),1===j&&a.setAttribute(c,"true"),e||a.setAttribute(d,"true")}catch(b){console.error("aria-hidden: cannot operate on ",a,b)}})};return k(b),h.clear(),aQ++,function(){g.forEach(function(a){var b=aN.get(a)-1,e=f.get(a)-1;aN.set(a,b),f.set(a,e),b||(aO.has(a)||a.removeAttribute(d),aO.delete(a)),e||a.removeAttribute(c)}),--aQ||(aN=new WeakMap,aN=new WeakMap,aO=new WeakMap,aP={})}},aT=function(a,b,c){void 0===c&&(c="data-aria-hidden");var d=Array.from(Array.isArray(a)?a:[a]),e=b||("undefined"==typeof document?null:(Array.isArray(a)?a[0]:a).ownerDocument.body);return e?(d.push.apply(d,Array.from(e.querySelectorAll("[aria-live], script"))),aS(d,e,c,"aria-hidden")):function(){return null}},aU="Dialog",[aV,aW]=function(a,b=[]){let c=[],d=()=>{let b=c.map(a=>n.createContext(a));return function(c){let d=c?.[a]||b;return n.useMemo(()=>({[`__scope${a}`]:{...c,[a]:d}}),[c,d])}};return d.scopeName=a,[function(b,d){let e=n.createContext(d),f=c.length;c=[...c,d];let g=b=>{let{scope:c,children:d,...g}=b,h=c?.[a]?.[f]||e,i=n.useMemo(()=>g,Object.values(g));return(0,m.jsx)(h.Provider,{value:i,children:d})};return g.displayName=b+"Provider",[g,function(c,g){let h=g?.[a]?.[f]||e,i=n.useContext(h);if(i)return i;if(void 0!==d)return d;throw Error(`\`${c}\` must be used within \`${b}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let c=()=>{let c=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let d=c.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return n.useMemo(()=>({[`__scope${b.scopeName}`]:d}),[d])}};return c.scopeName=b.scopeName,c}(d,...b)]}(aU),[aX,aY]=aV(aU),aZ=a=>{let{__scopeDialog:b,children:c,open:d,defaultOpen:e,onOpenChange:f,modal:g=!0}=a,h=n.useRef(null),i=n.useRef(null),[j,k]=(0,J.useControllableState)({prop:d,defaultProp:e??!1,onChange:f,caller:aU});return(0,m.jsx)(aX,{scope:b,triggerRef:h,contentRef:i,contentId:(0,I.useId)(),titleId:(0,I.useId)(),descriptionId:(0,I.useId)(),open:j,onOpenChange:k,onOpenToggle:n.useCallback(()=>k(a=>!a),[k]),modal:g,children:c})};aZ.displayName=aU;var a$="DialogTrigger";n.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=aY(a$,c),f=(0,H.useComposedRefs)(b,e.triggerRef);return(0,m.jsx)(ac.button,{type:"button","aria-haspopup":"dialog","aria-expanded":e.open,"aria-controls":e.contentId,"data-state":bi(e.open),...d,ref:f,onClick:(0,G.composeEventHandlers)(a.onClick,e.onOpenToggle)})}).displayName=a$;var a_="DialogPortal",[a0,a1]=aV(a_,{forceMount:void 0}),a2=a=>{let{__scopeDialog:b,forceMount:c,children:d,container:e}=a,f=aY(a_,b);return(0,m.jsx)(a0,{scope:b,forceMount:c,children:n.Children.map(d,a=>(0,m.jsx)($.Presence,{present:c||f.open,children:(0,m.jsx)(Z.Portal,{asChild:!0,container:e,children:a})}))})};a2.displayName=a_;var a3="DialogOverlay",a4=n.forwardRef((a,b)=>{let c=a1(a3,a.__scopeDialog),{forceMount:d=c.forceMount,...e}=a,f=aY(a3,a.__scopeDialog);return f.modal?(0,m.jsx)($.Presence,{present:d||f.open,children:(0,m.jsx)(a6,{...e,ref:b})}):null});a4.displayName=a3;var a5=_("DialogOverlay.RemoveScroll"),a6=n.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=aY(a3,c);return(0,m.jsx)(aM,{as:a5,allowPinchZoom:!0,shards:[e.contentRef],children:(0,m.jsx)(ac.div,{"data-state":bi(e.open),...d,ref:b,style:{pointerEvents:"auto",...d.style}})})}),a7="DialogContent",a8=n.forwardRef((a,b)=>{let c=a1(a7,a.__scopeDialog),{forceMount:d=c.forceMount,...e}=a,f=aY(a7,a.__scopeDialog);return(0,m.jsx)($.Presence,{present:d||f.open,children:f.modal?(0,m.jsx)(a9,{...e,ref:b}):(0,m.jsx)(ba,{...e,ref:b})})});a8.displayName=a7;var a9=n.forwardRef((a,b)=>{let c=aY(a7,a.__scopeDialog),d=n.useRef(null),e=(0,H.useComposedRefs)(b,c.contentRef,d);return n.useEffect(()=>{let a=d.current;if(a)return aT(a)},[]),(0,m.jsx)(bb,{...a,ref:e,trapFocus:c.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,G.composeEventHandlers)(a.onCloseAutoFocus,a=>{a.preventDefault(),c.triggerRef.current?.focus()}),onPointerDownOutside:(0,G.composeEventHandlers)(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;(2===b.button||c)&&a.preventDefault()}),onFocusOutside:(0,G.composeEventHandlers)(a.onFocusOutside,a=>a.preventDefault())})}),ba=n.forwardRef((a,b)=>{let c=aY(a7,a.__scopeDialog),d=n.useRef(!1),e=n.useRef(!1);return(0,m.jsx)(bb,{...a,ref:b,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(d.current||c.triggerRef.current?.focus(),b.preventDefault()),d.current=!1,e.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(d.current=!0,"pointerdown"===b.detail.originalEvent.type&&(e.current=!0));let f=b.target;c.triggerRef.current?.contains(f)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&e.current&&b.preventDefault()}})}),bb=n.forwardRef((a,b)=>{let{__scopeDialog:c,trapFocus:d,onOpenAutoFocus:e,onCloseAutoFocus:f,...g}=a,h=aY(a7,c),i=n.useRef(null),j=(0,H.useComposedRefs)(b,i);return ae(),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(T,{asChild:!0,loop:!0,trapped:d,onMountAutoFocus:e,onUnmountAutoFocus:f,children:(0,m.jsx)(K.DismissableLayer,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":bi(h.open),...g,ref:j,onDismiss:()=>h.onOpenChange(!1)})}),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(bm,{titleId:h.titleId}),(0,m.jsx)(bn,{contentRef:i,descriptionId:h.descriptionId})]})]})}),bc="DialogTitle",bd=n.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=aY(bc,c);return(0,m.jsx)(ac.h2,{id:e.titleId,...d,ref:b})});bd.displayName=bc;var be="DialogDescription",bf=n.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=aY(be,c);return(0,m.jsx)(ac.p,{id:e.descriptionId,...d,ref:b})});bf.displayName=be;var bg="DialogClose",bh=n.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=aY(bg,c);return(0,m.jsx)(ac.button,{type:"button",...d,ref:b,onClick:(0,G.composeEventHandlers)(a.onClick,()=>e.onOpenChange(!1))})});function bi(a){return a?"open":"closed"}bh.displayName=bg;var bj="DialogTitleWarning",[bk,bl]=(k={contentName:a7,titleName:bc,docsSlug:"dialog"},b=n.createContext(k),(c=a=>{let{children:c,...d}=a,e=n.useMemo(()=>d,Object.values(d));return(0,m.jsx)(b.Provider,{value:e,children:c})}).displayName=bj+"Provider",[c,function(a){let c=n.useContext(b);if(c)return c;if(void 0!==k)return k;throw Error(`\`${a}\` must be used within \`${bj}\``)}]),bm=({titleId:a})=>{let b=bl(bj),c=`\`${b.contentName}\` requires a \`${b.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${b.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${b.docsSlug}`;return n.useEffect(()=>{a&&(document.getElementById(a)||console.error(c))},[c,a]),null},bn=({contentRef:a,descriptionId:b})=>{let c=bl("DialogDescriptionWarning"),d=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${c.contentName}}.`;return n.useEffect(()=>{let c=a.current?.getAttribute("aria-describedby");b&&c&&(document.getElementById(b)||console.warn(d))},[d,a,b]),null};let bo=(0,y.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var bp=a.i(97895);function bq({...a}){return(0,m.jsx)(aZ,{"data-slot":"dialog",...a})}function br({...a}){return(0,m.jsx)(a2,{"data-slot":"dialog-portal",...a})}function bs({className:a,...b}){return(0,m.jsx)(a4,{"data-slot":"dialog-overlay",className:(0,bp.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b})}function bt({className:a,children:b,showCloseButton:c=!0,...d}){return(0,m.jsxs)(br,{"data-slot":"dialog-portal",children:[(0,m.jsx)(bs,{}),(0,m.jsxs)(a8,{"data-slot":"dialog-content",className:(0,bp.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...d,children:[b,c&&(0,m.jsxs)(bh,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,m.jsx)(bo,{}),(0,m.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function bu({className:a,...b}){return(0,m.jsx)("div",{"data-slot":"dialog-header",className:(0,bp.cn)("flex flex-col gap-2 text-center sm:text-left",a),...b})}function bv({className:a,...b}){return(0,m.jsx)("div",{"data-slot":"dialog-footer",className:(0,bp.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...b})}function bw({className:a,...b}){return(0,m.jsx)(bd,{"data-slot":"dialog-title",className:(0,bp.cn)("text-lg leading-none font-semibold",a),...b})}function bx({className:a,...b}){return(0,m.jsx)(bf,{"data-slot":"dialog-description",className:(0,bp.cn)("text-muted-foreground text-sm",a),...b})}var by=a.i(5522),bz=a.i(17171);let bA=({suggestions:a,selectedIndex:b,onSelectIndex:c,onApplyAtIndex:d,onGoToIndex:e,acceptedCount:f,onSaveDraft:g,saveDialogOpen:h,setSaveDialogOpen:i,projectName:j,setProjectName:k,onConfirmSave:l,isApplying:n,canApply:o})=>(0,m.jsxs)(r.Card,{className:"border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900",children:[(0,m.jsxs)(r.CardHeader,{className:"pb-3",children:[(0,m.jsx)("div",{className:"flex items-center justify-between",children:(0,m.jsx)(r.CardTitle,{className:"text-emerald-600 dark:text-emerald-400",children:"Suggestions"})}),(0,m.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[(0,m.jsxs)("div",{className:"flex items-center justify-between rounded-md border border-zinc-200 dark:border-zinc-800 px-3 py-2",children:[(0,m.jsx)("div",{className:"text-sm text-zinc-600 dark:text-zinc-300",children:"All"}),(0,m.jsx)(u.Badge,{variant:"secondary",className:"rounded-full",children:a.length+f})]}),(0,m.jsxs)("div",{className:"flex items-center justify-between rounded-md border border-zinc-200 dark:border-zinc-800 px-3 py-2",children:[(0,m.jsx)("div",{className:"text-sm text-zinc-600 dark:text-zinc-300",children:"Accepted"}),(0,m.jsx)(u.Badge,{variant:"secondary",className:"rounded-full",children:f})]})]})]}),(0,m.jsxs)(r.CardContent,{children:[(0,m.jsx)("div",{className:"space-y-3",children:0===a.length?(0,m.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-300",children:"No suggestions yet."}):a.map((a,f)=>(0,m.jsxs)("div",{className:`rounded-md border p-3 cursor-pointer transition ${b===f?"border-emerald-400 bg-emerald-50/50 dark:bg-emerald-900/20":"border-zinc-200 dark:border-zinc-800 hover:bg-zinc-50/50 dark:hover:bg-zinc-900/40"}`,onClick:()=>c(f),children:[(0,m.jsxs)("div",{className:"flex items-center gap-2",children:[(0,m.jsxs)(u.Badge,{variant:"secondary",className:"rounded-full",children:["Page ",a.page]}),(0,m.jsx)("span",{className:"text-xs text-zinc-500",children:"Click to highlight"})]}),(0,m.jsx)("div",{className:"mt-2 text-sm text-zinc-800 dark:text-zinc-100",children:a.explanation}),(0,m.jsxs)("div",{className:"mt-2 text-sm",children:[(0,m.jsx)("span",{className:"text-zinc-500",children:"Original:"})," ",(0,m.jsx)("span",{className:"font-medium",children:a.original})]}),(0,m.jsxs)("div",{className:"text-sm",children:[(0,m.jsx)("span",{className:"text-zinc-500",children:"Suggestion:"})," ",(0,m.jsx)("span",{className:"font-medium text-emerald-700 dark:text-emerald-300",children:a.suggestion})]}),(0,m.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,m.jsx)(t.Button,{variant:"outline",size:"sm",onClick:a=>{a.stopPropagation(),e?.(f)},children:"Go to"}),(0,m.jsx)(t.Button,{size:"sm",onClick:a=>{a.stopPropagation(),d(f)},disabled:n||!o,children:n?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(w.Loader2,{className:"h-3 w-3 mr-1 animate-spin"}),"Applying..."]}):"Apply to PDF"})]})]},`${a.page}-${f}-${a.original?.slice(0,16)||"suggestion"}`))}),(0,m.jsx)(F.Separator,{className:"my-4"}),(0,m.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,m.jsx)(t.Button,{variant:"outline",onClick:g,children:"Save as draft"}),(0,m.jsx)(t.Button,{children:"Send file to"})]}),(0,m.jsx)(bq,{open:h,onOpenChange:i,children:(0,m.jsxs)(bt,{className:"bg-white dark:bg-zinc-900",children:[(0,m.jsxs)(bu,{children:[(0,m.jsx)(bw,{className:"text-gray-900 dark:text-gray-50",children:"Save Project as Draft"}),(0,m.jsx)(bx,{className:"text-gray-600 dark:text-gray-400",children:"Enter a name for your project"})]}),(0,m.jsx)("div",{className:"space-y-4 py-4",children:(0,m.jsxs)("div",{className:"space-y-2",children:[(0,m.jsx)(bz.Label,{htmlFor:"project-name",className:"text-gray-900 dark:text-gray-50",children:"Project Name"}),(0,m.jsx)(by.Input,{id:"project-name",value:j,onChange:a=>k(a.target.value),placeholder:"Enter project name",className:"bg-white dark:bg-zinc-800 text-gray-900 dark:text-gray-50",onKeyDown:a=>{"Enter"===a.key&&j.trim()&&l()}})]})}),(0,m.jsxs)(bv,{children:[(0,m.jsx)(t.Button,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),(0,m.jsx)(t.Button,{onClick:l,disabled:!j.trim(),children:"Save"})]})]})})]})]});var bB=a.i(59619),bC=a.i(19721),bD=a.i(66274),bE=a.i(64929),bF=Symbol("radix.slottable");function bG(a){return n.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===bF}var bH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,b)=>{var c,d;let e,f,g,h=(d=c=`Primitive.${b}`,(e=n.forwardRef((a,b)=>{let{children:c,...d}=a;if(n.isValidElement(c)){var e;let a,f,g=(e=c,(f=(a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.ref:(f=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref),h=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props);return c.type!==n.Fragment&&(h.ref=b?(0,H.composeRefs)(b,g):g),n.cloneElement(c,h)}return n.Children.count(c)>1?n.Children.only(null):null})).displayName=`${d}.SlotClone`,f=e,(g=n.forwardRef((a,b)=>{let{children:c,...d}=a,e=n.Children.toArray(c),g=e.find(bG);if(g){let a=g.props.children,c=e.map(b=>b!==g?b:n.Children.count(a)>1?n.Children.only(null):n.isValidElement(a)?a.props.children:null);return(0,m.jsx)(f,{...d,ref:b,children:n.isValidElement(a)?n.cloneElement(a,void 0,c):null})}return(0,m.jsx)(f,{...d,ref:b,children:c})})).displayName=`${c}.Slot`,g),i=n.forwardRef((a,c)=>{let{asChild:d,...e}=a;return(0,m.jsx)(d?h:b,{...e,ref:c})});return i.displayName=`Primitive.${b}`,{...a,[b]:i}},{});function bI(a){var b;let c,d=(b=a,(c=n.forwardRef((a,b)=>{let{children:c,...d}=a;if(n.isValidElement(c)){var e;let a,f,g=(e=c,(f=(a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.ref:(f=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref),h=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props);return c.type!==n.Fragment&&(h.ref=b?(0,H.composeRefs)(b,g):g),n.cloneElement(c,h)}return n.Children.count(c)>1?n.Children.only(null):null})).displayName=`${b}.SlotClone`,c),e=n.forwardRef((a,b)=>{let{children:c,...e}=a,f=n.Children.toArray(c),g=f.find(bK);if(g){let a=g.props.children,c=f.map(b=>b!==g?b:n.Children.count(a)>1?n.Children.only(null):n.isValidElement(a)?a.props.children:null);return(0,m.jsx)(d,{...e,ref:b,children:n.isValidElement(a)?n.cloneElement(a,void 0,c):null})}return(0,m.jsx)(d,{...e,ref:b,children:c})});return e.displayName=`${a}.Slot`,e}var bJ=Symbol("radix.slottable");function bK(a){return n.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===bJ}function bL(a){let b=a+"CollectionProvider",[c,d]=function(a,b=[]){let c=[],d=()=>{let b=c.map(a=>n.createContext(a));return function(c){let d=c?.[a]||b;return n.useMemo(()=>({[`__scope${a}`]:{...c,[a]:d}}),[c,d])}};return d.scopeName=a,[function(b,d){let e=n.createContext(d),f=c.length;c=[...c,d];let g=b=>{let{scope:c,children:d,...g}=b,h=c?.[a]?.[f]||e,i=n.useMemo(()=>g,Object.values(g));return(0,m.jsx)(h.Provider,{value:i,children:d})};return g.displayName=b+"Provider",[g,function(c,g){let h=g?.[a]?.[f]||e,i=n.useContext(h);if(i)return i;if(void 0!==d)return d;throw Error(`\`${c}\` must be used within \`${b}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let c=()=>{let c=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let d=c.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return n.useMemo(()=>({[`__scope${b.scopeName}`]:d}),[d])}};return c.scopeName=b.scopeName,c}(d,...b)]}(b),[e,f]=c(b,{collectionRef:{current:null},itemMap:new Map}),g=a=>{let{scope:b,children:c}=a,d=n.default.useRef(null),f=n.default.useRef(new Map).current;return(0,m.jsx)(e,{scope:b,itemMap:f,collectionRef:d,children:c})};g.displayName=b;let h=a+"CollectionSlot",i=bI(h),j=n.default.forwardRef((a,b)=>{let{scope:c,children:d}=a,e=f(h,c),g=(0,H.useComposedRefs)(b,e.collectionRef);return(0,m.jsx)(i,{ref:g,children:d})});j.displayName=h;let k=a+"CollectionItemSlot",l="data-radix-collection-item",o=bI(k),p=n.default.forwardRef((a,b)=>{let{scope:c,children:d,...e}=a,g=n.default.useRef(null),h=(0,H.useComposedRefs)(b,g),i=f(k,c);return n.default.useEffect(()=>(i.itemMap.set(g,{ref:g,...e}),()=>void i.itemMap.delete(g))),(0,m.jsx)(o,{...{[l]:""},ref:h,children:d})});return p.displayName=k,[{Provider:g,Slot:j,ItemSlot:p},function(b){let c=f(a+"CollectionConsumer",b);return n.default.useCallback(()=>{let a=c.collectionRef.current;if(!a)return[];let b=Array.from(a.querySelectorAll(`[${l}]`));return Array.from(c.itemMap.values()).sort((a,c)=>b.indexOf(a.ref.current)-b.indexOf(c.ref.current))},[c.collectionRef,c.itemMap])},d]}var bM=new WeakMap;function bN(a,b){var c,d;let e,f,g;if("at"in Array.prototype)return Array.prototype.at.call(a,b);let h=(c=a,d=b,e=c.length,(g=(f=bO(d))>=0?f:e+f)<0||g>=e?-1:g);return -1===h?void 0:a[h]}function bO(a){return a!=a||0===a?0:Math.trunc(a)}(class a extends Map{#a;constructor(a){super(a),this.#a=[...super.keys()],bM.set(this,!0)}set(a,b){return bM.get(this)&&(this.has(a)?this.#a[this.#a.indexOf(a)]=a:this.#a.push(a)),super.set(a,b),this}insert(a,b,c){let d,e=this.has(b),f=this.#a.length,g=bO(a),h=g>=0?g:f+g,i=h<0||h>=f?-1:h;if(i===this.size||e&&i===this.size-1||-1===i)return this.set(b,c),this;let j=this.size+ +!e;g<0&&h++;let k=[...this.#a],l=!1;for(let a=h;a<j;a++)if(h===a){let f=k[a];k[a]===b&&(f=k[a+1]),e&&this.delete(b),d=this.get(f),this.set(b,c)}else{l||k[a-1]!==b||(l=!0);let c=k[l?a:a-1],e=d;d=this.get(c),this.delete(c),this.set(c,e)}return this}with(b,c,d){let e=new a(this);return e.insert(b,c,d),e}before(a){let b=this.#a.indexOf(a)-1;if(!(b<0))return this.entryAt(b)}setBefore(a,b,c){let d=this.#a.indexOf(a);return -1===d?this:this.insert(d,b,c)}after(a){let b=this.#a.indexOf(a);if(-1!==(b=-1===b||b===this.size-1?-1:b+1))return this.entryAt(b)}setAfter(a,b,c){let d=this.#a.indexOf(a);return -1===d?this:this.insert(d+1,b,c)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#a=[],super.clear()}delete(a){let b=super.delete(a);return b&&this.#a.splice(this.#a.indexOf(a),1),b}deleteAt(a){let b=this.keyAt(a);return void 0!==b&&this.delete(b)}at(a){let b=bN(this.#a,a);if(void 0!==b)return this.get(b)}entryAt(a){let b=bN(this.#a,a);if(void 0!==b)return[b,this.get(b)]}indexOf(a){return this.#a.indexOf(a)}keyAt(a){return bN(this.#a,a)}from(a,b){let c=this.indexOf(a);if(-1===c)return;let d=c+b;return d<0&&(d=0),d>=this.size&&(d=this.size-1),this.at(d)}keyFrom(a,b){let c=this.indexOf(a);if(-1===c)return;let d=c+b;return d<0&&(d=0),d>=this.size&&(d=this.size-1),this.keyAt(d)}find(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return d;c++}}findIndex(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return c;c++}return -1}filter(b,c){let d=[],e=0;for(let a of this)Reflect.apply(b,c,[a,e,this])&&d.push(a),e++;return new a(d)}map(b,c){let d=[],e=0;for(let a of this)d.push([a[0],Reflect.apply(b,c,[a,e,this])]),e++;return new a(d)}reduce(...a){let[b,c]=a,d=0,e=c??this.at(0);for(let c of this)e=0===d&&1===a.length?c:Reflect.apply(b,this,[e,c,d,this]),d++;return e}reduceRight(...a){let[b,c]=a,d=c??this.at(-1);for(let c=this.size-1;c>=0;c--){let e=this.at(c);d=c===this.size-1&&1===a.length?e:Reflect.apply(b,this,[d,e,c,this])}return d}toSorted(b){return new a([...this.entries()].sort(b))}toReversed(){let b=new a;for(let a=this.size-1;a>=0;a--){let c=this.keyAt(a),d=this.get(c);b.set(c,d)}return b}toSpliced(...b){let c=[...this.entries()];return c.splice(...b),new a(c)}slice(b,c){let d=new a,e=this.size-1;if(void 0===b)return d;b<0&&(b+=this.size),void 0!==c&&c>0&&(e=c-1);for(let a=b;a<=e;a++){let b=this.keyAt(a),c=this.get(b);d.set(b,c)}return d}every(a,b){let c=0;for(let d of this){if(!Reflect.apply(a,b,[d,c,this]))return!1;c++}return!0}some(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return!0;c++}return!1}});var bP=n.createContext(void 0);function bQ(a){let b=n.useContext(bP);return a||b||"ltr"}var bR=a.i(4691);function bS(a){var b;let c,d=(b=a,(c=n.forwardRef((a,b)=>{let{children:c,...d}=a;if(n.isValidElement(c)){var e;let a,f,g=(e=c,(f=(a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.ref:(f=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref),h=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props);return c.type!==n.Fragment&&(h.ref=b?(0,H.composeRefs)(b,g):g),n.cloneElement(c,h)}return n.Children.count(c)>1?n.Children.only(null):null})).displayName=`${b}.SlotClone`,c),e=n.forwardRef((a,b)=>{let{children:c,...e}=a,f=n.Children.toArray(c),g=f.find(bU);if(g){let a=g.props.children,c=f.map(b=>b!==g?b:n.Children.count(a)>1?n.Children.only(null):n.isValidElement(a)?a.props.children:null);return(0,m.jsx)(d,{...e,ref:b,children:n.isValidElement(a)?n.cloneElement(a,void 0,c):null})}return(0,m.jsx)(d,{...e,ref:b,children:c})});return e.displayName=`${a}.Slot`,e}var bT=Symbol("radix.slottable");function bU(a){return n.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===bT}var bV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,b)=>{let c=bS(`Primitive.${b}`),d=n.forwardRef((a,d)=>{let{asChild:e,...f}=a;return(0,m.jsx)(e?c:b,{...f,ref:d})});return d.displayName=`Primitive.${b}`,{...a,[b]:d}},{}),bW=Symbol("radix.slottable");function bX(a){return n.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===bW}var bY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,b)=>{var c,d;let e,f,g,h=(d=c=`Primitive.${b}`,(e=n.forwardRef((a,b)=>{let{children:c,...d}=a;if(n.isValidElement(c)){var e;let a,f,g=(e=c,(f=(a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.ref:(f=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref),h=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props);return c.type!==n.Fragment&&(h.ref=b?(0,H.composeRefs)(b,g):g),n.cloneElement(c,h)}return n.Children.count(c)>1?n.Children.only(null):null})).displayName=`${d}.SlotClone`,f=e,(g=n.forwardRef((a,b)=>{let{children:c,...d}=a,e=n.Children.toArray(c),g=e.find(bX);if(g){let a=g.props.children,c=e.map(b=>b!==g?b:n.Children.count(a)>1?n.Children.only(null):n.isValidElement(a)?a.props.children:null);return(0,m.jsx)(f,{...d,ref:b,children:n.isValidElement(a)?n.cloneElement(a,void 0,c):null})}return(0,m.jsx)(f,{...d,ref:b,children:c})})).displayName=`${c}.Slot`,g),i=n.forwardRef((a,c)=>{let{asChild:d,...e}=a;return(0,m.jsx)(d?h:b,{...e,ref:c})});return i.displayName=`Primitive.${b}`,{...a,[b]:i}},{}),bZ="rovingFocusGroup.onEntryFocus",b$={bubbles:!1,cancelable:!0},b_="RovingFocusGroup",[b0,b1,b2]=bL(b_),[b3,b4]=function(a,b=[]){let c=[],d=()=>{let b=c.map(a=>n.createContext(a));return function(c){let d=c?.[a]||b;return n.useMemo(()=>({[`__scope${a}`]:{...c,[a]:d}}),[c,d])}};return d.scopeName=a,[function(b,d){let e=n.createContext(d),f=c.length;c=[...c,d];let g=b=>{let{scope:c,children:d,...g}=b,h=c?.[a]?.[f]||e,i=n.useMemo(()=>g,Object.values(g));return(0,m.jsx)(h.Provider,{value:i,children:d})};return g.displayName=b+"Provider",[g,function(c,g){let h=g?.[a]?.[f]||e,i=n.useContext(h);if(i)return i;if(void 0!==d)return d;throw Error(`\`${c}\` must be used within \`${b}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let c=()=>{let c=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let d=c.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return n.useMemo(()=>({[`__scope${b.scopeName}`]:d}),[d])}};return c.scopeName=b.scopeName,c}(d,...b)]}(b_,[b2]),[b5,b6]=b3(b_),b7=n.forwardRef((a,b)=>(0,m.jsx)(b0.Provider,{scope:a.__scopeRovingFocusGroup,children:(0,m.jsx)(b0.Slot,{scope:a.__scopeRovingFocusGroup,children:(0,m.jsx)(b8,{...a,ref:b})})}));b7.displayName=b_;var b8=n.forwardRef((a,b)=>{let{__scopeRovingFocusGroup:c,orientation:d,loop:e=!1,dir:f,currentTabStopId:g,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:i,onEntryFocus:j,preventScrollOnEntryFocus:k=!1,...l}=a,o=n.useRef(null),p=(0,H.useComposedRefs)(b,o),q=bQ(f),[r,s]=(0,J.useControllableState)({prop:g,defaultProp:h??null,onChange:i,caller:b_}),[t,u]=n.useState(!1),v=(0,P.useCallbackRef)(j),w=b1(c),x=n.useRef(!1),[y,z]=n.useState(0);return n.useEffect(()=>{let a=o.current;if(a)return a.addEventListener(bZ,v),()=>a.removeEventListener(bZ,v)},[v]),(0,m.jsx)(b5,{scope:c,orientation:d,dir:q,loop:e,currentTabStopId:r,onItemFocus:n.useCallback(a=>s(a),[s]),onItemShiftTab:n.useCallback(()=>u(!0),[]),onFocusableItemAdd:n.useCallback(()=>z(a=>a+1),[]),onFocusableItemRemove:n.useCallback(()=>z(a=>a-1),[]),children:(0,m.jsx)(bY.div,{tabIndex:t||0===y?-1:0,"data-orientation":d,...l,ref:p,style:{outline:"none",...a.style},onMouseDown:(0,G.composeEventHandlers)(a.onMouseDown,()=>{x.current=!0}),onFocus:(0,G.composeEventHandlers)(a.onFocus,a=>{let b=!x.current;if(a.target===a.currentTarget&&b&&!t){let b=new CustomEvent(bZ,b$);if(a.currentTarget.dispatchEvent(b),!b.defaultPrevented){let a=w().filter(a=>a.focusable);cc([a.find(a=>a.active),a.find(a=>a.id===r),...a].filter(Boolean).map(a=>a.ref.current),k)}}x.current=!1}),onBlur:(0,G.composeEventHandlers)(a.onBlur,()=>u(!1))})})}),b9="RovingFocusGroupItem",ca=n.forwardRef((a,b)=>{let{__scopeRovingFocusGroup:c,focusable:d=!0,active:e=!1,tabStopId:f,children:g,...h}=a,i=(0,I.useId)(),j=f||i,k=b6(b9,c),l=k.currentTabStopId===j,o=b1(c),{onFocusableItemAdd:p,onFocusableItemRemove:q,currentTabStopId:r}=k;return n.useEffect(()=>{if(d)return p(),()=>q()},[d,p,q]),(0,m.jsx)(b0.ItemSlot,{scope:c,id:j,focusable:d,active:e,children:(0,m.jsx)(bY.span,{tabIndex:l?0:-1,"data-orientation":k.orientation,...h,ref:b,onMouseDown:(0,G.composeEventHandlers)(a.onMouseDown,a=>{d?k.onItemFocus(j):a.preventDefault()}),onFocus:(0,G.composeEventHandlers)(a.onFocus,()=>k.onItemFocus(j)),onKeyDown:(0,G.composeEventHandlers)(a.onKeyDown,a=>{if("Tab"===a.key&&a.shiftKey)return void k.onItemShiftTab();if(a.target!==a.currentTarget)return;let b=function(a,b,c){var d;let e=(d=a.key,"rtl"!==c?d:"ArrowLeft"===d?"ArrowRight":"ArrowRight"===d?"ArrowLeft":d);if(!("vertical"===b&&["ArrowLeft","ArrowRight"].includes(e))&&!("horizontal"===b&&["ArrowUp","ArrowDown"].includes(e)))return cb[e]}(a,k.orientation,k.dir);if(void 0!==b){if(a.metaKey||a.ctrlKey||a.altKey||a.shiftKey)return;a.preventDefault();let e=o().filter(a=>a.focusable).map(a=>a.ref.current);if("last"===b)e.reverse();else if("prev"===b||"next"===b){var c,d;"prev"===b&&e.reverse();let f=e.indexOf(a.currentTarget);e=k.loop?(c=e,d=f+1,c.map((a,b)=>c[(d+b)%c.length])):e.slice(f+1)}setTimeout(()=>cc(e))}}),children:"function"==typeof g?g({isCurrentTabStop:l,hasTabStop:null!=r}):g})})});ca.displayName=b9;var cb={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cc(a,b=!1){let c=document.activeElement;for(let d of a)if(d===c||(d.focus({preventScroll:b}),document.activeElement!==c))return}var cd=["Enter"," "],ce=["ArrowUp","PageDown","End"],cf=["ArrowDown","PageUp","Home",...ce],cg={ltr:[...cd,"ArrowRight"],rtl:[...cd,"ArrowLeft"]},ch={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ci="Menu",[cj,ck,cl]=bL(ci),[cm,cn]=function(a,b=[]){let c=[],d=()=>{let b=c.map(a=>n.createContext(a));return function(c){let d=c?.[a]||b;return n.useMemo(()=>({[`__scope${a}`]:{...c,[a]:d}}),[c,d])}};return d.scopeName=a,[function(b,d){let e=n.createContext(d),f=c.length;c=[...c,d];let g=b=>{let{scope:c,children:d,...g}=b,h=c?.[a]?.[f]||e,i=n.useMemo(()=>g,Object.values(g));return(0,m.jsx)(h.Provider,{value:i,children:d})};return g.displayName=b+"Provider",[g,function(c,g){let h=g?.[a]?.[f]||e,i=n.useContext(h);if(i)return i;if(void 0!==d)return d;throw Error(`\`${c}\` must be used within \`${b}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let c=()=>{let c=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let d=c.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return n.useMemo(()=>({[`__scope${b.scopeName}`]:d}),[d])}};return c.scopeName=b.scopeName,c}(d,...b)]}(ci,[cl,bR.createPopperScope,b4]),co=(0,bR.createPopperScope)(),cp=b4(),[cq,cr]=cm(ci),[cs,ct]=cm(ci),cu=a=>{let{__scopeMenu:b,open:c=!1,children:d,dir:e,onOpenChange:f,modal:g=!0}=a,h=co(b),[i,j]=n.useState(null),k=n.useRef(!1),l=(0,P.useCallbackRef)(f),o=bQ(e);return n.useEffect(()=>{let a=()=>{k.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>k.current=!1;return document.addEventListener("keydown",a,{capture:!0}),()=>{document.removeEventListener("keydown",a,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),(0,m.jsx)(bR.Root,{...h,children:(0,m.jsx)(cq,{scope:b,open:c,onOpenChange:l,content:i,onContentChange:j,children:(0,m.jsx)(cs,{scope:b,onClose:n.useCallback(()=>l(!1),[l]),isUsingKeyboardRef:k,dir:o,modal:g,children:d})})})};cu.displayName=ci;var cv=n.forwardRef((a,b)=>{let{__scopeMenu:c,...d}=a,e=co(c);return(0,m.jsx)(bR.Anchor,{...e,...d,ref:b})});cv.displayName="MenuAnchor";var cw="MenuPortal",[cx,cy]=cm(cw,{forceMount:void 0}),cz=a=>{let{__scopeMenu:b,forceMount:c,children:d,container:e}=a,f=cr(cw,b);return(0,m.jsx)(cx,{scope:b,forceMount:c,children:(0,m.jsx)($.Presence,{present:c||f.open,children:(0,m.jsx)(Z.Portal,{asChild:!0,container:e,children:d})})})};cz.displayName=cw;var cA="MenuContent",[cB,cC]=cm(cA),cD=n.forwardRef((a,b)=>{let c=cy(cA,a.__scopeMenu),{forceMount:d=c.forceMount,...e}=a,f=cr(cA,a.__scopeMenu),g=ct(cA,a.__scopeMenu);return(0,m.jsx)(cj.Provider,{scope:a.__scopeMenu,children:(0,m.jsx)($.Presence,{present:d||f.open,children:(0,m.jsx)(cj.Slot,{scope:a.__scopeMenu,children:g.modal?(0,m.jsx)(cE,{...e,ref:b}):(0,m.jsx)(cF,{...e,ref:b})})})})}),cE=n.forwardRef((a,b)=>{let c=cr(cA,a.__scopeMenu),d=n.useRef(null),e=(0,H.useComposedRefs)(b,d);return n.useEffect(()=>{let a=d.current;if(a)return aT(a)},[]),(0,m.jsx)(cH,{...a,ref:e,trapFocus:c.open,disableOutsidePointerEvents:c.open,disableOutsideScroll:!0,onFocusOutside:(0,G.composeEventHandlers)(a.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>c.onOpenChange(!1)})}),cF=n.forwardRef((a,b)=>{let c=cr(cA,a.__scopeMenu);return(0,m.jsx)(cH,{...a,ref:b,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>c.onOpenChange(!1)})}),cG=bS("MenuContent.ScrollLock"),cH=n.forwardRef((a,b)=>{let{__scopeMenu:c,loop:d=!1,trapFocus:e,onOpenAutoFocus:f,onCloseAutoFocus:g,disableOutsidePointerEvents:h,onEntryFocus:i,onEscapeKeyDown:j,onPointerDownOutside:k,onFocusOutside:l,onInteractOutside:o,onDismiss:p,disableOutsideScroll:q,...r}=a,s=cr(cA,c),t=ct(cA,c),u=co(c),v=cp(c),w=ck(c),[x,y]=n.useState(null),z=n.useRef(null),A=(0,H.useComposedRefs)(b,z,s.onContentChange),B=n.useRef(0),C=n.useRef(""),D=n.useRef(0),E=n.useRef(null),F=n.useRef("right"),I=n.useRef(0),J=q?aM:n.Fragment;n.useEffect(()=>()=>window.clearTimeout(B.current),[]),ae();let L=n.useCallback(a=>{var b,c;return F.current===E.current?.side&&(b=a,!!(c=E.current?.area)&&function(a,b){let{x:c,y:d}=a,e=!1;for(let a=0,f=b.length-1;a<b.length;f=a++){let g=b[a],h=b[f],i=g.x,j=g.y,k=h.x,l=h.y;j>d!=l>d&&c<(k-i)*(d-j)/(l-j)+i&&(e=!e)}return e}({x:b.clientX,y:b.clientY},c))},[]);return(0,m.jsx)(cB,{scope:c,searchRef:C,onItemEnter:n.useCallback(a=>{L(a)&&a.preventDefault()},[L]),onItemLeave:n.useCallback(a=>{L(a)||(z.current?.focus(),y(null))},[L]),onTriggerLeave:n.useCallback(a=>{L(a)&&a.preventDefault()},[L]),pointerGraceTimerRef:D,onPointerGraceIntentChange:n.useCallback(a=>{E.current=a},[]),children:(0,m.jsx)(J,{...q?{as:cG,allowPinchZoom:!0}:void 0,children:(0,m.jsx)(T,{asChild:!0,trapped:e,onMountAutoFocus:(0,G.composeEventHandlers)(f,a=>{a.preventDefault(),z.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:g,children:(0,m.jsx)(K.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:h,onEscapeKeyDown:j,onPointerDownOutside:k,onFocusOutside:l,onInteractOutside:o,onDismiss:p,children:(0,m.jsx)(b7,{asChild:!0,...v,dir:t.dir,orientation:"vertical",loop:d,currentTabStopId:x,onCurrentTabStopIdChange:y,onEntryFocus:(0,G.composeEventHandlers)(i,a=>{t.isUsingKeyboardRef.current||a.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,m.jsx)(bR.Content,{role:"menu","aria-orientation":"vertical","data-state":c5(s.open),"data-radix-menu-content":"",dir:t.dir,...u,...r,ref:A,style:{outline:"none",...r.style},onKeyDown:(0,G.composeEventHandlers)(r.onKeyDown,a=>{let b=a.target.closest("[data-radix-menu-content]")===a.currentTarget,c=a.ctrlKey||a.altKey||a.metaKey,d=1===a.key.length;if(b){var e;let b,f,g,h,i,j;"Tab"===a.key&&a.preventDefault(),!c&&d&&(e=a.key,b=C.current+e,f=w().filter(a=>!a.disabled),g=document.activeElement,h=f.find(a=>a.ref.current===g)?.textValue,i=function(a,b,c){var d;let e=b.length>1&&Array.from(b).every(a=>a===b[0])?b[0]:b,f=c?a.indexOf(c):-1,g=(d=Math.max(f,0),a.map((b,c)=>a[(d+c)%a.length]));1===e.length&&(g=g.filter(a=>a!==c));let h=g.find(a=>a.toLowerCase().startsWith(e.toLowerCase()));return h!==c?h:void 0}(f.map(a=>a.textValue),b,h),j=f.find(a=>a.textValue===i)?.ref.current,function a(b){C.current=b,window.clearTimeout(B.current),""!==b&&(B.current=window.setTimeout(()=>a(""),1e3))}(b),j&&setTimeout(()=>j.focus()))}let f=z.current;if(a.target!==f||!cf.includes(a.key))return;a.preventDefault();let g=w().filter(a=>!a.disabled).map(a=>a.ref.current);ce.includes(a.key)&&g.reverse(),function(a){let b=document.activeElement;for(let c of a)if(c===b||(c.focus(),document.activeElement!==b))return}(g)}),onBlur:(0,G.composeEventHandlers)(a.onBlur,a=>{a.currentTarget.contains(a.target)||(window.clearTimeout(B.current),C.current="")}),onPointerMove:(0,G.composeEventHandlers)(a.onPointerMove,c8(a=>{let b=a.target,c=I.current!==a.clientX;a.currentTarget.contains(b)&&c&&(F.current=a.clientX>I.current?"right":"left",I.current=a.clientX)}))})})})})})})});cD.displayName=cA;var cI=n.forwardRef((a,b)=>{let{__scopeMenu:c,...d}=a;return(0,m.jsx)(bV.div,{role:"group",...d,ref:b})});cI.displayName="MenuGroup";var cJ=n.forwardRef((a,b)=>{let{__scopeMenu:c,...d}=a;return(0,m.jsx)(bV.div,{...d,ref:b})});cJ.displayName="MenuLabel";var cK="MenuItem",cL="menu.itemSelect",cM=n.forwardRef((a,b)=>{let{disabled:c=!1,onSelect:d,...e}=a,f=n.useRef(null),g=ct(cK,a.__scopeMenu),h=cC(cK,a.__scopeMenu),i=(0,H.useComposedRefs)(b,f),j=n.useRef(!1);return(0,m.jsx)(cN,{...e,ref:i,disabled:c,onClick:(0,G.composeEventHandlers)(a.onClick,()=>{let a=f.current;if(!c&&a){let b=new CustomEvent(cL,{bubbles:!0,cancelable:!0});a.addEventListener(cL,a=>d?.(a),{once:!0}),a&&L.flushSync(()=>a.dispatchEvent(b)),b.defaultPrevented?j.current=!1:g.onClose()}}),onPointerDown:b=>{a.onPointerDown?.(b),j.current=!0},onPointerUp:(0,G.composeEventHandlers)(a.onPointerUp,a=>{j.current||a.currentTarget?.click()}),onKeyDown:(0,G.composeEventHandlers)(a.onKeyDown,a=>{let b=""!==h.searchRef.current;c||b&&" "===a.key||cd.includes(a.key)&&(a.currentTarget.click(),a.preventDefault())})})});cM.displayName=cK;var cN=n.forwardRef((a,b)=>{let{__scopeMenu:c,disabled:d=!1,textValue:e,...f}=a,g=cC(cK,c),h=cp(c),i=n.useRef(null),j=(0,H.useComposedRefs)(b,i),[k,l]=n.useState(!1),[o,p]=n.useState("");return n.useEffect(()=>{let a=i.current;a&&p((a.textContent??"").trim())},[f.children]),(0,m.jsx)(cj.ItemSlot,{scope:c,disabled:d,textValue:e??o,children:(0,m.jsx)(ca,{asChild:!0,...h,focusable:!d,children:(0,m.jsx)(bV.div,{role:"menuitem","data-highlighted":k?"":void 0,"aria-disabled":d||void 0,"data-disabled":d?"":void 0,...f,ref:j,onPointerMove:(0,G.composeEventHandlers)(a.onPointerMove,c8(a=>{d?g.onItemLeave(a):(g.onItemEnter(a),a.defaultPrevented||a.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:(0,G.composeEventHandlers)(a.onPointerLeave,c8(a=>g.onItemLeave(a))),onFocus:(0,G.composeEventHandlers)(a.onFocus,()=>l(!0)),onBlur:(0,G.composeEventHandlers)(a.onBlur,()=>l(!1))})})})}),cO=n.forwardRef((a,b)=>{let{checked:c=!1,onCheckedChange:d,...e}=a;return(0,m.jsx)(cW,{scope:a.__scopeMenu,checked:c,children:(0,m.jsx)(cM,{role:"menuitemcheckbox","aria-checked":c6(c)?"mixed":c,...e,ref:b,"data-state":c7(c),onSelect:(0,G.composeEventHandlers)(e.onSelect,()=>d?.(!!c6(c)||!c),{checkForDefaultPrevented:!1})})})});cO.displayName="MenuCheckboxItem";var cP="MenuRadioGroup",[cQ,cR]=cm(cP,{value:void 0,onValueChange:()=>{}}),cS=n.forwardRef((a,b)=>{let{value:c,onValueChange:d,...e}=a,f=(0,P.useCallbackRef)(d);return(0,m.jsx)(cQ,{scope:a.__scopeMenu,value:c,onValueChange:f,children:(0,m.jsx)(cI,{...e,ref:b})})});cS.displayName=cP;var cT="MenuRadioItem",cU=n.forwardRef((a,b)=>{let{value:c,...d}=a,e=cR(cT,a.__scopeMenu),f=c===e.value;return(0,m.jsx)(cW,{scope:a.__scopeMenu,checked:f,children:(0,m.jsx)(cM,{role:"menuitemradio","aria-checked":f,...d,ref:b,"data-state":c7(f),onSelect:(0,G.composeEventHandlers)(d.onSelect,()=>e.onValueChange?.(c),{checkForDefaultPrevented:!1})})})});cU.displayName=cT;var cV="MenuItemIndicator",[cW,cX]=cm(cV,{checked:!1}),cY=n.forwardRef((a,b)=>{let{__scopeMenu:c,forceMount:d,...e}=a,f=cX(cV,c);return(0,m.jsx)($.Presence,{present:d||c6(f.checked)||!0===f.checked,children:(0,m.jsx)(bV.span,{...e,ref:b,"data-state":c7(f.checked)})})});cY.displayName=cV;var cZ=n.forwardRef((a,b)=>{let{__scopeMenu:c,...d}=a;return(0,m.jsx)(bV.div,{role:"separator","aria-orientation":"horizontal",...d,ref:b})});cZ.displayName="MenuSeparator";var c$=n.forwardRef((a,b)=>{let{__scopeMenu:c,...d}=a,e=co(c);return(0,m.jsx)(bR.Arrow,{...e,...d,ref:b})});c$.displayName="MenuArrow";var[c_,c0]=cm("MenuSub"),c1="MenuSubTrigger",c2=n.forwardRef((a,b)=>{let c=cr(c1,a.__scopeMenu),d=ct(c1,a.__scopeMenu),e=c0(c1,a.__scopeMenu),f=cC(c1,a.__scopeMenu),g=n.useRef(null),{pointerGraceTimerRef:h,onPointerGraceIntentChange:i}=f,j={__scopeMenu:a.__scopeMenu},k=n.useCallback(()=>{g.current&&window.clearTimeout(g.current),g.current=null},[]);return n.useEffect(()=>k,[k]),n.useEffect(()=>{let a=h.current;return()=>{window.clearTimeout(a),i(null)}},[h,i]),(0,m.jsx)(cv,{asChild:!0,...j,children:(0,m.jsx)(cN,{id:e.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":e.contentId,"data-state":c5(c.open),...a,ref:(0,H.composeRefs)(b,e.onTriggerChange),onClick:b=>{a.onClick?.(b),a.disabled||b.defaultPrevented||(b.currentTarget.focus(),c.open||c.onOpenChange(!0))},onPointerMove:(0,G.composeEventHandlers)(a.onPointerMove,c8(b=>{f.onItemEnter(b),!b.defaultPrevented&&(a.disabled||c.open||g.current||(f.onPointerGraceIntentChange(null),g.current=window.setTimeout(()=>{c.onOpenChange(!0),k()},100)))})),onPointerLeave:(0,G.composeEventHandlers)(a.onPointerLeave,c8(a=>{k();let b=c.content?.getBoundingClientRect();if(b){let d=c.content?.dataset.side,e="right"===d,g=b[e?"left":"right"],i=b[e?"right":"left"];f.onPointerGraceIntentChange({area:[{x:a.clientX+(e?-5:5),y:a.clientY},{x:g,y:b.top},{x:i,y:b.top},{x:i,y:b.bottom},{x:g,y:b.bottom}],side:d}),window.clearTimeout(h.current),h.current=window.setTimeout(()=>f.onPointerGraceIntentChange(null),300)}else{if(f.onTriggerLeave(a),a.defaultPrevented)return;f.onPointerGraceIntentChange(null)}})),onKeyDown:(0,G.composeEventHandlers)(a.onKeyDown,b=>{let e=""!==f.searchRef.current;a.disabled||e&&" "===b.key||cg[d.dir].includes(b.key)&&(c.onOpenChange(!0),c.content?.focus(),b.preventDefault())})})})});c2.displayName=c1;var c3="MenuSubContent",c4=n.forwardRef((a,b)=>{let c=cy(cA,a.__scopeMenu),{forceMount:d=c.forceMount,...e}=a,f=cr(cA,a.__scopeMenu),g=ct(cA,a.__scopeMenu),h=c0(c3,a.__scopeMenu),i=n.useRef(null),j=(0,H.useComposedRefs)(b,i);return(0,m.jsx)(cj.Provider,{scope:a.__scopeMenu,children:(0,m.jsx)($.Presence,{present:d||f.open,children:(0,m.jsx)(cj.Slot,{scope:a.__scopeMenu,children:(0,m.jsx)(cH,{id:h.contentId,"aria-labelledby":h.triggerId,...e,ref:j,align:"start",side:"rtl"===g.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:a=>{g.isUsingKeyboardRef.current&&i.current?.focus(),a.preventDefault()},onCloseAutoFocus:a=>a.preventDefault(),onFocusOutside:(0,G.composeEventHandlers)(a.onFocusOutside,a=>{a.target!==h.trigger&&f.onOpenChange(!1)}),onEscapeKeyDown:(0,G.composeEventHandlers)(a.onEscapeKeyDown,a=>{g.onClose(),a.preventDefault()}),onKeyDown:(0,G.composeEventHandlers)(a.onKeyDown,a=>{let b=a.currentTarget.contains(a.target),c=ch[g.dir].includes(a.key);b&&c&&(f.onOpenChange(!1),h.trigger?.focus(),a.preventDefault())})})})})})});function c5(a){return a?"open":"closed"}function c6(a){return"indeterminate"===a}function c7(a){return c6(a)?"indeterminate":a?"checked":"unchecked"}function c8(a){return b=>"mouse"===b.pointerType?a(b):void 0}c4.displayName=c3;var c9="DropdownMenu",[da,db]=function(a,b=[]){let c=[],d=()=>{let b=c.map(a=>n.createContext(a));return function(c){let d=c?.[a]||b;return n.useMemo(()=>({[`__scope${a}`]:{...c,[a]:d}}),[c,d])}};return d.scopeName=a,[function(b,d){let e=n.createContext(d),f=c.length;c=[...c,d];let g=b=>{let{scope:c,children:d,...g}=b,h=c?.[a]?.[f]||e,i=n.useMemo(()=>g,Object.values(g));return(0,m.jsx)(h.Provider,{value:i,children:d})};return g.displayName=b+"Provider",[g,function(c,g){let h=g?.[a]?.[f]||e,i=n.useContext(h);if(i)return i;if(void 0!==d)return d;throw Error(`\`${c}\` must be used within \`${b}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let c=()=>{let c=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let d=c.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return n.useMemo(()=>({[`__scope${b.scopeName}`]:d}),[d])}};return c.scopeName=b.scopeName,c}(d,...b)]}(c9,[cn]),dc=cn(),[dd,de]=da(c9),df=a=>{let{__scopeDropdownMenu:b,children:c,dir:d,open:e,defaultOpen:f,onOpenChange:g,modal:h=!0}=a,i=dc(b),j=n.useRef(null),[k,l]=(0,J.useControllableState)({prop:e,defaultProp:f??!1,onChange:g,caller:c9});return(0,m.jsx)(dd,{scope:b,triggerId:(0,I.useId)(),triggerRef:j,contentId:(0,I.useId)(),open:k,onOpenChange:l,onOpenToggle:n.useCallback(()=>l(a=>!a),[l]),modal:h,children:(0,m.jsx)(cu,{...i,open:k,onOpenChange:l,dir:d,modal:h,children:c})})};df.displayName=c9;var dg="DropdownMenuTrigger",dh=n.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,disabled:d=!1,...e}=a,f=de(dg,c),g=dc(c);return(0,m.jsx)(cv,{asChild:!0,...g,children:(0,m.jsx)(bH.button,{type:"button",id:f.triggerId,"aria-haspopup":"menu","aria-expanded":f.open,"aria-controls":f.open?f.contentId:void 0,"data-state":f.open?"open":"closed","data-disabled":d?"":void 0,disabled:d,...e,ref:(0,H.composeRefs)(b,f.triggerRef),onPointerDown:(0,G.composeEventHandlers)(a.onPointerDown,a=>{!d&&0===a.button&&!1===a.ctrlKey&&(f.onOpenToggle(),f.open||a.preventDefault())}),onKeyDown:(0,G.composeEventHandlers)(a.onKeyDown,a=>{!d&&(["Enter"," "].includes(a.key)&&f.onOpenToggle(),"ArrowDown"===a.key&&f.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});dh.displayName=dg;var di=a=>{let{__scopeDropdownMenu:b,...c}=a,d=dc(b);return(0,m.jsx)(cz,{...d,...c})};di.displayName="DropdownMenuPortal";var dj="DropdownMenuContent",dk=n.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=de(dj,c),f=dc(c),g=n.useRef(!1);return(0,m.jsx)(cD,{id:e.contentId,"aria-labelledby":e.triggerId,...f,...d,ref:b,onCloseAutoFocus:(0,G.composeEventHandlers)(a.onCloseAutoFocus,a=>{g.current||e.triggerRef.current?.focus(),g.current=!1,a.preventDefault()}),onInteractOutside:(0,G.composeEventHandlers)(a.onInteractOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey,d=2===b.button||c;(!e.modal||d)&&(g.current=!0)}),style:{...a.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dk.displayName=dj,n.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=dc(c);return(0,m.jsx)(cI,{...e,...d,ref:b})}).displayName="DropdownMenuGroup",n.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=dc(c);return(0,m.jsx)(cJ,{...e,...d,ref:b})}).displayName="DropdownMenuLabel";var dl=n.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=dc(c);return(0,m.jsx)(cM,{...e,...d,ref:b})});function dm({...a}){return(0,m.jsx)(df,{"data-slot":"dropdown-menu",...a})}function dn({...a}){return(0,m.jsx)(dh,{"data-slot":"dropdown-menu-trigger",...a})}function dp({className:a,sideOffset:b=4,...c}){return(0,m.jsx)(di,{children:(0,m.jsx)(dk,{"data-slot":"dropdown-menu-content",sideOffset:b,className:(0,bp.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",a),...c})})}function dq({className:a,inset:b,variant:c="default",...d}){return(0,m.jsx)(dl,{"data-slot":"dropdown-menu-item","data-inset":b,"data-variant":c,className:(0,bp.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...d})}dl.displayName="DropdownMenuItem",n.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=dc(c);return(0,m.jsx)(cO,{...e,...d,ref:b})}).displayName="DropdownMenuCheckboxItem",n.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=dc(c);return(0,m.jsx)(cS,{...e,...d,ref:b})}).displayName="DropdownMenuRadioGroup",n.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=dc(c);return(0,m.jsx)(cU,{...e,...d,ref:b})}).displayName="DropdownMenuRadioItem",n.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=dc(c);return(0,m.jsx)(cY,{...e,...d,ref:b})}).displayName="DropdownMenuItemIndicator",n.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=dc(c);return(0,m.jsx)(cZ,{...e,...d,ref:b})}).displayName="DropdownMenuSeparator",n.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=dc(c);return(0,m.jsx)(c$,{...e,...d,ref:b})}).displayName="DropdownMenuArrow",n.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=dc(c);return(0,m.jsx)(c2,{...e,...d,ref:b})}).displayName="DropdownMenuSubTrigger",n.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=dc(c);return(0,m.jsx)(c4,{...e,...d,ref:b,style:{...a.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}).displayName="DropdownMenuSubContent",a.i(34157),a.i(11989),(0,y.default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);let dr=(0,bC.default)(async()=>{},{loadableGenerated:{modules:[90843]},ssr:!1,loading:()=>(0,m.jsx)("div",{className:"w-full h-[75vh] rounded-md overflow-hidden border border-zinc-200 dark:border-zinc-800 flex items-center justify-center bg-zinc-50 dark:bg-zinc-900",children:(0,m.jsxs)("div",{className:"flex flex-col items-center",children:[(0,m.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-zinc-900 dark:border-zinc-100 mb-4"}),(0,m.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Loading PDF viewer..."})]})})});function ds(){let b=(0,o.useSearchParams)().get("documentId"),{getDocumentPdfUrl:c,getDocumentContent:d,saveProjectAsDraft:e,getDocument:f,getModifiedPdfUrl:g,setModifiedPdfUrl:h}=(0,p.useAppContext)(),[i,j]=(0,n.useState)(null),[k,l]=(0,n.useState)(!1),[y,F]=(0,n.useState)(!1),[G,H]=(0,n.useState)(null),[I,J]=(0,n.useState)([]),[K,L]=(0,n.useState)(null),[M,N]=(0,n.useState)([]),[O,P]=(0,n.useState)(!1),[Q,R]=(0,n.useState)(""),[S,T]=(0,n.useState)("pdf"),[U,V]=(0,n.useState)(""),[W,X]=(0,n.useState)(null),[Y,Z]=(0,n.useState)(null),$=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(!b){console.error("[EditorPage] No document ID provided"),H("No document ID provided.");return}console.log("[EditorPage] Loading document:",b),l(!0),H(null);try{let a=c(b);console.log("[EditorPage] PDF URL retrieved:",a?"exists":"null"),a?(j(a),Z(a)):(console.warn("[EditorPage] No PDF URL found for document"),j(null))}catch(a){console.error("[EditorPage] Error loading PDF:",a),j(null)}finally{l(!1)}},[b,c]),(0,n.useEffect)(()=>{if(!b)return;let a=d(b),c=f(b);c&&R(c.projectName||""),a&&(0,C.analyzePdfContent)(a).then(a=>J(a)).catch(a=>console.error(a))},[b,d,f]);let _=async()=>{if(!b||!U)return void bE.toast.error("No content to convert");F(!0),H(null);try{let a=await (0,bD.htmlToWordBlob)(U),c=await (0,bD.convertWordToPdf)(a);j(c),h(b,c),T("pdf"),bE.toast.success("Converted back to PDF")}catch(a){console.error("Error converting to PDF:",a),bE.toast.error("Failed to convert to PDF. Please try again."),H("Failed to convert to PDF.")}finally{F(!1)}},aa=a=>{let b=I[a];if(b)if("word"===S){let c=RegExp((b.original||b.text).replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");V(U.replace(c,b.suggestion)),N(b=>[...b,a]),J(b=>b.filter((b,c)=>c!==a)),L(null),bE.toast.success("Suggestion applied")}else bE.toast.error("Convert to Word to apply suggestions")},ab=async()=>{if(b)try{if(!i)return void bE.toast.error("No PDF available to download");let a=E(Q,i!==Y?"modified":"original");D(i,a)}catch(a){console.error("Error downloading PDF:",a),bE.toast.error("Failed to download PDF")}},ac=async b=>{try{let c=await a.A(28285),d=await b.arrayBuffer();return(await c.convertToHtml({arrayBuffer:d})).value}catch(a){throw console.error("Error converting DOCX to HTML:",a),Error("Failed to convert Word document to editable format")}},ad=async(a="download")=>{if(!b||!i)return void bE.toast.error("PDF not available for conversion");F(!0),H(null);let c=bE.toast.loading("edit"===a?"Converting PDF to editable Word format...":"Converting PDF to Word...");try{let b=await fetch(i),d=await b.blob(),e=new FormData,f=Q?`${Q}.pdf`:"document.pdf";e.append("file",d,f);let g=await fetch("/api/convert/pdf-to-docx",{method:"POST",body:e});if(!g.ok){let a="Failed to convert PDF to Word",b="",c=g.headers.get("content-type");console.error("[PDF to Word] Conversion failed:",{status:g.status,statusText:g.statusText,contentType:c});try{let d=await g.text();if(console.log("[PDF to Word] Error response body:",d),c&&c.includes("application/json")&&d)try{let c=JSON.parse(d);console.error("[PDF to Word] Parsed error data:",c),a=c.message||c.error||a,(b=c.details||"").includes("Network error")||b.includes("timeout")?(a="Conversion timeout",b="The conversion is taking too long. Please try again or use a smaller PDF."):b.includes("credentials")?(a="Configuration error",b="PDF conversion service needs configuration. Please contact support."):c.fallbackError&&(a="Cannot convert this PDF",b="This PDF may be encrypted, corrupted, or in an unsupported format.")}catch(b){console.error("[PDF to Word] JSON parse error:",b),a=d||a}else a=d?d||g.statusText||`HTTP ${g.status}`:g.statusText||`HTTP ${g.status}`}catch(b){console.error("[PDF to Word] Error reading response:",b),a=g.statusText||`HTTP ${g.status}: Failed to convert PDF to Word`}throw console.error("[PDF to Word] Final error message:",a),Error(a)}let h=await g.blob();if("download"===a){let a=window.URL.createObjectURL(h),b=document.createElement("a");b.href=a,b.download=f.replace(/\.pdf$/i,".docx"),document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(a),bE.toast.success("PDF converted to Word and downloaded",{id:c})}else{bE.toast.loading("Opening document in editor...",{id:c});let a=await ac(h);X(h),V(a),T("word"),bE.toast.success("Document ready for editing! You can now apply AI suggestions.",{id:c})}}catch(b){console.error("Error converting PDF to Word:",b);let a=b instanceof Error?b.message:"Failed to convert PDF to Word";bE.toast.error(a,{id:c}),H(a)}finally{F(!1)}},ae=async()=>{if(!U)return void bE.toast.error("No document content to download");let a=bE.toast.loading("Preparing Word document for download...");F(!0);try{let b=await (0,bD.htmlToWordBlob)(U),c=window.URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download=Q?`${Q}.docx`:"document.docx",document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(c),bE.toast.success("Word document downloaded successfully",{id:a})}catch(b){console.error("Error downloading Word document:",b),bE.toast.error("Failed to download Word document",{id:a})}finally{F(!1)}},af=async()=>{if(!U)return void bE.toast.error("No document content to download");let a=bE.toast.loading("Converting to PDF...");F(!0);try{let b=await (0,bD.htmlToWordBlob)(U),c=await (0,bD.convertWordToPdf)(b),d=E(Q,"edited");D(c,d),bE.toast.success("PDF downloaded successfully",{id:a})}catch(b){console.error("Error converting to PDF:",b),bE.toast.error("Failed to convert to PDF",{id:a})}finally{F(!1)}};return k?(0,m.jsx)("div",{className:"flex flex-col items-center justify-center h-screen bg-zinc-50 dark:bg-zinc-950 text-center px-6",children:(0,m.jsxs)(r.Card,{className:"w-full max-w-md border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900",children:[(0,m.jsx)(r.CardHeader,{children:(0,m.jsx)(r.CardTitle,{className:"text-gray-900 dark:text-gray-50",children:"Loading Document"})}),(0,m.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,m.jsx)(s.Progress,{value:66}),(0,m.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Preparing the viewer."})]})]})}):G&&!b?(0,m.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen bg-zinc-50 dark:bg-zinc-950 text-center text-red-600 dark:text-red-400",children:[(0,m.jsxs)("h2",{className:"text-2xl font-semibold",children:["Error: ",G]}),(0,m.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Please go back and try again."})]}):(0,m.jsx)(q.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"min-h-screen bg-zinc-50 dark:bg-zinc-950 p-4 sm:p-6 lg:p-8 flex justify-center",children:(0,m.jsxs)("div",{className:"max-w-7xl w-full grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,m.jsx)("div",{className:"md:col-span-2",children:(0,m.jsxs)(r.Card,{className:"border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900",children:[(0,m.jsxs)(r.CardHeader,{className:"pb-2",children:[(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsx)(r.CardTitle,{className:"text-gray-900 dark:text-gray-50",children:"word"===S?"Document Editor":"Document Viewer"}),(0,m.jsxs)("div",{className:"flex gap-2 flex-wrap",children:["pdf"===S&&(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(dm,{children:[(0,m.jsx)(dn,{asChild:!0,children:(0,m.jsxs)(t.Button,{variant:"outline",size:"sm",disabled:y||!i,className:"bg-blue-50 dark:bg-blue-950/30 border-blue-200 dark:border-blue-800 hover:bg-blue-100 dark:hover:bg-blue-900/40",children:[y?(0,m.jsx)(w.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,m.jsx)(A,{className:"h-4 w-4 mr-2"}),"Convert to Word",(0,m.jsx)(B,{className:"h-3 w-3 ml-2"})]})}),(0,m.jsxs)(dp,{align:"end",className:"w-56",children:[(0,m.jsxs)(dq,{onClick:()=>ad("edit"),disabled:y,className:"cursor-pointer",children:[(0,m.jsx)(x.FileText,{className:"h-4 w-4 mr-2"}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("span",{className:"font-medium",children:"Edit as Word"}),(0,m.jsx)("span",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Convert and open in editor"})]})]}),(0,m.jsxs)(dq,{onClick:()=>ad("download"),disabled:y,className:"cursor-pointer",children:[(0,m.jsx)(v.Download,{className:"h-4 w-4 mr-2"}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("span",{className:"font-medium",children:"Download as Word"}),(0,m.jsx)("span",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Save .docx file to device"})]})]})]})]})}),"word"===S&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(t.Button,{variant:"outline",size:"sm",onClick:_,disabled:y,children:[y?(0,m.jsx)(w.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,m.jsx)(z,{className:"h-4 w-4 mr-2"}),"Back to PDF"]}),(0,m.jsxs)(dm,{children:[(0,m.jsx)(dn,{asChild:!0,children:(0,m.jsxs)(t.Button,{variant:"outline",size:"sm",disabled:y,className:"bg-green-50 dark:bg-green-950/30 border-green-200 dark:border-green-800 hover:bg-green-100 dark:hover:bg-green-900/40",children:[(0,m.jsx)(v.Download,{className:"h-4 w-4 mr-2"}),"Download",(0,m.jsx)(B,{className:"h-3 w-3 ml-2"})]})}),(0,m.jsxs)(dp,{align:"end",className:"w-56",children:[(0,m.jsxs)(dq,{onClick:ae,disabled:y,className:"cursor-pointer",children:[(0,m.jsx)(x.FileText,{className:"h-4 w-4 mr-2"}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("span",{className:"font-medium",children:"Download as Word"}),(0,m.jsx)("span",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Save edited .docx file"})]})]}),(0,m.jsxs)(dq,{onClick:af,disabled:y,className:"cursor-pointer",children:[(0,m.jsx)(v.Download,{className:"h-4 w-4 mr-2"}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("span",{className:"font-medium",children:"Download as PDF"}),(0,m.jsx)("span",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Convert and save as PDF"})]})]})]})]})]}),"pdf"===S&&(0,m.jsxs)(t.Button,{variant:"outline",size:"sm",onClick:ab,disabled:!i,children:[(0,m.jsx)(v.Download,{className:"h-4 w-4 mr-2"}),"Download PDF"]})]})]}),"pdf"===S&&(0,m.jsx)(u.Badge,{variant:"secondary",className:"mt-2",children:'Click "Convert to Word"  "Edit as Word" to apply AI suggestions'}),"word"===S&&(0,m.jsx)(u.Badge,{variant:"secondary",className:"mt-2 bg-green-50 dark:bg-green-950/30 border-green-200 dark:border-green-800",children:"Editing Mode - Apply suggestions and download as Word or PDF"})]}),(0,m.jsxs)(r.CardContent,{className:"p-4",children:[G&&(0,m.jsx)("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:(0,m.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:G})}),"word"===S?(0,m.jsx)(bB.default,{wordHtml:U,suggestions:I,selectedSuggestionIndex:K,onContentChange:V,onApplySuggestion:aa,isLoading:y}):i?(0,m.jsx)(dr,{fileUrl:i,fileName:Q?`${Q}.pdf`:"document.pdf",onReady:a=>{$.current=a},className:"w-full h-[75vh] rounded-md overflow-hidden border border-zinc-200 dark:border-zinc-800"}):(0,m.jsxs)("div",{className:"w-full h-[75vh] rounded-md overflow-hidden border border-zinc-200 dark:border-zinc-800 flex flex-col items-center justify-center p-6 bg-zinc-50 dark:bg-zinc-900",children:[(0,m.jsx)("svg",{className:"w-16 h-16 text-zinc-400 dark:text-zinc-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),(0,m.jsx)("h3",{className:"text-lg font-semibold text-zinc-700 dark:text-zinc-300 mb-2",children:"No PDF Available"}),(0,m.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 text-center max-w-md",children:"No PDF file was found for this document. Please upload a PDF file to view it here."})]})]})]})}),(0,m.jsx)("aside",{className:"md:col-span-1",children:(0,m.jsx)(bA,{suggestions:I,selectedIndex:K,onSelectIndex:L,onApplyAtIndex:aa,onGoToIndex:a=>{L(a)},acceptedCount:M.length,onSaveDraft:()=>{b&&(Q.trim()?(e(Q.trim(),b),bE.toast.success("Project saved as draft!")):P(!0))},saveDialogOpen:O,setSaveDialogOpen:P,projectName:Q,setProjectName:R,onConfirmSave:()=>{b&&Q.trim()&&(e(Q.trim(),b),P(!1),bE.toast.success("Project saved as draft!"))},isApplying:y,canApply:"word"===S})})]})})}function dt(){return(0,m.jsx)(n.Suspense,{fallback:(0,m.jsx)("div",{className:"flex flex-col items-center justify-center h-screen bg-zinc-50 dark:bg-zinc-950 text-center px-6",children:(0,m.jsxs)(r.Card,{className:"w-full max-w-md border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900",children:[(0,m.jsx)(r.CardHeader,{children:(0,m.jsx)(r.CardTitle,{className:"text-gray-900 dark:text-gray-50",children:"Loading..."})}),(0,m.jsx)(r.CardContent,{className:"space-y-4",children:(0,m.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-zinc-900 dark:border-zinc-100 mx-auto"})})]})}),children:(0,m.jsx)(ds,{})})}a.s(["default",()=>dt],79698)}];

//# sourceMappingURL=app_editor_page_tsx_b89e3172._.js.map